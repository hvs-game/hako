<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Bạn thuở nhỏ của tôi là nữ sinh trung học kiêm Dũng giả của dị giới, nhưng có vẻ mọi chuyện không đơn giản như vậy - Tiếng thét lâm chung của tên cướp nọ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Vào sinh nhật tuổi 17, Arina, bạn thuở nhỏ của nam sinh trung học năm hai Shimoyama Yuuki, đã lên đường bắt đầu hành trình tiêu diệt Ma Vương với tư cách là một Dũng Giả. Vì quá lo lắng cho cô bạn thuở nhỏ thiếu hụt thường thức xã...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="Z58OHyx9mKlETphsZdOpseNheIph3VeBHOdgx0NF">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no">
    <meta property="og:image" content="https://docln.net/img/nocover.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
         
        <a class="rd_sd-button_item rd_top-left disabled"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298200-hinh-nhu-thanh-mai-truc-ma-cua-toi-la-dung-gia-nhung-toi-khong-the-de-co-ay-len-duong-mot-minh"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no" style="background: url('https://docln.net/img/nocover.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay">Bạn thuở nhỏ của tôi là n...</a></h5>
                    <small><i class="fas fa-pen"></i>山田中ミキヤ</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/t36083-dung-gia-kinh-hoang-va-nam-sinh-trung-hoc-binh-thuong">Dũng Giả kinh hoàng và nam sinh trung học bình thường</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no">
                                                                        Tiếng thét lâm chung của tên cướp nọ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298200-hinh-nhu-thanh-mai-truc-ma-cua-toi-la-dung-gia-nhung-toi-khong-the-de-co-ay-len-duong-mot-minh">
                                                                        Hình như thanh mai trúc mã của tôi là Dũng giả, nhưng tôi không thể để cô ấy lên đường một mình
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298237-elixir-replica-system">
                                                                        Elixir-Replica System
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298305-kyahoi-chao-mung-den-voi-lang-okka">
                                                                        Kyahoi! Chào mừng đến với làng Okka!
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Dũng Giả kinh hoàng và nam sinh trung học bình thường</h2>
                    <h4 class="title-item text-base font-bold" align="center">Tiếng thét lâm chung của tên cướp nọ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no#chapter-comments" style="text-decoration: underline">3 Bình luận</a> -
                        Độ dài: 2,154 từ - Cập nhật: 
                        <time class="topic-time timeago" title="27-01-2026 22:03:21" datetime="2026-01-27T22:03:21+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Tiếng thét lâm chung của tên cướp nọ</p>
                    <p id="1">“Hyahaha!”</p><p id="2">“Làm được rồi đại ca ơi!”</p><p id="3">Trong một hang động tách biệt hẳn với nơi loài người sinh sống.</p><p id="4">Năm tên tội phạm lấy nơi này làm sào huyệt vừa trở về, miệng hét lên những tiếng hoan hỉ.</p><p id="5">Tên nào tên nấy đều là những gã khổng lồ cao tới hai mét, tay chân to như khúc gỗ cuồn cuộn cơ bắp, ánh mắt ngập tràn sự điên loạn của những kẻ làm việc ác mà lương tâm không chút cắn rứt.</p><p id="6">Chúng là lũ ác đảng chuyên làm nghề bắt cóc nổi tiếng ở vùng này. Một tên trong số đó trút thứ bên trong bao tải gai lớn đang vác trên vai ra ngoài.</p><p id="7">Là một cô gái.</p><p id="8">Một thiếu nữ với ấn tượng quê mùa, tết hai bím tóc dài đang bị trói chặt bằng dây thừng thô. Có vẻ cô đã ngất đi, đôi mắt vẫn nhắm nghiền.</p><p id="9">“Cơ mà, con nhỏ này mặc đồ lạ quá, vùng này chưa thấy bao giờ. Người nước ngoài hả đại ca?”</p><p id="10">Một tên lên tiếng.</p><p id="11">Thứ thiếu nữ đang mặc là bộ đồng phục thủy thủ mùa hè theo quy định của nhà trường, nhưng lũ thô lỗ này dường như không hiểu điều đó.</p><p id="12">“Ai biết. Cơ mà chắc chắn là gái tơ rồi. Sẽ bán được giá cao đấy.”</p><p id="13">Gã đàn ông có vẻ là thủ lĩnh vuốt ve cằm thiếu nữ, nói như thể đang định giá một món hàng.</p><p id="14">“Nhưng mà đại ca nè.”</p><p id="15">Lại thêm một tên nữa nở nụ cười hạ lưu.</p><p id="16">“Gái tơ hay không thì phải kiểm tra mới biết được chứ.”</p><p id="17">“Hahaha, chuẩn cơm mẹ nấu.”</p><p id="18">“Hay là, để bọn em nếm thử một chút nhớ?”</p><p id="19">Tiếng cười ghê rợn phơi bày trần trụi dục vọng của gã đàn ông vang vọng khắp hang động.</p><p id="20">Có lẽ phản ứng lại với giọng nói đó,</p><p id="21">“...... Ưm.”</p><p id="22">Thiếu nữ khẽ mở mắt.</p><p id="23">“Ây chà, tiểu thư tỉnh dậy rồi kìa.”</p><p id="24">“Hí hí hí. Có vẻ vẫn kịp giờ dự tiệc đấy.”</p><p id="25">Từ góc nhìn bị vài gã ác nhân cúi xuống soi mói, thiếu nữ dường như đã nhận ra tình cảnh của bản thân.</p><p id="26">“Đ, đừng lại đây......! ——Yuu-kun! Yuu-kun đâu rồi!?”</p><p id="27">“Yuu-kun?”</p><p id="28">“Ah, chắc là đang nhắc đến thằng nhãi đi cùng đấy ạ?”</p><p id="29">“Nhìn qua thì có vẻ giống bạn trai nhỉ.”</p><p id="30">“Hehehe, yên tâm đi. Bọn anh sẽ khiến cưng quên ngay thằng đó ấy mà.”</p><p id="31">“Tạo vài kỷ niệm không thể nào quên với bọn anh nhé.”</p><p id="32">“Hyahahaha.”</p><p id="33">Lũ đàn ông vây quanh, lê bước ép sát lấy thiếu nữ.</p><p id="34">“Kyaaaaa! C-cứu tớ, cứu tớ với Yuu-kun!”</p><p id="35">Thiếu nữ hoảng loạn tột độ gào lên gọi tên chàng trai.</p><p id="36">Nhưng đối với lũ ác đảng, điều đó chỉ như thứ gia vị làm tăng thêm sự hưng phấn.</p><p id="37">“Nó gọi tên thằng con trai nó yêu kìa.”</p><p id="38">“Được đấy, rạo rực cả người. Tao thích mấy vụ như này.”</p><p id="39">Lũ đàn ông không chút từ bi vươn tay về phía thiếu nữ.</p><p id="40">“Không! Đ-đừng lại đây......! Yuu-kun...... Yuu-kun cứu vớiiiii!!”</p><p id="41">“Gyahaha, ngu thế. Từ ngôi làng đến đây người thường đi bộ phải mất nửa ngày đấy.”</p><p id="42">“Làm sao đuổi kịp bọn tao đi ngựa được.”</p><p id="43">“Thằng ranh con đó có chạy hộc bơ cũng đếch kịp đâu.”</p><p id="44">“Ah. Ra là vậy.”</p><p id="45">Đột ngột, tiếng la hét của thiếu nữ im bặt.</p><p id="46">“Hử?”</p><p id="47">“Hả?”</p><p id="48">“Hở?”</p><p id="49">“Hả?”</p><p id="50">“Tính toán sai lầm rồi. Cứ tưởng sẽ giúp Yuu-kun cày được ít điểm kinh nghiệm chứ.”</p><p id="51">Nói với vẻ mặt tỉnh bơ, thiếu nữ phớt lờ đám ác nhân đang ngẩn tò te mà đứng dậy.</p><p id="52">Và rồi,</p><p id="53">“Nào thì.”</p><p id="54">Chỉ với một tiếng hô, dây thừng tự động tuột ra tuồn tuột, giải phóng cho cô.</p><p id="55">“Khoan......!”</p><p id="56">“Hả, cái gì? Tại sao?”</p><p id="57">Thiếu nữ vừa khẽ vươn vai dãn cơ như để kiểm tra tình trạng cơ thể, vừa nói:</p><p id="58">“Tóm lại thì đây là ứng dụng của ma pháp giải trừ bẫy, nhưng mà cái loại rác rưởi không bằng một cái móng chân của Yuu-kun như các ngươi chắc chắn không hiểu được đâu.”</p><p id="59">“M-Ma pháp!?”</p><p id="60">“Tại sao con ranh này lại dùng được ma pháp!?”</p><p id="61">“Đã là rác rưởi mà hỏi lắm thế. Thôi được, ta sẽ cho biết một điều này.”</p><p id="62">Dứt lời, thiếu nữ vụt biến mất.</p><p id="63">“B-biến mất rồi?”</p><p id="64">“Không phải nó chạy thoát rồi đấy chứ!?”</p><p id="65">“Khốn kiếp, đuổi theo! Đừng để nó thoát!”</p><p id="66">“N-này khoan đã!”</p><p id="67">Một tên trong số đó ngăn đám đàn ông đang hừng hực máu nóng lại. Hắn nhìn quanh, nhận thấy một sự bất thường.</p><p id="68">“——Đại ca đâu rồi?”</p><p id="69">Rầmmmmmmm!</p><p id="70">Từ trên trần hang, “Đại ca” rơi xuống.</p><p id="71">Gã khổng lồ bị đập mạnh lưng xuống đất, miệng hộc ra bọt mép, toàn thân co giật.</p><p id="72">“Q...... Quái vật......”</p><p id="73">Gã thốt lên một tiếng như bị vắt kiệt sức lực, rồi lịm đi, bất động.</p><p id="74">“““Hiii!?”””</p><p id="75">Đám lưu manh rùng mình kinh hãi.</p><p id="76">Thiếu nữ từ trên trần rơi xuống, đáp nhẹ nhàng lên người “Đại ca”, rồi nói:</p><p id="77">“Nghe này. Arina cả thể xác lẫn tâm hồn đều là đồ của Yuu-kun. Ngoài Yuu-kun ra không ai được phép chạm vào. Thế là ăn trộm đấy biết không? Ăn trộm.”</p><p id="78">Cô nhảy khỏi người “Đại ca”, tóm lấy gáy một tên với tốc độ mắt thường không thể theo kịp.</p><p id="79">“H, Hiiii!? C-cứuu,”</p><p id="80">“Ăn trộm là không được đâu nhé? Yuu-kun đã bảo là được phép cưỡng bức Arina chưa? Đã xin phép Yuu-kun chưa? Chưa xin phép mà đã định hiếp Arina à?”</p><p id="81">Bốp!</p><p id="82">Gã đàn ông bị ép chặt vào tường.</p><p id="83">“Cái loại cặn bã mà dám động tay vào đồ sở hữu của Yuu-kun sao? Tại vì đeo cái thứ thừa thãi này lủng lẳng ở dưới hả?”</p><p id="84">Chỗ hiểm hạ bộ của gã bị đá một cú toàn——lực.</p><p id="85">“Ah......!”</p><p id="86">Gã đàn ông trợn ngược mắt trắng dã.</p><p id="87">Và rồi từ đũng quần, máu tươi tuôn ra xối xả.</p><p id="88">Chưa bàn đến chuyện sống chết, nhưng chức năng đàn ông của gã chắc chắn đã về chầu ông bà.</p><p id="89">“T-tàn nhẫn quá......!”</p><p id="90">“Đương nhiên rồi. Dám đụng vào đồ của Yuu-kun thì thế là đương nhiên còn gì. Một hình phạt cực kỳ thỏa đáng đúng không? Đúng thế nhỉ, chắc chắn là vậy rồi, đúng mà, phải không nào?”</p><p id="91">Thiếu nữ quay phắt lại, mỉm cười tươi rói với đám đàn ông đang run rẩy.</p><p id="92">“Mọi người cũng nghĩ thế đúng không~?”</p><p id="93">“““V-vâng ạ!”””</p><p id="94">Thay cho lời cầu xin tha mạng, lũ đàn ông hùa theo trả lời.</p><p id="95">Thấy vậy, thiếu nữ gật đầu đầy mãn nguyện.</p><p id="96">“Ừm. Arina cũng nghĩ vậy đó. Thế nên Arina sẽ thay mặt Yuu-kun,”</p><p id="97">“Phạt”</p><p id="98">“Bình đẳng”</p><p id="99">“Tất cả các ngươi nhé ♪”</p><p id="100">“Hiiiiiiiiiii!!”</p><p id="101">“Ch, chchchchch”</p><p id="102">“Cứu tôi vớiiiii!!”</p><p id="103">Đám đàn ông gào thét thảm thiết, bắt đầu bỏ chạy tán loạn như ong vỡ tổ.</p><p id="104">Nhưng hỡi ôi, tại lối ra duy nhất, nỗi tuyệt vọng đang đứng đó mỉm cười. Thiếu nữ đã chặn đầu từ bao giờ.</p><p id="105">“Sao lại chạy thế? Chạy rồi thì sao nhận phạt được? Lại còn phải nhận thêm phạt vì tội bỏ chạy nữa đấy nhé?”</p><p id="106">Một tên bị thiếu nữ tóm gọn.</p><p id="107">“A-An-chan! Jiro, thằng Jiro bị bắt rồi!”</p><p id="108">“Thằng đó xong đời rồi, chạy thôi!”</p><p id="109">“Đ-đ-đ......! Đừng bỏ em lại mà gyaaaa!”</p><p id="110">“Về cơ bản thì gen của lũ đực trên thế giới này còn khuya mới bằng được DNA ưu tú của Yuu-kun đó là điều không cần bàn cãi nhưng mà nếu diệt hết bọn chúng thì sau này con cái của Yuu-kun sẽ rơi vào cảnh cận huyết nên cực chẳng đã mới phải để cho sống đấy kế hoạch tương lai của tớ hoàn hảo nhỉ nhưng mà việc triệt tiêu mấy cái gen rác rưởi vô giá trị cũng là điều nên làm và được cho phép đúng không đúng quá đi chứ chuẩn cơm mẹ nấu rồi các ngươi cũng thấy thế đúng không?”</p><p id="111">Thiếu nữ với vẻ mặt hoàng hốt đê mê, miệng lẩm bẩm những lời không rõ nghĩa như đang tụng kinh, dễ dàng quật ngã gã đàn ông tên Jiro xuống đất, rồi nhặt một hòn đá vừa tay lên.</p><p id="112">“Dừng lại, làm ơn, tha cho, guh!”</p><p id="113">Thiếu nữ vung hòn đá xuống.</p><p id="114">Bép, máu tươi nhuộm đỏ vách hang.</p><p id="115">“Jiroooooo!! An-chan, Jiro bị giết......”</p><p id="116">“Ugh!”</p><p id="117">“An-chaaaaaann!?”</p><p id="118">Bị thiếu nữ đá thốc lên, “An-chan” hứng trọn xung lực, nát bấy như miếng thịt băm trong nháy mắt rồi bị thổi bay về phía chân trời hư vô.</p><p id="119">Người ta hay có phép ẩn dụ là “hóa thành một vì sao”, và độ cao kia chính xác là như thế.</p><p id="120">Thiếu nữ mỉm cười với kẻ sống sót cuối cùng.</p><p id="121">“Biết không tớ ấy mà tớ cố gắng hạn chế xử lý rác rưởi trước mặt Yuu-kun lắm vì có thể sẽ làm Yuu-kun sợ hãi fufu Yuu-kun dễ thương ghê ha Yuu-kun là người đàn ông ngầu nhất dễ thương nhất tuyệt vời nhất thế giới hay nói đúng hơn ngoài Yuu-kun ra thì không ai được gọi là đàn ông cả hay nói cách khác đàn ông phải là từ ngữ chỉ mỗi mình Yuu-kun thôi còn các ngươi nên được gọi là cái thứ gì đó khác cần phải có một phân loại sinh học riêng cho mấy loài sinh vật xấu xí đúng thế nhỉ nói thế này chắc các ngươi cũng hiểu được một chút về sự tuyệt vời của Yuu-kun rồi ha hay là không hiểu nhỉ đúng rồi ha các ngươi là cái giống loài gì đó khác mà nhỉ xin lỗi nha xin lỗi nha lỡ nói mấy chuyện cao siêu quá.”</p><p id="122">“Đ-đừng lại đây, đừng lại đâyyyyy!!”</p><p id="123">Gã đàn ông nhảy lên ngựa, quất roi điên cuồng bắt đầu bỏ chạy.</p><p id="124">Chỉ cần chạy thật xa để sống sót.</p><p id="125">Nhưng mà,</p><p id="126">“Ahahaha, buồn cười ghê cơ. Thế thì sao mà chạy được.”</p><p id="127">“Hiii!?”</p><p id="128">“Ahaha, ahahaha. Đã chạy thì phải chạy nghiêm túc hơn chứ.”</p><p id="129">Gương mặt gã đàn ông méo xệch đi vì tử khí.</p><p id="130">Rõ ràng là đang chạy, thế mà thiếu nữ vẫn ở đó.</p><p id="131">Ngựa đang phi nước đại, thế mà thiếu nữ vừa cười vừa thong thả bước bộ theo sau.</p><p id="132">Nhanh hơn nữa, nhanh hơn nữa!</p><p id="133">Ngựa hí vang, cảnh vật trôi vùn vụt.</p><p id="134">“Ahahahahaha. Ahahahahahaha.”</p><p id="135">——Tại sao vẫn đuổi kịp được chứ!?</p><p id="136">Thực ra thứ mà gã đàn ông đang cưỡi lên và quất roi túi bụi chỉ là một tảng đá lớn nhô lên từ mặt đất, nhưng gã đã dính phải ảo thuật nên không hề nhận ra điều đó.</p><p id="137">Gã đàn ông khiếp sợ thiếu nữ, điên cuồng quất roi vào tảng đá, mỗi lần ngoái lại là một lần kinh hãi tột độ.</p><p id="138">Thiếu nữ cười nhạo cái dáng vẻ khôi hài đó, chậm rãi, chậm rãi tiến đến sau lưng gã như đang thưởng thức thú vui. Rồi cô giơ cao hòn đá dính đầy máu nhầy nhụa.</p><p id="139">“Á...... Ác quỷ......, Con ác quỷ điên loạnnnnn!”</p><p id="140">“Hông phải nha, sai rồi.”</p><p id="141">Cô lại nở nụ cười rạng rỡ khắp khuôn mặt.</p><p id="142">“Arina ấy nhé, là Dũng Giả của thế giới này đó.”</p><p id="143">—</p><p id="144">“Arinaaa! Cậu đâu rồiiii!!”</p><p id="145">Lao ra khỏi ngôi làng, chàng trai đang tuyệt vọng tìm kiếm thiếu nữ. Chỉ lơ là một chút thôi mà cô ấy đã biến mất tăm.</p><p id="146">Cậu nghe đồn vùng này có lũ sơn tặc bắt cóc hay tấn công lữ khách.</p><p id="147">...... Nỗi bất an về những điều chẳng lành cứ ngày một lớn dần.</p><p id="148">Cầu mong cậu bình an vô sự, chàng trai lẩm bẩm trong miệng, chạy vô định trên con đường lạ lẫm.</p><p id="149">Chạy được khoảng ba mươi phút.</p><p id="150">“Kyaaaaaaaa!”</p><p id="151">Một tiếng hét thất thanh vang vọng không gian.</p><p id="152">Không sai được. Là Arina!</p><p id="153">“Arina!”</p><p id="154">Chàng trai gào lên, lao nhanh về phía tiếng hét.</p><p id="155">Tại bình nguyên phía bên kia ngọn đồi, thiếu nữ tên Arina đang ở đó.</p><p id="156">Cô đang bị bao vây bởi ba con ma thú hình sói gọi là “Beowolf”, đứng chôn chân tại chỗ, mặt mếu máo chực khóc.</p><p id="157">“Auu, Yu, Yuu-kun, cứu tớ với!”</p><p id="158">“Chết tiệt! Cậu lúc nào cũng gây rắc rối thôi!”</p><p id="159">Cái danh “Dũng Giả” kia có khi nào là nhầm lẫn gì không vậy?</p><p id="160">Chàng trai thủ thế với thanh kiếm rẻ tiền vừa mới mua, dũng cảm lao vào đối đầu với lũ Beowolf.</p><p id="161">“Nguy hiểm lắm, lùi lại đi!”</p><p id="162">“V-vâng...... x-x-xin lỗi.”</p><p id="163">“Chuyện đó để sau! Không được rời khỏi lưng tớ!”</p><p id="164">“V-v-vâng ạ!”</p><p id="165">Chàng trai vung kiếm chiến đấu với ma thú.</p><p id="166">Ở sau lưng cậu, Arina nở một nụ cười nham hiểm.</p><p id="167">“Tiêu diệt xong Ma Vương rồi chinh phục thế giới này, mình sẽ tặng nó cho Yuu-kun làm quà. Chờ thêm chút xíu nữa thôi nhé ♪”</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay" class="dark:text-black col text-center  disabled "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298200-hinh-nhu-thanh-mai-truc-ma-cua-toi-la-dung-gia-nhung-toi-khong-the-de-co-ay-len-duong-mot-minh" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(3)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">3 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3180932"
    class="ln-comment-item mt-3 clear"
    data-comment="3180932" 
    data-parent="3180932" 
    data-type="chapter" 
    data-typeid="298195">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u125178-66a35838-d647-4e45-97bc-4f03a855510d.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/125178">Shikiyami Kuroi</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        anh này 1 năm chắc phải trăm bộ quá<br>
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no?comment_id=3180932#ln-comment-3180932"
                            class="text-slate-500">
                            <time class="timeago" title="27-01-2026 23:04:55"
                                datetime="2026-01-27T23:04:55+07:00">
                                27-01-2026 23:04:55
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3180903"
    class="ln-comment-item mt-3 clear"
    data-comment="3180903" 
    data-parent="3180903" 
    data-type="chapter" 
    data-typeid="298195">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/225173">Có yan thì đến</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
                <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#e3953e]/50 dark:bg-[#9c662a]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#9c662a] dark:text-[#ecd8c2]">
                <img class="my-auto h-[14px]" src="/img/badge/cvter2.png" />
                <div class="leading-4">AI MASTER</div>
            </div>
        </div>
    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Vãi lol, xin chia buồn cùng với đám cướp 🫠🫠🫠
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no?comment_id=3180903#ln-comment-3180903"
                            class="text-slate-500">
                            <time class="timeago" title="27-01-2026 22:55:03"
                                datetime="2026-01-27T22:55:03+07:00">
                                27-01-2026 22:55:03
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3180893"
    class="ln-comment-item mt-3 clear"
    data-comment="3180893" 
    data-parent="3180893" 
    data-type="chapter" 
    data-typeid="298195">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u224320-fa0a45f2-bd49-4fa4-a7bb-d8628155325b.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/224320">Họa sĩ bất tài</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Adu 💀
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no?comment_id=3180893#ln-comment-3180893"
                            class="text-slate-500">
                            <time class="timeago" title="27-01-2026 22:51:58"
                                datetime="2026-01-27T22:51:58+07:00">
                                27-01-2026 22:51:58
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'Z58OHyx9mKlETphsZdOpseNheIph3VeBHOdgx0NF';
        var comment_type = 'chapter';
        var comment_typeid = '298195';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'Z58OHyx9mKlETphsZdOpseNheIph3VeBHOdgx0NF';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24816');
    chapter_id = parseInt('298195');

    readingObject = {
        series_id: series_id,
        series_title: 'Bạn thuở nhỏ của tôi là nữ sinh trung học kiêm Dũng giả của dị giới, nhưng có vẻ mọi chuyện không đơn giản như vậy',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="Z58OHyx9mKlETphsZdOpseNheIph3VeBHOdgx0NF" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c4997866af5c0be',t:'MTc2OTUzMDk3OA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

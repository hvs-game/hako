<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Bạn thuở nhỏ của tôi là nữ sinh trung học kiêm Dũng giả của dị giới, nhưng có vẻ mọi chuyện không đơn giản như vậy - Trận ra quân và chiến đấu liên miên - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Vào sinh nhật tuổi 17, Arina, bạn thuở nhỏ của nam sinh trung học năm hai Shimoyama Yuuki, đã lên đường bắt đầu hành trình tiêu diệt Ma Vương với tư cách là một Dũng Giả. Vì quá lo lắng cho cô bạn thuở nhỏ thiếu hụt thường thức xã...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="lR1IcSWvG6nPxQrBkv93bHyIKSFOoJZ2tRVRoEoT">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298326-tran-ra-quan-va-chien-dau-lien-mien">
    <meta property="og:image" content="https://docln.net/img/nocover.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298305-kyahoi-chao-mung-den-voi-lang-okka"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298356-loi-thinh-cau-cua-cong-chua-rose"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298326-tran-ra-quan-va-chien-dau-lien-mien" style="background: url('https://docln.net/img/nocover.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay">Bạn thuở nhỏ của tôi là n...</a></h5>
                    <small><i class="fas fa-pen"></i>山田中ミキヤ</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/t36083-dung-gia-kinh-hoang-va-nam-sinh-trung-hoc-binh-thuong">Dũng Giả kinh hoàng và nam sinh trung học bình thường</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298195-tieng-thet-lam-chung-cua-ten-cuop-no">
                                                                        Tiếng thét lâm chung của tên cướp nọ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298200-hinh-nhu-thanh-mai-truc-ma-cua-toi-la-dung-gia-nhung-toi-khong-the-de-co-ay-len-duong-mot-minh">
                                                                        Hình như thanh mai trúc mã của tôi là Dũng giả, nhưng tôi không thể để cô ấy lên đường một mình
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298237-elixir-replica-system">
                                                                        Elixir-Replica System
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298305-kyahoi-chao-mung-den-voi-lang-okka">
                                                                        Kyahoi! Chào mừng đến với làng Okka!
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298326-tran-ra-quan-va-chien-dau-lien-mien">
                                                                        Trận ra quân và chiến đấu liên miên
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298356-loi-thinh-cau-cua-cong-chua-rose">Biến cố tại Dinh thự Isky</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Dũng Giả kinh hoàng và nam sinh trung học bình thường</h2>
                    <h4 class="title-item text-base font-bold" align="center">Trận ra quân và chiến đấu liên miên</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298326-tran-ra-quan-va-chien-dau-lien-mien#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,092 từ - Cập nhật: 
                        <time class="topic-time timeago" title="27-01-2026 23:41:13" datetime="2026-01-27T23:41:13+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Trận ra quân và chiến đấu liên miên</p>
                    <p id="1">Càng chạy dọc theo con đường cái rời xa làng Okka, màu xanh của cây cỏ càng thưa thớt dần. </p><p id="2">Đến một mốc địa giới nọ, phong cảnh đột ngột thay đổi hoàn toàn, những vách đá lởm chởm xuất hiện ngày một nhiều trước mắt. </p><p id="3">Có vẻ như ngôi làng vốn là một vùng đồng cỏ lòng chảo được bao quanh bởi những ngọn đồi thoai thoải.</p><p id="4">Tôi rảo mắt tìm kiếm Arina. Kể từ khi vượt qua ngọn đồi đầu tiên, địa hình cứ trập trùng những đồi là đồi khiến tầm nhìn phía trước vài mét trở nên cực kỳ hạn chế. Cảnh sắc cứ biến đổi liên tục sau mỗi lần leo qua một con dốc. </p><p id="5">Với điều kiện địa hình thế này, chẳng lạ gì khi bọn cướp đường thường chọn đây làm nơi tập kích những lữ khách yếu ớt. </p><p id="6">Càng nghĩ đến đó, nỗi lo lắng về sự an nguy của Arina trong tôi càng dâng cao.</p><p id="7">“Arinaーー! Cậu đang ở đâuーー!!”</p><p id="8">Tiếng hét lớn vang lên nhưng đáp lại chỉ là sự thinh lặng vô vọng. </p><p id="9">Lạc nhau ở một thế giới khác đầy rẫy hiểm nguy mà không biết điều gì sẽ xảy ra thế này... </p><p id="10">Tôi đã quá bất cẩn. </p><p id="11">...Có khi nào Arina đã... </p><p id="12">Suy nghĩ đen tối ấy thoáng vụt qua, tôi lập tức gạt phắt nó đi và cắm đầu chạy thục mạng.</p><p id="13">Tôi không biết mình đã chạy bao lâu. Sau một hồi, từ phía bên kia ngọn đồi bỗng vang lên một tiếng thét thất thanh.</p><p id="14">“Kyaaaaa!!”</p><p id="15">Không nhầm đi đâu được. </p><p id="16">Là giọng của Arina! </p><p id="17">Tôi chạm tay vào chiếc E:ID Phone. </p><p id="18">Mục đích là để lấy ra thanh kiếm tôi vừa mua lúc nãy. </p><p id="19">Tôi cố gắng thao tác trong khi đang chạy, nhưng những ngón tay cứ trượt đi, không thể chạm chính xác vào lệnh cần dùng. </p><p id="20">Nhưng tôi không thể dừng chân. </p><p id="21">Không có thời gian để đứng lại! </p><p id="22">...Chiếc smartphone này vốn có chức năng nhập liệu bằng giọng nói từ trước khi được cải tạo mà. </p><p id="23">Tôi chạm vào nút lồi bên sườn máy, và ngay khi nghe thấy âm thanh bíp báo hiệu chế độ chờ, tôi hét lên,</p><p id="24"> “『Vật phẩm』! 〝Kiếm Sắt Vụn〟!”</p><p id="25">『ready』</p><p id="26">Đó là âm thanh chờ giống như lúc tôi lấy sô-cô-la ra. </p><p id="27">Được rồi!</p><p id="28">“Thực thi! Lấy ra! Tôi muốn trang bị!” </p><p id="29">Tôi liên tục hô to những từ ngữ nảy ra trong đầu để hối thúc nó xuất hiện, và rồi,</p><p id="30">『equip!』</p><p id="31">Một tia sáng phóng ra từ chiếc vòng tay của tôi.</p><p id="32">Thanh kiếm rẻ tiền dần hiện hữu, chuyển từ trạng thái bán trong suốt sang thực thể.</p><p id="33">Chẳng hiểu theo nguyên lý nào mà nó cứ lơ lửng ngay trước mắt tôi.</p><p id="34">Có lẽ nó đang đợi chủ nhân trang bị. </p><p id="35">Tôi chộp lấy nó. Sức nặng đầm tay khiến tôi cảm thấy vững tâm hơn hẳn.</p><p id="36">Tình hình ở phía bên kia ngọn đồi tồi tệ hơn tôi tưởng.</p><p id="37">Arina đang bị bao vây bởi ba con chó khổng lồ, hoàn toàn không còn đường lui. </p><p id="38">Mà nói đúng hơn thì chúng quá to. Kích thước phải ngang ngửa sư tử. </p><p id="39">To đến mức tôi chẳng có chút tự tin nào là sẽ thắng nếu bị chúng vồ lấy. </p><p id="40">Những chiếc răng nanh phát triển chìa hẳn ra ngoài miệng, lông toàn thân dựng đứng tạo cảm giác vô cùng hung dữ. </p><p id="41">Gọi là chó nhưng trông giống sói hơn. </p><p id="42">Có vẻ chúng đang đói cồn cào, miệng gầm gừ “Gừ... gừ...”, đôi mắt vằn đỏ nhìn chằm chằm vào con mồi Arina.</p><p id="43">『WARNING!!』</p><p id="44">Điện thoại của tôi phát ra tiếng cảnh báo chói tai.</p><p id="45">『Có quái vật xung quanh. Xin hãy cảnh giác.』</p><p id="46">“Tao biết rồi...” </p><p id="47">Tôi thủ thế bằng thanh Kiếm Sắt Vụn, tay kia vớ lấy một hòn đá vừa tầm.</p><p id="48">“Arinaaa!” </p><p id="49">Tôi hét lớn và ném mạnh hòn đá về phía kẻ địch. </p><p id="50">Bị ném trúng, dù không gây sát thương nhưng sát khí của con ma thú lập tức chuyển hướng về phía tôi. </p><p id="51">“Chạy đi, cậu còn đứng đực ra đó làm gì!!”</p><p id="52">Tôi giục cô ấy tận dụng cơ hội để thoát thân, nhưng mà…</p><p id="53">“Auu, Y... Yu-kun, cứu tớ với!”</p><p id="54">Là do sợ đến nhũn cả chân hay do thiếu can đảm đây? Arina cứ đứng chôn chân tại chỗ.</p><p id="55">“Chết tiệt! Sao cậu lúc nào cũng gây rắc rối thế hả!”</p><p id="56">Bảo nhỏ đó là 〝Dũng giả〟 thì có phải nhầm lẫn gì không vậy?</p><p id="57">——Đã thế này thì chỉ còn cách đột phá trực diện!</p><p id="58">Tôi vung thanh kiếm rẻ tiền lên và lao thẳng vào kẻ địch.</p><p id="59">“Gyauuu!”</p><p id="60">Nanh vuốt của kẻ thù lao tới ngay trước mặt. </p><p id="61">Sợ là thua... chết chắc! </p><p id="62">Một đòn liều mạng. Tôi vung kiếm xuống trong vô thức. </p><p id="63">Một chấn động cùn đục vang lên “Bộp”, tôi đã giáng một đòn vào mũi nó. </p><p id="64">“Gâu!”</p><p id="65">Con sói khổng lồ hét lên và chùn bước. </p><p id="66">Chính là lúc này!</p><p id="67">“Uoooooooo!!”</p><p id="68">Tôi nhắm thẳng vào yết hầu, điểm yếu của kẻ địch mà đâm kiếm tới.</p><p id="69">Cảm giác rợn người khi lưỡi kiếm xuyên vào da thịt sống.</p><p id="70">Con sói rên lên một tiếng “Hộc” rồi bất động.</p><p id="71">Ngay sau đó, con ma thú vừa chết tan biến như làn sương khói.</p><p id="72">Từ vị trí mà thân xác kẻ địch 〝từng tồn tại〟, những vật thể như đá quý rơi xuống lách cách. </p><p id="73">Cái gì vậy? Tôi bị thu hút trong tích tắc, nhưng không có thời gian để kiểm tra. </p><p id="74">Con sói khác gầm lên và lao tới. </p><p id="75">“H... 〝Hỏa ma pháp〟!”</p><p id="76">Ngọn lửa của Arina nện thẳng vào sườn nó. </p><p id="77">Phải rồi. Nhỏ này biết dùng ma thuật mà! </p><p id="78">Toàn thân bốc cháy, con sói mất đà, ngã lăn quay ra đất rồi tan biến y hệt con đầu tiên. </p><p id="79">“Cậu dùng cái đó sớm hơn đi chứ!”</p><p id="80">“T... tại tại tại vì, x... xi... xin lỗi màaaa!!”</p><p id="81"> Arina òa khóc nức nở.</p><p id="82">Hỏng rồi, dù có ma thuật mạnh đến đâu mà tinh thần không ổn định thì cũng chẳng thành chiến lực được. </p><p id="83">“Thôi được rồi, nguy hiểm lắm, lùi lại đi!”</p><p id="84">“Ư... ưm... x... x... xin lỗi cậu.”</p><p id="85">“Mấy chuyện đó để sau! Không được rời khỏi lưng tớ!”</p><p id="86">“V... v... vâng!”</p><p id="87">Tôi giương kiếm đối đầu với con cuối cùng.</p><p id="88">Lúc nãy chỉ có một mình nên tôi mới dám liều, nhưng giờ sau lưng còn có Arina.</p><p id="89">Lần này không thể dùng đòn liều mạng được nữa... làm sao đây.</p><p id="90">“Y... Yuu-kun.”</p><p id="91">Arina nói từ sau lưng tôi.</p><p id="92">“Mẹ có nói là đã cài sẵn vũ trang vào E:ID... C... có dùng được không nhỉ?”</p><p id="93">“Nó đấy!”</p><p id="94">Nhận được lời gợi ý của Arina, tôi kích hoạt smartphone.</p><p id="95">“『Kỹ năng』... 〝Salamander Cannon〟!”</p><p id="96">『Make it to equip!』</p><p id="97">Tia sáng quen thuộc phóng ra từ chiếc điện thoại. </p><p id="98">Ngay trước mắt tôi, một khẩu pháo viễn tưởng như thể được trang bị cho robot SF, với những chi tiết tinh xảo, hiện ra. Trông nó như cái tháp pháo xe tăng gắn thêm nòng dài khoảng 2 mét. </p><p id="99">Riêng cái nòng pháo này thôi cũng đủ làm vũ khí cùn để đập nhau rồi. </p><p id="100">Dùng ở cự ly này có vẻ hơi quá khổ... nhưng không thể đòi hỏi được.</p><p id="101">『ready』</p><p id="102">Có vẻ đã chuẩn bị xong. </p><p id="103">Tôi cắm thanh kiếm xuống đất, thay vào đó dùng cả hai tay nâng khẩu pháo lên, chĩa nòng về phía đối thủ. </p><p id="104">Ngay lúc đó, đối phương hành động. </p><p id="105">Với thân hình đồ sộ, nó nhảy vọt lên cao hơn cả chiều cao của tôi, nhe nanh vuốt lao xuống tấn công.</p><p id="106">“Thổi bay nó đi!”</p><p id="107">『action!!』</p><p id="108">Tôi khai hỏa khẩu đại bác ở cự ly cực gần.</p><p id="109">Tiếng nổ vang trời, một viên đạn rực lửa lao đi, ngoạm chặt lấy kẻ thù.</p><p id="110">Tôi đã tưởng tượng sẽ có lực giật rất mạnh, nhưng tay tôi chẳng cảm thấy chút chấn động nào. Nhẹ nhàng đến mức hụt hẫng. </p><p id="111">Viên đạn trúng trực diện, xuyên thủng bụng con ma thú, rồi cứ thế lao vút lên tận trời xanh mà không hề giảm tốc. </p><p id="112">Cuối cùng, một tiếng nổ lớn “Đùng” làm rung chuyển bầu trời. Có lẽ viên đạn đã phát nổ. </p><p id="113">Dính cú này thì chắc chắn không còn mảnh giáp. </p><p id="114">Con ma thú rên lên một tiếng rồi tan biến. </p><p id="115">Khẩu đại bác hoàn thành nhiệm vụ cũng tan biến theo.</p><p id="116">“X... xong rồi.”</p><p id="117">Tôi ngồi bệt xuống tại chỗ. Thu thanh kiếm lại, và rồi.</p><p id="118">“Cái con nhỏ này!! Đừng có mà chạy lung tung nữa!!”</p><p id="119">Tôi quát vào mặt Arina.</p><p id="120">“X... xi... xin lỗi... Tớ định đi xem trước tình hình phía trước một chút, t... tại. Thấy Yuu-kun đang cố gắng, tớ không thể cứ ngồi yên một mình được.”</p><p id="121">“...Haa.”</p><p id="122">Cái kiểu tư duy cố quá thành quá cố, chỉ tổ làm tình hình tệ hơn. </p><p id="123">Nhỏ này lúc nào cũng thế.</p><p id="124">“Uu. Hức... xin lỗi... Arina chỉ toàn gây rắc rối cho Yuu-kun thôi.” </p><p id="125">...Lại còn khóc nữa chứ. </p><p id="126">Thật tình, hết cả hơi sức để mà giận.</p><p id="127">“Thôi được rồi. Dù sao thì, lạc nhau ở nơi thế này là chết chắc đấy. Đừng có tự tiện hành động nữa.”</p><p id="128">Dặn dò xong, thấy Arina gật đầu lia lịa, tôi mới quay sang kiểm tra thứ mình đang thắc mắc. Viên đá quý mà con ma thú đánh rơi.</p><p id="129">Khi nhặt lên, đó là một tinh thể hình trụ lục giác trong suốt như pha lê, bề mặt lấp lánh kỳ lạ với đủ màu sắc hòa quyện vào nhau như vân đá cẩm thạch, hay gọi là màu sắc cầu vồng nhỉ?</p><p id="130">“Cái gì đây không biết?”</p><p id="131">Tôi hỏi ý kiến Arina, nhưng cô ấy chỉ nghiêng đầu chứ có vẻ không biết câu trả lời.</p><p id="132">Vốn dĩ chuyện xác chết tan biến cũng đã kỳ lạ rồi. </p><p id="133">Có lẽ cần phải tìm hiểu sự khác biệt giữa〝Động vật〟và〝Ma thú〟. Tôi thu thập viên đá vào smartphone. </p><p id="134">Trong mục 『Vật phẩm』, có vài thứ gọi là〝Ma Nguyên〟được thêm vào.</p><p id="135">“Tạm thời cứ đi thôi. Phải đến Vương thành trong ngày hôm nay đúng không?”</p><p id="136">“Ư... ừm.”</p><p id="137">“Nghe bảo thời gian khá sít sao đấy. Không biết có kịp không nữa... đi nhanh nào.”</p><p id="138">Vừa dứt lời bước đi, </p><p id="139">Tiếng vó ngựa lộc cộc... lộc cộc... nhịp nhàng vang lên. </p><p id="140">Tôi nhìn về phía những ngọn đồi hướng từ làng Okka mà chúng tôi vừa đi qua. </p><p id="141">Bốn con bạch mã trông rất đắt tiền đang kéo một cỗ xe ngựa màu trắng, cũng được trang trí bằng vàng và đá quý sang trọng không kém, đang tiến tới. </p><p id="142">Gã xà ích biểu lộ thái độ “tránh đường ra” trên mặt, nên tôi dẹp sang một bên nhường đường. </p><p id="143">Nếu đây là thế giới giả tưởng trung cổ thì chắc là quý tộc hay ai đó đang ngồi bên trong nhỉ?</p><p id="144">Tò mò nhìn qua cửa sổ, tôi thoáng thấy bóng dáng một cô gái khả ái qua khe hở của tấm rèm mỏng. </p><p id="145">“C... cỗ xe ngựa trông đắt tiền quá nhỉ. Chắc là công chúa đang ngồi trong đó ha.”</p><p id="146">“Có vẻ là vậy.”</p><p id="147">Chúng tôi trao đổi vài phỏng đoán vu vơ rồi tiếp tục rảo bước.</p><p id="148">“Aah. Thích thật đấy, xe ngựa. Ước gì họ cho mình đi nhờ nhỉ.”</p><p id="149">Tôi lầm bầm như đang than vãn.</p><p id="150">Thấy vậy, Arina hỏi,</p><p id="151"> “...Yuu-kun, cậumuốn đi xe ngựa hả?”</p><p id="152">“Thì, nếu được ngồi lên đó thì có thể đến Vương thành một cách sung sướng rồi còn gì? Không biết vẫy xe đi nhờ họ có dừng lại không ta.”</p><p id="153">Tất nhiên là đùa thôi, nhưng một nửa cũng là mong muốn thật.</p><p id="154">“——...Hưm. Ra là vậy.”</p><p id="155">“Hửm? ...Sao thế?”</p><p id="156">“Không có gì. Xe ngựa, mong là họ sẽ cho tụi mình đi nhờ ha♪”</p><p id="157">“Này nhé. Làm gì có chuyện họ cho đi nhờ chứ...”</p><p id="158">“Kyaaaaaaa!”</p><p id="159">Uwa, cảm giác Déjà vu vãi chưởng.</p><p id="160">Lại là tiếng hét vang lên từ phía bên kia ngọn đồi.</p><p id="161">“Cậu có phân thân ra làm hai người không đấy?”</p><p id="162">“K... không có đâu... phải nhanh lên!”</p><p id="163">Chúng tôi lao đi, cấp tốc chạy đến hiện trường. </p><p id="164">Cỗ xe ngựa lúc nãy đã bị lật nghiêng, gã xà ích đang cố gắng trấn an lũ ngựa. </p><p id="165">Những hiệp sĩ có vẻ là hộ vệ nhảy ra khỏi xe, rút kiếm đối đầu với chướng ngại vật. </p><p id="166">Tôi tưởng lại là lũ sói khổng lồ, nhưng không phải. </p><p id="167">Bốn gã đàn ông to lớn đang vây lấy cỗ xe, chặn hết đường đi. </p><p id="168">Bước chân loạng choạng như kẻ say rượu, nhưng chúng lại lừ lừ tiến về phía xe ngựa một cách chắc chắn. </p><p id="169">Nhìn kỹ thì thấy trên người cả bốn gã đều có vết thương chảy máu, thậm chí có gã máu còn chảy ròng ròng từ háng xuống.</p><p id="170">Trông hệt như zombie trong phim điện ảnh vậy.</p><p id="171">Trước những kẻ địch bước đi lảo đảo, các hiệp sĩ đối đầu cũng tỏ ra sợ hãi và lùi lại.</p><p id="172">Nhưng họ không thể bỏ chạy.</p><p id="173">Một hiệp sĩ hét lớn đầy giận dữ và dũng cảm lao vào.</p><p id="174">Một đường kiếm. Lưỡi gươm chém sâu vào vai tên zombie, dịch thể bắn tung tóe.</p><p id="175">Nhưng tên zombie chẳng hề bận tâm, hắn tước lấy thanh kiếm đang găm vào người mình. Rồi hắn dùng hai tay bẻ gãy đôi thanh kiếm trông đắt tiền hơn kiếm của tôi gấp bội một cách dễ dàng.</p><p id="176">“Hiiiiii!”</p><p id="177">Người hiệp sĩ mất vũ khí hét lên thất thanh và bắt đầu bỏ chạy. </p><p id="178">Cũng chẳng trách được.</p><p id="179">“Y... Yuu-kun! Phải cứu họ!”</p><p id="180">Arina hét lên đầy tinh thần chính nghĩa.</p><p id="181">“Nhưng tuyệt chiêu lúc nãy xài mất rồi.”</p><p id="182">MP trên smartphone đang hiển thị 35%. </p><p id="183">Salamander Cannon cần tới 60% năng lượng. </p><p id="184">Tạm thời không thể bắn được nữa. </p><p id="185">“Không có tuyệt chiêu thì có thắng được bọn kia không đây!”</p><p id="186">“Đ... đ... được mà! Lần này Arina sẽ dùng ma thuật nghiêm túc! T... t... tớ sẽ cố gắng!”</p><p id="187">Arina nắm chặt tay đặt lên ngực, rồi nói,</p><p id="188"> “N... nhưng mà tớ sợ lắm, n... n... nếu được thì nhờ Yuu-kun đứng lên trước giùm tớ nha.”</p><p id="189">Đúng là một hậu phương vững chắc đáng tin cậy ghê.</p><p id="190">“X... xin lỗi nhé, dù tớ thế này... Nh... nhưng Arina... là Dũng giả mà!” </p><p id="191">Đúng rồi.</p><p id="192">Làm gì có Dũng giả nào thấy người gặp nạn mà bỏ qua chứ.</p><p id="193">Vậy thì thành viên trong tổ đội cũng phải cố gắng thôi.</p><p id="194">“Nhưng không thể lao vào mà không có kế hoạch được. Gì thì gì bọn chúng cũng không sợ kiếm chém. Huống hồ là cái thanh kiếm cùn của tớ.” </p><p id="195">Tôi hí hoáy smartphone, chọn những đạo cụ có thể dùng được từ mục 『Vật phẩm』.</p><p id="196">Tóm lại, chỉ cần làm cách nào đó tạo ra 〝sơ hở〟 để Arina tung ma thuật vào là được. Có thứ gì làm được điều đó không nhỉ...?</p><p id="197">“Ah, Yuu-kun, không được đâu, sao lại uống rượu lúc này!”</p><p id="198">Arina nhìn thấy chai rượu tôi được ông chú cho lúc nãy liền trách móc.</p><p id="199">“Tôi có định uống đâu... Ah. Phải rồi.”</p><p id="200">Tôi lấy thêm 〝Rượu rẻ tiền〟 từ smartphone ra.</p><p id="201">“Arina. Ngoài lửa ra cậu còn tạo được nước đúng không?”</p><p id="202">“Ư... ừm. Được chứ.”</p><p id="203">“Tốt.”</p><p id="204">Thêm cả 〝Khăn tắm〟 và 〝Bật lửa〟 đã có sẵn. </p><p id="205">Nhét khăn vào miệng chai…</p><p id="206">“L... l... làm gì vậy?”</p><p id="207">Thấy tôi đột nhiên bắt đầu chế tạo thủ công, Arina lo lắng ghé mắt nhìn.</p><p id="208">“Bom xăng. Dùng cái này chặn đường tiến của bọn chúng.”</p><p id="209">“Bom... xăng?”</p><p id="210">Gì vậy, không biết hả…</p><p id="211">“Không có thời gian giải thích đâu. Tóm lại, tớ sẽ gây ra một đám cháy ngay trước mặt chúng, khi đối phương chùn bước thì cậu dùng ma thuật hạ gục bọn nó. Sau đó thì dập lửa. Làm được chứ?”</p><p id="212">Thấy Arina gật đầu xác nhận, tôi châm lửa vào chai bom xăng.</p><p id="213">“Lên nào!”</p><p id="214">Và rồi tôi vung cao tay, lao thẳng về phía cỗ xe ngựa.</p><p id="215">“Ngươi là ai!” “Đ... đứng lại!”</p><p id="216">Phớt lờ sự ngăn cản của những hiệp sĩ còn lại đang bảo vệ xe, tôi chạy vụt qua cỗ xe và ném chai bom xăng vào lũ zombie bằng một cú ném thấp tay kiểu bóng chày.</p><p id="217">Cái chai vỡ tan trên mặt đất, cồn bên trong bùng cháy vẽ nên một đường lửa rực rỡ.</p><p id="218">Ngọn lửa bén vào quần áo lũ zombie, khiến cả bốn tên bốc cháy dữ dội.</p><p id="219">Nhưng lũ zombie vẫn không dừng bước.</p><p id="220">Với những kẻ vốn đã chết thì bỏng có lẽ là vô nghĩa.</p><p id="221">Thất bại sao...!</p><p id="222">Đã thế thì đành chịu. Tôi trang bị thanh Kiếm Sắt Vụn, bước vào tư thế chiến đấu.</p><p id="223">“〝Lôi ma pháp〟!” </p><p id="224">Đùnggg! ...Một tia sét từ trên trời giáng thẳng xuống một tên. </p><p id="225">Là sự yểm trợ của Arina. </p><p id="226">Tên địch trúng đòn cháy đen, ngã vật ra và bất động. </p><p id="227">Hơn nữa, chuyển động của mấy tên còn lại cũng thay đổi. </p><p id="228">Đột nhiên chúng khuỵu gối cái rụp, rồi lần lượt đổ gục xuống đất. </p><p id="229">Có vẻ ngọn lửa đã thiêu rụi phần thịt ở chân chúng. </p><p id="230">Nhưng dù chân có rữa nát, kẻ địch vẫn cố lết bằng tay để tiến về phía chúng tôi.</p><p id="231">“Dựng xe ngựa lên! Nhanh lên!”</p><p id="232">Arina hét to chỉ đạo các hiệp sĩ. </p><p id="233">Những người đàn ông trưởng thành bị khí thế ấy lấn át, tuy còn bối rối nhưng vẫn gật đầu làm theo. </p><p id="234">Đầu tiên một hiệp sĩ quay lại bên trong xe. </p><p id="235">Anh ta vừa nói “Lối này ạ...” vừa cứu một thiếu nữ ra ngoài. </p><p id="236">Là 〝Nàng công chúa〟 lúc nãy. </p><p id="237">Một cô gái đáng yêu với mái tóc vàng kim và làn da trắng ngần, mặc bộ váy trắng điểm xuyết đá quý. </p><p id="238">Sau đó, xà ích và các hiệp sĩ bắt đầu hợp sức dựng lại cỗ xe. </p><p id="239">Thay vì đứng thủ thế ở đây, qua đó giúp một tay có vẻ có ích hơn. </p><p id="240">Tôi chạy lại tiếp sức, và cuối cùng cỗ xe ngựa cũng đứng thẳng lại được.</p><p id="241">“〝Thủy ma pháp〟!” </p><p id="242">Arina niệm chú, dập tắt ngọn lửa, mở ra đường thoát.</p><p id="243">“Chạy thôi!” “R... rõ!” </p><p id="244">Không ai bảo ai, tất cả hối hả leo lên xe ngựa theo bản năng. </p><p id="245">Lũ ngựa hí vang, bắt đầu phóng đi với tốc độ tối đa.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298305-kyahoi-chao-mung-den-voi-lang-okka" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24816-ban-thuo-nho-cua-toi-la-nu-sinh-trung-hoc-kiem-dung-gia-cua-di-gioi-nhung-co-ve-moi-chuyen-khong-don-gian-nhu-vay/c298356-loi-thinh-cau-cua-cong-chua-rose" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'lR1IcSWvG6nPxQrBkv93bHyIKSFOoJZ2tRVRoEoT';
        var comment_type = 'chapter';
        var comment_typeid = '298326';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'lR1IcSWvG6nPxQrBkv93bHyIKSFOoJZ2tRVRoEoT';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24816');
    chapter_id = parseInt('298326');

    readingObject = {
        series_id: series_id,
        series_title: 'Bạn thuở nhỏ của tôi là nữ sinh trung học kiêm Dũng giả của dị giới, nhưng có vẻ mọi chuyện không đơn giản như vậy',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="lR1IcSWvG6nPxQrBkv93bHyIKSFOoJZ2tRVRoEoT" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c4b0682f810fb0f',t:'MTc2OTU0NjAxMA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

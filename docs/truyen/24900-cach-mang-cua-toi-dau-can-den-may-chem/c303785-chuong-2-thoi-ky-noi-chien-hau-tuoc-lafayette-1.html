<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Cách Mạng Của Tôi Đâu Cần Đến Máy Chém! - Chương 2: Thời Kỳ Nội Chiến - Hầu Tước Lafayette (1) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Phận làm quý tộc, tôi đã đứng sai phía của bánh xe lịch sử để rồi bị chính quân cách mạng xử tử. Nhưng khi được quay ngược thời gian, tôi mới ngộ ra một chân lý, rằng lối thoát duy nhất để sống sót qua cơn bão nổi dậy...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="w8UZjhP4eNRtXf9fXtZ2evBrg6wczoNOHkvnq8NX">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303785-chuong-2-thoi-ky-noi-chien-hau-tuoc-lafayette-1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24900-38751ab3-f8aa-4458-915d-c4cfcc971f31.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303402-chuong-1-khuc-dao-dau"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303790-chuong-3-thoi-ky-noi-chien-hau-tuoc-lafayette-2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303785-chuong-2-thoi-ky-noi-chien-hau-tuoc-lafayette-1" style="background: url('https://i.hako.vn/ln/series/covers/s24900-38751ab3-f8aa-4458-915d-c4cfcc971f31.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem">Cách Mạng Của Tôi Đâu Cần...</a></h5>
                    <small><i class="fas fa-pen"></i>Carcassonne</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/t36361-1-50">1-50</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303402-chuong-1-khuc-dao-dau">
                                                                        Chương 1: Khúc Dạo Đầu
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303785-chuong-2-thoi-ky-noi-chien-hau-tuoc-lafayette-1">
                                                                        Chương 2: Thời Kỳ Nội Chiến - Hầu Tước Lafayette (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303790-chuong-3-thoi-ky-noi-chien-hau-tuoc-lafayette-2">
                                                                        Chương 3: Thời Kỳ Nội Chiến - Hầu Tước Lafayette (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1-50</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2: Thời Kỳ Nội Chiến - Hầu Tước Lafayette (1)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303785-chuong-2-thoi-ky-noi-chien-hau-tuoc-lafayette-1#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,064 từ - Cập nhật: 
                        <time class="topic-time timeago" title="04-02-2026 16:29:54" datetime="2026-02-04T16:29:54+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2: Thời Kỳ Nội Chiến - Hầu Tước Lafayette (1)</p>
                    <p id="1">"Aaaaaaa!"</p><p id="2">Tiếng lưỡi máy chém rơi xuống kinh hoàng vang vọng bên tai tôi.</p><p id="3">"Hự... Hộc... Hộc..."</p><p id="4">Cảm giác gió lạnh lướt qua cổ không phải là thứ mà bất cứ ai nên trải nghiệm.</p><p id="5">Trong cơn run rẩy, tôi cố đưa tay sờ lên cổ mình.</p><p id="6">...Nó vẫn còn đó.</p><p id="7">Hình ảnh cuối cùng mà tôi nhớ được, cái xác không đầu của chính mình treo lơ lửng trên giá chém, vẫn còn in đậm trong ký ức.</p><p id="8">Cơ thể tôi.</p><p id="9">Cái xác không đầu của tôi.</p><p id="10">Ngay khoảnh khắc đó, tôi bật dậy.</p><p id="11">Đây là đâu?</p><p id="12">Trong phòng tôi.</p><p id="13">Phòng của tôi?</p><p id="14">Đây không phải là hầm ngục bẩn thỉu kia.</p><p id="15">Đây chắc chắn là phòng của tôi trong dinh thự Hầu tước.</p><p id="16">Với đôi chân bủn rủn, tôi cố lết đến trước tấm gương ở phía bên kia căn phòng, nhưng hình ảnh phản chiếu trong đó khiến tôi bàng hoàng.</p><p id="17">"Cái quái gì thế này."</p><p id="18">Người trong gương là một chàng trai trẻ vừa mới bước qua tuổi thiếu niên.</p><p id="19">* * *</p><p id="20">Cô hầu gái bước vào đánh thức tôi đã giật mình khi thấy tôi dậy từ trước. Cô mang đến cho tôi một chậu nước rửa mặt.</p><p id="21">Thay vì bị giam cầm trong xà lim tối tăm và lạnh lẽo, giờ đây tôi đang rửa mặt bằng nước sạch trong căn phòng ấm áp này.</p><p id="22">Tôi đang mơ sao?</p><p id="23">Sự hỗn độn giữa những ký ức về hầm ngục, về việc chiến đấu trên những chiến trường khốc liệt bị thần linh ruồng bỏ, nơi chẳng có thời gian để ăn hay ngủ, và ký ức về thời niên thiếu được vô số người hầu kẻ hạ vây quanh... thật sự khiến tôi hoang mang tột độ.</p><p id="24">Có lẽ tất cả chỉ là ảo giác do cái đầu bị chặt đứt của tôi tạo ra chăng?</p><p id="25">Theo thói quen đã ăn sâu vào tiềm thức, tôi máy móc lặp lại những sinh hoạt thường ngày tại dinh thự này của 10 năm về trước.</p><p id="26">Thức dậy, rửa mặt, thay đồ và đi đến phòng ăn khi được thông báo bữa ăn đã sẵn sàng.</p><p id="27">Một bữa ăn xa hoa mà tôi đã quên mất sự tồn tại của nó khi phải lăn lộn trên chiến trường hay bị nhốt trong ngục tối.</p><p id="28">Thịt gà chín tới cùng rau củ, súp nóng hổi và một mẩu bánh mì trắng mềm mại.</p><p id="29">Tôi vẫn còn cảm nhận được dư vị của bữa ăn cuối cùng kia, miếng bánh mì cứng ngắc và mốc meo mà đến thường dân cũng chẳng thèm ăn.</p><p id="30">Vì vẫn chưa thực sự kết nối lại với thực tại, tôi chẳng hề đụng đũa, khiến vị quản gia lo lắng cất tiếng gọi.</p><p id="31">"Thiếu gia?"</p><p id="32">Thiếu gia. Phải rồi, đó là cách mọi người thường gọi tôi.</p><p id="33">"Nếu bữa ăn này không hợp khẩu vị thì tôi sẽ..."</p><p id="34">Vị quản gia hẳn đã nghĩ rằng sự chần chừ của tôi trước bàn tiệc này là dấu hiệu của sự không hài lòng.</p><p id="35">"Không, không có vấn đề gì cả."</p><p id="36">Bất chợt, tôi chú ý đến một cô hầu gái đang đứng ở góc phòng, người được chọn để phục vụ tôi trong bữa ăn.</p><p id="37">Một cô gái trẻ có nét giống với người phụ nữ đã mang cho tôi bữa ăn cuối cùng.</p><p id="38">Nếu đây là 10 năm trước, thì cô ấy trông sẽ như thế này.</p><p id="39">"Ngươi, tên ngươi là gì?"</p><p id="40">"Tôi... Tên tôi là Jessie, thưa thiếu gia."</p><p id="41">Cô gái trả lời với giọng run run, có lẽ ngạc nhiên vì tôi lại hỏi câu đó.</p><p id="42">— Chẳng phải quý tộc các người buộc phải nhớ một danh sách dài dằng dặc tên tuổi và tước hiệu của những kẻ cả đời có khi chẳng gặp bao giờ sao? Nếu ngươi không coi dân đen là rác rưởi đến mức không thèm biết tên, thì hẳn ngươi phải biết ít nhất một người mà ngươi trân trọng chứ...</p><p id="43">Những lời buộc tội và chế giễu của đám đông vây quanh máy chém lại văng vẳng bên tai tôi.</p><p id="44">Jessie. Một cái tên mà trong quá khứ tôi chưa bao giờ bận tâm tìm hiểu hay ghi nhớ.</p><p id="45">Rồi, tôi cầm lấy mẩu bánh mì trắng.</p><p id="46">Cảm giác mềm mại từ miếng bánh thật sự quá đỗi xa lạ khi tôi chậm rãi chấm nó vào súp và đưa lên miệng.</p><p id="47">Hương vị mềm mại và ấm áp từ từ lấp đầy khoang miệng.</p><p id="48">Và rồi, chỉ đến lúc đó, tôi mới nhận ra tất cả những điều này là sự thật.</p><p id="49">"Thiếu gia?!"</p><p id="50">Tôi không thể ngăn được những giọt nước mắt tuôn rơi.</p><p id="51">"...Mình đã trở về rồi."</p><p id="52">* * *</p><p id="53">Vương quốc Hiệp sĩ Francia là một vùng đất đang chìm trong hỗn loạn.</p><p id="54">Theo lẽ thường, con trai trưởng sẽ là người kế vị ngai vàng, nhưng vị vua tiền nhiệm, người được mệnh danh là Vua Hiệp sĩ nhờ những hành động dũng cảm và gan dạ, lại không sủng ái người con cả vốn thiên về chính trị của mình.</p><p id="55">Ngược lại, Nhị hoàng tử là một hiệp sĩ với kỹ năng chiến đấu xuất sắc, người đã giành được sự ưu ái của đức vua khi trực tiếp dẫn quân tham chiến chống lại Đế quốc Germania.</p><p id="56">Chính vì thế, đức vua muốn lập Nhị hoàng tử làm người kế vị. Tuy nhiên, Đại hoàng tử, kẻ biết tận dụng ảnh hưởng chính trị của mình, đã lôi kéo những quý tộc bất mãn với đức vua để tạo thành một liên minh, kìm hãm cả đức vua lẫn Nhị hoàng tử.</p><p id="57">Như vậy, phe cánh của Đại hoàng tử, chủ yếu bao gồm các quý tộc, đã được hình thành. Còn phe của Nhị hoàng tử, chủ yếu bao gồm phe trung thành với hoàng gia, bắt đầu kìm kẹp lẫn nhau, biến quá trình kế vị trở nên hỗn loạn. Không may thay, giữa lúc cuộc chiến quyền lực đang diễn ra, đức vua đột ngột băng hà.</p><p id="58">Đại hoàng tử và Nhị hoàng tử đều tuyên bố quyền thừa kế ngai vàng của riêng mình, và cứ thế, xung đột giữa hai phe nhanh chóng leo thang thành một cuộc nội chiến.</p><p id="59">Cuộc nội chiến này đã tàn phá vương quốc suốt ba năm ròng.</p><p id="60">* * *</p><p id="61">"Hừm, ngài thực sự thấy ổn với việc này chứ, thiếu gia?"</p><p id="62">Nam tước Robert Le Dumont, một người đàn ông béo tròn trạc tuổi cha tôi, vừa hỏi vừa lau mồ hôi bằng khăn tay.</p><p id="63">Mùa hè quả là cực hình đối với những người thừa cân...</p><p id="64">"Ý ông là sao?"</p><p id="65">"Với sự thiếu hụt quân lính mà ngài Hầu tước để lại, việc phái đi lực lượng kỵ binh quý giá của chúng ta có chút..."</p><p id="66">Cha tôi, Hầu tước Lafayette, một thành viên chủ chốt trong phe của Đại hoàng tử, đang dẫn đầu quân đội của chúng tôi gần kinh đô Lumiere, giữa tâm bão của cuộc nội chiến.</p><p id="67">Người ta có thể tự hỏi, tại sao Hầu tước Lafayette, Kỵ sĩ mạnh nhất vương quốc này, người được mệnh danh là Hiệp sĩ Lam, lại đứng về phía Đại hoàng tử thiên về chính trị, thay vì Nhị hoàng tử, người được đa số giới Hiệp sĩ ủng hộ?</p><p id="68">Đó là bởi vì khi cha tôi mới được phong Hiệp sĩ, gia đình chúng tôi không phải là một gia tộc Công tước hay Hầu tước lâu đời.</p><p id="69">Chỉ là một Hiệp sĩ bình thường, cha tôi đã thể hiện sức mạnh áp đảo, và nhờ đó, ông được phong danh hiệu Hiệp sĩ Lam và nhận tước vị Hầu tước.</p><p id="70">Tuy nhiên, là một quý tộc mới nổi, lại còn giữ tước vị cao, cha tôi đương nhiên vấp phải sự chống đối của các quý tộc hiện hành, khiến gia tộc Lafayette mới bị cô lập khỏi chính trường trung ương.</p><p id="71">Khi nội chiến nổ ra, hầu hết các Hiệp sĩ đều đi theo Nhị hoàng tử, nên Đại hoàng tử trong tình thế tuyệt vọng đã đưa ra rất nhiều lợi ích và đặc quyền để lôi kéo gia tộc tôi gia nhập phe cánh của ngài ta.</p><p id="72">Đó là lý do tại sao cha tôi và lực lượng chủ lực của gia tộc đang chiến đấu cho Đại hoàng tử ở phương Bắc, trong khi tôi quản lý lãnh địa ở phương Nam, cách khá xa chiến trường chính.</p><p id="73">Và trong tình huống này, tôi vừa ra lệnh cho số kỵ binh hạng nhẹ còn lại trong lãnh địa đi tuần tra biên giới.</p><p id="74">"Lực lượng còn lại của chúng ta toàn là kỵ binh hạng nhẹ, hơn nữa, nếu chúng ta bị bao vây, đội tuần tra sẽ phát hiện và báo cho chúng ta về sự di chuyển của kẻ địch, cung cấp những thông tin tình báo quan trọng và thêm chút thời gian."</p><p id="75">"C-Cũng đúng là vậy, nhưng mà..."</p><p id="76">Nam tước Robert lau mồ hôi trên mặt trong khi nhìn tôi với ánh mắt kỳ lạ.</p><p id="77">Vốn dĩ, tôi không hề chủ động như thế này trong giai đoạn này của cuộc đời.</p><p id="78">Vì đây là Vương quốc Francia, một quốc gia của các Hiệp sĩ, nên việc tôi, người thừa kế, được giao quản lý lãnh địa trong khi nội chiến đang diễn ra không phải vì tôi được tin tưởng, mà vì cha tôi nghĩ rằng tôi không đủ năng lực để cùng ông ra chiến trường và lập công danh.</p><p id="79">Vì vậy, dưới góc nhìn của Nam tước Robert, người được giao nhiệm vụ hỗ trợ tôi trong các công việc hành chính trong khi cha tôi tham chiến, có lẽ trông tôi như đã trở thành một người khác chỉ sau một đêm.</p><p id="80">"Đừng lo, đây chỉ là biện pháp phòng ngừa thôi."</p><p id="81">"Tôi tin là thiếu gia đã suy tính kỹ càng."</p><p id="82">Dù ông nói vậy, nhưng vẻ mặt ông lại nói lên điều hoàn toàn ngược lại...</p><p id="83">"Được rồi, vậy thì, ta chắc chắn sẽ không phụ lòng tin của ông đâu, Nam tước."</p><p id="84">"Khụ, Hừm... Vâng, nhắc đến lòng tin, tôi xin phép cáo lui, thưa thiếu gia."</p><p id="85">Cho Nam tước lui ra, tôi từ từ nhắm mắt lại.</p><p id="86">Đã một tháng trôi qua kể từ khi tôi tỉnh dậy ở tuổi 18 trong khi vẫn giữ những ký ức về vụ hành quyết năm 28 tuổi.</p><p id="87">Khi lần đầu mở mắt, tôi đã rất bối rối, tự hỏi liệu 10 năm đó có phải chỉ là một cơn ác mộng kinh hoàng hay không.</p><p id="88">Nhưng giờ tôi biết những năm tháng đó không phải là mơ.</p><p id="89">Không chỉ vậy, một số sự kiện nhỏ hay những cuộc gặp gỡ đang diễn ra y hệt như trong 'giấc mơ', và tin tức truyền về từ chiến trường chính ở phương Bắc càng củng cố niềm tin này.</p><p id="90">Đến mức này thì không thể là trùng hợp được.</p><p id="91">Tôi đã bị Quân Đội Cách Mạng giết chết và quay ngược về quá khứ.</p><p id="92">Tôi không biết tại sao, hay bằng cách nào.</p><p id="93">Nhưng ngay cả bây giờ, tôi vẫn còn nhớ rõ cảm giác cay đắng và tuyệt vọng của ngày hôm đó, cùng ước muốn có được cơ hội thứ hai.</p><p id="94">Và nếu đây thực sự là cơ hội thứ hai, tôi sẽ thay đổi số phận của mình.</p><p id="95">Mở mắt ra, tôi nhìn vào mệnh lệnh của Hầu tước gửi về từ phương Bắc.</p><p id="96">Hầu tước, người đang dẫn đầu lực lượng chủ lực của lãnh địa ở phía Bắc, đang yêu cầu thêm quân nhu và ngân sách.</p><p id="97">Hồi đó, tôi nhớ mình đã trả lời rằng tôi không thể tăng thuế ở một lãnh địa đã bị tàn phá bởi sự cướp bóc không ngừng.</p><p id="98">Sau đó, Hầu tước ra lệnh cho tôi phải gửi quân nhu, hoặc thông qua thuế chiến tranh, hoặc bằng cách cướp bóc các lãnh thổ lân cận thuộc phe Nhị hoàng tử.</p><p id="99">Tuy nhiên, giờ tôi biết rằng trong tương lai một cuộc cách mạng sẽ nổ ra. Và vì Đại hoàng tử sẽ sớm bỏ mạng, tôi không có ý định sử dụng phương pháp này.</p><p id="100">Tất nhiên, chẳng đời nào Hầu tước chịu chấp nhận chuyện đó.</p><p id="101">Cha tôi tin rằng ông sẽ được ban thưởng xứng đáng cho mọi nỗ lực của mình một khi Đại hoàng tử lên ngôi vua, và vì thế, ông đã đặt cược tất cả vào cuộc chiến này.</p><p id="102">Nhưng lòng trung thành đó sẽ không được đền đáp, và cha tôi sẽ chết một cái chết vô nghĩa.</p><p id="103">Thay thế vị trí của ông để trở thành Hầu tước tiếp theo, tôi đã chiến đấu chống lại lực lượng cách mạng mới hình thành, nhưng các quý tộc Francia, những người được ca tụng là lực lượng quân sự mạnh nhất lục địa, đã bị quân đội cách mạng nghiền nát.</p><p id="104">Đó là bởi vì phe Cách Mạng có một vị tướng thiên tài chưa từng thấy trong hàng ngũ của họ, một con quái vật thực sự.</p><p id="105">Raphael Valliant.</p><p id="106">Vị tướng này tích cực sử dụng hỏa khí, thứ vốn bị phân biệt đối xử và gạt sang một bên để nhường chỗ cho các Hiệp sĩ và pháp sư, và liên tiếp giành chiến thắng trước quân đội hoàng gia bằng những chiến thuật không ai có thể ngăn cản.</p><p id="107">Tôi thật may mắn khi có cơ hội thứ hai này.</p><p id="108">Nhưng dù vậy, tôi cũng không thể hình dung ra kịch bản nào mà mình có thể đối đầu với chính Raphael và chiến thắng Quân Đội Cách Mạng.</p><p id="109">Hệ quả của cuộc nội chiến là rất khó để động đến các thành viên cốt cán của Quân Đội Cách Mạng, những người đều là nhân vật có ảnh hưởng trong các thành phố, vì sau chiến tranh, hầu hết các thành phố này đều mua được quy chế tự trị từ nhà vua và giới quý tộc.</p><p id="110">Không, ngay cả khi không tính đến cách mạng, cái vương quốc thối nát này đằng nào cũng sẽ sụp đổ thôi.</p><p id="111">— Giết chúng đi!</p><p id="112">— Cái chết cho lũ quý tộc thối nát!</p><p id="113">Mặc dù vậy, mỗi khi nhắm mắt lại, tôi vẫn có thể nghe thấy những tiếng gào thét điên loạn và sự chế giễu độc địa tràn ngập khắp thành phố.</p><p id="114">Tôi đã chứng kiến sự điên rồ và mất trí mà cuộc cách mạng mang lại cho Francia. Số người bị hành quyết sau khi nền cộng hòa nắm quyền cũng chẳng kém gì số người chết trong nội chiến.</p><p id="115">Cuộc cách mạng sẽ diễn ra vào năm thứ tư của cuộc nội chiến, tức là hai năm nữa kể từ bây giờ.</p><p id="116">Vì vậy, trong khi tôi buộc phải xoay sở ngân sách theo lệnh của Hầu tước, tôi phải tránh bóc lột hay cướp bóc người dân quá mức trong hai năm tới.</p><p id="117">Chỉ khi đó, tôi mới có thể tham gia cách mạng với tư cách là một quý tộc chưa bị tha hóa, và là một người bảo hộ cho dân thường. Đồng thời đảm bảo rằng phe ôn hòa là những người lãnh đạo quân đội, chứ không phải phe cực đoan.</p><p id="118">Bằng cách này, tôi có thể ngăn chặn sự hỗn loạn và điên rồ của Quân Đội Cách Mạng khiến quá nhiều máu phải đổ.</p><p id="119">Trong kiếp này, tôi từ chối đứng nhìn mọi thứ mình đấu tranh bảo vệ bị phủ nhận một cách vô ích.</p><p id="120">Trong khi tôi đang củng cố quyết tâm của mình, có tiếng gõ cửa, và một giọng nói cộc cằn vang lên.</p><p id="121">"Thiếu gia."</p><p id="122">"Vào đi, hiệp sĩ."</p><p id="123">Cánh cửa mở ra và một người đàn ông to lớn, mặc trọn bộ áo giáp, bước vào và cúi chào.</p><p id="124">Dù trạc tuổi tôi, nhưng hắn đã cao hơn tôi cả cái đầu.</p><p id="125">"Hiệp sĩ Ran Gaston tham kiến Quyền Hầu tước Pierre de Lafayette."</p><p id="126">Vì Hầu tước đã mang theo lực lượng chủ lực của lãnh địa, người đàn ông này là Hiệp sĩ duy nhất còn lại, trừ tôi.</p><p id="127">Đồng thời, hắn cũng là người khiến tôi cảm thấy mâu thuẫn.</p><p id="128">Hắn là lý do chính khiến Hầu tước không tin tưởng tôi vì hắn xuất thân là thường dân, nhưng người đàn ông này đã thề trung thành với tôi đến tận cùng, ngay cả khi quân đội Vương quốc đang chịu thất bại thảm hại nhất.</p><p id="129">Tôi nhìn chằm chằm vào hắn một lúc trong khi sắp xếp lại cảm xúc.</p><p id="130">"Có chuyện gì vậy, hiệp sĩ?"</p><p id="131">"Đội kỵ binh đi tuần tra theo lệnh của ngài đã trở về với báo cáo này. Họ nói một lực lượng mạnh khoảng 100 người, bao gồm cả hiệp sĩ, đã tiến vào lãnh địa Hầu tước từ hướng Bá quốc Milbeau."</p><p id="132">"Ta đoán là lũ cướp bóc."</p><p id="133">"Vâng. Có vẻ là như vậy, thưa thiếu gia."</p><p id="134">Vậy thì không có thời gian để nghỉ ngơi rồi.</p><p id="135">Haizz.</p><p id="136">"Tập hợp kỵ binh. Chúng ta sẽ xuất quân ngay lập tức."</p><p id="137">"Chỉ kỵ binh thôi sao, thưa thiếu gia?"</p><p id="138">"Đúng vậy."</p><p id="139">Hiệp sĩ Gaston trông có vẻ bối rối, nhưng nếu chúng tôi đợi huy động toàn bộ lực lượng và hành quân, thì khi đến nơi, kẻ địch đã tiếp cận các ngôi làng rồi.</p><p id="140">Để ngăn phe ôn hòa của Quân Đội Cách Mạng bị lật đổ, tôi phải duy trì một sức mạnh đáng kể để hỗ trợ họ. Và để làm được điều đó, tôi không thể để lãnh địa của mình bị cướp phá.</p><p id="141">Nghĩ đến điều này, tôi thắt xong tấm giáp ngực, và giờ ánh mắt của Hiệp sĩ Gaston đã chuyển sang hoàn toàn không tin nổi.</p><p id="142">"Thiếu gia. Ngài cũng xuất trận sao?"</p><p id="143">"Phải."</p><p id="144">Tôi trả lời trong khi cầm lấy thanh kiếm và cây cung của mình.</p><p id="145">Hiện tại, lãnh địa của chúng tôi gần như không có quân đội thực sự.</p><p id="146">Nên tôi đành phải tự mình ra tay thôi.</p><p id="147">"Ta phải khiến những kẻ không biết tự lượng sức mình và dám đến đe dọa người dân trong lãnh địa của ta phải trả giá."</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303402-chuong-1-khuc-dao-dau" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24900-cach-mang-cua-toi-dau-can-den-may-chem/c303790-chuong-3-thoi-ky-noi-chien-hau-tuoc-lafayette-2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'w8UZjhP4eNRtXf9fXtZ2evBrg6wczoNOHkvnq8NX';
        var comment_type = 'chapter';
        var comment_typeid = '303785';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'w8UZjhP4eNRtXf9fXtZ2evBrg6wczoNOHkvnq8NX';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24900');
    chapter_id = parseInt('303785');

    readingObject = {
        series_id: series_id,
        series_title: 'Cách Mạng Của Tôi Đâu Cần Đến Máy Chém!',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="w8UZjhP4eNRtXf9fXtZ2evBrg6wczoNOHkvnq8NX" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c8a36498c14022c',t:'MTc3MDIwODU2OQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Vấn Đề Nan Giải Khi Tán Đổ Công Chúa Của Trường - Chương 14 - Thánh nữ và buổi hẹn hò - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Kanbara Yuuma đã từng từ bỏ tình yêu sau một mối tình đầu đắng cay trong quá khứ và thu mình vào thế giới riêng. Vào ngày cuối cùng của kỳ nghỉ hè năm hai cao trung khi đang mải mê xem livestream của thần tượng yêu thích thì em...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="c2ccBXNJWlVR4fJvYor2uU1tyXJtNV4QkwQphNGf">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303825-chuong-14-thanh-nu-va-buoi-hen-ho">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s20273-037d0ae2-0b53-4b61-89eb-a78aa2954833.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303808-ngoai-truyen-quyet-dinh-cua-nu-than"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303835-chuong-15-don-chi-mang"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303825-chuong-14-thanh-nu-va-buoi-hen-ho" style="background: url('https://i.hako.vn/ln/series/covers/s20273-037d0ae2-0b53-4b61-89eb-a78aa2954833.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong">Vấn Đề Nan Giải Khi Tán Đ...</a></h5>
                    <small><i class="fas fa-pen"></i>Kawaisan</small>
                    <small><i class="fas fa-paint-brush"></i>Unasaka</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c153107-minh-hoa">Vol 1</a></li>
                                        
                                                            <li class="current"><a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/t28152-vol-2">Vol 2</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c161820-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303686-chuong-1-hop-chien-luoc">
                                                                        Chương 1 - Họp chiến lược
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303691-chuong-2-ban-thuo-nho-la-nu-chinh-thua-cuoc">
                                                                        Chương 2 - Bạn thuở nhỏ là nữ chính thua cuộc?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303695-chuong-3-ban-thuo-nho-la-nu-chinh-thang-cuoc">
                                                                        Chương 3 - Bạn thuở nhỏ là nữ chính thắng cuộc?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303707-chuong-4-tien-nu-u-sau-va-hoang-tu">
                                                                        Chương 4 - Tiên nữ u sầu và Hoàng tử
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303709-chuong-5-hoang-tu-phat-dien-va-tien-nu-cau-kinh">
                                                                        Chương 5 - Hoàng tử phát điên và Tiên nữ cáu kỉnh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303716-ngoai-truyen-su-nghiem-tuc-cua-tien-nu">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Ngoại truyện - Sự nghiêm túc của tiên nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303720-chuong-6-cuoc-hop-chien-luoc-khan-cap">
                                                                        Chương 6 - Cuộc họp chiến lược khẩn cấp
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303722-chuong-7-dai-hoi-the-thao-phan-dau">
                                                                        Chương 7 - Đại hội thể thao (Phần đầu)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303729-chuong-8-dai-hoi-the-thao-phan-cuoi">
                                                                        Chương 8 - Đại hội thể thao (Phần cuối)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303731-chuong-9-de-xuat-cua-cong-chua">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 9 - Đề xuất của công chúa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303735-chuong-10-su-sac-ben-cua-thanh-nu-va-loi-canh-cao-tu-nu-hoang">
                                                                        Chương 10 - Sự sắc bén của thánh nữ và lời cảnh cáo từ nữ hoàng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303787-chuong-11-nu-than-luon-tuoi-cuoi-va-hoang-tu-cong-chua-lai-to-ra-ky-la">
                                                                        Chương 11 - Nữ thần luôn tươi cười và Hoàng tử Công chúa lại tỏ ra kỳ lạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303795-ngoai-truyen-hoang-tu-cong-chua-dan-mat-kien-nhan">
                                                                        Ngoại truyện - Hoàng tử Công chúa dần mất kiên nhẫn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303800-chuong-12-buoi-hen-ho-doi-phan-dau">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 12 - Buổi hẹn hò đôi (Phần đầu)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303803-chuong-13-buoi-hen-ho-doi-phan-cuoi">
                                                                        Chương 13 - Buổi hẹn hò đôi (Phần cuối)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303808-ngoai-truyen-quyet-dinh-cua-nu-than">
                                                                        Ngoại truyện - Quyết định của Nữ thần
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303825-chuong-14-thanh-nu-va-buoi-hen-ho">
                                                                        Chương 14 - Thánh nữ và buổi hẹn hò
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303835-chuong-15-don-chi-mang">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 15 - Đòn chí mạng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303851-chuong-16-tien-nu-ung-dung-tu-tai-va-loi-hua-voi-hoang-tu-cong-chua">
                                                                        Chương 16 - Tiên nữ ung dung tự tại và lời hứa với Hoàng tử Công chúa
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 2</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 14 - Thánh nữ và buổi hẹn hò</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303825-chuong-14-thanh-nu-va-buoi-hen-ho#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,071 từ - Cập nhật: 
                        <time class="topic-time timeago" title="04-02-2026 18:59:51" datetime="2026-02-04T18:59:51+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 14 - Thánh nữ và buổi hẹn hò</p>
                    <p id="1">Từ nãy đến giờ tôi cứ thấy bồn chồn không yên, chắc là do căng thẳng.</p><p id="2">Sáng Chủ nhật. Tôi đang đứng trước một ngôi nhà.</p><p id="3">Đó là nhà của Yoiyami Tsukihi, cô bạn thuở nhỏ của tôi. Nhà cô ấy cách nhà tôi chỉ vài phút đi bộ.</p><p id="4">Hôm nay là ngày hẹn hò đầu tiên trong đời tôi. À không, nói chính xác thì là lần thứ hai. Nhưng buổi hôm qua có được gọi là hẹn hò hay không thì còn khó nói, vậy nên xét về mặt ghi chép thì hôm nay mới là lần đầu thì đúng hơn.</p><p id="5">Thật ra chuyện là lần đầu hay lần thứ hai cũng không quan trọng. Chỉ là không ngờ lại có ngày tôi đi chơi với con gái hai ngày liên tiếp. Nghĩ lại quãng thời gian từng từ bỏ chuyện yêu đương rồi tự nhốt mình trong nhà mà thấy xa xôi thật.</p><p id="6">Hôm nay tôi có hơi chăm chút cho bản thân một chút. Tôi dùng sáp vuốt tóc, quần áo cũng là bộ mình thích nhất.</p><p id="7">Lý do tôi ăn mặc chỉnh tề như vậy là vì trước khi ra khỏi nhà thì bị mẹ nhắc nhở. Mẹ biết chuyện hẹn hò hôm nay. Nghe nói vài ngày trước mẹ tình cờ gặp Tsukihi và được cô ấy kể cho nghe. Mẹ không cho tôi ra ngoài với bộ đồ xuề xòa, thế là thành ra bộ dạng hiện tại. Chắc bà lo chuyện thể diện, hoặc là sợ sau này bị mẹ của Tsukihi nói này nói nọ.</p><p id="8">「…Dù sao thì mấy chuyện như hôm qua làm ơn đừng lặp lại nữa」</p><p id="9">Tôi bất giác nhớ lại bi kịch trong phòng karaoke.</p><p id="10">Sau khi Tsukihi buông ra câu nói thừa thãi kia, bầu không khí lập tức trở thành địa ngục. Không hiểu sao tôi lại bị Shiranui và Kanon gọi ra hỏi cung, tra hỏi một cách cưỡng ép. Có lẽ vì tôi là một trong số ít người quen nam giới của họ nên hành tung của tôi khiến họ để tâm.</p><p id="11">Hỏi địa điểm hẹn hò ư?</p><p id="12">Tiếc thật, đến tôi còn không biết. Tsukihi nói sẽ giữ bí mật đến ngày hẹn, nên dù có bị tra hỏi thế nào tôi cũng không trả lời được.</p><p id="13">Tệ nhất là việc Arisa và Tsuchiya nhìn tôi bằng ánh mắt như nhìn kẻ thù giết cha vậy đấy.</p><p id="14">Arisa thì là siscon, có vẻ không thể tha thứ cho việc em gái mình bị kích động cảm xúc. Còn Tsuchiya thì không hài lòng với thái độ của Shiranui người mà cô ấy thầm thích. Tôi hiểu lý do của cả hai, nhưng làm ơn đừng có trút giận lên tôi chứ.</p><p id="15">Giữa cảnh hỗn loạn ấy, chỉ có mình Tsukihi là giữ được vẻ mặt thản nhiên…</p><p id="16">...Thôi, đủ rồi. Tôi không muốn nhớ lại nữa.</p><p id="17">Điều khiến tôi thấy khó hiểu hơn cả là Ayane.</p><p id="18">Con nhỏ đó sau khi bỏ trốn thì mãi đến khi tôi về nhà mới quay lại. Nó không nói một lời về việc đã đi đâu, làm gì, hay chuyện với Yamada ra sao. Tôi hỏi gì cũng bị nó gạt phăng bằng một câu “ồn ào quá”. Thật tình, không biết ai mới là người phải khổ vì ai đây.</p><p id="19">「Xin lỗi đã để cậu đợi lâu, Yuu-kun」</p><p id="20">Trong lúc tôi còn đang chờ, cửa nhà mở ra và Tsukihi bước ra ngoài.</p><p id="21">Tôi bất giác nhìn đến ngẩn người.</p><p id="22">Mái tóc đen dài óng ả của cô ấy được búi lên thành kiểu bánh bao. Đây là lần đầu tiên tôi thấy kiểu tóc này nên cảm giác rất mới mẻ. Trang phục là áo sơ mi rộng phối với quần short. Từ gấu áo thấp thoáng lộ ra chiếc quần short sự kết hợp ấy thật sự rất đáng yêu.</p><p id="23">「Th…thế nào?」</p><p id="24">「Hợp với cậu lắm」</p><p id="25">Tôi không rành về thời trang nên cũng chẳng biết khen sao cho hay. Nhưng rõ ràng là rất hợp, nên tôi nói thẳng suy nghĩ của mình.</p><p id="26">「Hehe, cảm ơn cậu」</p><p id="27">Ngay cả gương mặt đỏ lên vì ngượng của cô ấy cũng đáng yêu nữa chứ.</p><p id="28">「Dù hẹn ở điểm gặp cũng được, nhưng đến đón thế này cũng hay mà, đúng không?」</p><p id="29">「…Tớ thì không phản đối, nhưng tớ có thể hỏi lý do không?」</p><p id="30">「Vì nó làm tớ nhớ lại ngày xưa」</p><p id="31">Nghĩ lại thì hồi trước tôi hay đến nhà Tsukihi thật. Khi đó chẳng phân biệt trai gái hay yêu đương gì cả, chỉ đơn giản là rảnh nên ghé qua chơi.</p><p id="32">Đang mải hồi tưởng thì Tsukihi khẽ ho một tiếng.</p><p id="33">「Cậu ổn chứ?」</p><p id="34">「Không sao đâu. Hoàn toàn ổn mà」</p><p id="35">Gương mặt cô ấy hơi ửng đỏ, nhưng chắc chỉ là tôi nghĩ nhiều.</p><p id="36">「Vậy thì đi thôi. Kế hoạch hôm nay giao cho tớ nhé」</p><p id="37">「Không phải đi mua sắm à?」</p><p id="38">「Trước đó đi xem phim đi. Dù sao cũng là hẹn hò mà」</p><p id="39">Tôi không có lý do gì để từ chối.</p><p id="40">Thế là, vừa trò chuyện rôm rả về chuyện ngày xưa, chúng tôi vừa đi ra bến xe buýt gần nhất rồi lên xe, hướng đến điểm đến tiếp theo.</p><p id="41">「Ăn ở quán ăn gia đình là được rồi ha?」</p><p id="42">Xem phim xong, chúng tôi chuyển sang quán ăn gia đình gần nhất.</p><p id="43">「Tớ muốn ăn hamburger」</p><p id="44">「Yuu-kun từ xưa đã thích món đó rồi nhỉ」</p><p id="45">Vì đã hứa sẽ đãi nên tôi nhận lời một cách tự nhiên, nhưng tôi cũng không phải loại người ác độc đến mức đòi vào quán đắt tiền. Nhân tiện thì Tsukihi gọi món mì pasta.</p><p id="46">「Phim hay thật nhỉ」</p><p id="47">「Ừ, đúng là thú vị. Không hổ danh là bộ phim được nhiều người khen」</p><p id="48">Vừa thưởng thức món ăn ở quán gia đình, chúng tôi vừa nói về cảm nghĩ sau khi xem phim.</p><p id="49">Bộ phim chúng tôi xem là một anime đang rất được chú ý. Tác phẩm này từng đứng top cao trong bảng xếp hạng doanh thu phòng vé mọi thời đại, ngày nào cũng xuất hiện trên bản tin, và quả nhiên là mang lại cảm giác thỏa mãn rất lớn.</p><p id="50">...Bị từ “hẹn hò” làm cho căng thẳng quá, nhưng thực ra cũng ổn mà.</p><p id="51">Chắc là do quen rồi. Tuy từng có thời gian xa cách, nhưng dù sao cũng là bạn thuở nhỏ nên cảm giác đặc biệt không quá mạnh. Nếu là cô gái khác thì có lẽ tôi vẫn còn hồi hộp.</p><p id="52">「Có một chuyện tớ nhất định muốn hỏi, được không?」</p><p id="53">Trong lúc trò chuyện, tôi chợt nhớ ra điều mình luôn canh cánh.</p><p id="54">「Được thôi」</p><p id="55">「Giờ có hỏi thì hơi muộn, nhưng tớ muốn biết lý do vì sao cậu đột nhiên bắt chuyện lại với tớ. Dù sao thì giữa tớ và Tsukihi cũng từng có một khoảng cách khó xử, đúng không」</p><p id="56">Tôi vẫn luôn tò mò, nhưng vì có mấy tin đồn rồi nào là kiểm tra giữa kỳ, đại hội thể thao nên chưa có dịp hỏi.</p><p id="57">Ngày hôm đó, Tsukihi người đã không nói chuyện với tôi suốt nhiều năm đột nhiên đứng trước cửa nhà tôi.</p><p id="58">Nghĩ thế nào cũng thấy không tự nhiên. Rồi từ đó còn tung tin đồn, thậm chí làm cả bento tự tay làm. Tôi vẫn chưa hiểu rõ lý do vì sao cô ấy lại đột ngột rút ngắn khoảng cách như vậy.</p><p id="59">「Quả nhiên là cậu để ý nhỉ」</p><p id="60">「Ừm」</p><p id="61">「Vì hiểu lầm đã được giải quyết rồi」</p><p id="62">「Hiểu lầm?」</p><p id="63">Tsukihi không trả lời ngay câu hỏi đó.</p><p id="64">「Tớ cũng muốn nói lắm, nhưng tớ có một chuyện khác đang thắc mắc」</p><p id="65">「Chuyện gì vậy?」</p><p id="66">「Yuu-kun có thích nghệ sĩ hay idol nào không?」</p><p id="67">Câu hỏi gì kỳ vậy chứ.</p><p id="68">Tôi hoàn toàn không đoán ra được ý đồ của cô ấy.</p><p id="69">「Không có ai cả. Dạo này tớ không xem tivi nên cũng chẳng biết mấy người nổi tiếng đâu」</p><p id="70">「Vậy à… thế còn streamer mà cậu thích thì sao?」</p><p id="71">Streamer mà tôi thích à.</p><p id="72">Câu này thì tôi có thể trả lời ngay. Oshi của tôi là Vtuber tên là “Phượng hoàng bất tử Feni”. Giọng nói ngọt ngào trời phú cùng vẻ đáng yêu của cô ấy hoàn toàn khác biệt so với những Vtuber khác.</p><p id="73">Nhưng chuyện này thì khó nói với người khác. Cô ấy không được lòng con gái.</p><p id="74">Tôi nói với Shiranui là vì biết cô ấy thích Vtuber.</p><p id="75">Hơn nữa, tôi tuyệt đối không muốn để lộ chuyện mình đã donate dài dòng. Nếu chuyện đó bị lộ thì ngay cả Tsukihi chắc cũng sẽ thấy tôi ghê tởm. Những hình ảnh donate dài ngoằng từng được đăng đầy trên các trang tổng hợp, đến chính tôi người đã donate cũng phải rùng mình.</p><p id="76">「Nhìn phản ứng là biết có rồi nhỉ」</p><p id="77">Sắc bén thật. Đúng là bạn thuở nhỏ của tôi có khác.</p><p id="78">「Có. Là một Vtuber」</p><p id="79">「Tớ muốn biết tên người đó」</p><p id="80">「Tên là Phượng hoàng bất tử Feni」</p><p id="81">Ngay khi tôi trả lời xong, Tsukihi lấy điện thoại ra và bắt đầu tìm kiếm.</p><p id="82">「Ra là vậy… cậu đã có oshi rồi nhỉ」</p><p id="83">Tsukihi lẩm bẩm, gương mặt như đã hiểu ra.</p><p id="84">「Cảm ơn vì đã nói cho tớ biết. Lần sau tớ sẽ xem thử」</p><p id="85">「Ờ, ừ…」</p><p id="86">Xem thì được, nhưng làm ơn nhẹ tay thôi. Nếu bị phát hiện ra account “Valhalla” của tôi thì coi như xong đời.</p><p id="87">「Câu hỏi tiếp theo. Trong anime hay game, cậu có nhân vật nào từng thích không?」</p><p id="88">「Anime thì tớ thích từ lâu rồi, nhưng nhân vật thì không có ai đặc biệt. Game thì tớ đang nghiện Utopia Online」</p><p id="89">「Trong game đó có nhân vật cậu thích à?」</p><p id="90">「Không hẳn… mà nói đúng hơn thì tớ đã kết hôn trong game」</p><p id="91">「…Hả?」</p><p id="92">Tsukihi dừng tay cuốn mì lại.</p><p id="93">Ơ, tôi nói gì kỳ à?</p><p id="94">Tôi thử ngẫm lại lời mình vừa nói, nhưng thấy cũng đâu có vấn đề. Chuyện này thì ổn thôi. Dù có bị hỏi kỹ thì cũng chẳng có lịch sử đen tối nào như donate dài dòng cả. Dù gọi là kết hôn nhưng cũng chỉ là trong game.</p><p id="95">「…Đối phương là ai?」</p><p id="96">「Một elf tên là Nonnon」</p><p id="97">「Người điều khiển là con gái à?」</p><p id="98">「Ờm, tạm thì là vậy」</p><p id="99">Vì chưa gặp ngoài đời nên cũng chỉ là tự khai.</p><p id="100">Nhưng xét từ việc dễ dàng làm thân được với Kanon người vốn cực kỳ khó tiếp cận thì chắc chắn bên đó là con gái. Một thằng con trai bình thường khó mà buông ra được mấy câu tán tỉnh như vậy.</p><p id="101">「Chẳng lẽ hai người đã từng off gặp nhau rồi?」</p><p id="102">「Chưa đâu」</p><p id="103">「Có dự định gặp nhau không?」</p><p id="104">「Chắc là không」</p><p id="105">Khi tôi trả lời xong, Tsukihi thở phào nhẹ nhõm như yên tâm hẳn.</p><p id="106">「Không gặp thì tốt hơn. Người không rõ lai lịch rất đáng sợ. Tuyệt đối không được gặp đâu. Yuu-kun vốn dĩ đã nhiều sơ hở rồi」</p><p id="107">Ngay từ đầu tôi cũng không định gặp offline.</p><p id="108">Nhưng đúng là như Tsukihi nói, off gặp mặt xảy ra rắc rối cũng không ít. Dù là Nonnon thì chắc không sao, nhưng trừ khi có lý do đặc biệt thì tôi cũng không gặp ngoài đời.</p><p id="109">「…Oshi với vợ à. Trước hết phải tống mấy thứ đó ra khỏi đầu cậu đã」</p><p id="110">Tống oshi với vợ ra khỏi đầu là sao chứ.</p><p id="111">「Thế là sao chứ. Cậu đang hiểu lầm gì vậy?」</p><p id="112">「Khi nào con mèo ăn vụng trong đầu Yuu-kun biến mất thì tớ sẽ trả lời」</p><p id="113">「Mèo ăn vụng trong đầu?」</p><p id="114">「Chuyện của tớ thôi. Đừng để ý」</p><p id="115">Dù chẳng hiểu đầu đuôi gì, nhưng Tsukihi có vẻ đã hài lòng. Từ xưa tôi đã không hiểu được lòng dạ con gái, mà dù bao nhiêu năm trôi qua thì vẫn thật sự không hiểu nổi.</p><p id="116">Sau đó, ăn xong, chúng tôi rời khỏi quán ăn gia đình.</p><p id="117">Điểm đến tiếp theo là trung tâm game. Nghe chuyện hôm qua tôi đi game center trong buổi hẹn hò đôi, Tsukihi liền nói rằng cô ấy cũng muốn đi.</p><p id="118">「Ơ, Kazama-san」</p><p id="119">「Eh, Kanbara-kun」</p><p id="120">Người đang chơi máy gắp thú ngay gần cửa vào trung tâm game chính là Kazama Yukina, cô bạn ngồi bàn bên của tôi.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303808-ngoai-truyen-quyet-dinh-cua-nu-than" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/20273-van-de-nan-giai-khi-tan-do-cong-chua-cua-truong/c303835-chuong-15-don-chi-mang" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'qxl17g9fXyPITFt1aMvuCXWD6g58CghcNL1bAzAa';
        var comment_type = 'chapter';
        var comment_typeid = '303825';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'c2ccBXNJWlVR4fJvYor2uU1tyXJtNV4QkwQphNGf';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('20273');
    chapter_id = parseInt('303825');

    readingObject = {
        series_id: series_id,
        series_title: 'Vấn Đề Nan Giải Khi Tán Đổ Công Chúa Của Trường',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="c2ccBXNJWlVR4fJvYor2uU1tyXJtNV4QkwQphNGf" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c8a3614f902d83b',t:'MTc3MDIwODU2MQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

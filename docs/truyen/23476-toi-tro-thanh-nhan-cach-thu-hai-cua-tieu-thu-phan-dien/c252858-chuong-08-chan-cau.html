<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi trở thành nhân cách thứ hai của tiểu thư phản diện - Chương 08 - Chặn cầu - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi đã xuyên không vào một cuốn tiểu thuyết kỳ ảo mà mình từng đọc ở kiếp trước. Không phải nhân vật chính, cũng chẳng phải người qua đường, mà lại chuyển sinh thành vị tiểu thư công tước độc ác trong nguyên tác – người luôn khiêu khích nhân...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="8luVlw4yljxvq71BBRvQbLJbjTdvxOzvsFIhoeuc">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23476-2e81bb26-d0d8-436e-8742-5a0240a5f0b7.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252851-chuong-07-binh-linh-tre-khao-khat-lap-cong"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c253681-chuong-09-xung-kich"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau" style="background: url('https://i.hako.vn/ln/series/covers/s23476-2e81bb26-d0d8-436e-8742-5a0240a5f0b7.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien">Tôi trở thành nhân cách t...</a></h5>
                    <small><i class="fas fa-pen"></i>guyit</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c231089-chuong-01-xuyen-khong-nhung-lai-la-nhan-cach-thu-hai">Tập 01 (Hoàn thành)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/t34079-tap-02">Tập 02</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c249200-chuong-01-san-thu">
                                                                        Chương 01 - Cuộc săn mùa xuân
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c249208-chuong-02-tro-choi-tan-sat">
                                                                        Chương 02 - Trò chơi tàn sát
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c249625-chuong-03-thuoc-do-gia-tri">
                                                                        Chương 03 - Thước đo giá trị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c250063-chuong-04-menh-lenh-khan-cap">
                                                                        Chương 04 - Mệnh lệnh khẩn cấp
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c251012-chuong-05-khoi-dau-cua-chuyen-di-xa">
                                                                        Chương 05 - Khởi đầu của chuyến đi xa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252370-chuong-06-tren-duong">
                                                                        Chương 06 - Trên đường
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252851-chuong-07-binh-linh-tre-khao-khat-lap-cong">
                                                                        Chương 07 - Binh lính trẻ khao khát lập công
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau">
                                                                        Chương 08 - Chặn cầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c253681-chuong-09-xung-kich">
                                                                        Chương 09 - Xung kích
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c254198-chuong-10-bat-ngo-ap-den">
                                                                        Chương 10 - Bất ngờ ập đến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c254503-chuong-11-thanh-nu-hay-ma-nu">
                                                                        Chương 11 - Thánh Nữ hay Ma Nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c256515-chuong-12-xu-so-tinh-linh">
                                                                        Chương 12 - Xứ sở Tinh Linh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c256538-chuong-13-gap-go-bat-ngo">
                                                                        Chương 13 - Gặp gỡ bất ngờ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c259895-chuong-14-tieu-thu-tinh-linh-co-khoe-khong">
                                                                        Chương 14 - Tiểu thư tinh linh, cô khỏe không?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c259947-chuong-15-thanh-quang">
                                                                        Chương 15 - Thánh Quang
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c259990-chuong-16-chon-cu">
                                                                        Chương 16 - Chốn cũ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c260024-chuong-17-tranh-son-dau">
                                                                        Chương 17 - Tranh sơn dầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c260060-chuong-18-trong-va-ngoai-yen-tiec">
                                                                        Chương 18 - Trong và ngoài yến tiệc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c260083-chuong-19-ke-chiu-trach-nhiem">
                                                                        Chương 19 - Kẻ chịu trách nhiệm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c263299-chuong-20-tonight-clytia-joins-the-hunt">
                                                                        Chương 20 - Tro tàn trong mắt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c263300-chuong-21-tonight-clytia-joins-the-hunt">
                                                                        Chương 21 - Tonight, Clytia joins the hunt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c263305-chuong-22-anh-sang-quy-di">
                                                                        Chương 22 - Ánh sáng quỷ dị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c263309-chuong-23-dem-cua-bang-va-lua">
                                                                        Chương 23 - Đêm của băng và lửa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c265957-chuong-24-dem-khong-ngu">
                                                                        Chương 24 - Đêm không ngủ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c265959-chuong-25-dem-khuya-khach-den-tham">
                                                                        Chương 25 - Đêm khuya khách đến thăm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c269515-chuong-26-nolan-vo-nang">
                                                                        Chương 26 - Nolan vô năng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c269516-chuong-27-du-khuye">
                                                                        Chương 27 - Dự khuyết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c269517-chuong-28-den-duong">
                                                                        Chương 28 - Đèn đường
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c274084-chuong-29-ma-quy-dem-khuya">
                                                                        Chương 29: Ma quỷ đêm khuya
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c274090-chuong-30-dau-vet-hac-ma-phap">
                                                                        Chương 30: Dấu vết hắc ma pháp
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 02</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 08 - Chặn cầu</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau#chapter-comments" style="text-decoration: underline">3 Bình luận</a> -
                        Độ dài: 2,047 từ - Cập nhật: 
                        <time class="topic-time timeago" title="31-10-2025 20:42:22" datetime="2025-10-31T20:42:22+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 08 - Chặn cầu</p>
                    <p id="1">“Chuyện gì đã xảy ra vậy!”</p><p id="2">Tiếng xôn xao bên ngoài vọng vào tai khiến tôi thắt lòng lại. Dù sao trong những vùng hoang dã phía bắc và nam Đế Quốc, thỉnh thoảng sẽ có bọn cướp tấn công các đoàn thương nhân, đó vốn không phải chuyện lạ, nếu không thì chuyến đi Vương Đô của Clytia cũng chẳng cần nhiều binh lính hộ tống đến thế. </p><p id="3">Nhưng tôi lại không thể ngờ được—nơi đây rõ ràng vẫn chưa rời khỏi lãnh địa của Công tước Aerandel, rốt cuộc là kẻ nào không biết điều đến vậy, dám trên địa phận của công tước mà tấn công đoàn xe của ông ta?</p><p id="4">“Tiểu thư! Không hay rồi!”</p><p id="5">Cửa xe bị cốc cốc gõ vang, dồn dập như muốn xuyên thủng tấm gỗ. Clytia khẽ thở dài một tiếng gần như không nghe thấy, từ từ đứng dậy, nhẹ nhàng kéo cánh cửa trượt ra.</p><p id="6">Quả nhiên là nữ hầu thân cận Sally. Chỉ thấy cô nữ hầu trẻ tuổi đang hoảng loạn đứng trước trục xe, khuôn mặt nhỏ nhắn sợ đến tái mét. Còn người đánh xe ngựa ở phía trước cũng quay đầu lại, mặt đầy kinh ngạc nhìn quanh, lắp bắp nói:</p><p id="7">“Cái, cái này… phía trước không biết sao, đột nhiên dừng lại rồi… Tiểu thư, người…”</p><p id="8">“Tiểu thư, xảy ra chuyện lớn rồi! Người mau nghe tôi nói—”</p><p id="9">Người đánh xe và cô nữ hầu gần như cùng lúc mở miệng, tranh nhau muốn tuôn hết những gì mình thấy mình nghe cho cô bé. Những lời giải thích lộn xộn hòa lẫn tiếng người la ngựa hí mơ hồ vọng đến từ phía trước, càng khiến tình hình thêm hỗn loạn, không thể nghe rõ bất cứ điều gì.</p><p id="10">Clytia nhìn hai người đang nói năng lộn xộn trước mặt, khẽ nhíu mày. Lời của Sally thì lắp bắp, người đánh xe cũng nói năng không rõ ràng, mất một lúc lâu mà vẫn không thể hiểu rốt cuộc đã xảy ra chuyện gì.</p><p id="11">Thiếu nữ nhìn quanh, chỉ thấy các binh lính mặc giáp đang chen chúc tập trung về phía trước, bầu không khí căng thẳng một cách khó hiểu—</p><p id="12">“Thế nên, thưa tiểu thư, tình cảnh vừa nãy thật sự làm Sally sợ chết khiếp—ái da! Người, người định làm gì vậy!”</p><p id="13">Sally vẫn còn lải nhải bên cạnh, vừa ngẩng đầu lên, cô đã kinh ngạc thấy Clytia một tay vén váy áo đang rũ xuống, tay kia vịn vào cửa xe, chân đạp bánh xe, nhanh nhẹn mượn lực nhảy lên—dưới ánh mắt kinh ngạc của hai người, cô bé như một chú chim nhanh nhẹn, thoắt cái đã leo lên nóc xe ngựa.</p><p id="14">Tầm nhìn bỗng chốc rộng mở.</p><p id="15">Clytia nửa ngồi nửa quỳ trên nóc xe hơi rung lắc, ngay lập tức nhìn về phía nguồn cơn của sự hỗn loạn—ở phía trước của đoàn xe, con đường lát đá dăm bị một con sông rộng lớn chặn ngang một cách thô bạo, đứng trên sông là cây cầu gỗ cũ kỹ phủ đầy rêu phong, chính là con đường duy nhất nối liền hai bờ.</p><p id="16">Cô bé nheo mắt, nhanh chóng quét qua địa hình xung quanh. Bờ bắc con sông này địa thế hơi cao, đoàn xe đang ở cuối con dốc, hoàn toàn lộ thiên trên bãi sông rộng lớn. Nhìn về phía bờ đối diện, phía sau đầu cầu là khu rừng xanh thẫm liên tiếp, một nhóm khách không mời mà đến đang đứng ở rìa rừng, chặn ngang đầu cầu, bóng cây rậm rạp phía sau càng tăng thêm cho họ vài phần khí thế khó lường.</p><p id="17">Phía bên kia cầu—những bóng người lờ mờ đó, rõ ràng là nguyên nhân khiến cả đoàn xe đột ngột dừng lại. Cây cầu gỗ tự nó không quá dài, nhưng chiều dài vài chục thước ban đầu, lúc này lại trở nên vô cùng xa xôi, như thể ngăn cách một ranh giới không dám dễ dàng vượt qua.</p><p id="18">Nước sông chảy xiết dưới ánh nắng buổi chiều, những bóng hình dao động phản chiếu đám đông im lặng đối đầu ở hai bờ.</p><p id="19"><em>“Là bọn thổ phỉ thông thường muốn cướp của? Hay là… kẻ thù do đối thủ chính trị của công tước phái đến? Chuyện này lại dính líu đến âm mưu quỷ kế gì đây?” </em>Tôi thầm suy đoán tình hình trước mắt, theo ánh mắt của Clytia cố gắng nhìn xa, cố gắng nhận rõ lai lịch của đám khách không mời này—</p><p id="20">Và rồi cảnh tượng đập vào mắt khiến tôi hít một hơi khí lạnh.</p><p id="21">Những kẻ đó, ước chừng hai ba mươi người, trên người mặc một màu áo choàng vải thô màu xanh đậm. Mặc dù số lượng ít ỏi, nhưng lại khiến hàng trăm binh lính công tước mặc giáp trụ sắc bén phải chùn bước tại đầu cầu, không dám tiến lên.</p><p id="22">Tôi có thể nhận ra trong số những người đó có kiếm sĩ, có cung thủ, giữa đội hình dường như còn có một pháp sư tay cầm pháp trượng… thế nhưng, đây tuyệt đối không phải là lý do khiến các binh lính phải e ngại.</p><p id="23">Đúng vậy—bất cứ ai có thị lực bình thường ắt sẽ không thể nhận nhầm thân phận của họ. Ai cũng có thể nhìn ra ngay, những bóng người đó, bất kể nam nữ già trẻ, mỗi người đều có thân hình mảnh mai, cao ráo, tay chân thon dài, và hai bên má của họ, đều không ngoại lệ, kéo dài ra những đường nét sắc sảo, uyển chuyển…</p><p id="24">Tai nhọn.</p><p id="25">“Tinh linh? Tại sao họ lại xuất hiện ở đây?”</p><p id="26">Chỉ thấy Clytia phớt lờ tiếng la hét của nữ hầu và người đánh xe mà khẽ nói.</p><p id="27">.......</p><p id="28">“Linh hồn tổ tiên đã bị máu làm ô uế—chúng ta tuân theo ý chỉ của tiên tri chờ đợi ở đây—là để kẻ gây tội phải đền tội.”</p><p id="29">Khi Clytia gạt cô nữ hầu ra, lặng lẽ đến bên cầu phía trước, cô bé nghe thấy tiếng cáo buộc như chứa đầy cát của vị pháp sư tinh linh già nua đứng giữa, từ từ vọng xuống từ phía trên.</p><p id="30">Alundel cưỡi trên chiến mã, đứng ở tiền tuyến của phe mình. Nghe thấy lời buộc tội này, gã cau mày thật chặt, trên mặt sự bối rối nhiều hơn là giận dữ, giật dây cương lớn tiếng đáp:</p><p id="31">“Ta xin nhắc lại lần cuối—tôi hoàn toàn không hiểu cái gọi là ‘linh hồn tổ tiên’ của các ngươi là ý gì! Chúng ta phụng mệnh Đại công tước Aerandel, người cai trị hợp pháp của vùng đất rộng lớn này, đang thực hiện nhiệm vụ quan trọng, cần phải đi qua cây cầu này. Nếu trong lòng các ngươi còn một chút kính sợ đối với công tước—thì mau lập tức nhường đường!”</p><p id="32">“Thật đáng thương và vô tri hỡi những con người.” Giọng nói của lão tinh linh toát ra một sự châm chọc gần như thương hại:</p><p id="33">“Trong rừng núi, hổ dữ sẽ khoanh vùng săn bắn của mình, bầy sói sẽ chiếm giữ lãnh địa mà chúng nhắm đến, ngay cả bầy chó hoang cũng biết dùng mùi hương để đánh dấu lãnh thổ—nhưng những loài cầm thú này thông minh hơn các ngươi ở chỗ, chúng tuy xác định phạm vi sinh tồn, nhưng chưa bao giờ ngông cuồng cho rằng mình là chủ nhân duy nhất của mảnh đất đấy.”</p><p id="34">“Ngươi… đang nói nhảm gì vậy?” Sự kiên nhẫn của Alundel rõ ràng đã cạn, hắn vừa ghì dây cương để khiến chiến mã chậm rãi tiến lên vài bước, vừa giơ tay chỉ thẳng vào lá cờ đang tung bay trong gió phía sau mình—chỉ thấy trên nền lụa đen là huy hiệu Ngân Nguyệt Bạch Lang (Sói Trắng Trăng Bạc) của Aerandel:</p><p id="35">“Ta chỉ hỏi câu cuối cùng: vì lá cờ này—các ngươi—nhường—hay không nhường!?”</p><p id="36">Có lẽ thái độ cứng rắn của Alundel ít nhiều đã có tác dụng, những tinh linh đối diện đột nhiên chìm vào im lặng.</p><p id="37">Clytia cúi người nấp dưới bệ cột một bên cầu, vì thế mà nghe rõ mồn một cuộc đối thoại phía trên.</p><p id="38"><em>“Cách nói này… là của tinh linh cao nguyên…”</em> Tôi suy nghĩ nhanh chóng. Theo tôi được biết, các bộ lạc tinh linh phân tán khắp nơi, những nguyên tắc và truyền thống cổ xưa mà họ tin theo thường rất khác biệt, đây thường là manh mối quan trọng để phân biệt lai lịch của họ. Tôi liền thì thầm nói phán đoán này cho Clytia, cô gái chỉ im lặng gật đầu, tỏ ý chấp thuận.</p><p id="39">Tinh linh cao nguyên là bộ lạc tinh linh cư trú trong cao nguyên rộng lớn và rừng sâu u tịch ở phía bắc Đế quốc. Những sinh linh này có tuổi thọ dài lâu, nhưng từ trước đến nay lại thưa thớt dân số.</p><p id="40">Họ bị Đế quốc đơn phương tuyên bố đã trở thành thần dân dưới sự cai trị của Hoàng Đế, nhưng trên thực tế lại không màng thế sự, sống trong những thung lũng sâu thẳm ít dấu chân người phàm.</p><p id="41">Ở đó, các tinh linh dựa vào ma pháp bí ẩn độc nhất vô nhị của tộc mình, mà các pháp sư loài người khó có thể dòm ngó nơi sâu trong nhà, dệt nên một tấm màn chắn vô hình nhưng kiên cố, lặng lẽ phong tỏa và bảo vệ chặt chẽ nơi cư trú của họ.</p><p id="42">Do đó, Đế Quốc đối với những tinh linh này, là hoàn toàn không có bất kỳ sự quản lý thực chất nào.</p><p id="43">Tương truyền rằng, trong lịch sử từng có không ít lãnh chúa đầy tham vọng đã thử tổ chức quân đội, ý đồ đưa lãnh địa của tinh linh vào sự quản lý của luật thuế và pháp luật, cũng có vô số nhà thám hiểm ôm ấp giấc mơ hoặc lòng tham, khao khát khám phá vùng đất tinh linh trong truyền thuyết—nơi được cho là chôn giấu những báu vật lấp lánh mà họ đã tích lũy qua hàng ngàn năm.</p><p id="44">Tuy nhiên, những nỗ lực này đều thất bại ê chề, chỉ vì rất ít người có thể tìm thấy lối vào nơi cư trú được ma pháp khéo léo che giấu, đa số thế nhân chỉ có thể thụ động chờ đợi các tinh linh thỉnh thoảng xuất hiện ở thế giới bên ngoài.</p><p id="45"><em>“Chị hình như nhớ rằng… tinh linh cao nguyên… không phải là đồng minh của Đại Công tước Aerandel thì phải?” </em>Tôi kìm nén sự nghi ngờ trong lòng, dùng tiếng lòng chỉ có Clytia mới cảm nhận được khẽ hỏi. <em>“Trong đống danh hiệu dài dòng của ông ấy, chị hình như nhớ có nhắc đến minh ước với cư dân rừng núi… Tại sao họ lại chặn đường chúng ta ở đây?”</em></p><p id="46">Clytia chỉ mơ hồ lắc đầu, nhưng lại nghe thấy từ phía trên vọng xuống lần nữa, là giọng nói của pháp sư tinh linh già nua:</p><p id="47">“Con người đồng hành cùng Ngân Nguyệt Bạch Lang…” Giọng điệu của lão ta dường như dịu đi một chút so với trước, như thể đang cân nhắc một tình nghĩa cổ xưa. “Vậy thì, giữa chúng ta, quả thực có một ước định cổ xưa không làm hại lẫn nhau—” </p><p id="48">Lão tinh linh ngừng lại, như thể đã đưa ra một quyết định khó khăn, “Thôi được, dựa trên lời hứa trong quá khứ này, chúng ta có thể phá lệ, cho phép các ngươi đi qua.”</p><p id="49">Sợi dây căng thẳng trong không khí dường như chùng xuống trong thoáng chốc, nhưng lão tinh linh ngay sau đó giơ pháp trượng lên, gõ không nặng không nhẹ xuống phiến đá trên mặt cầu, phát ra âm thanh trong trẻo và uy nghiêm. Ánh mắt sâu thẳm của lão khóa chặt vào Tử tước Alundel, từ từ bổ sung điều kiện không thể nghi ngờ:</p><p id="50">“Nhưng, lấy làm giới hạn cuối cùng, ngươi phải chấp nhận sự kiểm tra của chúng ta.”</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252851-chuong-07-binh-linh-tre-khao-khat-lap-cong" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c253681-chuong-09-xung-kich" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(3)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">3 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3075490"
    class="ln-comment-item mt-3 clear"
    data-comment="3075490" 
    data-parent="3075490" 
    data-type="chapter" 
    data-typeid="252858">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u226412-7448c8a6-2e96-47ce-b749-ffa84428c345.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/226412">Yumine</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau?comment_id=3075490#ln-comment-3075490"
                            class="text-slate-500">
                            <time class="timeago" title="01-11-2025 10:31:41"
                                datetime="2025-11-01T10:31:41+07:00">
                                01-11-2025 10:31:41
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3075085"
    class="ln-comment-item mt-3 clear"
    data-comment="3075085" 
    data-parent="3075085" 
    data-type="chapter" 
    data-typeid="252858">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u222677-bd4e4f8f-5cb8-4a13-8696-fe57bf9d33ae.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/222677">Shira_sl</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau?comment_id=3075085#ln-comment-3075085"
                            class="text-slate-500">
                            <time class="timeago" title="31-10-2025 22:24:10"
                                datetime="2025-10-31T22:24:10+07:00">
                                31-10-2025 22:24:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3075014"
    class="ln-comment-item mt-3 clear"
    data-comment="3075014" 
    data-parent="3075014" 
    data-type="chapter" 
    data-typeid="252858">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/10561">Kerry Stevant</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Có liên quan gì đến cái lần nhân vật chính dùng kiếm của tinh linh dạy Nolan không nhờ?
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23476-toi-tro-thanh-nhan-cach-thu-hai-cua-tieu-thu-phan-dien/c252858-chuong-08-chan-cau?comment_id=3075014#ln-comment-3075014"
                            class="text-slate-500">
                            <time class="timeago" title="31-10-2025 21:23:34"
                                datetime="2025-10-31T21:23:34+07:00">
                                31-10-2025 21:23:34
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '8luVlw4yljxvq71BBRvQbLJbjTdvxOzvsFIhoeuc';
        var comment_type = 'chapter';
        var comment_typeid = '252858';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '8luVlw4yljxvq71BBRvQbLJbjTdvxOzvsFIhoeuc';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23476');
    chapter_id = parseInt('252858');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi trở thành nhân cách thứ hai của tiểu thư phản diện',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="8luVlw4yljxvq71BBRvQbLJbjTdvxOzvsFIhoeuc" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

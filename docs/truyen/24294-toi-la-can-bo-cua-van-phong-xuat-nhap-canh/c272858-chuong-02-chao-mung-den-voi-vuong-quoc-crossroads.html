<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi Là Cán Bộ Của Văn Phòng Xuất Nhập Cảnh - Chương 02: Chào mừng đến với Vương quốc Crossroads - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Xin Quý vị nêu rõ tên, quê quán và lý do nhập cảnh. Quý vị có năm phút.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="Cv7SLHN4NZ1tHFkfHLKYxEW28HKRQuSoK85d2A5W">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272858-chuong-02-chao-mung-den-voi-vuong-quoc-crossroads">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24294-d5b9d6f6-e66b-4a30-81b8-31b386ac9c09.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272852-chuong-01"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272861-chuong-03-thuan-hoa-cau-lua"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272858-chuong-02-chao-mung-den-voi-vuong-quoc-crossroads" style="background: url('https://i.hako.vn/ln/series/covers/s24294-d5b9d6f6-e66b-4a30-81b8-31b386ac9c09.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh">Tôi Là Cán Bộ Của Văn Phò...</a></h5>
                    <small><i class="fas fa-pen"></i>chorokjwi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/t35020-webnovel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272852-chuong-01">
                                                                        Chương 01: Ba điều
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272858-chuong-02-chao-mung-den-voi-vuong-quoc-crossroads">
                                                                        Chương 02: Chào mừng đến với Vương quốc Crossroads
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272861-chuong-03-thuan-hoa-cau-lua">
                                                                        Chương 03: Thuần hóa &quot;Cầu lửa&quot; (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272863-chuong-04-thuan-hoa-cau-lua-2">
                                                                        Chương 04: Thuần hóa &quot;Cầu lửa&quot; (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 02: Chào mừng đến với Vương quốc Crossroads</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272858-chuong-02-chao-mung-den-voi-vuong-quoc-crossroads#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,613 từ - Cập nhật: 
                        <time class="topic-time timeago" title="13-12-2025 11:05:40" datetime="2025-12-13T11:05:40+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 02: Chào mừng đến với Vương quốc Crossroads</p>
                    <p id="1">Suốt bốn năm làm Cán bộ Xuất nhập cảnh, thao tác tôi thực hiện nhiều nhất có lẽ là đây:</p><p id="2">“Rất tốt. Người tiếp theo!”</p><p id="3"><em>Thịch.</em></p><p id="4">Tôi đóng dấu mạnh lên tấm tài liệu kê khai thông tin cá nhân, dòng chữ lớn “ĐƯỢC PHÉP NHẬP CẢNH” liền hiện ra.</p><p id="5">“Cảm ơn, cảm ơn rất nhiều!”</p><p id="6">“Vâng, vâng. Chúc Quý vị có một chuyến đi thoải mái. Mời Quý vị đi lối này.”</p><p id="7">Người phụ nữ đứng đối diện tôi cúi rạp người thật sâu rồi vội vã rời đi.</p><p id="8">Chỉ riêng hôm nay, tôi đã nghe thấy lời “cảm ơn” đó 118 lần. Và lần nào cũng là từ một người xa lạ.</p><p id="9">Tai tôi muốn điếc đến nơi rồi.</p><p id="10">“Vậy tổng cộng là bao nhiêu người rồi nhỉ...”</p><p id="11">Hôm nay là 118 người, nếu lấy 118 nhân với 365 ngày, rồi nhân tiếp với 5 năm...</p><p id="12">Không, đó chỉ là con số trong mùa vắng khách. Nếu tính cả dịp lễ hay cuối năm thì...</p><p id="13">Nói chung là rất nhiều.</p><p id="14">Đúng lúc đó, người giúp việc ngồi cạnh tôi lên tiếng.</p><p id="15">“Người nộp đơn tiếp theo đang vào. Và đây cũng là người cuối cùng.”</p><p id="16">“Ài, rốt cuộc thì cũng xong.”</p><p id="17">Tôi đã tự hỏi không biết bao giờ mới kết thúc, nhưng rõ ràng là tới người cuối cùng rồi.</p><p id="18">‘Chỉ một người nữa thôi là mình được về nhà!’</p><p id="19">Chỉ một người nữa thôi là tôi có thể thả mình trên giường! Nghỉ ngơi với một bữa tối ấm áp!</p><p id="20">Trong khi tôi đang nhẩm đi ngân nga bài ca tan ca của mình, cánh cửa đối diện mở ra, và một người đàn ông ăn mặc tồi tàn, dáng vẻ run rẩy, lầm lũi bước vào.</p><p id="21">“Mời Quý vị đứng ở vị trí này.”</p><p id="22">“V-Vâng!”</p><p id="23">Làm theo chỉ dẫn của người giúp việc, ông ta đứng ngay giữa phòng. Tôi bắt đầu bài nói đã quen thuộc.</p><p id="24">“Chào mừng Quý vị. Vị viên chức này là Nathan Kell, Cán bộ Xuất nhập cảnh thuộc Văn phòng Xuất nhập cảnh dưới quyền Bộ Ngoại giao.”</p><p id="25">Đây là lần thứ 119 tôi phải lặp lại câu giới thiệu này trong ngày.</p><p id="26">“C-Chào ngài! Ngài cán bộ!”</p><p id="27">“Vị viên chức này sẽ rất cảm kích nếu Quý vị bỏ bớt từ ‘Ngài’ đi.”</p><p id="28">“V-Vâng! Cán bộ!”</p><p id="29">‘Cử chỉ quá lố. Cách xưng hô lúng túng. Có lẽ đây là lần đầu ông ta vượt qua biên giới. Hoặc chỉ đơn giản là một người thất học.’</p><p id="30">Tôi ghi nhớ điều đó trong đầu.</p><p id="31">Tôi từ từ đưa tay lấy chiếc đồng hồ cát trên bàn và, lần thứ 119 trong ngày, tôi lật ngược nó.</p><p id="32">“Xin Quý vị nêu rõ tên, quê quán và lý do nhập cảnh. Quý vị có năm phút.”</p><p id="33">Cát bắt đầu chảy.</p><p id="34">Đây là năm phút cuối cùng trong ca.</p><p id="35">Một khi năm phút này trôi qua, tôi sẽ chính thức tan ca. Và kết thúc ca làm việc 12 tiếng không ngừng nghỉ này.</p><p id="36">Nên là ấy, ông nhanh nhanh cái mồm lên.</p><p id="37">“Quý vị là ai?”</p><p id="38">Người đàn ông lo lắng liếc nhìn đồng hồ cát, gãi đầu, và lên tiếng:</p><p id="39">“Ừm... tôi là Macton. Không có họ. Tôi là một nông dân đến từ Vương quốc Mahalan phía nam.”</p><p id="40">“Vị viên chức này hiểu. Mục đích của Quý vị khi đến thăm là gì?”</p><p id="41">“Tôi đến đây để, à... để thăm con trai tôi. Thằng bé sắp kết hôn với một tiểu thư của vương quốc này...”</p><p id="42">Ngay lập tức, người giúp việc ngồi cạnh tôi bắt đầu điền giấy tờ.</p><p id="43">Tôi kín đáo dời ánh mắt xuống đôi giày của Macton. Chúng đã gần như mòn vẹt, bết đầy bùn đất khô.</p><p id="44">Ông ta có vóc dáng khỏe khoắn, làn da rám nắng sạm đen vì dãi dầu sương gió, móng tay thì dơ bẩn, chưa được cắt tỉa.</p><p id="45">Đồng thời, các ngón tay ông ta phủ đầy những vết chai sần.</p><p id="46">‘Ông ta có vẻ giống lính đánh thuê hơn là nông dân.’</p><p id="47">Tôi cảm thấy hoài nghi. Luôn có những kẻ cố tình che giấu thân phận. Người đàn ông này có thể là một trong số đó.</p><p id="48">Tôi cố ý đưa tay chạm vào con dao găm được cắm sẵn ở phía đối diện bàn làm việc.</p><p id="49">Nhưng Macton chỉ nhìn chằm chằm vào nó một cách ngơ ngác, không hề có phản ứng.</p><p id="50">‘Ít nhất thì ông ta không phải loại người quen với việc chiến đấu.’</p><p id="51">Nếu một người không phản ứng lại khi người đối diện chạm vào vũ khí, họ hoặc là một tên ngốc, hoặc hoàn toàn không biết gì về chiến đấu.</p><p id="52">Macton có lẽ thuộc trường hợp sau.</p><p id="53">Hơn nữa, Vương quốc Mahalan nổi tiếng là vựa lúa lớn nhất lục địa. Việc có nhiều nông dân đến từ đó là sự thật.</p><p id="54">‘Lý do nhập cảnh của ông ta là hợp lý.’</p><p id="55">Nếu con trai kết hôn thì người cha nào lại không muốn đến gặp mặt con dâu chứ?</p><p id="56">Ông ta dường như cũng không nói dối.</p><p id="57">“Vương quốc Mahalan cách đây khá xa. Quý vị có bạn đồng hành nào trên đường đi không?”</p><p id="58">“Ý ngài là người đi cùng tôi sao? Không. Vợ tôi phải ở nhà trông coi mùa màng... Ồ! Nhưng tôi có đi nhờ xe ngựa của một đoàn thương nhân trên dọc đường.”</p><p id="59">“Quý vị có nhớ tên của đoàn thương nhân đó không?”</p><p id="60">“Là gì ấy nhỉ... Đoàn thương nhân... Kell, tôi đoán thế?”</p><p id="61">Tôi vô thức chớp mắt.</p><p id="62">Tôi không ngờ lại nghe thấy tên của đoàn thương nhân từ gia đình mình.</p><p id="63">Mắt tôi chạm mắt với người giúp việc. Và anh ta khẽ gật đầu.</p><p id="64">“Chiều nay, Cán bộ Khứu giác đã phê duyệt nhập cảnh cho Đoàn Thương nhân Kell. Mục đích của họ là nhập khẩu các tác phẩm điêu khắc của tộc Elf.”</p><p id="65">“Cán bộ Khứu giác, hả.”</p><p id="66">Đúng là phong cách xử lý của Cha tôi.</p><p id="67">Ông ấy hẳn đã cố tình sắp xếp để đoàn thương nhân được Cán bộ Khứu giác kiểm tra, người nổi tiếng với tốc độ hoàn tất thủ tục nhập cảnh nhanh như gió.</p><p id="68">Tôi không khỏi mỉm cười trước việc ông ấy vẫn không hề thay đổi sau bốn năm.</p><p id="69">“Rất tốt. Nếu là Đoàn Thương nhân Kell thì không cần phải xác minh thêm.”</p><p id="70">Hành vi phù hợp với thân phận khai báo, lý do nhập cảnh hợp lý, và đoàn thương nhân của gia đình tôi còn là bạn đồng hành.</p><p id="71">Sạch sẽ và rõ ràng. Hoàn toàn không có vấn đề gì theo quy định.</p><p id="72">Đến giờ, việc kiểm tra hành lý chắc hẳn đã xong xuôi. Với việc không có bất kỳ báo cáo bất thường nào, thì đồ đạc của ông ta cũng không có gì đáng ngại.</p><p id="73">Bây giờ chỉ còn một điều cuối cùng.</p><p id="74">“Vị viên chức này chỉ còn duy nhất một thứ phải xác nhận. Con trai Quý vị tên là gì?”</p><p id="75">“D-Daniel.”</p><p id="76">“Daniel.”</p><p id="77">Người giúp việc đang điền tài liệu đột nhiên đứng thẳng dậy và đi đến giá sách phía sau tôi.</p><p id="78">Một khi chúng tôi xác minh được điều này, mọi chuyện sẽ thực sự chấm dứt. Ngày mai là cuối tuần nên tôi không cần phải đến làm việc.</p><p id="79">Như thể đoán được suy nghĩ của tôi, người giúp việc mang theo hai cuốn sách lớn và đặt lên bàn tôi với tốc độ nhanh gấp đôi bình thường.</p><p id="80">Hồ sơ Nhập cảnh.</p><p id="81">Hồ sơ Xuất cảnh.</p><p id="82">Bây giờ tôi chỉ cần tìm hồ sơ cho thấy Daniel đã nhập cảnh và chưa từng rời đi.</p><p id="83">“Da, da, da, da.”</p><p id="84">Tôi từ từ lướt ngón tay xuống danh sách tên, tìm kiếm mục “Da”. Việc này không tốn nhiều thời gian cho lắm.</p><p id="85">Và một lát sau,</p><p id="86">“Jack po—, ôi, mẹ kiếp.”</p><p id="87">Lời chửi thề thốt ra theo phản xạ trước khi tôi kịp ngăn lại.</p><p id="88">Có hơn 600 người tên Daniel trong hồ sơ nhập cảnh. Và 400 người trong hồ sơ xuất cảnh.</p><p id="89">Cảm nhận được điều sắp xảy ra, mặt người giúp việc tràn ngập vẻ tuyệt vọng.</p><p id="90">“T-Thưa ngài. Đừng nói là chúng ta sẽ phải kiểm tra hết 600 người này...?”</p><p id="91">“Ừm...”</p><p id="92">Tôi từ từ ngẩng đầu lên và hỏi người nông dân giản dị:</p><p id="93">“Ừm... tên đầy đủ của con trai Quý vị là gì vậy?”</p><p id="94">Năm phút quái gì chứ.</p><p id="95">Chúng tôi đã mất cả tiếng đồng hồ.</p><p id="96">***</p><p id="97">“Da, da, da, daaaa....”</p><p id="98">Sau khi vật lộn với vô số cái tên “Daniel” với đôi mắt lờ đờ, vô hồn, người giúp việc đột nhiên nhảy dựng lên.</p><p id="99">“T-T-Tôi tìm thấy rồi! Thưa ngài, tôi tìm thấy rồi!”</p><p id="100">“Cái gì!? Mau đưa tôi xem!”</p><p id="101">“Đây, Daniel thứ 582!”</p><p id="102">Bên cạnh cái tên anh ta chỉ vào có ghi:</p><p id="103">[Thanh niên 24 tuổi đến từ Đồi Khoai Tây thuộc lãnh thổ Nam tước Ihan, Vương quốc Mahalan] Daniel.</p><p id="104">Cùng xuất xứ với Macton. Ngày nhập cảnh 289 ngày trước. Không có họ. Không có hồ sơ xuất cảnh.</p><p id="105">Mọi thứ đều khớp với lời khai của ông ta.</p><p id="106">Cuối cùng!</p><p id="107">Khoảnh khắc chúng tôi tìm thấy con trai của Macton, người giúp việc và tôi đã gạt hết danh dự sang một bên và hét lớn:</p><p id="108">“Hoan hô! Daniel vạn tuế! Ngài cán bộ vạn tuế!”</p><p id="109">“Hoan hô!”</p><p id="110">“H-Hoan hô...?”</p><p id="111">Đọc được bầu không khí, Macton lúng túng tham gia vào tiếng reo hò của chúng tôi. Ông ta có vẻ là một người tử tế.</p><p id="112">Không còn thời gian để do dự nữa.</p><p id="113">“Tài liệu nhập cảnh đâu!”</p><p id="114">“Đây ạ!”</p><p id="115">Khi tôi chộp lấy con dấu “ĐƯỢC PHÉP NHẬP CẢNH”, người giúp việc nhanh chóng đưa cho tôi tờ tài liệu đã hoàn chỉnh.</p><p id="116">Tôi nhìn lướt qua nó với tốc độ ánh sáng.</p><p id="117">Tên, quê quán, mục đích nhập cảnh, các bên liên quan, và thậm chí có cả một bức chân dung phác thảo. Hoàn hảo.</p><p id="118">Với những giọt nước mắt vui sướng lăn dài trên khuôn mặt, người giúp việc tha thiết hỏi:</p><p id="119">“Thưa ngài, chúng ta có thể về nhà bây giờ không? Tôi có thể về ăn tối với vợ vào tối nay không?”</p><p id="120">“Đương nhiên rồi! Một trăm phần trăm! Tôi đảm bảo với anh!”</p><p id="121">“Huhu.”</p><p id="122">Kiềm nén cảm xúc bùng nổ, tôi hít thật sâu một hơi.</p><p id="123">Hãy hoãn việc ăn mừng lại đã. Tôi vẫn còn một nhiệm vụ cuối cùng với tư cách là một cán bộ xuất nhập cảnh.</p><p id="124">Đó là, chào đón người nhập cảnh với tư cách là bộ mặt đầu tiên của vương quốc này.</p><p id="125">“Thưa ông Macton.”</p><p id="126">“V-Vâng!”</p><p id="127">“Quý vị đã cung cấp lời khai nhất quán và thông tin phù hợp, đồng thời chứng minh được danh tính của mình.”</p><p id="128">Khuôn mặt người nông dân rạng rỡ hẳn lên. Tôi mỉm cười với ông ta.</p><p id="129">“Do đó, theo phán quyết của Vị viên chức này, không có bất kỳ căn cứ nào để hạn chế việc nhập cảnh của Quý vị.”</p><p id="130">Tôi giơ tay phải lên.</p><p id="131">Và cùng lúc đó, tôi đóng dấu lên tài liệu.</p><p id="132"><em>Thịch.</em></p><p id="133">“Chào mừng Quý vị đến với Vương quốc Crossroads .”</p><p id="134">Đến lúc về nhà rồi.</p><p id="135">***</p><p id="136">Vương quốc Crossroads.</p><p id="137">Đó là một cái tên dở hơi nếu xét đến là tên của một quốc gia, nhưng nếu xét về vị trí địa lý của vương quốc chúng tôi, thì không thể có cái tên nào phù hợp hơn.</p><p id="138">Nằm ngay trung tâm của lục địa rộng lớn.</p><p id="139">Ngay chính giữa, ngay bên dưới dãy núi khổng lồ chia lục địa thành bốn phần.</p><p id="140">Một quốc gia tọa lạc tại thung lũng duy nhất nơi người ta có thể tự do đi lại tới các hướng đông, tây, nam, bắc trên khắp lục địa.</p><p id="141">Đó chính là Vương quốc Crossroads.</p><p id="142">‘Tên ngốc nào lại đi thành lập một đất nước ngay trên con đường huyết mạch của tất cả mọi người chứ?’</p><p id="143">Vì lý do này, đất nước đã không có được dù chỉ mười năm hòa bình trọn vẹn.</p><p id="144">Tất cả các chủng tộc và dân tộc xô bồ kéo qua, yêu cầu mở đường cho chiến tranh, thiết lập các tuyến đường thương mại...</p><p id="145">Việc đi vòng qua chúng tôi và vượt qua dãy núi hiểm trở sẽ là một hành động điên rồ.</p><p id="146">Ở đó có quái vật, có cường đạo, và những vách đá cao ngất.</p><p id="147">Tóm lại, nếu muốn đi đến những nới khác của lục địa, thì người ta bắt buộc phải đi qua vương quốc chúng tôi.</p><p id="148">Thành thật mà nói, đó là một vị trí mà bất cứ ai cũng thèm muốn. Nằm chính xác tại trung tâm của lục địa.</p><p id="149">Nhưng khi tất cả mọi người đều thèm muốn một thứ gì đó, thì nó có nghĩa là không ai có thể chiếm hữu nó trọn vẹn.</p><p id="150">Kết quả là, Vương quốc Crossroads trở thành một quốc gia trung lập, nơi bất cứ ai cũng có thể tự do ra vào bất kể quốc gia, dân tộc hay chủng tộc nào.</p><p id="151">Và đây là lúc mà chúng tôi phát huy tác dụng.</p><p id="152">Cán bộ Xuất nhập cảnh.</p><p id="153">Những cá nhân đầu tiên tiếp xúc với người nước ngoài.</p><p id="154">Bất cứ ai cũng có thể vào. Bất cứ thứ gì cũng có thể được mang vào. Miễn là tuân thủ các điều luật do chúng tôi đặt ra.</p><p id="155">Nhưng khi có hành vi vi phạm quy định, khi bị đánh giá là có thể gây rối loạn hòa bình và trật tự quốc gia, thì chỉ có các cán bộ xuất nhập cảnh mới có thể đứng ra ngăn chặn.</p><p id="156">Trách nhiệm nặng nề này là một vị trí vinh dự được trực tiếp hoàng gia ban tặng, một nhiệm vụ mà chỉ những người thực sự có năng lực mới có thể gánh vác.</p><p id="157">Và tôi, một trong những cán bộ đó, vừa hoàn tất việc sắp xếp tài liệu và đứng dậy khỏi chỗ ngồi, lòng tràn ngập niềm vui sướng khi nghĩ đến việc được về nhà.</p><p id="158">“Về nhà là về nhà, sao về nhà lại vui thế ta~”</p><p id="159">“Đêm nay là đêm đẻ thêm đứa thứ hai~ tối nay cùng uống rượu, ăn lươn~”</p><p id="160">Người giúp việc của tôi thêm một đoạn điệp khúc vào bài hát của tôi. Sau nhiều năm làm việc cùng nhau, anh ta thậm chí đã có thể hát cùng nhịp với tôi.</p><p id="161">Tôi đặt những tài liệu còn lại vào ngăn kéo, kéo rèm và nắm lấy tay nắm cửa.</p><p id="162">“Anh vất vả rồi. `Hẹn không gặp lại vào cuối tuần này nhé.”</p><p id="163">“Không không, ngài mới là người đã làm việc vất vả, hahaha. Và dù ngài có gọi, thì tôi cũng cóc thèm đến đâu, hahaha”</p><p id="164">“Hahaha. Ai lại đi gọi anh đâu chứ?”</p><p id="165">Những lời dễ chịu của anh ta cũng khiến tôi bật cười.</p><p id="166">Một khi tôi bước qua cánh cửa này, tôi sẽ được tự do trong hai ngày.</p><p id="167">Sự tự do được pháp luật đảm bảo—còn gì tuyệt hơn thế nữa không?</p><p id="168">Chỉ có Nhà vua mới có thể ngăn cản tôi, ngay cả Bộ trưởng Ngoại giao cũng không có quyền.</p><p id="169">‘Mình sẽ dành ngày hôm nay để nghỉ ngơ, còn mấy ngày tiếp theo thì làm gì nhể? Hay là thử ở nhà và chẳng gì cả? Hoặc có lẽ mình nên đi thăm kinh đô?’</p><p id="170">Khi tôi đang vui vẻ suy tính trong lúc vặn tay nắm cửa, thì cánh cửa đã tự mở ra trước.</p><p id="171">Sầm.</p><p id="172">Một nữ giúp việc trẻ tuổi xông thẳng vào, thở hổn hển.</p><p id="173">“A, cuối cùng cũng tìm thấy ngài!”</p><p id="174">Tôi cau mày trước sự thiếu trang trọng của cô ấy, nhưng do cô ấy đang thở hổn hển nên tôi đã nhận ra là cô ấy đã chạy đến từ xa đến để đưa tin khẩn cấp, và điều chỉnh nét mặt.</p><p id="175">“Chuyện gì khẩn cấp đến mức cô—”</p><p id="176">Đột nhiên, một cảm giác đáng ngại bao trùm lấy tôi.</p><p id="177">Một cảm giác rằng điều gì đó tồi tệ sẽ xảy ra nếu tôi dám hỏi tiếp.</p><p id="178">Một cảm giác rằng... việc tôi về nhà sẽ bị trì hoãn, và điều này sẽ cực kỳ phiền phức.</p><p id="179">“Ha, ha... Vâng? Ngài nói gì?”</p><p id="180">“Không có gì cả. Tôi đang về nhà. Cô làm tốt lắm.”</p><p id="181">Tôi nhanh chóng cố gắng lách qua cô ấy và bước đi vội vã. Người giúp việc của tôi, do nhận thấy tình hình hiện tại nên cũng lặng lẽ theo sau.</p><p id="182">“K-Khoan đã. Thưa ngài!”</p><p id="183">“Lá la là la. Không nghe, không thấy, không biết, cũng không liên quan.”</p><p id="184">Không ai có thể tước đi sự tự do của tôi. Tôi đã hoàn thành nghĩa vụ của mình.</p><p id="185">Tạm biệt, Văn phòng Xuất nhập cảnh. Hẹn gặp lại mày sau hai ngày nữa.</p><p id="186">“Cán bộ Trung tâm! Tôi có một lời nhắn quan trọng!”</p><p id="187">“Ugh.”</p><p id="188">Một giọng nói sắc bén cuối cùng đã chặn tôi lại.</p><p id="189">Cán bộ Trung tâm.</p><p id="190">Đó là chức danh chính thức của tôi với tư cách là Cán bộ Xuất nhập cảnh.</p><p id="191">Sử dụng chức danh chính thức của tôi có nghĩa là có công việc khẩn cấp.</p><p id="192">‘Chết tiệt.’</p><p id="193">Tôi miễn cưỡng đứng lại và quay người.</p><p id="194">“...Trước hết, hãy cho tôi biết cô thuộc bộ phận nào. Tôi vẫn chưa biết cô là ai.”</p><p id="195">“Ồ, tôi xin lỗi. Tôi là người giúp việc trực tiếp của Cán bộ Vị giác. Nhưng quan trọng hơn, Cán bộ Trung tâm, Cán bộ Vị giác đã yêu cầu hỗ trợ. Cô ấy bảo tôi đưa ngài đến đó ngay lập tức...”</p><p id="196">Một cái tên khác được đề cập đến.</p><p id="197">Cán bộ Vị giác.</p><p id="198">Chức danh chính thức của một trong những cấp dưới của tôi.</p><p id="199">Tôi nhắm mắt thật chặt, hy vọng đây là một giấc mơ, rồi mở mắt ra. Nhưng người giúp việc của Cán bộ Vị giác vẫn đứng đó.</p><p id="200">Linh cảm của tôi quả nhiên không bao giờ sai.</p><p id="201">‘Chết tiệt.’</p><p id="202">Khoan đã, do đống tài liệu nên hiện tại hẳn đã trễ giờ tan ca tận một tiếng rồi, vậy mà Cán bộ Vị giác vẫn còn làm việc sao? Cô gái đó bị điên à?</p><p id="203">Quan trọng hơn, tại sao cô ấy lại tìm tôi? Tôi, người chỉ vừa định về nhà? Tại sao?</p><p id="204">Vì tôi là cấp trên trực tiếp của cô ấy ư? Chẳng phải chúng tôi là người dưng khi làm việc xong sao?</p><p id="205">Tôi cần một cái cớ hợp lý. Không, cái cớ mẹ gì chứ, rõ ràng là còn nhiều người khác nữa mà.</p><p id="206">Còn ai nữa nhỉ? À, đúng rồi.</p><p id="207">“Cán bộ Khứu giác hẳn là đang rảnh. Nên nếu cô nhanh chân thì chắc là sẽ không muộn đâu.”</p><p id="208">Tôi sẽ hy sinh một cấp dưới khác. Nhanh đến chỗ anh ta đi.</p><p id="209">“Cán bộ Khứu giác đã rời đi hai tiếng trước rồi ạ.”</p><p id="210">“Cái gì? Hai tiếng trước? Trước cả giờ tan ca sao? Tên khốn đ- ahem.”</p><p id="211">Cái tên khốn đó.</p><p id="212">Nhưng… nếu nghĩ kỹ lại thì tối nay hình như là đêm trăng tròn.</p><p id="213">Hẳn gì hôm nay anh ta xử lý công việc nhanh hơn bình thường—tên điên đó đã rời đi sớm một tiếng mà không xin phép.</p><p id="214">Vậy thì mình đành dâng thêm vài người khác vậy.</p><p id="215">“Thế thì cô tốt nhất là nên hỏi Cán bộ Thính giác hoặc Cán bộ Xúc giác. Lịch trình hôm nay của tôi đã xong xuô-”</p><p id="216">“Ngài là người duy nhất còn lại trong Văn phòng Xuất nhập cảnh vào lúc này.”</p><p id="217">“Chuyện chó má gì vậy?”</p><p id="218">Tôi không khỏi chửi thề.</p><p id="219">Người giúp việc của Cán bộ Vị giác giật mình và ngay lập tức sửa lại tư thế.</p><p id="220">“T-Tôi xin lỗi! Tôi đã quá thiếu trang trọng!”</p><p id="221">Con mụ yêu tinh 500 tuổi chết tiệt đó và người phụ nữ tóc xúc tu kia vừa làm xong việc là bỏ đi ngay trong ngày thứ Sáu mà không thèm báo cáo.</p><p id="222">Thực sự không còn đường lui nữa rồi. Tôi là người duy nhất còn ở lại.</p><p id="223">Nếu tôi phớt lờ chuyện này thì ai mà biết được loại người điên rồ nào có thể nhập cảnh vào chứ.</p><p id="224">Hơn nữa, Cán bộ Vị giác là một tân binh mới làm công việc Cán bộ Xuất nhập cảnh chưa được một tháng.</p><p id="225">Chỉ riêng việc tưởng tượng những hậu quả có thể xảy ra nếu tôi bảo cô ấy tự xử đã không khỏi tôi lo lắng.</p><p id="226">“Haizz...”</p><p id="227">Một tiếng thở dài được thốt ra. Bộ tôi thực sự không còn lựa chọn nào khác sao?</p><p id="228">Tôi quay sang người giúp việc với ánh mắt buồn bã.</p><p id="229">Anh ta đã nhìn tôi với vẻ mặt của một thần dân vừa bị mất nước vào tay lũ giặc.</p><p id="230">“Tôi xin lỗi. Tôi đã thất hứa.”</p><p id="231">“Không sao đâu, thưa ngài. Nhiệm vụ quốc gia là trên hết. Hức, đã thế tôi còn ăn quả mâm xôi đen vào sáng nay nữa chứ...”</p><p id="232">Cán bộ đi đến chỗ nào thì người giúp việc phải đi đến chỗ đấy. Bị ràng buộc bởi quy tắc đó, anh ta cũng không thể về nhà nếu không có tôi.</p><p id="233">Với cảm giác như bị dẫn đến lò mổ, tôi nói với người giúp việc của Cán bộ Vị giác:</p><p id="234">“...Dẫn đường cho chúng tôi đến chỗ Cán bộ Vị giác.”</p><p id="235">Cán bộ Vị giác, nếu chuyện này không thực sự quan trọng thì tôi sẽ không tha cho cô đâu.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272852-chuong-01" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24294-toi-la-can-bo-cua-van-phong-xuat-nhap-canh/c272861-chuong-03-thuan-hoa-cau-lua" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'Cv7SLHN4NZ1tHFkfHLKYxEW28HKRQuSoK85d2A5W';
        var comment_type = 'chapter';
        var comment_typeid = '272858';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'Cv7SLHN4NZ1tHFkfHLKYxEW28HKRQuSoK85d2A5W';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24294');
    chapter_id = parseInt('272858');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi Là Cán Bộ Của Văn Phòng Xuất Nhập Cảnh',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="Cv7SLHN4NZ1tHFkfHLKYxEW28HKRQuSoK85d2A5W" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="//spicewaxworks.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

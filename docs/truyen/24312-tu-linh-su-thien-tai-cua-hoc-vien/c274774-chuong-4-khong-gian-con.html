<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Linh Sư Thiên Tài Của Học Viện - Chương 4: Không Gian Con - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Sau cuộc ‘Chiến Tranh Trăm Năm’ giữa phe Tử Linh Sư và phe Linh Mục. Một nhân tài kiệt xuất với khả năng đảo lộn tôn ti trật tự thế giới đã ra đời. “Trường hợp của tôi có phải hàng hiếm không? Tôi có tài năng chứ?” Một tiềm...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ssoNfTMJpwPMGHxtLzjz8soQPE5dnKoD9Jy4ED1Y">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274774-chuong-4-khong-gian-con">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24312-1675ef77-7a15-47e0-91ad-c1317298c998.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274303-chuong-3-lorraine-arkbold"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274774-chuong-4-khong-gian-con" style="background: url('https://i.hako.vn/ln/series/covers/s24312-1675ef77-7a15-47e0-91ad-c1317298c998.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien">Tử Linh Sư Thiên Tài Của...</a></h5>
                    <small><i class="fas fa-pen"></i>Loạt Đạn</small>
                    <small><i class="fas fa-paint-brush"></i>Cho Cho</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/t35053-1100">1~100</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c273769-chuong-1-simon-follentia">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1: Simon Follentia
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c273923-chuong-2-dat-chan-den-langerstin">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2: Đặt Chân Đến Langerstin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274303-chuong-3-lorraine-arkbold">
                                                                        Chương 3: Lorraine Arkbold
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274774-chuong-4-khong-gian-con">
                                                                        Chương 4: Không Gian Con
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=" disabled "><a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien">101~200</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1~100</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 4: Không Gian Con</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274774-chuong-4-khong-gian-con#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 3,191 từ - Cập nhật: 
                        <time class="topic-time timeago" title="17-12-2025 19:07:02" datetime="2025-12-17T19:07:02+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 4: Không Gian Con</p>
                    <p id="1">Simon và Lorraine quay trở lại Đường Cammael.</p><p id="2">Hóa ra Đường Cammael là khu phố chuyên kinh doanh các mặt hàng dành cho Tử Linh Sư.</p><p id="3">Càng đi sâu vào trong, các loại hàng hóa được trưng bày càng trở nên trần trụi. Nào là đầu lâu, xác quái vật, và cả những bộ phận nội tạng vẫn còn cử động như thể đang sống được ngâm trong bình dung dịch bày bán công khai.</p><p id="4">Simon có cảm giác như mình vừa bước vào một thế giới hoàn toàn tách biệt với nơi cậu từng sống.</p><p id="5">"Cậu có biết trong suốt quãng đời đi học, khoảnh khắc nào là hồi hộp nhất không?"</p><p id="6">Lorraine đang đi bên cạnh bỗng lên tiếng hỏi.</p><p id="7">"Ơ, ừm... Chắc là không?"</p><p id="8">"Đó là trước khi nhập học, lúc mang theo tâm trạng háo hức đi mua đồng phục, sách giáo khoa và dụng cụ học tập đấy! Bây giờ chính là lúc vui nhất, nên hãy tận hưởng đi nhé, Simon."</p><p id="9">Cô khẽ nhếch mép cười.</p><p id="10">"Sau khi vào Kizen rồi thì sẽ quay cuồng đến mức chẳng còn tâm trí đâu."</p><p id="11">"...Haha."</p><p id="12">Nơi đầu tiên họ ghé vào là một hiệu sách.</p><p id="13">Tuy phí nhập học và học phí ở Kizen đều được miễn phí, nhưng sách giáo khoa thì đương nhiên phải tự bỏ tiền túi ra mua.</p><p id="14">"Sách cần mua hơi nhiều đấy. Cậu còn giữ giấy báo nhập học không?"</p><p id="15">"Có! Đây nè.”</p><p id="16">Bên trong phong thư, ngoài giấy báo nhập học còn có một danh sách những vật dụng cần thiết.</p><p id="17">Lorraine lướt nhanh qua danh mục sách rồi trả lại thư cho cậu và nói:</p><p id="18">"Tôi nhớ hết rồi. Lối này."</p><p id="19">Simon đang đi theo sau cô thì đột nhiên, một vật gì đó nặng trịch giáng xuống.</p><p id="20">Cậu vội vươn hai tay ra đỡ, hóa ra là một cuốn sách dày đến mức đáng sợ. Trên bìa sách ghi dòng chữ <em>&lt;Nhập môn Triệu Hồi học - Tác giả Elric Moore Trinble&gt;</em>.</p><p id="21"><em>'Triệu Hồi học?'</em></p><p id="22">Simon còn chưa kịp suy nghĩ gì thêm thì một cuốn sách mới lại được chồng lên trên. Lần này là <em>&lt;Chiêu Hồn học&gt;</em>.</p><p id="23"><em>'C-cái này cũng nặng quá!'</em></p><p id="24">Lorraine liên tục rút sách từ trên kệ xuống.</p><p id="25">Chồng lên đó là <em>&lt;Nguyền Rủa học&gt;</em>, <em>&lt;Huyết học&gt;</em>, <em>&lt;Phòng Ngự Thánh Lực học&gt;</em>, <em>&lt;Ma Đấu học&gt;</em>, v.v. Cánh tay Simon bắt đầu run lên bần bật.</p><p id="26">"Lorraine này! Không phải tụi mình sẽ học hết đống này trong năm nhất đâu nhỉ?"</p><p id="27">"Đương nhiên là không rồi."</p><p id="28">Cô quay lại, nở một nụ cười tươi rói.</p><p id="29">"Chúng ta là học viên Kizen mà? Chừng này chỉ là kiến thức cơ bản phải nắm vững trong học kỳ một năm nhất thôi."</p><p id="30">"......."</p><p id="31">"Nào, cầm lấy cuốn <em>&lt;Độc Dược học&gt;</em> này nữa!"</p><p id="32">...Tự nhiên tôi thấy nhớ Leshil quá đi hà.</p><p id="33">Sau một hồi chọn sách, cô nói sẽ đi tìm cuốn <em>Hắc Lực học</em> rồi chạy biến đi.</p><p id="34">Simon bị bỏ lại một mình trong chốc lát, cậu đưa mắt nhìn quanh.</p><p id="35"><em>'Nhắc mới nhớ.'</em></p><p id="36">Hầu hết những người có mặt trong hiệu sách này đều trạc tuổi Simon.</p><p id="37">Nhìn việc họ cầm trên tay những cuốn giáo trình nhập môn <em>&lt;Triệu Hồi học&gt;</em> hay <em>&lt;Chiêu Hồn học&gt;</em>, chắc chắn họ đều là tân sinh của Kizen.</p><p id="38">Đây là lần đầu tiên cậu thấy cảnh tượng nhiều người đồng trang lứa tập trung tại một chỗ như thế này. Ở Leshil, bạn bè cùng lứa mà cậu quen biết chỉ có mỗi Caron lớn hơn một tuổi và Sofia nhỏ hơn hai tuổi mà thôi.</p><p id="39">Một cuộc sống mới cùng với những học viên cùng trang lứa. Simon bắt đầu cảm thấy chút mong đợi về cuộc sống trường học.</p><p id="40">"Vâng! Tới ngay đây!"</p><p id="41">"?"</p><p id="42">Trong lúc cậu đang lơ đễnh, một nữ sinh lạ mặt chạy vụt qua bên cạnh. Simon nheo mắt quan sát chuyển động của cô gái.</p><p id="43">Trong khoảnh khắc, cơ thể cô gái đột ngột ngoặt hướng về phía Simon.</p><p id="44"><em>'Gì thế này?'</em></p><p id="45">Chẳng có lý do gì để va vào nhau cả, nên Simon khẽ lách người né tránh.</p><p id="46">"...Á!"</p><p id="47">Cô gái cứ thế đâm sầm vào kệ sách, khiến những cuốn sách xếp trên đó rung lắc dữ dội.</p><p id="48">Nguy hiểm quá.</p><p id="49">Theo phản xạ, Simon lao tới ôm lấy cô gái để che chắn.</p><p id="50"><em>Rầm rầm rầm!</em></p><p id="51">Những cuốn sách đổ ập xuống lưng Simon đang nằm rạp dưới đất.</p><p id="52">Đau điếng. Cảm giác như có tảng đá đập vào lưng vậy.</p><p id="53">Cô gái ngước nhìn Simon với vẻ mặt kinh ngạc, rồi vội vàng cúi đầu.</p><p id="54">"Xin lỗi, xin lỗi, xin lỗi cậu! Tại tôi mà...!"</p><p id="55">"Không sao đâu. Tôi cũng xin lỗi vì đã đứng ngẩn ngơ chắn đường."</p><p id="56">Simon cố gắng mỉm cười nói.</p><p id="57">"Mà thay vào đó, tụi mình mau xếp lại chỗ này đi. Coi chừng bị mắng đấy."</p><p id="58">"A, ừm!”</p><p id="59">Hai người vội vàng nhặt những cuốn sách rơi vương vãi. Cô gái nhặt sách dưới sàn đưa lên, còn Simon thì kiễng chân xếp chúng lại lên kệ.</p><p id="60">Một nhân viên nghe thấy tiếng động chạy tới xem có chuyện gì, nhưng khi thấy hai người đang xếp lại sách đâu vào đấy thì may mắn là người đó bỏ đi mà không nói gì.</p><p id="61"><em>'Đây là cuốn cuối cùng.'</em></p><p id="62">Trong lúc Simon xếp cuốn sách cuối cùng về chỗ cũ, nữ sinh kia cũng đã gom lại những cuốn sách của Simon bị văng ra.</p><p id="63">"C-cậu cũng là tân sinh Kizen đúng không?"</p><p id="64">Có vẻ cô gái đã nhìn thấy mấy cuốn giáo trình. Simon gật đầu, khuôn mặt cô gái lập tức rạng rỡ hẳn lên.</p><p id="65">“T-tôi cũng là tân sinh nè! Tôi tên là Cindy Vivace! Còn cậu?"</p><p id="66">"Simon Follentia."</p><p id="67">"Ra là vậy, rất vui được gặp cậu! Thật ra tôi đến từ Shahed ở phía Bắc, chẳng quen biết ai cả nên hơi sợ."</p><p id="68">Simon gật đầu.</p><p id="69">"Hoàn cảnh hai ta giống nhau nhỉ."</p><p id="70">"N-nếu Simon không phiền thì..."</p><p id="71">Cindy đỏ mặt, hai đầu ngón tay trỏ chạm nhẹ vào nhau. Rồi cô gái nói với giọng lí nhí như muỗi kêu:</p><p id="72">"Sau này... ở trường... tôi có thể chào hỏi cậu được không?"</p><p id="73">Tưởng chuyện gì to tát lắm.</p><p id="74">Simon bật cười khẽ.</p><p id="75">"Đương nhiên rồi. Tôi còn đang muốn nhờ cậu đây này."</p><p id="76">"Cảm ơn cậu!"</p><p id="77">Cô gái bật dậy.</p><p id="78">"Vậy giờ tôi đi trước nhé! Cha tôi đang đợi bên ngoài."</p><p id="79">"Được."</p><p id="80">"Hẹn gặp lại ở Kizen nha!"</p><p id="81">Cô gái vẫy tay rồi bước đi xa dần.</p><p id="82">"Khoan đã, Cindy."</p><p id="83">"Hể?”</p><p id="84">Cô gái quay đầu lại. Simon đang đung đưa một vật gì đó trên tay.</p><p id="85">"Giờ thì trả lại ví cho tôi được chưa?"</p><p id="86">Thứ nằm trong tay Simon chính là chiếc ví của Cindy.</p><p id="87">Trong khoảnh khắc, đôi mắt to tròn ngây thơ của cô gái bỗng trở nên sắc lẹm. Hai đồng tử co lại thành một đường dọc hệt như mắt mèo.</p><p id="88"><em>'Không lẽ.'</em></p><p id="89">Cindy vội vàng lục lọi túi áo. Cái túi trống rỗng.</p><p id="90">"...Haa."</p><p id="91">Bị chơi một vố đau rồi.</p><p id="92">Cô gái nhếch mép cười, quay lại nhìn Simon.</p><p id="93">“Tôi đã dùng phép thuật để 'mượn' nhẹ nhàng như thế, tự tin là tuyệt đối không bị phát hiện, sao cậu biết hay vậy?"</p><p id="94">"Thì cũng không có gì, tự nhiên thấy ví của tôi bay lơ lửng nên biết thôi."</p><p id="95">Cindy sải bước đi tới, nhìn thẳng vào mắt Simon.</p><p id="96">"Chỉ vậy mà cậu nhận ra được á? Đừng có xạo. Cậu cũng định đăng ký chuyên ngành Chiêu Hồn học đúng không?"</p><p id="97">"Cái đó thì tôi chưa biết..."</p><p id="98">"Quả nhiên là vậy!"</p><p id="99">Mắt Cindy sáng lấp lánh.</p><p id="100">"Đúng là Kizen đẳng cấp khác hẳn! Oa, làm sao đây? Chắc sẽ có cả đống người giống cậu nhỉ? Aa, mong chờ cuộc sống ở trường quá đi mất!"</p><p id="101"><em>'...Nhỏ móc túi này có vẻ tự tin thái quá nhỉ.'</em></p><p id="102">Cô gái cười khẩy một cái rồi lấy ví của Simon từ trong ngực áo ra, ném trả lại cho cậu.</p><p id="103">"Nếu cùng chuyên ngành Chiêu Hồn học thì có khi bọn mình sẽ gặp nhau suốt 3 năm đấy. Đúng không? Cạnh tranh khô máu nhé, Simon!"</p><p id="104">Đúng là kiểu người chẳng bao giờ chịu nghe người khác nói.</p><p id="105">Simon khẽ thở dài, định trả lại ví cho cô gái thì Cindy xua tay.</p><p id="106">"Thôi khỏi. Lần so tài này tôi thua nên coi như đó là chiến lợi phẩm của cậu đi."</p><p id="107">Hào phóng ở cái điểm kỳ cục thật.</p><p id="108">Simon bắt đầu thấy lời đồn rằng trong số các Tử Linh Sư chẳng có ai bình thường đang dần ứng nghiệm.</p><p id="109">"Mong chờ lắm đấy. Gặp nhau ở trường nhớ chào nhé!"</p><p id="110">Cindy vẫy tay bước đi, rồi cứ thế đi xuyên qua bức tường của hiệu sách và biến mất.</p><p id="111"><em>'.......'</em></p><p id="112">Cảm giác như vừa có một cơn bão quét qua vậy.</p><p id="113">Simon ngẩn ngơ nhìn bức tường nơi Cindy vừa biến mất, rồi mở ví của cô gái ra xem.</p><p id="114">Bên trong chỉ vỏn vẹn vài đồng xu lẻ.</p><p id="115"><em>'Làm màu gớm.'</em></p><p id="116">Simon phì cười.</p><p id="117">"Simon!"</p><p id="118">Đúng lúc đó, Lorraine với mái tóc đen tung bay quay trở lại.</p><p id="119">"Họ bảo sách nhập môn <em>Hắc Lực học</em> hiện tại đã bán hết rồi! Hai tiếng nữa mới có hàng, họ hứa lúc đó sẽ giao cùng với mấy cuốn khác về ký túc xá cho chúng ta."</p><p id="120">"Aa, tốt quá rồi!"</p><p id="121">Lorraine tinh nghịch chọc nhẹ vào tay Simon.</p><p id="122">"Mà cô gái lúc nãy là ai thế? Mới đó đã làm quen rồi hả?"</p><p id="123">Simon toát mồ hôi hột, lảng tránh ánh mắt của cô nàng.</p><p id="124">"...Cũng, coi là vậy đi."</p><p id="125">"Hể hể, sao lại lắp bắp thế kia? Đừng bảo là mới đó đã trao đổi con tim với nhau rồi nhé?"</p><p id="126">Trao đổi ví thì có, suýt nữa là mất toi cái ví rồi.</p><p id="127">"Dù sao sách cũng được giao tận nơi rồi, đi thôi. Ngoài chỗ này ra còn nhiều nơi phải ghé lắm."</p><p id="128">"Tiếp theo chúng mình đi đâu?"</p><p id="129">"Cửa hàng túi xách."</p><p id="130"><em>Phải mua cả túi mới sao?</em></p><p id="131">Simon nhìn lại chiếc ba lô mình đang đeo.</p><p id="132">"Cái tôi đang dùng cũng đâu đến nỗi nào."</p><p id="133">"Hả?"</p><p id="134">Cô chớp mắt không hiểu cậu nói gì, rồi ngay sau đó bật cười lớn: "Ahaha!".</p><p id="135">“D-Dễ thương ghê. Cậu đúng là nhà quê thật đấy."</p><p id="136">“À hem.”</p><p id="137">Cảm giác xấu hổ ập đến khiến Simon đỏ bừng mặt.</p><p id="138">"Với Tử Linh Sư, khi nhắc đến túi thì thường là nói đến 'ma pháp lưu trữ'. Nói đơn giản hơn là không gian con ấy?"</p><p id="139">Mắt Simon mở to hết cỡ.</p><p id="140">"Vậy là... chúng ta đi mua không gian con sao?"</p><p id="141">✦✧✦✧</p><p id="142">Một tòa nhà lớn nằm cách hiệu sách vài dãy nhà.</p><p id="143">Simon và Lorraine được dẫn xuống tầng hầm. Phải đi qua vài lớp Hắc Thuật bảo vệ, hai người mới bước vào được khu trưng bày dưới lòng đất với ánh đèn dìu dịu.</p><p id="144">"...Oa."</p><p id="145">Toàn bộ không gian này được trưng bày đầy ắp các loại ba lô, túi rút, cặp táp...</p><p id="146">Từ áo khoác dáng dài, đồng hồ bỏ túi, thậm chí là xe ngựa hay những con thằn lằn đang sống và chuyển động.</p><p id="147">Những vật dụng không rõ công năng được treo trên tường hoặc trôi lơ lửng giữa không trung nhờ hiệu ứng ma thuật.</p><p id="148">"Chào mừng quý khách. Tiểu thư Lorraine!"</p><p id="149">Một bà lão mặc chiếc áo khoác lông chồn sang trọng xuất hiện từ cầu thang.</p><p id="150">Dáng người bà gầy gò, khuôn mặt toát lên vẻ khó tính, trên người đeo đầy những món trang sức bằng vàng đắt tiền.</p><p id="151">Lorraine vui vẻ vẫy tay.</p><p id="152">"Bà vẫn khỏe chứ? Stephanie."</p><p id="153">Stephanie xoa hai tay vào nhau cười nói.</p><p id="154">"VVIP ghé thăm mà không báo trước thế này là có chuyện gì vậy ạ? Túi thì tháng trước tiểu thư mới mua một cái rồi mà..."</p><p id="155">Lorraine đặt nhẹ tay lên vai Simon.</p><p id="156">"Hôm nay tôi đến để xem túi cho cậu bạn này."</p><p id="157">"Ái chà!"</p><p id="158">Stephanie bất thình lình xuất hiện ngay trước mặt Simon. Cái mũi khoằm của bà lão đột ngột dí sát vào khiến Simon phải hơi ngả đầu ra sau.</p><p id="159">"Là tân sinh của Kizen đây mà! Rất hân hạnh! Các Tử Linh Sư luôn là những khách hàng tuyệt vời nhất của cửa tiệm chúng tôi."</p><p id="160">"R-Rất vui được gặp bà."</p><p id="161">"Vậy quý khách muốn xem loại sản phẩm nào ạ?"</p><p id="162">Lorraine trả lời thay:</p><p id="163">"Cái tốt nhất, và đắt nhất."</p><p id="164">"Không thể tin được!"</p><p id="165">Stephanie thốt lên.</p><p id="166">"Mời hai vị VVIP đi lối này!"</p><p id="167">Stephanie dẫn hai người sang một căn phòng khác. Sản phẩm ở đây không treo trên tường mà được bảo quản trong những tủ kính trong suốt.</p><p id="168">Stephanie gõ nhẹ ngón tay lên một tủ trưng bày, tấm kính lập tức biến mất như thể bốc hơi vào không khí.</p><p id="169">"Quý khách hãy thử cái này xem."</p><p id="170">Thứ bà đưa ra là một chiếc găng tay màu xanh đen với những họa tiết hoa văn sang trọng.</p><p id="171">Simon cẩn thận xỏ vào tay phải, ngay lập tức cảm nhận được độ êm ái đắt tiền đến mức khiến tinh thần cậu thư thái hẳn.</p><p id="172">"Đây là sản phẩm do nghệ nhân không gian con của thế kỷ 'Ellen Vator' chế tác. Quý khách hãy thử đặt ngón tay lên bất kỳ bức tường nào và vẽ một hình chữ nhật xem?"</p><p id="173">Simon gật đầu rồi làm theo lời bà, vẽ một hình chữ nhật lên tường.</p><p id="174"><em>Xoẹt!</em></p><p id="175">Ngay lập tức, một lỗ hổng mở ra trên vách tường.</p><p id="176">Simon ngạc nhiên nhìn vào bên trong, một không gian rộng lớn mở ra trước mắt. Nó lớn đến mức có thể nhét vừa cả một ngôi nhà.</p><p id="177"><em>'Đây là không gian con sao!'</em></p><p id="178">Trong lúc Simon thầm cảm thán, Stephanie tiếp tục giải thích.</p><p id="179">"Đúng như kỳ vọng về kiệt tác của Ellen Vator, không gian chứa lên tới 8.000 UB! Hơn nữa, chỉ cần đeo găng tay là có thể triệu hồi không gian con bất cứ lúc nào, vô cùng tiện lợi! Đây thực sự là một sản phẩm cách mạng trong dòng túi chứa đồ!"</p><p id="180">"...Hưm."</p><p id="181">Trái lại, Lorraine tỏ vẻ không mặn mà lắm.</p><p id="182">"Trông thì tiện đấy, nhưng phải có vách tường mới mở được không gian con là một hạn chế rõ ràng. Trong thực chiến, có nhiều trường hợp phải chiến đấu ở đồng bằng trống trải không có gì cả. Với lại Simon mới chỉ là người nhập môn nên chưa cần dung lượng lớn đến thế."</p><p id="183">"Kể cũng đúng."</p><p id="184">"Dung lượng nhỏ hơn cũng được, có cái nào sử dụng đơn giản hơn không?"</p><p id="185">Stephanie nhếch mép cười thay cho câu trả lời rồi bước đi. Bà tháo lớp kính của tủ trưng bày nằm ở vị trí cuối cùng.</p><p id="186">"Đây là sản phẩm thậm chí còn chưa được công bố ra thị trường. Tác phẩm mới nhất của Gellen Eclipse, người được mệnh danh là danh thủ trẻ tuổi thế hệ mới!"</p><p id="187">Thứ bà trân trọng nâng lên là một chiếc nhẫn. Về cơ bản nó có màu bạc, nhưng tùy theo hướng ánh sáng mà biến đổi sang màu tím hoặc xanh lục.</p><p id="188">"Mời quý khách đeo thử."</p><p id="189">"A, vâng!"</p><p id="190">Simon cẩn thận đeo chiếc nhẫn vào. Ánh sáng lấp lánh nhẹ nhàng tỏa ra thật đẹp.</p><p id="191">"Cách sử dụng rất đơn giản! Hãy truyền Hắc Lực vào chiếc nhẫn."</p><p id="192">Simon vận dụng Hắc Lực theo lời hướng dẫn. Chiếc nhẫn như một miếng bọt biển hút lấy Hắc Lực, chuyển từ màu bạc sang màu xanh đen thẫm.</p><p id="193">"Cảm giác thế nào ạ?"</p><p id="194">“…Tôi có cảm giác như nắm được một cái tay cầm ở phía dưới chiếc nhẫn."</p><p id="195">"Nó đã hoạt động đúng rồi đấy ạ! Hãy coi đó là cái cần gạt và kéo nó xuống xem."</p><p id="196">Simon nắm lấy cái tay cầm ảo đó và từ từ kéo về phía sau.</p><p id="197">Ngay sau đó.</p><p id="198"><em>Rầm rầm!</em></p><p id="199">Cùng với âm thanh như tiếng đá va vào nhau, một không gian mở ra theo chiều dọc ngay trên mặt sàn. Một luồng khí trắng như hơi nước bốc lên từ khe hở không gian.</p><p id="200">"...Oa!"</p><p id="201">Tim Simon bắt đầu đập thình thịch. Lần này đến cả Lorraine cũng phải lộ vẻ thán phục.</p><p id="202">"Không gian chứa là 4.000 UB, chỉ bằng một nửa sản phẩm trước, nhưng xét về mặt thực dụng thì vượt trội hơn hẳn! không gian con mở ra từ mặt đất, bất kể địa hình dốc hay gồ ghề đều không thành vấn đề. Bên trong không gian được yểm phép bảo quản cấp 1, phép điều chỉnh nhiệt độ cùng 7 loại ma pháp khác."</p><p id="203">"Chức năng phóng vật thể thì sao?"</p><p id="204">Lorraine hỏi.</p><p id="205">"Đương nhiên là có rồi! Mời quý khách thử nghiệm."</p><p id="206">Stephanie nhìn quanh tìm vật thích hợp, rồi phát hiện ra một con thỏ bông bị rách bông nằm lăn lóc ở góc phòng.</p><p id="207">"Ủa? Sao lại có búp bê ở đây?"</p><p id="208">"Cô cháu gái nghịch ngợm của tôi hay đến cửa hàng chơi ấy mà."</p><p id="209">Stephanie cười trừ rồi ném con búp bê vào trong không gian con.</p><p id="210">"Quý khách nói là tân sinh đúng không ạ? Để sử dụng chức năng phóng vật thể trong thực chiến thì cần phải luyện tập nhiều đấy. Nào, hãy vận dụng mana của không gian con với cảm giác như đang bao bọc lấy vật thể..."</p><p id="211">Simon điều khiển mana bao bọc lấy con thỏ bông y như lời bà nói.</p><p id="212">Không khó chút nào. Có lẽ do chiếc nhẫn tiếp xúc trực tiếp với cơ thể, nên mana của không gian con di chuyển tự do tự tại như chính mana trong cơ thể cậu vậy.</p><p id="213">" ...Chỉ cần bao bọc vật thể, mana sẽ tự động kích hoạt phép phóng bên trong. Bây giờ, hãy giải phóng luồng mana đang bao bọc vật thể như kiểu búng nó ra!"</p><p id="214"><em>Pưng!</em></p><p id="215">Con thỏ bông lao vút ra từ không gian con. Nó vẽ nên một đường cong hoàn hảo trên không trung rồi rơi xuống đất trong tư thế đứng thẳng tắp.</p><p id="216">Stephanie và Lorraine đồng thanh thốt lên kinh ngạc.</p><p id="217">"Tuyệt vời quá thưa quý khách!"</p><p id="218">"Làm tốt đấy! Có thật đây là lần đầu không vậy?"</p><p id="219">Tim đập nhanh đến mức cậu chẳng nghe rõ tiếng hai người họ nói gì. Cậu dường như đã hiểu tại sao không gian con lại là vật phẩm thiết yếu của Tử Linh Sư.</p><p id="220">Simon tưởng tượng ra cảnh mình mở không gian con và triệu hồi những Xác Sống trong tương lai gần.</p><p id="221">"Simon, cậu ưng ý không?"</p><p id="222">Lorraine bước lại gần mỉm cười. Simon sực tỉnh, gật đầu lia lịa.</p><p id="223">Đương nhiên là ưng rồi. Lần đầu tiên cậu khao khát muốn sở hữu một thứ gì đó đến vậy.</p><p id="224">Nhưng mà.</p><p id="225">Ánh mắt Simon len lén liếc về phía Stephanie.</p><p id="226">"...Cái không gian con này. Giá bao nhiêu vậy?"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274303-chuong-3-lorraine-arkbold" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3128399"
    class="ln-comment-item mt-3 clear"
    data-comment="3128399" 
    data-parent="3128399" 
    data-type="chapter" 
    data-typeid="274774">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u184263-e1f868e5-f7cf-4a2d-976f-e2100d63981e.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/184263">nhen67</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        không gian thứ nguyên 🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24312-tu-linh-su-thien-tai-cua-hoc-vien/c274774-chuong-4-khong-gian-con?comment_id=3128399#ln-comment-3128399"
                            class="text-slate-500">
                            <time class="timeago" title="17-12-2025 19:24:10"
                                datetime="2025-12-17T19:24:10+07:00">
                                17-12-2025 19:24:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ssoNfTMJpwPMGHxtLzjz8soQPE5dnKoD9Jy4ED1Y';
        var comment_type = 'chapter';
        var comment_typeid = '274774';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ssoNfTMJpwPMGHxtLzjz8soQPE5dnKoD9Jy4ED1Y';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24312');
    chapter_id = parseInt('274774');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Linh Sư Thiên Tài Của Học Viện',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ssoNfTMJpwPMGHxtLzjz8soQPE5dnKoD9Jy4ED1Y" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

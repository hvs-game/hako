<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Jujutsushi Wa Yuusha Ni Narenai - Chap 18 - Thử giết xem sao 3 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Ngày hôm đó, do sự xuất hiện của một sự kiện dị thường chưa từng diễn ra, 41 học sinh lớp 2-7 từ Cao trung Hakurei đã được triệu hồi tới thế giới khác, một dị giới đầy ma thuật. Bị chia cách và xuất hiện bên trong dungeon rộng...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="QiaCiCdRu8fEKtS8XXqPvpTeUL5K78pcLmQyNrtQ">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289734-chap-18-thu-giet-xem-sao-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289728-chap-17-thu-giet-xem-sao-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289739-chap-19-moi-song"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289734-chap-18-thu-giet-xem-sao-3" style="background: url('https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai">Jujutsushi Wa Yuusha Ni N...</a></h5>
                    <small><i class="fas fa-pen"></i>Hishikage Dairi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c112754-mo-dau">Chương 1: Học viện Hakurei, Năm 2 Lớp 7</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289522-chap-7-nhung-cuoc-tham-hiem-dungeon-dau-tien">Chương 2: Lợn</a></li>
                                        
                                                            <li class="current"><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/t35661-chuong-3-thuoc">Chương 3 - Thuốc</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289722-chap-15-vo-ky">
                                                                        Chap 15 - Võ Kỹ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289727-chap-16-thu-giet-xem-sao-1">
                                                                        Chap 16 - Thử giết xem sao 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289728-chap-17-thu-giet-xem-sao-2">
                                                                        Chap 17 - Thử giết xem sao 2
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289734-chap-18-thu-giet-xem-sao-3">
                                                                        Chap 18 - Thử giết xem sao 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289739-chap-19-moi-song">
                                                                        Chap 19 - Mồi sống
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289759-chap-20-bay-cua-goma">
                                                                        Chap 20 - Bẫy của Goma
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289760-chap-21-dien-cuong">
                                                                        Chap 21 - Cuồng hóa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289774-chap-22-dung-khi-va-dien-cuong">
                                                                        Chap 22 - Dũng khí và Điên cuồng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289785-chap-23-chu-thuat-su-va-cuong-chien-binh">
                                                                        Chap 23 - Chú Thuật Sư và Cuồng Chiến Binh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289796-chap-24-ban-be-tu-hop">
                                                                        Chap 24 - Bạn bè tụ họp
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 3 - Thuốc</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 18 - Thử giết xem sao 3</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289734-chap-18-thu-giet-xem-sao-3#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,944 từ - Cập nhật: 
                        <time class="topic-time timeago" title="13-01-2026 16:20:48" datetime="2026-01-13T16:20:48+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 18 - Thử giết xem sao 3</p>
                    <p id="1">“... Không khác tầng trên là mấy nhỉ.”</p><p id="2">Ừm, Futaba-san chỉ đáp lại ngắn gọn. Chẳng cần quay lại tôi cũng biết vẻ mặt cô ấy ủ dột và đang cúi gằm mặt xuống.</p><p id="3">Trong bầu không khí gượng gạo và khó xử đó, chúng tôi tiếp tục bước đi trên con đường đá đã quá quen thuộc.</p><p id="4">Sau khi nghỉ ngơi và ngủ một giấc, dù chẳng mấy hào hứng với cuộc thám hiểm Dungeon mịt mù hy vọng này, chúng tôi vẫn quyết định lên đường.</p><p id="5">Futaba-san dù đã ngủ dậy nhưng vẻ mặt ủ rũ chán nản vẫn chẳng hề thay đổi. Về phần mình, tôi đã cố gắng an ủi hết mức có thể, nói rằng tôi không để bụng chuyện cô ấy không giết được con chó đỏ, rằng đó là chuyện bất khả kháng, đồng thời giải thích về kỹ năng tinh thần.</p><p id="6">Nhưng mà chà, chỉ vài lời nói suông thì làm sao giúp con gái phấn chấn lên được... Tạm thời với phương châm mơ hồ là “chờ cơ hội tiếp theo”, chúng tôi vẫn tiếp tục rón rén tiến bước trong Dungeon.</p><p id="7">Cảm giác như đã đi bộ gần một tiếng đồng hồ rồi. Đi qua biết bao nhiêu hành lang đá dài dằng dặc, rẽ trái rẽ phải ở các ngã tư, đôi khi băng qua những mái vòm rừng rậm, chúng tôi cứ đi mãi.</p><p id="8">Trong suốt thời gian đó, lạ thay chúng tôi không gặp bất kỳ ma vật nào. Ngay cả bóng dáng một con Cuột Nanh cũng không thấy. Chẳng lẽ nhóm Lớp trưởng hay các bạn cùng lớp đi trước đã tiêu diệt sạch ma vật trên đường đi rồi sao?</p><p id="9">Nhưng mà, trong mái vòm rừng rậm vẫn nghe thấy tiếng chim kêu như quạ, nên có vẻ không phải tầng này hoàn toàn không có sinh vật sống.</p><p id="10">Chẳng lẽ chỉ đơn giản là may mắn thôi sao? Nếu vận may đang đến thì tôi cũng mong nó ban cho chúng tôi một cơ hội lên cấp tuyệt vời nhân dịp này——</p><p id="11">“Ah.”</p><p id="12">Tôi thốt lên khi vừa bước đến một khúc quanh. Ngay khoảnh khắc rẽ qua và tầm nhìn mở rộng, tôi vội thụt lùi lại về phía góc khuất như để trốn tránh 『thứ đó』 vừa lọt vào mắt.</p><p id="13">“Dừng lại.”</p><p id="14">Giật bắn mình, Futaba-san nén tiếng hét và dừng lại theo chỉ thị. Tôi vừa ra dấu tay “chờ đã” ra sau lưng, vừa rón rén nhìn trộm qua góc tường.</p><p id="15">“... Là Goma.”</p><p id="16">Cái cơ thể đen đúa bẩn thỉu như gián đó không thể nhầm lẫn được.</p><p id="17">Sau khúc cua hẹp này là một hành lang rộng lớn cỡ đường hai làn xe. Hai bên đường mọc những hàng cây xanh um tùm giống như trong mái vòm rừng rậm. Tuy nhiên, do không được chăm sóc nên cành lá mọc tua tủa, những cành cây vặn vẹo kỳ dị chiếm dụng một khoảng không gian đáng kể. Chỉ còn chừa lại khoảng một mét ở chính giữa đường là có thể đi qua.</p><p id="18">Phía bên kia hàng cây rậm rạp đó, ước chừng khoảng 30 mét, có một con Goma đang ở đó.</p><p id="19">“E, guueee... geaaaa!”</p><p id="20">“Hii!?”</p><p id="21">Tiếng hét sợ hãi của Futaba-san vang lên ngay sau lưng. Chà, chính tôi cũng suýt đứng tim khi nghe tiếng gào rú của con Goma vọng lại từ phía bên kia hành lang.</p><p id="22">“Không sao đâu, bình tĩnh đi Futaba-san. Con Goma đó sẽ không tấn công đâu.”</p><p id="23">“Eh, e-eh... Sao cậu biết?”</p><p id="24">“Nó ngã rồi.”</p><p id="25">Đúng vậy, con Goma đó đang nằm sấp, ngã gục ra đất.</p><p id="26">Tôi nhìn lại lần nữa để xác nhận, quả nhiên nó vẫn nằm bất động. Việc nó kêu lên chứng tỏ nó vẫn còn sống nhưng... nhìn kỹ thì xung quanh con Goma dường như có vũng máu loang ra.</p><p id="27">“Chắc là bị thương nặng, không cử động được nữa rồi.”</p><p id="28">Futaba-san cũng rón rén nhìn qua góc tường để xác nhận tình hình. Thị lực của tôi chưa đến mức phải đeo kính, và Futaba-san cũng không có thuộc tính cô gái đeo kính. Chắc chắn không nhìn nhầm vết thương của con Goma đâu.</p><p id="29">Xác nhận rõ ràng đến mức đó, dù cảm thấy căng thẳng và bất an, tôi vẫn nở nụ cười méo mó và lẩm bẩm.</p><p id="30">“Đây là cơ hội thứ hai.”</p><p id="31">“Hả, ý cậu là... chẳng lẽ...”</p><p id="32">“Giết con Goma đó.”</p><p id="33">Một con ma vật yếu ớt đi lẻ, cơ hội ngàn vàng hiếm có khó tìm đang ở ngay trước mắt. Không thể bỏ lỡ được.</p><p id="34">“Không sao đâu, cứ làm như lúc con chó đỏ là chắc chắn thành công.”</p><p id="35">“Nh-Nhưng mà... tớ...”</p><p id="36">Lại rơm rớm nước mắt, cơ thể to lớn run lên bần bật, chà, cũng đành chịu thôi. Vấn đề tinh thần vẫn chưa được giải quyết mà. Nếu thử lại bằng cách y hệt lúc nãy, chắc chắn cô ấy sẽ lại dừng tay.</p><p id="37">Và tôi cũng chưa nghĩ ra phương pháp đột phá nào kiểu “Cách kết liễu dành cho Futaba-san!”.</p><p id="38">“Vậy thì, lần này hai chúng ta cùng đâm.”</p><p id="39">Lần đầu tiên hai bạn làm việc chung, tạm đặt tên là Kỹ thuật đâm kiểu cắt bánh kem. Dù là nghĩ đại nhưng chẳng lẽ tôi không nghĩ ra cái nào hay ho hơn sao.</p><p id="40">“Ư, ừm... Tớ hiểu rồi! Nếu có Momokawa-kun làm cùng, lần này tớ nhất định sẽ cố gắng!”</p><p id="41">Hả, thật á, cậu thực sự có hứng thú với cái phương pháp ngớ ngẩn này sao? Chính tôi là người đề xuất nhưng mà... chà, thấy Futaba-san hừng hực khí thế đúng như lời nói, vậy là tốt rồi.</p><p id="42">Nào, nhân lúc nhiệt huyết chưa nguội, làm tới luôn đi. Biết đâu sau trận chiến này sẽ có màn lên cấp tuyệt vời giải quyết mọi phiền não.</p><p id="43">Trước tiên, tôi uống Hạt Sức Mạnh mà lúc nãy quên béng mất khi đối phó với con chó đỏ.</p><p id="44">Lời khuyên là nên nuốt chửng hạt cây nhỏ màu đỏ này chứ đừng nhai. Vì thịt quả chua khủng khiếp.</p><p id="45">“——Uu!? Ah!”</p><p id="46">Coi như tôi không thấy vẻ mặt nhăn nhó vì chua của Futaba-san đi. Dù đã cảnh báo trước, nhưng chắc do căng thẳng quá nên cô ấy lỡ cắn nát ra rồi.</p><p id="47">Dù sao thì, chuẩn bị đã xong.</p><p id="48">“Được rồi, đi thôi!”</p><p id="49">Nhìn phải, nhìn trái, nhìn phải lần nữa, xác nhận không có kẻ địch nào khác. Tôi và Futaba-san cùng lúc lao ra hành lang, chạy về phía con Goma đang nằm trong vũng máu.</p><p id="50">Hơi nóng trào dâng từ đáy cơ thể cho thấy hiệu quả của Hạt Sức Mạnh đã bắt đầu phát huy. Không phải kiểu nóng sốt bệnh tật, mà là cảm giác cơ thể nóng lên sau khi khởi động kỹ càng.</p><p id="51">Nhờ đó, dù đã mệt mỏi rã rời vì đi bộ nãy giờ, bước chân chạy trên nền đá vẫn nhẹ bẫng.</p><p id="52">“Ooo! Gebureaaa!?”</p><p id="53">“Kyaa—!”</p><p id="54">Hai đứa không có kỹ năng ẩn thân như sát thủ cứ thế đường hoàng chạy trên hành lang nên lập tức bị Goma phát hiện. Nó lườm chúng tôi bằng đôi mắt vàng đục ngầu, gào lên cái giọng chói tai không rõ là tiếng kêu hay ngôn ngữ.</p><p id="55">Futaba-san hét lên là do sợ phản ứng đe dọa đó của Goma chăng? Hay là do cành cây vướng vào cơ thể đẫy đà to gấp đôi tôi của cô ấy?</p><p id="56">Dù sao thì, con Goma không thể cử động cũng chẳng làm được gì ngoài la hét, chúng tôi đến được phạm vi tấn công của thương mà không gặp trở ngại gì.</p><p id="57">“——『Hắc Phát Phược』!”</p><p id="58">Trong lúc chạy, tôi đã niệm chú xong. Và ngay khoảnh khắc này, tôi kích hoạt chú thuật trói buộc. Có lẽ do đã dùng một lần nên tôi hình dung hiệu quả rõ ràng hơn và thực hiện trơn tru hơn lần đầu.</p><p id="59">『Hắc Phát Phược』: Dùng xúc tu tóc đen quấn lấy đối thủ. Tóc là sinh mệnh của thiếu nữ.</p><p id="60">Dòng mô tả hiệu quả hiện lên trong đầu vẫn là câu văn qua loa như thế, quả nhiên thực chiến là cách tốt nhất để thành thục. Đã ngắn gọn lại còn kèm theo cái dòng mô tả hương vị vô nghĩa, càng làm tôi bực mình.</p><p id="61">Gạt qua chuyện đó, như để chứng minh cảm giác thành công, 『Hắc Phát Phược』 hiện ra với hiệu quả rõ rệt hơn hẳn lúc dùng lên con chó đỏ.</p><p id="62">Từ vũng máu nơi con Goma nằm, những bó tóc đen mọc ra bồng bềnh, quấn chặt lấy toàn thân nó. Đặc biệt là hai tay bị cố định chặt xuống đất. Mái tóc đen bóng siết chặt lấy làn da đen nâu bẩn thỉu ken két.</p><p id="63">Lực trói và lượng xúc tu tóc tăng lên rõ rệt. Quả nhiên không phải do lên cấp mạnh hơn, mà là do tôi đã phát huy tốt hơn thông số vốn có của chú thuật.</p><p id="64">Nghĩ ngược lại thì có vẻ không thể tăng sức mạnh và số lượng hơn được nữa... nhưng chà, chắc chắn đây là chú thuật có tác dụng tức thì nhất hiện tại.</p><p id="65">Tóm lại, trói buộc hoàn tất. Giờ chỉ việc đâm thôi. Lần này khỏi cần dùng 『Xích Nhiệt Bệnh』. Đằng nào thì dùng hay không cũng chẳng khác biệt mấy.</p><p id="66">“Futaba-san, tớ hỏi cho chắc nhé, cậu có đâm một mình được không?”</p><p id="67">“Uu... kh-không được...”</p><p id="68">Đối lập với tôi đang giơ cao ngọn thương với tư thế sẵn sàng giết chóc, Futaba-san đang ôm chặt cây thương bằng đôi tay to khỏe như khúc gỗ trong tư thế thiếu nữ e lệ, run rẩy và cứng đờ.</p><p id="69">K-Kinh thật, cây thương gỗ khá to mà phần bị kẹp giữa ngực cô ấy hoàn toàn biến mất không thấy đâu...</p><p id="70">“Dungaaaa!”</p><p id="71">Uwa, xin lỗi nhé anh bạn Goma. Giờ không phải lúc chú ý đến chỗ đó.</p><p id="72">“Được rồi, vậy thì, từ từ, bình tĩnh... nắm lấy cái của tớ.”</p><p id="73">Chính xác là nắm lấy 『cây thương』 của tớ. Chẳng buồn đính chính câu nói dễ gây hiểu lầm, tôi chuyển từ tư thế giơ cao sang tư thế cầm thương như cầm xẻng xúc đất.</p><p id="74">Để thực hiện động tác hai người cùng nắm một cây thương đâm xuống đối thủ đang nằm, tư thế này là thuận tiện nhất.</p><p id="75">“Ư, ừm... chặt!”</p><p id="76">Cô ấy nói ra hiệu ứng âm thanh khi nắm chặt làm gì không biết. Để lấy khí thế hay theo đà hay chỉ là buột miệng thì cũng chẳng sao. Futaba-san với vẻ mặt sắp khóc đã nắm chặt lấy cây thương của tôi.</p><p id="77">Bằng một tay.</p><p id="78">“Cây thương của cậu cứ tạm thời để đó đi.”</p><p id="79">“Ah, đ-đúng rồi ha!?”</p><p id="80">Tiếng cạch cạch khô khốc vang lên khi cây thương bị vứt xuống đất.</p><p id="81">Lại lần nữa, cầm bằng hai tay. Cánh tay khẳng khiu của tôi và cánh tay lực lưỡng của Futaba-san, tổng cộng bốn bàn tay cùng nắm chặt một cây thương.</p><p id="82">“Phù, uu, guburuuu...”</p><p id="83">Tiếng thở dốc và tiếng rên rỉ vô nghĩa của con Goma lọt vào tai. Nhưng tôi lại cảm thấy không gian yên tĩnh đến lạ thường.</p><p id="84">Tôi và Futaba-san cứ thế cứng đờ trong tư thế cùng nắm cây thương. Do chênh lệch chiều cao khá lớn nên tư thế hơi bất tự nhiên, nhưng không ảnh hưởng đến việc đâm con Goma đang thoi thóp này.</p><p id="85">Chỉ cần một cú hích cuối cùng. Đó là sự giác ngộ để tung ngọn thương ra.</p><p id="86">“Haa haa... phù...”</p><p id="87">Liếc nhìn khuôn mặt cô ấy, nước mắt đã rơi lã chã. Nhưng hơn thế nữa, mồ hôi hột tuôn ra như mưa, vẻ mặt đau khổ như vận động viên marathon sắp về đích.</p><p id="88">Mồ hôi tuôn như suối chắc không chỉ do tác dụng của Hạt Sức Mạnh đâu.</p><p id="89">“Futaba-san, nhắm mắt lại.”</p><p id="90">“Ư... ừm...”</p><p id="91">Mục tiêu chỉ cách đầu mũi thương thô sơ chưa đầy 50cm. Dù nhắm mắt đâm xuống cũng trúng 100%.</p><p id="92">Vậy thì, nếu giúp giảm bớt cảm giác kháng cự, cứ bịt tầm nhìn lại cũng được.</p><p id="93">“Futaba-san, thả lỏng ra.”</p><p id="94">“... Ừm.”</p><p id="95">Nãy giờ Futaba-san nắm chặt cây thương đến mức sức lực của tôi chẳng làm nó nhúc nhích nổi, cứ thế run rẩy và cứng đờ.</p><p id="96">Thế này thì mãi chẳng đâm được.</p><p id="97">Bây giờ, điều cần thiết không phải là dũng khí và hành động tự tay giết ma vật của Futaba-san. Chỉ cần sự thật là cô ấy cũng đã đặt tay lên cây thương giết chết Goma.</p><p id="98">Trước mắt, chỉ cần thế là đủ. Hy vọng nó sẽ trở thành bước đệm để lần sau cô ấy có thể tự mình giết được.</p><p id="99">“Cứ nắm hờ thế thôi là được.”</p><p id="100">Một lúc sau, tôi cảm nhận được Futaba-san cuối cùng cũng thả lỏng lực. Thử di chuyển cây thương tới lui nhẹ nhàng, cánh tay Futaba-san cũng đung đưa theo. Đúng là chỉ đang nắm hờ.</p><p id="101">Được rồi, chuẩn bị cuối cùng đã hoàn tất.</p><p id="102">Với tôi, dù Goma có hình dạng quái vật nhưng vì là hình người nên cảm giác kháng cự vẫn lớn hơn lúc giết chó đỏ.</p><p id="103">Nhưng đó chỉ là cảm giác thôi. Tôi không còn cái tinh thần mong manh dễ vỡ đến mức do dự sát sinh lũ ma vật cỏn con này nữa đâu.</p><p id="104">“... Tớ làm đây, Futaba-san.”</p><p id="105">“Ừm, Momokawa-kun... xin lỗi cậu.”</p><p id="106">Sự dịu dàng của cô ấy thấm vào tim tôi.</p><p id="107">Đừng xin lỗi. Không sao đâu. Vì hành động của tớ chỉ đơn giản là kéo cậu cùng vấy bẩn thôi mà.</p><p id="108">Để tớ bảo vệ cậu. Nếu nói được câu đó thì ngầu hết sảy nhỉ.</p><p id="109">Nhưng chuyện đó là không thể. Cả về nhân cách lẫn năng lực của tớ.</p><p id="110">Nên thế này, là được rồi.</p><p id="111">“Yaaaaaaaa!”</p><p id="112">Cú đâm tung ra như để xua tan chút cảm giác ghê tởm bản thân, cảm giác chạm vào mục tiêu nhẹ hơn tôi tưởng.</p><p id="113">“——Mogyaaaaa!”</p><p id="114">Tiếng hét kinh hoàng vang vọng đến mức tưởng chừng nghe thấy khắp Dungeon. Hành lang đá vốn dĩ vang âm, nhưng hơn cả thế, tôi nghĩ con Goma bất động đã dồn toàn bộ sức sống cuối cùng vào tiếng kêu trăng trối đó.</p><p id="115">Cái miệng toác đến tận mang tai mở rộng hết cỡ, gào lên thảm thiết.</p><p id="116">Đầu thương cắm khá sâu vào sườn nó. Dù chỉ là cây thương gỗ vót nhọn bằng dao rọc giấy, nhưng nó thực sự đã xuyên thủng da thịt con Goma.</p><p id="117">Cảm giác xuyên qua dễ dàng đến mức hụt hẫng, là do cơ thể Goma mềm, hay do Hạt Sức Mạnh cường hóa sức mạnh cơ bắp? Lúc này tôi không đủ bình tĩnh để phân tích.</p><p id="118">“Thêm phát nữa!”</p><p id="119">Rút thương ra, tất nhiên máu tươi phun trào từ vết thương hở miệng. Không phải màu đỏ tươi, mà là vệt máu đục ngầu đen đỏ. Nhưng máu người có khi cũng thế này thôi.</p><p id="120">Máu bắn tung tóe lên đôi giày trong nhà đã bẩn thỉu sau một ngày đi bộ trong Dungeon và gấu quần đồng phục lấm lem bùn đất. Bẩn thêm tí nữa cũng chẳng sao, nhưng ngoài máu trào ra, từ vết thương còn rỉ ra thứ chất lỏng sền sệt kỳ lạ trông tởm lợm vô cùng, khiến tôi cảm thấy ghê tởm không chịu nổi.</p><p id="121">Ah, tởm quá, tởm quá. Kinh tởm, không muốn nữa đâu, tại sao tôi lại phải làm cái trò này ở cái nơi này chứ——</p><p id="122">Cố nuốt ngược sự bất mãn chực trào ra như nuốt bãi nôn, tôi tiếp tục đâm ngọn thương để kết liễu hoàn toàn con Goma.</p><p id="123">Thêm lần nữa, thêm lần nữa. Hai lần, ba lần... bao nhiêu lần cũng được. Đâm liên tục không suy nghĩ.</p><p id="124">“Gí! Iiiigeeaaa!”</p><p id="125">Sườn, bụng, ngực, cứ nhắm vào những bộ phận lớn mà đâm tới tấp bằng cây thương thô sơ. Mỗi lần tôi dồn sức tung thương, con Goma lại hét lên và quằn quại. Nhưng lời nguyền trói buộc không cho phép nó dù chỉ là lăn một vòng.</p><p id="126">Lẫn trong tiếng hét thảm thiết của con Goma, tôi cảm giác như nghe thấy cả tiếng hét của Futaba-san. Cảm giác như cô ấy đang gào khóc điều gì đó.</p><p id="127">Biết đâu đấy, tôi cũng đang hét lên.</p><p id="128">“Hộc... hộc...”</p><p id="129">Mệt hơn cả lúc đâm chết con chó đỏ.</p><p id="130">Khi cảm nhận được điều đó, cái xác thảm hại không còn hình thù nằm ngay dưới chân. Một bao tải thịt và máu bẩn thỉu đen ngòm. Giờ có đâm nữa nó cũng chẳng rên rỉ được tiếng nào.</p><p id="131">“Hức, hức... M-Momokawa-kun... xong chưa? Nè, đã... xong chưa?”</p><p id="132">Cơn khó thở và mệt mỏi như vừa chạy nước rút 400 mét khiến tôi phải mất một nhịp, không, phải đến ba nhịp mới trả lời được câu hỏi trong nước mắt của Futaba-san.</p><p id="133">“Xong rồi... Goma, chết rồi.”</p><p id="134">Nhìn sang thì thấy Futaba-san vẫn nhắm tịt mắt một cách nghiêm túc. Nhắm mắt mà nước mắt vẫn chảy được nhỉ. Một suy nghĩ vô tư lự lướt qua đầu tôi.</p><p id="135">“Đừng mở mắt vội.”</p><p id="136">“... Ừm.”</p><p id="137">“Cứ thế từ từ lùi lại phía sau.”</p><p id="138">“Ừm... ừm...”</p><p id="139">Xác chết không phải thứ để ngắm. Nhất là cái xác do chính mình giết.</p><p id="140">Vừa thực hiện sự quan tâm mang tính trốn tránh thực tại đó, tôi và Futaba-san đã thành công trong việc giết Goma.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289728-chap-17-thu-giet-xem-sao-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289739-chap-19-moi-song" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'QiaCiCdRu8fEKtS8XXqPvpTeUL5K78pcLmQyNrtQ';
        var comment_type = 'chapter';
        var comment_typeid = '289734';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'QiaCiCdRu8fEKtS8XXqPvpTeUL5K78pcLmQyNrtQ';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('15008');
    chapter_id = parseInt('289734');

    readingObject = {
        series_id: series_id,
        series_title: 'Jujutsushi Wa Yuusha Ni Narenai',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="QiaCiCdRu8fEKtS8XXqPvpTeUL5K78pcLmQyNrtQ" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

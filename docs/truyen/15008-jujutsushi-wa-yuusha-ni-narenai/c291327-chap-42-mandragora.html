<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Jujutsushi Wa Yuusha Ni Narenai - Chap 42 - Mandragora - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Ngày hôm đó, do sự xuất hiện của một sự kiện dị thường chưa từng diễn ra, 41 học sinh lớp 2-7 từ Cao trung Hakurei đã được triệu hồi tới thế giới khác, một dị giới đầy ma thuật. Bị chia cách và xuất hiện bên trong dungeon rộng...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="YuXSHycBbY9eBbXOgAI2FgLLTvHEMBcDYgpLmHub">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291327-chap-42-mandragora">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291318-chap-41-dam-lay-thoi-rua"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291340-chap-43-thu-thap-nguyen-lieu-bi-mat"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291327-chap-42-mandragora" style="background: url('https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai">Jujutsushi Wa Yuusha Ni N...</a></h5>
                    <small><i class="fas fa-pen"></i>Hishikage Dairi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c290627-bang-diem-danh-hoc-vien-hakurei-nam-2-lop-7">Chương 1: Học viện Hakurei, Năm 2 Lớp 7</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289522-chap-7-nhung-cuoc-tham-hiem-dungeon-dau-tien">Chương 2: Lợn</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289722-chap-15-vo-ky">Chương 3 - Thuốc</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289833-chap-25-no-hoa">Chương 4: Mãnh khuyển hai đầu</a></li>
                                        
                                                            <li class="current"><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/t35718-chuong-5-to-doi-harem-toi-te-nhat">Chương 5 - Tổ đội Harem tồi tệ nhất</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c290629-bang-diem-danh-hoc-vien-hakurei-nam-2-lop-7-2">
                                                                        Bảng Điểm Danh Học viện Hakurei, Năm 2 Lớp 7 (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291303-chap-40-di-vat-va-chien-loi-pham">
                                                                        Chap 40 - Di vật và Chiến lợi phẩm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291318-chap-41-dam-lay-thoi-rua">
                                                                        Chap 41 - Đầm lầy thối rữa
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291327-chap-42-mandragora">
                                                                        Chap 42 - Mandragora
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291340-chap-43-thu-thap-nguyen-lieu-bi-mat">
                                                                        Chap 43 - Thu thập nguyên liệu bí mật
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 5 - Tổ đội Harem tồi tệ nhất</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 42 - Mandragora</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291327-chap-42-mandragora#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,592 từ - Cập nhật: 
                        <time class="topic-time timeago" title="16-01-2026 23:31:39" datetime="2026-01-16T23:31:39+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 42 - Mandragora</p>
                    <p id="1">Tầng này có vẻ chỉ toàn Zombie và Skeleton.</p><p id="2">Skeleton thì vẫn lờ đờ, phản ứng chậm chạp và đòn tấn công đơn điệu như mọi khi, chẳng khác gì đám quái tép riu chạy bằng AI rẻ tiền. Còn về Zombie thì có hai loại đang lảng vảng: loại nhỏ là Zombie Goma, và loại có kích thước giống người trưởng thành hơn. Tuy bọn này không được trang bị vũ khí như Skeleton, nhưng hễ thấy chúng tôi là lại gào lên những âm thanh kỳ quái rồi lao thẳng tới tấn công, phiền phức vô cùng.</p><p id="3">Nếu đụng độ bất ngờ ngay khúc cua, chúng sẽ lao vào cắn xé không chút do dự khiến tôi nhiều phen hú vía. Nhưng Futaba-san thì khác, dù kẻ địch áp sát cỡ nào, cô ấy vẫn đủ bình tĩnh và bản lĩnh để chém gục từng con Zombie. Cho đến giờ, mọi cuộc tập kích bất ngờ đều được cô ấy xử lý gọn gàng.</p><p id="4">Chỉ cần không thất bại trong việc dò tìm địch thì Zombie cũng chẳng phải mối đe dọa lớn. Nếu phát hiện trước, tôi sẽ triển khai 『Đầm Lầy Thối Rữa』 chặn đường, rồi Futaba-san ném đá thu hút sự chú ý, thế là bọn chúng tự khắc lao vào bẫy.</p><p id="5">Nếu số lượng ít, chỉ cần đứng sau đầm lầy đợi, bọn Zombie sẽ tự nhảy vào và tan chảy. Nếu số lượng tăng lên khoảng năm con trở lên, xác của những con đang tan chảy trong đầm lầy sẽ trở thành cầu nối cho những kẻ đi sau vượt qua. Tuy nhiên, số lượng sống sót qua được cũng chẳng đáng là bao, rốt cuộc cũng chỉ làm mồi cho lưỡi rìu của Futaba-san.</p><p id="6">Trong trường hợp số lượng đông hơn nữa, tôi sẽ dùng 『Hắc Phát Thược』 hỗ trợ, như vậy cũng đủ để xử lý khá an toàn. Lũ Zombie này không biết phun lửa như Orthrus, cũng chẳng có móng vuốt sắc nhọn hay vũ khí bén, nên không dễ gì thoát khỏi sự trói buộc của tóc đen.</p><p id="7">Tất nhiên, nếu chỉ trói một cổ chân thì đôi khi chúng có thể dùng sức giật đứt để thoát ra. Vì thế, khi trói tôi luôn cố gắng bắt cả hai chân hoặc quấn chặt lấy thân mình.</p><p id="8">Cứ thế, chúng tôi săn Zombie khá dễ dàng. Khi đi hết hành lang lớn, trước mắt hiện ra một không gian rộng lớn có thể gọi là Khu Rừng Nghĩa Địa, tập trung một bầy Zombie khá đông. Nhưng chúng tôi cũng đã tiêu diệt sạch sẽ mà không gặp chút nguy hiểm nào.</p><p id="9">“Phù, cuối cùng cũng xong rồi, Momokawa-kun.”</p><p id="10">“Hạ thì dễ đấy, nhưng tốn thời gian thật.”</p><p id="11">Trong game cũng vậy, chiến thuật dụ từng con quái nhỏ trong bầy ra để tiêu diệt dần dần rất hay được dùng, nhưng rốt cuộc nó cũng chỉ biến thành một công việc nhàm chán. Cái suy nghĩ “muốn lên cấp nhanh hay kiếm vũ khí mạnh để quét sạch đám tép riu này trong một nốt nhạc” chỉ tồn tại vì đó là game thôi.</p><p id="12">“Tớ cảm giác như một mình tớ cũng xử lý được chừng đó con đấy.”</p><p id="13">“Nếu có cách hạ gục dễ dàng thì cứ làm thôi. An toàn và chắc chắn là trên hết. Mấy chuyện nguy hiểm thì cứ để dành cho lúc bắt buộc như đánh trùm đi.”</p><p id="14">Bởi vì đây không phải là game, mà là cuộc chiến sinh tử ngoài đời thực. Sự an toàn là thứ xa xỉ phẩm quý giá nhất không gì sánh bằng. Dù có tốn công, tốn thời gian, tôi cũng sẵn lòng làm những việc nhàm chán này.</p><p id="15">Điều đáng tiếc duy nhất là lũ Skeleton thì đã đành, ngay cả Zombie cũng chẳng thu hoạch được viên lõi nào.</p><p id="16">“Được rồi, đi thôi. Cảnh giác nhé, có thể vẫn còn Zombie nấp trong bóng cây đấy.”</p><p id="17">Sau khi tiêu diệt hết những con Zombie trong tầm mắt từ hành lang, chúng tôi mới bắt đầu bước vào Khu Rừng Nghĩa Địa.</p><p id="18">Gọi là nghĩa địa, nhưng thực chất chỉ là những cành cây cắm xuống nền đất của vòm rừng. Thoạt nhìn thì giống mộ, nhưng biết đâu lại mang ý nghĩa hoàn toàn khác.</p><p id="19">Ít nhất thì các cành cây đều có dấu vết bị bẻ gãy, chứng tỏ có bàn tay sắp đặt. Goma coi đây là nghĩa địa, hay có loài quái vật nào đó có tập tính bẻ cành cắm xuống đất? Chuyện đó thì tôi chịu.</p><p id="20">Nhưng khung cảnh cành cây cắm rải rác trên mặt đất quả thực gợi liên tưởng đến nghĩa địa. Đã thế, mấy tấm panel phát sáng trên trần nhà chỗ này hình như bị hỏng hay đang tiết kiệm điện mà tối om om. Làm ơn đừng có tạo bầu không khí kiểu đó giùm cái.</p><p id="21">“...Hm.”</p><p id="22">Vừa kiểm tra hướng đi bằng la bàn ma pháp trận, vừa cảnh giác quan sát cây cối xung quanh, bỗng nhiên ánh mắt tôi bị hút vào một điểm.</p><p id="23">“Futaba-san, dừng lại một chút.”</p><p id="24">Không hỏi “Sao thế?”, cô ấy chỉ đáp gọn lỏn “Ừ” rồi lẳng lặng vào vị trí bảo vệ sau lưng tôi. Cảm giác như khả năng hộ vệ của Futaba-san ngày càng trở nên điêu luyện thì phải.</p><p id="25">“Hmm.”</p><p id="26">Tạm gác lại những cảm nhận về Futaba-san, tôi chăm chú nhìn vào vật thể lạ kia. Đó là một loại cỏ màu xanh mọc ngay dưới chân một cành cây lớn cắm làm bia mộ. Thoạt nhìn chỉ như cỏ dại, nhưng dưới gốc lộ ra một phần trông như quả cây màu tím tươi rói đầy vẻ độc hại. Có vẻ nó được chôn dưới đất giống như củ cà rốt.</p><p id="27">Tò mò vì màu tím đó, tôi dùng Dược Học Trực Giác để kiểm tra...</p><p id="28">“Loài thực vật gần giống quái vật, có rễ mang hình người kỳ dị. Sử dụng một loại thần giao cách cảm phát ra tiếng ồn khó chịu để chống lại kẻ định ăn hoặc nhổ nó lên. Từ xa xưa đã được dùng làm linh dược, diệu dược, nhưng cũng là độc dược. Do đặc tính sinh thái đặc biệt, nó được cho là có tác dụng sâu sắc đến tinh thần con người.”</p><p id="29">Khác với những mô tả qua loa mọi khi, lần này Dược Học Trực Giác giải thích rất kỹ càng. Sao thế nhỉ, tra Wikipedia hay sao?</p><p id="30">Dù sao thì, bỏ qua sự thất thường của Dược Học Trực Giác, từ mô tả đó tôi chỉ có thể nghĩ đến một cái tên duy nhất.</p><p id="31">“Tóm lại, cái này chẳng phải là Mandragora sao?”</p><p id="32">“Ah, cái đó tớ từng nghe ở đâu rồi thì phải.”</p><p id="33">Cái tên này nổi tiếng mà. Là nguyên liệu quen thuộc trong game, cũng hay xuất hiện trong các tác phẩm giả tưởng khác.</p><p id="34">Loài cây giả tưởng có rễ hình người, khi nhổ lên sẽ hét thất thanh và kẻ nghe thấy sẽ chết. Còn gọi là Mandrake. Cũng có loài thực vật có thật cùng tên là nguyên mẫu của truyền thuyết này. Nhưng nghe mô tả thì đây chắc chắn không phải cây Mandragora của Trái Đất, cũng hơi khác so với trong truyền thuyết. Chắc là một loài biến thể đặc trưng của dị giới này.</p><p id="35">“Thử nhổ lên xem sao nhỉ.”</p><p id="36">“Hả, chẳng phải nhổ lên là chết sao!?”</p><p id="37">“Nó đâu có bảo là chết ngay đâu, chắc không sao đâu?”</p><p id="38">Cái đặc tính sinh thái “dùng thần giao cách cảm để kháng cự” nghe đúng chất giả tưởng. Tò mò không biết nó thế nào. Tất nhiên, với tư cách là một Chú Thuật Sư, tôi không đời nào bỏ qua loại dược thảo được mệnh danh là nguyên liệu làm thuốc xịn xò này.</p><p id="39">“Thật không đấy? Có ổn không? Nếu thấy nguy hiểm thì buông tay ra ngay nhé!”</p><p id="40">Mặc kệ Futaba-san đang lo lắng như bà mẹ bảo bọc con thái quá, tôi đưa tay nắm lấy lá cây Mandragora theo sự tò mò.</p><p id="41">“Haa!”</p><p id="42">Vừa hô vừa giật mạnh. Lập tức, một âm thanh kỳ quái vang lên trong đầu tôi, nghe như tiếng chim rít chói tai hay tiếng người hét giọng cao vút: “Kyoaaaaa!”.</p><p id="43">Ra là thế, đây là cái “tiếng ồn khó chịu do thần giao cách cảm” đó hả. Hừm, cũng thường thôi. Tiếng móng tay cào bảng hay kính còn khó chịu hơn nhiều. Với lại âm lượng sao bé thế nhỉ?</p><p id="44">“Ah, lên rồi này.”</p><p id="45">Nhận ra thì nó đã bật lên cái “pốc”, nhẹ hơn tôi tưởng.</p><p id="46">“Momokawa-kun, cậu không sao chứ!?”</p><p id="47">“À, ừ, không sao cả, hoàn toàn bình thường.”</p><p id="48">Tôi đung đưa củ Mandragora vừa thu hoạch, khoe với Futaba-san với vẻ mặt đắc thắng “Tớ nuôi nó đấy”.</p><p id="49">Nhìn kỹ thì đúng là giống hình người thật. Phần rễ chẻ đôi bên dưới trông như hai cái chân. Kiểu như củ cải gợi cảm hay thấy trên mạng ấy. Mà đại loại thế.</p><p id="50">Nhưng phần đầu có những chỗ lõm tròn như mắt và miệng, cộng thêm màu tím rực rỡ và bề mặt sần sùi, trông nó gớm ghiếc đến mức chẳng ai dám ăn. Quả thật với cái thứ này thì cảm giác chế được loại thuốc ghê gớm lắm.</p><p id="51">“Futaba-san thử không? Còn một cây nữa kìa.” “Eehh, có sao không đấy...”</p><p id="52">Miệng thì “Hể, nhưng mà…”, tay chân thì lúng túng, nhưng cuối cùng sau khi được tôi trấn an “Không sao đâu, ổn mà”, Futaba-san cũng thử nhổ.</p><p id="53">“Ah, lên rồi này!”</p><p id="54">“Ồ, tiếng hét thế nào?”</p><p id="55">“Chẳng nghe thấy gì cả.”</p><p id="56">“Đúng nhỉ”, chúng tôi vừa nói vừa vui vẻ vì thu hoạch Mandragora dễ dàng, thì dị biến xảy ra.</p><p id="57">Người nhận ra đầu tiên dĩ nhiên là Futaba-san đang dần phát huy những giác quan sắc bén của một Cuồng Chiến Binh.</p><p id="58">“Có gì đó ở đây.”</p><p id="59">Tôi nhanh chóng nhét hai củ Mandragora vào cặp, chuẩn bị tư thế sẵn sàng bỏ chạy bất cứ lúc nào.</p><p id="60">“Lùi về phía lối vào. Phía sau thế nào?”</p><p id="61">“Vẫn ổn, có vẻ chưa bị bao vây hoàn toàn... nhưng tớ cảm thấy khí tức từ hai bên trái phải.”</p><p id="62">Tiếc là tôi chẳng cảm nhận được cái khí tức đó. Nhìn trái nhìn phải cũng chỉ thấy khu rừng yên tĩnh.</p><p id="63">Ngoái lại phía sau, cách đó vài chục mét là lối vào dẫn từ hành lang đến khu rừng này.</p><p id="64">“Momokawa-kun, chạy đi!”</p><p id="65">Quay lưng bỏ chạy trước kẻ địch chưa biết mặt là hạ sách, tôi nghĩ vậy nhưng tôi tin vào khả năng phán đoán của Futaba-san. Trực giác chiến đấu của một Cuồng Chiến Binh như cô ấy đáng tin cậy hơn tôi gấp vạn lần. Mấy cái lý thuyết suông của tôi vứt xó đi là vừa.</p><p id="66">Ngay khoảnh khắc chúng tôi bắt đầu chạy không chút do dự, tiếng lá cây xào xạc dữ dội vang lên, lũ quái vật lao ra từ xung quanh.</p><p id="67">“Gâu gâu!”</p><p id="68">Tiếng kêu ồn ào như chó sủa phát ra từ những con quái vật có hình dạng chưa từng thấy.</p><p id="69">Thoạt nhìn, chúng có vóc dáng như loài khủng long ăn thịt tôi từng thấy trong sách tranh hồi nhỏ. Kích thước cỡ con người. Dáng đứng hai chân như thằn lằn, hai chi trước nhỏ như tay người, đuôi dài. Màu da xám xịt như bê tông, phần lưng mọc đầy những cái vảy ánh kim loại.</p><p id="70">Nhưng điểm đặc trưng, hay đúng hơn là dị hợm nhất, chính là cái đầu to quá khổ. Hộp sọ vuông vức như khối gạch. Cái miệng rộng ngoác lởm chởm răng cưa như bị xẻ đôi từ giữa. Giống như tiếng kêu, cái lưỡi dài thòng lòng như lưỡi chó đang nhỏ dãi nhớp nháp.</p><p id="71">Đôi mắt đỏ nhỏ xíu long sòng sọc, chúng lao vào chúng tôi với vẻ đói khát tột độ.</p><p id="72">“Là Goa!”</p><p id="73">Quái vật mới gặp lần đầu, nhưng tôi biết tên nó. Trước khi xuất phát, tôi đã kiểm tra thông tin cập nhật trên ma pháp trận.</p><p id="74">Goa là loài Địa Long cỡ nhỏ sống theo bầy đàn. Địa Long chắc là phân loại chỉ mấy con quái vật kiểu khủng long. Ăn tạp nhưng thích ăn thịt, chủ yếu ăn xác thối, nhưng hễ thấy con mồi vừa miệng là sấn sổ lao vào tấn công, rất hiếu chiến và hung dữ.</p><p id="75">Không có năng lực ma pháp đặc biệt, nhưng bù lại chúng sở hữu sức mạnh cơ bắp và nhanh nhẹn đặc trưng của loài Địa Long, dùng bộ hàm khổng lồ không cân xứng với cơ thể để kết liễu con mồi.</p><p id="76">Nguy hiểm là thế, mà có tới năm con xuất hiện. Có khi trong bụi rậm vẫn còn nữa. Tóm lại là khá đông. Nghĩ kiểu gì thì hai người cũng không xử lý xuể.</p><p id="77">Vụ này hơi căng rồi đây.</p><p id="78">“Aah!”</p><p id="79">Tiếng hét đầy khí thế của Futaba-san vang lên. Nhìn sang thì thấy con Goa vừa vồ lấy cô ấy đã bị hất ngửa bụng lên trời. Chắc là dính đòn phản công từ kỹ năng thứ hai của Hiệp Sĩ, 『Đỡ Gạt』.</p><p id="80">Con Goa ngã rầm xuống đất không chỉ bị hất văng mà còn dính trọn một cú bổ rìu, cái bụng trắng hếu không có vảy bị xẻ toạc, ruột gan đỏ lòm và máu tươi trào ra xối xả.</p><p id="81">Hạ gục một con nhanh gọn, nhưng đồng bọn của nó không có vẻ gì là sẽ bỏ cuộc vì chút tổn thất này.</p><p id="82">“Futaba-san!”</p><p id="83">“Không sao đâu, Momokawa-kun cứ lùi ra sau đầm lầy đi!”</p><p id="84">Trong lúc đám Goa phía sau dàn trận bao vây từ chính diện và hai bên cánh, nhờ chạy hết tốc lực mà tôi cũng lết được về gần lối vào hành lang.</p><p id="85">Tại đây có một cái 『Đầm Lầy Thối Rữa』 to tướng trải rộng sát mép hành lang mà tôi đã tạo ra để xử lý bầy Zombie. Lời nguyền này không thể tùy ý xóa bỏ, một khi đã tạo ra là nằm đó luôn. Tuy nhiên, khi tiếp xúc với không khí nó sẽ khô dần như sơn, khi khô hẳn sẽ mất độc tính và trở thành đất vô hại.</p><p id="86">Cái đầm lầy độc vừa dùng lúc nãy vẫn còn trong thời gian hiệu lực. Mặt nước đỏ đen sủi bọt ùng ục đầy đe dọa, chực chờ nuốt chửng con mồi tiếp theo.</p><p id="87">“Đây rồi!”</p><p id="88">Tôi men theo mép đầm lầy, cẩn thận để không bị ngã vào. Dù đã xác nhận kịch độc này không ảnh hưởng đến cơ thể tôi, nên lỡ có ngã vào cũng không bị tan chảy.</p><p id="89">Nhưng đó là nói về cơ thể, còn quần áo và trang bị thì không chắc. Tôi không cần cái dịch vụ fan-service kiểu bị slime tiêu hóa quần áo đâu nhé. Mất trang bị là vấn đề sống còn đấy, nghiêm túc đấy.</p><p id="90">Dù sao thì, gã Chú Thuật Sư yếu nhớt là tôi đã rút lui về nơi an toàn. Với kích thước của lũ Goa, chúng không thể đi bộ qua phần mép hẹp không có đầm lầy ở hai bên được.</p><p id="91">“――Hãy nguyền rủa thân xác này! 『Xích Nhiệt Bệnh』!”</p><p id="92">Vào vị trí hậu phương xong, giờ chỉ còn việc hỗ trợ Futaba-san hết mình. Trước mắt tôi tung ngay lời nguyền lên tất cả lũ Goa. Hiệu quả thì vẫn vi diệu như mọi khi. Chỉ biết cầu mong cho chúng chậm đi được chút nào hay chút nấy.</p><p id="93">“Yaaaa!”</p><p id="94">Chẳng biết hiệu quả hỗ trợ của tôi có tác dụng hay không, nhưng Futaba-san với cú vung rìu toàn lực đẹp mắt đã chém đứt đôi người một con Goa.</p><p id="95">Thế là xong hai con, còn lại ba con. Futaba-san đang đứng ở vị trí hơi xa lối vào một chút. Khoảng cách vừa đủ để tôi dùng 『Hắc Phát Thược』 hỗ trợ trong gang tấc. Với đà này, không cần tôi giúp cô ấy cũng có thể tự mình dọn dẹp hết―― Ủa, vây quanh Futaba-san chỉ còn hai con. Con còn lại đâu?</p><p id="96">“Uwa!?”</p><p id="97">“Gàoooooo!”</p><p id="98">Gào lên một tiếng chói tai, một con Goa lao ra trước lối vào hành lang. Con khốn này, nó bỏ qua Futaba-san để đuổi theo tôi!</p><p id="99">“Momokawa-kun, sổng mất một con rồi! Tớ sẽ――”</p><p id="100">“Tớ lo được, Futaba-san cứ xử lý bọn kia đi!”</p><p id="101">Nếu Futaba-san quay lưng lại để cứu tôi lúc này thì vị trí chiến đấu sẽ rất bất lợi. Hai con Goa kia đang rình rập ở cự ly sát sườn chờ thời cơ vồ tới, và quan trọng hơn, tôi thấy thấp thoáng trong rừng sâu có thêm ba, bốn con nữa đang ló mặt ra. Nếu để đám viện binh đó ùa vào tấn công cùng lúc thì đến Futaba-san cũng không trụ nổi.</p><p id="102">Thế nên, một con tép riu này, tôi phải tự mình giải quyết.</p><p id="103">“Sao nào, ngon thì nhào vô!”</p><p id="104">Đứng ở phía bên kia đầm lầy, tôi run giọng khiêu khích. Con Goa rõ ràng đang cảnh giác trước 『Đầm Lầy Thối Rữa』.</p><p id="105">Chậc, nếu là lũ Zombie ngu si thì đã lao đầu vào nước bùn đỏ lòm đáng ngờ này rồi, đằng này lại là quái vật có bản năng động vật hoang dã. Bản năng sinh tồn đang mách bảo nó về sự nguy hiểm.</p><p id="106">Nó khịt mũi đánh hơi, đi đi lại lại trước lối vào. Rồi bất ngờ nó lùi lại. Tưởng nó bỏ cuộc, ai ngờ nó quay đầu lại và bắt đầu chạy đà lao thẳng về phía tôi.</p><p id="107">Nó định dùng đà để băng qua―― Không, tôi đã nhìn thấu ý đồ của nó trong nháy mắt.</p><p id="108">“Đ-Đừng hònggg!”</p><p id="109">Đúng như dự đoán, con Goa tận dụng sức bật mạnh mẽ của đôi chân để nhảy vọt qua. Đầm lầy rộng khoảng 4 mét. Nam sinh cấp ba nhảy xa còn được 5 mét, thì con quái vật có đôi chân khỏe thế kia thừa sức nhảy qua. Nghĩa là, cái 『Đầm Lầy Thối Rữa』 cỡ này chỉ là chướng ngại vật cỏn con nó nhảy một phát là qua.</p><p id="110">Tất nhiên, nếu để nó nhảy qua được, tôi không đời nào đánh cận chiến lại con quái vật như khủng long thật này. Dùng 『Phản Hồi Sát Thương』 để chết chùm không được tính là chiến thắng.</p><p id="111">“Rơi xuống điiii!”</p><p id="112">Vì thế, tôi đã đánh rơi nó. Ngay khi nó đang ở giữa không trung, ngay trên tâm đầm lầy, tôi kéo nó xuống.</p><p id="113">Như một con quái vật ẩn nấp dưới đầm lầy từ trước, những xúc tu đen tuyền phóng lên. Dĩ nhiên, đó chính là những bím tóc của 『Hắc Phát Thược』.</p><p id="114">Trên đường đến đây, tôi đã dùng nó liên tục lên lũ Zombie dù Futaba-san không cần hỗ trợ, coi như luyện tập, nên giờ nó đã mạnh hơn hồi đánh với Orthrus. Dài hơn, to hơn, và trói chặt hơn.</p><p id="115">“Gyaooooaaaaa!”</p><p id="116">Tiếng nước bắn tung tóe dữ dội, con Goa đang nhảy và không thể phòng bị giữa không trung bị xúc tu tóc đen tóm gọn, kéo tuột xuống đầm lầy kịch độc. Tiếng xèo xèo tan chảy còn lớn hơn cả lúc lũ Zombie lao vào. Cũng phải, cơ thể nó to hơn Zombie nhiều mà.</p><p id="117">“Gaaaa! Gâu! Gàoooo!”</p><p id="118">“Im mồm, ngoan ngoãn... chìm xuống đi!”</p><p id="119">Tôi tiếp tục trói chặt con Goa đang giãy giụa bằng xúc tu tóc đen. Gọi thêm hai bím tóc nữa. Một cái trói cái đuôi đang đập nước bùm bụp, cái kia ghì chặt cái đầu đang nhe nanh gầm gừ. Tổng cộng ba sợi 『Hắc Phát Thược』 ghim chặt nó xuống đầm lầy có khả năng ăn mòn cực mạnh.</p><p id="120">Thấy chưa. Đây là combo tất sát mạnh nhất hiện tại mà tôi nghĩ ra sau khi nhận ra 『Hắc Phát Thược』 cũng giống cơ thể tôi, không bị ảnh hưởng bởi 『Đầm Lầy Thối Rữa』.</p><p id="121">“Gào! G... ừ...”</p><p id="122">Trận chiến ngã ngũ ngay trước khi nó kịp phá vỡ trói buộc. Lời nguyền của tôi vẫn chưa đủ mạnh để phong tỏa hoàn toàn sức mạnh của quái vật bằng sức mạnh thuần túy.</p><p id="123">Nhìn con Goa từng hung hăng là thế giờ nằm bất động, mất hết sức sống giữa đầm lầy độc, tôi ngẩn người ra một lúc vì cảm giác giải tỏa căng thẳng.</p><p id="124">“Haa... haa... Ah, Futaba-san đâu rồi!?”</p><p id="125">Giật mình nhớ ra trận chiến vẫn chưa kết thúc, tôi vội ngẩng đầu lên.</p><p id="126">“Momokawa-kun, cậu ổn chứ? Bọn chúng chạy hết rồi.”</p><p id="127">Nhìn sang thì thấy Futaba-san đang quay lại nhìn tôi với vẻ mặt lo lắng, xung quanh là xác của bảy con Goa nằm la liệt.</p><p id="128">Uwa, trong lúc tôi chật vật đấu sinh tử một chọi một, cô ấy đã hạ gục tận bảy con một cách nhẹ nhàng... Quả nhiên thiên chức chiến đấu thực thụ quá ghê gớm.</p><p id="129">“Ah, ừ... Tớ ổn, vẫn còn sống. Không bị thương gì cả.”</p><p id="130">“Vậy à, may quá. Thế để tớ đi tìm lõi nhé.”</p><p id="131">Nhìn Futaba-san mỉm cười rạng rỡ, tay cầm dao bắt đầu lục lọi xác lũ Goa, tôi thực sự nghĩ rằng có lẽ mình không thể sống thiếu cô ấy được nữa rồi.</p><p id="132">Futaba-san, cảm ơn cậu, lúc nào cũng vậy.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291318-chap-41-dam-lay-thoi-rua" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c291340-chap-43-thu-thap-nguyen-lieu-bi-mat" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'YuXSHycBbY9eBbXOgAI2FgLLTvHEMBcDYgpLmHub';
        var comment_type = 'chapter';
        var comment_typeid = '291327';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'YuXSHycBbY9eBbXOgAI2FgLLTvHEMBcDYgpLmHub';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('15008');
    chapter_id = parseInt('291327');

    readingObject = {
        series_id: series_id,
        series_title: 'Jujutsushi Wa Yuusha Ni Narenai',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="YuXSHycBbY9eBbXOgAI2FgLLTvHEMBcDYgpLmHub" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

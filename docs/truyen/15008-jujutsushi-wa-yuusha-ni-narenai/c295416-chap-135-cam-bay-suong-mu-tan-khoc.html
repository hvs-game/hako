<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Chú thuật sư không thể trở thành Dũng Giả - Chap 135 - Cạm Bẫy Sương Mù Tàn Khốc - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Ngày hôm đó, do sự xuất hiện của một sự kiện dị thường chưa từng diễn ra, 41 học sinh lớp 2-7 từ Cao trung Hakurei đã được triệu hồi tới thế giới khác, một dị giới đầy ma thuật. Bị chia cách và xuất hiện bên trong dungeon rộng...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="AEGLDplwyWtqr3oXkPTrlrURvk99CV8mcbcAOiUj">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295416-chap-135-cam-bay-suong-mu-tan-khoc">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295414-chap-134-khu-vuc-may-trang"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295416-chap-135-cam-bay-suong-mu-tan-khoc" style="background: url('https://i.hako.vn/ln/series/covers/s15008-1aaef4a3-9653-4ece-be8d-6e00554de69a.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai">Chú thuật sư không thể tr...</a></h5>
                    <small><i class="fas fa-pen"></i>Hishikage Dairi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c290627-bang-diem-danh-hoc-vien-hakurei-nam-2-lop-7">Chương 1: Học viện Hakurei, Năm 2 Lớp 7</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289522-chap-7-nhung-cuoc-tham-hiem-dungeon-dau-tien">Chương 2: Lợn</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289722-chap-15-vo-ky">Chương 3 - Thuốc</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c289833-chap-25-no-hoa">Chương 4: Mãnh khuyển hai đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c290629-bang-diem-danh-hoc-vien-hakurei-nam-2-lop-7-2">Chương 5 - Tổ đội Harem tồi tệ nhất</a></li>
                                        
                                                            <li class=" disabled "><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai">Chương 6 - Kẻ ăn thịt người</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c292180-chap-70">Chương 7 - Sát nhân</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c293122-chap-89-tendou-ryuichi-1">Chương 8 - Quyền lực của Vua</a></li>
                                        
                                                            <li class=""><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c293712-chap-103-himeno-airi">Chương 9 - Mê hoặc</a></li>
                                        
                                                            <li class="current"><a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/t35914-chuong-10-ao-anh">Chương 10 - Ảo ảnh</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c294685-chap-129-quan-the-di-tich-trong-rung-ram">
                                                                        Chap 129 - Quần thể di tích trong rừng rậm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c294689-chap-130-phao-dai-goma">
                                                                        Chap 130 - Pháo đài Goma
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c294781-chap-131-tran-chien-tai-phao-dai-goma">
                                                                        Chap 131 - Trận chiến tại Pháo đài Goma
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c294936-chap-132-thanh-am-da-nghe">
                                                                        Chap 132 - Thanh âm đã nghe
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295412-chap-133-nguoi-dan-ong-ban-linh">
                                                                        Chap 133 - Người đàn ông bản lĩnh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295414-chap-134-khu-vuc-may-trang">
                                                                        Chap 134 - Khu vực Mây Trắng
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295416-chap-135-cam-bay-suong-mu-tan-khoc">
                                                                        Chap 135 - Cạm Bẫy Sương Mù Tàn Khốc
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 10 - Ảo ảnh</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 135 - Cạm Bẫy Sương Mù Tàn Khốc</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295416-chap-135-cam-bay-suong-mu-tan-khoc#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,130 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-01-2026 19:18:05" datetime="2026-01-22T19:18:05+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 135 - Cạm Bẫy Sương Mù Tàn Khốc</p>
                    <p id="1">Đột nhiên, toàn bộ đồng đội biến mất không một dấu vết, tình huống cứ như phim kinh dị trinh thám vậy, nhưng có khóc lóc gào thét ở đây cũng chẳng giải quyết được gì. Điều cần thiết lúc này là hành động chính xác và nhanh chóng.</p><p id="2">“Phù, bình tĩnh nào... Trừ khi là hố bẫy hoặc dịch chuyển tức thời, nếu không thì chắc chắn họ chưa đi quá xa đâu.”</p><p id="3">Nếu là bị rơi xuống tầng dưới bằng hố bẫy thì việc hội quân sẽ rất khó khăn. Nếu là bị dịch chuyển bay đến nơi nào đó thì cũng khó khăn không kém. Thế nên, suy tính cách giải quyết cho những trường hợp đó chỉ tổ phí công.</p><p id="4">Vậy nên khả năng còn lại về cách mà các thành viên biến mất, có thể là bị ma thú bắt đi giống vụ Arachne lần trước, hoặc bị thao túng bởi thuật thôi miên hay ảo giác gì đó và tự dùng chân mình đi đến nơi nào đó.</p><p id="5">Thì đấy, cái màn sương màu hồng kia, nhìn kiểu gì cũng thấy giống thứ gây ra ảo giác.</p><p id="6">“Quay lại đường cũ, hay là đã đi sang ngả rẽ trái phải...”</p><p id="7">Cũng không loại trừ khả năng họ cảm nhận được nguy hiểm nào đó nên bỏ mặc tôi lại và cả đám cùng nhau chạy trốn về đường cũ. Nhưng không hiểu sao, tôi cảm giác không phải như vậy.</p><p id="8">Không phải vì tôi tin tưởng đồng đội hay có lý do gì về niềm tin rực lửa kiểu manga shounen đâu. Kẻ địch đã cất công chuẩn bị cả một căn phòng bẫy sương mù hồng thế này cơ mà. Chắc chắn không thể là một cái bẫy hời hợt để những kẻ đã đến tận đây dễ dàng chạy thoát như thế được.</p><p id="9">Và việc sương mù rút đi có nghĩa là con mồi ngốc nghếch đã sập bẫy trót lọt. Tóm lại, cái bẫy được chuẩn bị sẵn đang hoạt động đúng như thiết kế.</p><p id="10">Việc chỉ có mình tôi bình an vô sự, chà, chắc là nhờ có 『Vật Chứa Cổ Độc』.</p><p id="11">“Được rồi, đi tìm từ lối bên phải trước.”</p><p id="12">“Gugaga!”</p><p id="13">Hành động đơn độc đối với Chú Thuật Sư là rất nguy hiểm, nhưng chuyện đó giờ nói cũng bằng thừa. Đã lạc mất đồng đội thì dù có phải chịu chút rủi ro cũng phải đi tìm kiếm.</p><p id="14">Tôi giật dây cương Raptor, lao vào đại sảnh nơi sương mù đã tan hết và rẽ vào lối đi bên phải.</p><p id="15">Chúng tôi chạy qua hành lang được bao phủ bởi lớp mây xốp như cũ. Khung cảnh không có gì khác biệt so với những nơi đã đi qua.</p><p id="16">“Moaaaaa!”</p><p id="17">“Tránh raaa!”</p><p id="18">Thỉnh thoảng có vài tên người mây đứng chắn đường, tôi cứ thế cưỡi Raptor cán qua rồi bỏ chạy, đồng thời dạo quanh khu vực này một lúc.</p><p id="19">“Chết tiệt, khu vực này rộng một cách vô ích thật...”</p><p id="20">Nghĩ lại thì, đây là lần đầu tiên tôi phải đi lùng sục khắp một khu vực rộng lớn để tìm người mà không có la bàn dẫn lối. Cùng lắm trước giờ cũng chỉ thám thính quanh Quảng trường Tinh linh hay tuyến đường đến phòng Boss là hết mức.</p><p id="21">Những lúc thế này mới thấy tầm quan trọng của việc vẽ bản đồ.</p><p id="22">Khu vực mây trắng này chẳng có đặc điểm gì nổi bật, cực kỳ dễ lạc đường. Trước khi thực sự không biết đường về, tôi cảm thấy không ổn và vội vàng bắt đầu ghi chép đường đi vào sổ tay. Gặp nạn lần hai thì không đùa được đâu.</p><p id="23">“Không ổn rồi, quay lại chuyển sang tìm lối bên trái xem sa—”</p><p id="24">Tôi vốn đen đủi, chắc lại chọn sai đường ngay lần đầu rồi, vừa nghĩ vậy và định quay đầu thì đúng lúc đó.</p><p id="25">“——, A——”</p><p id="26">Có tiếng nói. Chắc chắn là tiếng người.</p><p id="27">“Rem, vừa rồi, có nghe thấy không?”</p><p id="28">“Kururu!”</p><p id="29">“Ra là vậy, tai của Raptor thính hơn à.”</p><p id="30">Phát hiện ra năng lực bất ngờ, tôi phó mặc cho con Raptor đang khẳng định là nghe rõ tiếng người hơn tôi, và bắt đầu tìm kiếm nguồn phát ra âm thanh.</p><p id="31">Dù chỉ nghe thoáng qua nhưng vẫn nằm trong phạm vi giọng người có thể vọng tới. Tìm một chút là thấy ngay.</p><p id="32">“Ở đây à.”</p><p id="33">Đó là một căn phòng trống không có gì đặc biệt, giống hệt bao căn phòng khác. Chỉ có duy nhất một lối vào. Từ bên trong vọng ra tiếng rên rỉ của đàn ông, hay nói đúng hơn là... giọng này là của Ueda.</p><p id="34">Tạm thời thì không phải tiếng la hét bi thảm, nên tôi nghĩ chắc không có cảnh tra tấn thê thảm hay bị Gouma ăn sống nuốt tươi tàn khốc nào đâu. Dựa vào giọng nói và âm thanh nghe được, tôi cảm giác cậu ta đang bị trói và giãy giụa giống như lúc tôi bị Arachne bắt.</p><p id="35">Ngoài tiếng rên của Ueda, không nghe thấy tiếng kêu hay tiếng bước chân của ma thú nào khác. Ở đây chỉ có một mình Ueda bị bắt, hoặc nếu có ma thú thì cùng lắm là một hoặc hai con.</p><p id="36">Để tránh bị đánh úp từ phía sau, tôi kiểm tra xung quanh lối vào phòng một lần nữa.</p><p id="37">Chỉ mong là Ueda này không phải ảo giác giả mạo.</p><p id="38">“Được rồi, xông vào luôn.”</p><p id="39">Rem và Raptor gật đầu cái rụp. Tính cả tôi là ba phần chiến lực. Dù có ma thú thì chắc cũng khống chế được ngay thôi.</p><p id="40">Vừa cầu nguyện đừng có con quái tép riu nào mạnh cỡ Arachne xuất hiện, tôi vừa phát động cuộc đột kích vào căn phòng.</p><p id="41">“Nhận lấy nàyyy! Tóc đen——”</p><p id="42">“Sakura! Sakuraaaaaa! Aaaaaaaaaaaaaaaaaahh!”</p><p id="43">Và, ở đó là một Ueda đang trần như nhộng và gào thét.</p><p id="44">Cái quái gì thế này. Tôi chưa bao giờ gặp phải tình huống nào mà não bộ không thể xử lý nổi những gì đang diễn ra trước mắt như lúc này.</p><p id="45">Bình tĩnh nào, tạm thời cứ hiểu những gì đang nhìn thấy theo đúng nghĩa đen đã.</p><p id="46">Đầu tiên là Ueda. Không hiểu sao lại đang gào tên của Souma Sakura. Và đang khỏa thân toàn tập.</p><p id="47">Ngay tại điểm này tôi đã muốn từ bỏ suy nghĩ rồi, nhưng tự nhủ đây là tình trạng bất thường do cái bẫy gây ra nên tôi cố gắng quan sát nghiêm túc.</p><p id="48">Ueda trong trạng thái biến thái đang nằm sấp giữa phòng, uốn éo kịch liệt. Đặc biệt là phần hông... chà, nếu chỉ có thế thì tưởng là đang tự xử với sàn nhà, nhưng bên dưới Ueda lại là một hình nhân màu trắng xốp xốp, đúng vậy, là một gã người mây.</p><p id="49">Chắc không phải vì tích tụ lâu ngày quá nên cậu ta đè con quái yếu nhớt người mây này ra làm bậy đâu nhỉ. Con này, đúng hơn nên nghĩ là kẻ đã dụ dỗ cậu ta.</p><p id="50">“Ah, ra là vậy, là mỹ nhân kế sao”</p><p id="51">Dựa vào tình hình này, đó là câu trả lời hợp lý nhất.</p><p id="52">Làn sương hồng kia là khí gas gây ảo giác cho con người. Và kẻ trúng ảo giác sẽ nhìn gã người mây này thành người mình thích, hoặc một người cực kỳ gợi cảm, và kết quả là ra nông nỗi này đây.</p><p id="53">Rốt cuộc, nếu cứ tiếp tục làm chuyện ấy trong giấc mộng xuân thì kết cục sẽ ra sao vẫn chưa rõ, nhưng chắc chắn chẳng tốt đẹp gì. Có lẽ gã người mây là loại ma thú hấp thụ ma lực.</p><p id="54">Mà này, nếu tôi dính cái bẫy này, liệu Mei-chan hay cô Rando sẽ hiện ra quyến rũ tôi không nhỉ. Nếu sau này tôi có bất lực ngã xuống ở đâu đó, tôi chắc chắn sẽ hối hận vì đã không chết trong cái bẫy này mất. Aaah, dù là mơ cũng được, tôi cũng muốn trải nghiệm dàn harem ngực khủng mà...</p><p id="55">“Thằng khốn Ueda, dám mơ đẹp một mình—— Nhận lấy, Tóc Đen Trói buộc!”</p><p id="56">Và chết đi, con Souma Sakura giả mạo kia! Này thì Sakura, chết đi!</p><p id="57">Với nỗi hận thù cá nhân tủn mủn đến mức có thể bị Ruinhilde-sama quở trách, tôi dùng tóc đen trói nghiến Ueda lại, kéo cậu ta ra khỏi gã người mây, rồi không chậm một giây xua Rem lên hạ gục con quái.</p><p id="58">Cảnh Ueda trần truồng bị trói tay chân lăn lóc thảm hại trên sàn và cảnh Rem dùng dao chém bay đầu gã người mây diễn ra gần như cùng lúc.</p><p id="59">“Môooooaaa...”</p><p id="60">Vang lên tiếng trăng trối trầm thấp đầy thảm hại, gã người mây xẹp xuống như quả bóng xì hơi rồi tắt thở.</p><p id="61">Giờ thì, vấn đề là liệu Ueda bị cưỡng chế ngắt quãng có tỉnh lại đàng hoàng không. Nãy do hăng quá nên tôi lỡ tay kéo ra hơi mạnh bạo, chứ mấy cái ảo thuật này, có kiểu mô-típ là nếu ép tỉnh dậy giữa chừng thì tâm trí sẽ không quay về được và hóa điên luôn. Nếu ảo thuật mỹ nhân kế của gã người mây thuộc loại thiết lập này, thì tôi chẳng khác nào gián tiếp giết Ueda...</p><p id="62">“Này, Ueda! Tỉnh lại đi!”</p><p id="63">“Uhkuh... Sa, Sakura?”</p><p id="64">“Thằng ngu này! Mặt tên này trông có giống thiếu nữ siêu xinh đẹp không hả! Tỉnh lại ngay cho tớ!”</p><p id="65">“...Hả!? Ơ, ơ kìa, Momokawa!? T-tại sao Momokawa lại ở đây, mà khoan, Sakura của tao đâu”</p><p id="66">Phù, may là dùng biện pháp mạnh vẫn ổn. Có vẻ loại ảo thuật này thuộc dạng đơn giản, cứ đánh là tỉnh.</p><p id="67">“Ueda, cậu dính bẫy của Dungeon và gặp ảo giác nãy giờ đấy”</p><p id="68">“Ả, ảo giác...? Đ, đùa, tao rõ ràng đang ở cùng Sakura...”</p><p id="69">“Đã làm chuyện ấy với Souma Sakura?”</p><p id="70">“Ư, c, cái đó thì... tại sao, mà khoan... ra là thế, haha, là mơ, à...”</p><p id="71">Oa, lần đầu tiên tôi thấy một người có biểu cảm bàng hoàng đến mức độ này đấy.</p><p id="72">Nhưng mà không thể cười phản ứng của Ueda được. Nếu là tôi mà được bộ đôi Futaba - Rando phục vụ trong mộng xuân, chắc tôi cũng sẽ khóc lóc gào thét đòi mơ tiếp mất. Ueda chấp nhận hiện thực nhanh thế này là còn khá khẩm chán.</p><p id="73">“Tạm thời thì, việc thất vọng và giải thích chi tiết, để sau khi cậu mặc đồ vào đã nhé?”</p><p id="74">“Uwa! Đ, đúng rồi ha, xin lỗi...”</p><p id="75">Với vẻ mặt xấu hổ tột cùng, hình ảnh Ueda lúi húi nhặt lại bộ đồng phục và đồ lót vứt lung tung quanh đó, với tư cách là một thằng đàn ông, trông thật thảm hại và bi ai không gì tả xiết.</p><p id="76">—</p><p id="77">“——Sự tình là như vậy, chắc chắn những người khác cũng đang bị dính bẫy, hay nói cách khác là đang bị làm tình làm tội đâu đó quanh đây thôi.”</p><p id="78">“Momokawa, giờ tha cho tao mấy cái chuyện tế nhị đó đi.”</p><p id="79">Thêm Ueda ỉu xìu vào nhóm, chúng tôi tiếp tục tìm kiếm các thành viên khác.</p><p id="80">Việc Ueda ở ngay khu vực này chứng tỏ nhận định của tôi là đúng, họ chưa đi quá xa. Có lẽ họ bị ảo giác của người mây dẫn dụ và tự đi bộ đến một chỗ thích hợp nào đó.</p><p id="81">Biết là họ ở gần thì cũng có thêm động lực tìm kiếm. Vừa kiểm tra và bổ sung vào tấm bản đồ khu vực tự vẽ, chúng tôi dần mở rộng phạm vi tìm kiếm.</p><p id="82">“Ah, nghe thấy tiếng rồi. Chắc là Nakai đấy.”</p><p id="83">Tuy không bằng Đạo Tặc, nhưng Kiếm Sĩ Ueda cũng có ngũ quan sắc bén. Thính hơn cả Raptor.</p><p id="84">“Đằng này.”</p><p id="85">Đi theo sự dẫn đường của Ueda, giọng nói đó cũng nhanh chóng lọt vào tai tôi.</p><p id="86">“Uooooo! Asuna! Anh bắn vào trong đâyyy!”</p><p id="87">Hừm, đối tượng của Nakai có vẻ là Kenzaki Asuna. Cái cô ả bạo lực hay gào mồm đó thì có gì tốt đẹp chứ.</p><p id="88">“Có vẻ đang đến đoạn cao trào, hay là chờ thêm chút nữa nhé?”</p><p id="89">“Lòng tốt đó tàn nhẫn quá đấy, Momokawa.”</p><p id="90">“Cậu nói vậy, có phải vì ghen tị do mình không bắn được không?”</p><p id="91">“Mày có thù hằn gì với tao hả!?”</p><p id="92">Trước đòn tấn công bằng chuyện hạ bộ của tôi, Ueda chỉ biết ôm đầu. Có sao đâu chứ, tôi đây còn chưa được mơ đẹp giây nào này.</p><p id="93">“Waaaa, r, ra rồi! Ra mất, ra——”</p><p id="94">“Rồi, Tóc Đen Trói Buộc—”</p><p id="95">Và giờ, lên đi, Kiếm Sĩ Ueda. Giết chết con Kenzaki Asuna giả mạo của gã người mây đi.</p><p id="96">“...H-hehe... Đùa, đúng không... Cái này, là chơi khăm thôi phải không.”</p><p id="97">Giống hệt lúc nãy, sau khi dùng vũ lực giải trừ ảo thuật, Nakai lầm bầm những lời vô hồn với đôi mắt trống rỗng, có vẻ cậu ta không muốn tin đây là hiện thực.</p><p id="98">“Nakai, tiếc quá, không phải đùa đâu.”</p><p id="99">“Này Nakai, đừng có mơ ngủ nữa, mau tỉnh lại đi.”</p><p id="100">“Kh, khốn kiếp... chết tiệt... Tao đã nghiêm túc, thực sự nghiêm túc thề sẽ bảo vệ Asuna mà...”</p><p id="101">“Aaah thật là, mấy chuyện đó bỏ qua đi, mau mặc quần áo vào.”</p><p id="102">“U-ugh...”</p><p id="103">Nakai vừa sụt sịt khóc lóc đầy ủy mị, vừa nhặt nhạnh bộ đồng phục vứt lung tung và mặc lại.</p><p id="104">Thiệt tình, mong cậu ta đừng có trở nên yếu đuối vì gái gú giống như Yamada. Đứng từ ngoài nhìn vào, thấy phiền phức vô cùng tận.</p><p id="105">Tuy nhiên, nói phũ phàng như vậy thì cũng hơi tội nghiệp.</p><p id="106">“...Ra là vậy, không chỉ đơn thuần là gợi dục, mà còn chuẩn bị cả kịch bản tình huống hẳn hoi cơ đấy.”</p><p id="107">Tôi đã nghe Ueda và Nakai kể chi tiết hơn về lúc trúng ảo thuật.</p><p id="108">Đầu tiên, ngay sau khi tôi đi tiên phong băng qua sảnh, sương mù màu hồng đã tràn qua lối vào và lấp đầy cả hành lang. Màn sương dày đặc khiến tầm nhìn hoàn toàn bị che khuất. Đã thế, còn nghe thấy tiếng gầm gừ của ma thú vọng lại từ bốn phía.</p><p id="109">Nghĩ rằng tình thế không ổn, họ bỏ chạy trong làn sương mù mịt đó, và kết quả là mọi người lạc mất nhau.</p><p id="110">“Uwa, tao vừa nghĩ là to chuyện rồi, thì...”</p><p id="111">“Từ phía bên kia hành lang, Asu, à nhầm, Kenzaki đầy thương tích đi tới.”</p><p id="112">“Của tao là Sakura-chan.”</p><p id="113">Tóm lại, từ lúc đó là bắt đầu ảo thuật thực sự.</p><p id="114">Dàn dựng một cuộc gặp gỡ tình cờ với người trong mộng, rồi đẩy tình huống lên cao trào bi kịch và tuyệt vọng khi chỉ có hai người với nhau.</p><p id="115">Sakura giả mà Ueda thấy, hay Asuna giả của Nakai, đều nói rằng tổ đội bạn bè của họ đã bị tiêu diệt hoàn toàn, chỉ còn mình họ sống sót chạy về được. Em không chịu nổi nữa rồi, cứu em với, em chỉ còn biết dựa vào anh thôi! Kiểu khơi gợi bản năng đàn ông như thế, rồi cứ thế mà lên giường...</p><p id="116">“Mấy cô nàng lẳng lơ ngủ với đàn ông vì lý do đó thì chỉ cần nữ chính phim Hollywood là đủ rồi.”</p><p id="117">“Im đi Momokawa, mày làm sao hiểu được cảm xúc của tao lúc đó chứ!”</p><p id="118">“Đúng đấy, tao đã thề, thực sự thề là sẽ bảo vệ Asuna đấy!”</p><p id="119">“Làm gì có cái diễn biến thuận lợi thế chứ.”</p><p id="120">“Tao biết thừa!”</p><p id="121">“Biết thì biết, nhưng mà...”</p><p id="122">“Thôi, xin lỗi, tớ hiểu cảm giác đó mà. Nếu tớ gặp tình cảnh đó chắc cũng bị lừa ngon ơ thôi.”</p><p id="123">Dù sao thì, đây cũng là loại ảo thuật khá cao cấp. Khó mà tin bọn người mây tự nghĩ ra được mấy kịch bản này, chắc là chúng lợi dụng ký ức của chính nạn nhân... kiểu như tự kỷ ám thị ấy hả? Vì tự bản thân bịa ra lý do xứng đáng để ngủ với cô gái này, nên dù có thuận tiện đến mấy cũng không thấy sai sai, và cũng chẳng nhận ra. Không, là không muốn nhận ra, giấc mơ ngọt ngào đến mức muốn tin đó là hiện thực.</p><p id="124">Nếu làm được trò này, thì có khả năng bản chất của làn sương hồng không chỉ đơn thuần là thành phần gây ảo giác như ma túy, mà còn là năng lực ma pháp kiểu như thần giao cách cảm.</p><p id="125">Ừ thì, ở dị giới mà ma pháp và nguyền chú tồn tại như cơm bữa thì có thần giao cách cảm cũng chẳng lạ.</p><p id="126">Khoan đã, nếu vậy thì chuyện 『Hiền Giả』 Takanashi Kotori nhìn thấu Thiên chức của chúng tôi, có khi nào không phải là soi bảng trạng thái như trong game, mà là đọc suy nghĩ bằng thần giao cách cảm không?</p><p id="127">Kể cả không phải thế, thì việc 『Hiền Giả』 sở hữu năng lực thần giao cách cảm kiểu này cũng không phải là không thể, tệ nhất là có khả năng cô ta đang giấu nhẹm chuyện đó đi... Tôi cứ tưởng cô ta chỉ là kẻ nhút nhát hoặc giả nai, nhưng lần tới hội quân phải cẩn thận hơn mới được.</p><p id="128">Ah, nhắc đến Takanashi Kotori mới nhớ...</p><p id="129">“Này, đối tượng của Shimokawa là...”</p><p id="130">“À, chắc chắn là Takanashi-san rồi.”</p><p id="131">“Ừ, không lệch đi đâu được.”</p><p id="132">Sau mười lăm phút tìm kiếm cùng Ueda và Nakai, chúng tôi đã bắt được giọng của Shimokawa.</p><p id="133">“Hộc, hộc... Ko, Kotori-chan, thế này thì hư quá, hư quá đi, ah, uaaaaa—!”</p><p id="134">Đến lần thứ ba thì đúng là ngán tận cổ. Vốn dĩ nghe tiếng rên rỉ của đàn ông đã chẳng lọt tai tí nào. Mấy gã diễn viên phim người lớn thích thể hiện tiếng rên làm ơn biến giùm đi.</p><p id="135">“Momokawa, coi như chút tình nghĩa cuối cùng.”</p><p id="136">“Để bọn tao làm cho.”</p><p id="137">“Ừ, nhờ hai cậu đấy.”</p><p id="138">Thú thật, công việc ngăn cản một thằng con trai trần truồng đang hứng tình đúng là việc vừa cực, vừa bẩn, vừa nguy hiểm, hội tụ đủ 3K (Kitsui - Kitanai - Kiken). Có người làm thay thì tôi sẵn sàng nhường ngay, và họ còn xung phong làm việc đó nữa chứ, ừm, Shimokawa, cậu có những người bạn tốt thật đấy. Ghen tị ghê, thật lòng đấy.</p><p id="139">Vừa ôm ấp cảm xúc kiểu như Higuchi, bộ ba Thượng Trung Hạ đã sớm tụ họp đầy đủ.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai/c295414-chap-134-khu-vuc-may-trang" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/15008-jujutsushi-wa-yuusha-ni-narenai" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'AEGLDplwyWtqr3oXkPTrlrURvk99CV8mcbcAOiUj';
        var comment_type = 'chapter';
        var comment_typeid = '295416';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'AEGLDplwyWtqr3oXkPTrlrURvk99CV8mcbcAOiUj';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('15008');
    chapter_id = parseInt('295416');

    readingObject = {
        series_id: series_id,
        series_title: 'Chú thuật sư không thể trở thành Dũng Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="AEGLDplwyWtqr3oXkPTrlrURvk99CV8mcbcAOiUj" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

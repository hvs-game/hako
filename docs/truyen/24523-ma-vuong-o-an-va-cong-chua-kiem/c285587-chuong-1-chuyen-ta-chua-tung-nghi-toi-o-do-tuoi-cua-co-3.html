<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Ma Vương Ở Ẩn Và Công Chúa Kiếm - Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="&quot;Ma Vương! Kết hôn với em đi!&quot; Những vị khách không mời cứ liên tục tìm đến nhằm tiêu diệt Ma Vương. Dưới quá nhiều áp lực, trong một phút cao hứng vì men rượu, Ma Vương đã bắt cóc nàng công chúa tám tuổi Kiiri. Sau nửa tháng chung...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="GUDZt1QXISFjeEXJwaV2UpJk0P2rVYC4iBMWg2IP">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24523-1ee54abd-3d50-4acb-8877-cf5e5c1e815e.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285567-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285624-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-4"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3" style="background: url('https://i.hako.vn/ln/series/covers/s24523-1ee54abd-3d50-4acb-8877-cf5e5c1e815e.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem">Ma Vương Ở Ẩn Và Công Chú...</a></h5>
                    <small><i class="fas fa-pen"></i>Biei</small>
                    <small><i class="fas fa-paint-brush"></i>Lpip</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/t35488-tap-1">Tập 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285535-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285544-chuong-0-lich-su-bat-dau-tu-men-ruou">
                                                                        Chương 0: Lịch sử bắt đầu từ men rượu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285554-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-1">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285567-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285624-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-4">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285645-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-5">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285669-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-6">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285673-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-7">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (7)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,816 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-01-2026 09:49:59" datetime="2026-01-05T09:49:59+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (3)</p>
                    <p id="1">"Chẳng lẽ cô định bắt cái thân già này lao động đấy à? Cô này. Dù vẻ ngoài có trẻ trung phơi phới đến đâu thì ta cũng đã hơn 400 tuổi rồi đấy, là 400 tuổi đó."</p>

<p id="2">Tôi định dùng ánh mắt ai oán để truyền tải nỗi niềm sâu sắc và khẩn thiết trong lòng... nhưng xem ra chẳng có chữ nào lọt được vào đầu Kiiri cả.</p>

<p id="3">Kiiri dúi chặt chiếc giẻ lau vào tay tôi rồi mỉm cười nhẹ nhàng.</p>

<p id="4">"Lau cửa sổ đi anh. Lau cho sạch bóng đến mức người ta tưởng không có kính ấy."</p>

<p id="5">"...Kiiri. Cô có biết câu 'kính lão đắc thọ' không hả?"</p>

<p id="6">"Lau cửa xong thì phiền anh giặt rèm cửa nhé. Em đang ngâm trong nước rồi."</p>

<p id="7">"...Này."</p>

<p id="8">"Dọn hành lang xong thì treo tranh lại chỗ cũ nha. Em đi chuẩn bị bữa sáng đây."</p>

<p id="9">"...Này, khoan đã."</p>

<p id="10">"Được rồi, thế nhé Ma Vương! Cố lên cố lên! Làm việc chăm chỉ nào!"</p>

<p id="11">"...Cố..., chăm chỉ..."</p>

<p id="12">Dáng vẻ nhún vai hô hào cổ vũ đáng yêu của Kiiri khiến tôi lỡ miệng hưởng ứng theo một cách mơ hồ. Phải đến khi Kiiri quay lưng đi, tôi mới giật mình thốt lên "Ái chà". Cái gì thế này. Cảm giác như vừa bị trúng bùa mê vậy... Tâm trạng khó tả, cực kỳ khó chịu và sai trái này rốt cuộc là sao đây. Chẳng lẽ tôi vừa bị một con nhóc 18 tuổi thả thính sao?</p>

<p id="13">Tôi thẫn thờ cúi xuống nhìn chiếc giẻ lau trong tay. Bắt một cụ già 400 tuổi làm công việc dọn dẹp phiền phức này ư. Thời tôi còn trẻ thì đây là chuyện cực kỳ khiếm nhã. Là chuyện đáng bị ăn đòn bằng phất trần đấy. Quả nhiên vấn đề nằm ở ngoại hình sao. Cái vẻ ngoài nổi bật chẳng giống ông già 400 tuổi chút nào của tôi ấy.</p>

<p id="14">— ...Cơ mà, tôi cũng chẳng thể gân cổ lên cãi là mình ghét dọn dẹp được.</p>

<p id="15">Nghĩ vậy, tôi đưa mắt nhìn về phía Kiiri. Cô bé đang chăm chú lau sàn nhà bằng cây lau. E là trước khi tôi tỉnh giấc, cô bé đã một mình tháo hết rèm, cuộn thảm, hạ tranh và tạt nước xà phòng lên sàn rồi cũng nên.</p>

<p id="16">Phải. Tôi giúp lau cửa sổ không phải vì bị Kiiri thả thính đâu... chỉ là tạm thời hùa theo sự ngoan ngoãn của cô bé chút thôi.</p>

<p id="17">Tôi hạ quyết tâm lớn lao, đang định niệm cấu trúc thức để di chuyển cái giẻ lau thì.</p>

<p id="18">"A đúng rồi. Cấm dùng ma thuật khi dọn dẹp đấy nhé!"</p>

<p id="19">Kiiri đang đẩy cây lau nhà ở cuối hành lang bỗng quay ngoắt lại nhìn tôi, buông một câu như sét đánh ngang tai.</p>

<p id="20">"Bởi vì việc dọn dẹp từ xưa đến nay đòi hỏi phải có thành tâm."</p>

<p id="21">"Ta tự tin là mình có thể niệm chú một cách vô cùng thành tâm."</p>

<p id="22">"Bác bỏ."</p>

<p id="23">Quyết đoán thật đấy. Thực đơn sáng nay là súp bí đỏ hay sao mà cứng nhắc thế.</p>

<p id="24">Dám bắt ta dùng giẻ lau, quả là cảm giác nhục nhã đã lâu không nếm trải. Cô là người phụ nữ đầu tiên dám tùy tiện sai bảo ta như thế đấy! ...Không phải đâu, nên tôi sẽ không rơi vào lưới tình như mấy cuốn tiểu thuyết lãng mạn đâu nhé. Với lại, đàn ông mà yêu vì bị sỉ nhục thì, mấy gã nam chính trong tiểu thuyết lãng mạn toàn là khổ dâm hết à? Tôi làm gì có lý do nào để rung động trước người phụ nữ bắt mình lao động chứ.</p>

<p id="25">— Phiền phức thật sự.</p>

<p id="26">Tôi siết chặt chiếc giẻ lau, buông tiếng thở dài thườn thượt.</p>

<p id="27">Tôi bước đến bên cửa sổ gần đó, vừa lau kính vừa tự nhủ lòng rằng từ nay về sau, dù bên ngoài có ồn ào đến đâu tôi cũng tuyệt đối không ló mặt ra xem. Cho dù ngoài cửa phòng ngủ có tiếng nổ hay tiếng hét thảm thiết, miễn là lâu đài chưa sập thì tôi quyết không bước ra nửa bước.</p>

<p id="28">Tôi vừa trút giận, vừa ra sức lau chùi như muốn mài mòn cả tấm kính.</p>

<p id="29">***</p>

<p id="30">Sau khi màn dọn dẹp hành lang nhạt nhẽo kết thúc.</p>

<p id="31">"Ma Vương... thật không ngờ anh lại là người như thế..."</p>

<p id="32">Kiiri nhìn tôi với vẻ mặt thất vọng tràn trề. Biểu cảm ấy giống như khi phát hiện ra dưới gầm giường của vị anh hùng mình từng ngưỡng mộ giấu đầy sách báo cấm, ảo tưởng vỡ tan tành. Trong vẻ u ám đó còn pha lẫn khá nhiều sự thương hại dành cho tôi, nói thật là rất khó chịu. Muốn gắt lên bảo đừng có làm cái mặt đó, nhưng đứng trước Kiiri, tôi chẳng thốt nên lời. Chỉ biết gục xuống bàn ăn như một cái xác không hồn.</p>

<p id="33">Thấy tôi thậm chí còn chẳng buồn phản bác, Kiiri thở dài.</p>

<p id="34">"Không ngờ thể lực của anh lại kém đến thế..."</p>

<p id="35">"...Cô phiền quá đi."</p>

<p id="36">Tôi áp má xuống bàn ăn, khó nhọc lầm bầm. Dù một phần là do cơ thể mệt mỏi không ngóc đầu lên nổi, nhưng phần lớn là do xấu hổ không dám ngẩng mặt lên.</p>

<p id="37">Thể lực của tôi đã cạn kiệt ngay khi đang lau dở cánh cửa sổ thứ năm.</p>

<p id="38">Cô có biết lau kỹ cái cửa sổ cao 2 mét là công việc nặng nhọc đến mức nào không hả! Tôi không thể cãi lại như thế được, bởi vì trong lúc tôi lau cái cửa thứ năm, Kiiri đã dọn xong sàn hành lang và giặt xong rèm cửa. Cô bé chạy đi chạy lại như bay, lau sàn bóng loáng, rồi một mình xử lý gọn ơ đống rèm cửa vốn định giao cho tôi. Khi Kiiri quay lại hành lang với vẻ tươi tỉnh như thường lệ sau khi đã xong xuôi mọi việc, thì tôi đã cạn sạch thể lực, bất đắc dĩ cầm giẻ lau mà đột tử ngay trên sàn nhà.</p>

<p id="39">Kết quả là tôi phải nhờ Kiiri dìu vào phòng ăn. Thật mất mặt.</p>

<p id="40">"Đến tuổi ta thì em sẽ hiểu thôi. Xem có khổ hay không."</p>

<p id="41">"Nhưng em nghĩ xác suất em sống được đến tuổi Ma Vương là rất thấp."</p>

<p id="42">"Thế nên ngay từ đầu cứ để ta dùng ma thuật thì đâu đến nỗi? Nếu em không bày đặt dọn dẹp thành tâm gì đó thì ta đã sớm... Ọe!"</p>

<p id="43">Nói nhiều quá một lúc khiến tôi hoa mắt chóng mặt mà buồn nôn.</p>

<p id="44">Thật sự quá thảm hại. Lòng tự trọng không chỉ rơi xuống đất mà còn lăn lóc vào cái lỗ đầy bụi nào rồi.</p>

<p id="45">"Đừng có trách em. Chẳng phải tại anh hoàn toàn không vận động sao? Ma Vương mà yếu ớt thế này thì người đời sẽ nghĩ sao đây? Thể lực cơ bản là phải có chứ. Quan trọng lắm đấy."</p>

<p id="46">Họ nghĩ sao thì kệ họ, miễn là cô im lặng giùm ta chút đi.</p>

<p id="47">Còn thừa sức để mà liến thoắng ồn ào thế kia, con nhỏ này không phải người đâu.</p>

<p id="48">"Cho nên ăn sáng xong thì chúng ta cùng hô 'hai ba dô' rồi cố gắng làm cho xong cái vụ tổng vệ sinh nhé? Biết chưa nè?"</p>

<p id="49">Tổng vệ sinh, vẫn chưa xong sao!</p>

<p id="50">Kiiri mỉm cười ngọt ngào thốt ra lời nói kinh dị. Tất nhiên đầu óc tôi đang quay cuồng nên đành áp cổ xuống bàn ăn mà không thể trả lời. Dù trong lòng đang chửi thầm cả trăm câu.</p>

<p id="51">Tôi từng nghĩ Kiiri ở lại lâu đài sống chung thì chỉ hơi phiền một chút thôi.</p>

<p id="52">Tôi sai rồi. Thật sự là rất phiền phức.</p>

<p id="53">Trong khoảng thời gian đó, Kiiri bắt đầu chuẩn bị bữa sáng. Trên bàn bày biện salad và bánh mì, cùng đủ loại món xào, món nướng, món hầm. Món chính là một nồi súp khổng lồ được bê nguyên ra. So với các loại nồi trong lâu đài của tôi thì cái này thuộc hàng ngoại cỡ. Mùi thơm nức mũi tỏa ra từ nồi súp đang hầm thứ gì đó bên trong.</p>

<p id="54">Như bị mùi hương quyến rũ, lúc này tôi mới rón rén ngồi dậy.</p>

<p id="55">"Sáng sớm ngày ra mà sơn hào hải vị gì đây. Chỗ ta làm gì có nguyên liệu nào nấu được thế này đâu."</p>

<p id="56">Sống ru rú trong thành không bước chân ra ngoài, thực đơn ăn uống của tôi quanh đi quẩn lại chỉ có rau củ trồng ở vườn sau hay hoa quả hái từ cây cối quanh lâu đài. Thi thoảng cũng có thú nhỏ sập bẫy, nhưng đó là lộc trời cho, mỗi năm chỉ được một hai lần. Đào đâu ra nguyên liệu cao cấp để mà nấu nướng sang trọng chứ.</p>

<p id="57">Vậy mà Kiiri thản nhiên mở nắp nồi, đáp rằng:</p>

<p id="58">"Em biết chứ. Dù sao thì chuyện 10 năm trước ngày nào cũng ăn cỏ, cỏ, cỏ và cỏ vẫn in đậm trong trí nhớ em mà. Thế nên khi đến đây em đã chuẩn bị sẵn một số nguyên liệu cơ bản rồi."</p>

<p id="59">Hóa ra cái bọc hành lý to bất thường hôm qua là chứa lương thực.</p>

<p id="60">"Tại sao ký ức 10 năm trước thốt ra từ miệng cô toàn chuyện u ám thế hả. Rõ ràng là thế mà cô vẫn muốn kết hôn với ta, cô bị làm sao vậy?"</p>

<p id="61">"Vậy sao? Câu hỏi hay đấy. A a, người đàn ông này nếu không có mình nuôi thì sớm muộn gì cũng sa ngã, chắc là tình mẫu tử của em bị kích thích chăng?"</p>

<p id="62">"Lý do chẳng lọt tai chút nào."</p>

<p id="63">"Mà, món chính được làm từ nguyên liệu của Ma Vương đấy, anh cứ mong chờ đi!"</p>

<p id="64">Kiiri vừa nói những lời khơi gợi sự tò mò vừa cầm lấy cái muôi. Tôi, kẻ bị lao động khổ sai hành hạ từ sáng sớm đến mức chết đi sống lại, vừa nuốt nước miếng ừng ực vừa dán mắt vào đầu ngón tay Kiiri. Tâm trạng tôi lúc này là cái gì cũng có thể nhai tuốt.</p>

<p id="65">Kiiri cuối cùng cũng dùng cái muôi đang ngâm trong nồi súp từ từ múc ra món ăn bí ẩn khiến tôi tò mò và phấn khích nãy giờ.</p>

<p id="66">Chân tướng của thứ đó là, sở hữu mùi thơm ngào ngạt thường thấy ở các nhà hàng cùng thớ thịt béo ngậy mềm mại...</p>

<p id="67">Gà.</p>

<p id="68">Gà. Con gà quý báu tôi nuôi trong chuồng gà sau lâu đài đã bị luộc nguyên con. Kích thước cũng không phải dạng vừa. Con gà sở hữu thân hình to lớn đáng tự hào ấy, rõ ràng là...</p>

<p id="69">"A... Ameliaaaaaaaaaaaa!!"</p>

<p id="70">Tôi bật dậy khỏi ghế, gào lên cái tên ấy bằng giọng thảm thiết.</p>

<p id="71">Amelia của tôi, cô gà mái hôm qua còn đẻ cho tôi quả trứng nóng hổi, còn ngoan ngoãn ngồi trong chuồng, giờ đây đang khép đôi chân một cách thanh thản, lớp da dai bóng lưỡng, nằm ngoan ngoãn trên đĩa.</p>

<p id="72">Sét đánh giữa trời quang sao. Nguồn cung cấp trứng vốn đã ít ỏi của tôi cứ thế mà tan biến hư vô...!</p>

<p id="73">"Amelia! Amelia, tỉnh lại đi! A a...! Cô đã làm gì Amelia của ta thế hả!"</p>

<p id="74">"Không sao, không sao. Vẫn còn mấy con gà mái nữa mà."</p>

<p id="75">"Vấn đề không nằm ở chỗ đó! Amelia không phải là con gà bình thường! Nó là đồng nghiệp quan trọng mà chính tay ta đã dùng máy ấp để ấp nở đấy! Ta đã dõi theo toàn bộ quá trình trưởng thành từ khi còn là gà con cho đến lúc đẻ quả trứng đầu tiên, nó là con gà quý giá như con gái ta vậy!"</p>

<p id="76">"Đừng có đặt tình cảm vào nguyên liệu nấu ăn."</p>

<p id="77">"Đừng có gọi nó là nguyên liệu!"</p>

<p id="78">Đồ đàn bà tàn nhẫn! Còn đáng sợ hơn cả Ma Vương! Đồ máu lạnh vô tìnhhhhhhh!</p>

<p id="79">Tuy nhiên, đối mặt với cơn thịnh nộ của tôi, Kiiri vẫn bình chân như vại. Dù sao với cô ấy, Amelia chỉ là một khối nguyên liệu mập mạp, thích hợp để lấp đầy cái bụng đói một cách thịnh soạn mà thôi.</p>

<p id="80">"Ưm..., được rồi. Vậy thì chúng ta hãy cùng mặc niệm ca ngợi tinh thần cao cả của Amelia đã hy sinh để lấp đầy cái bụng đói của chúng ta nhé."</p>

<p id="81">Nói rồi, Kiiri cúi đầu mặc niệm một cách đầy nghiêm túc. Ngay trước mặt Amelia đang bốc khói nghi ngút và trần trụi. Chuyện hoang đường, dở khóc dở cười khiến tôi chẳng thốt nên lời.</p>

<p id="82">Sau phút mặc niệm ngắn ngủi, Kiiri ngẩng đầu lên, có lẽ để chặn cái miệng đang định lải nhải tiếp của tôi, cô dùng tay không xé toạc cái đùi phải của Amelia, nhét mạnh vào miệng tôi.</p>

<p id="83">"Nào, mời anh ăn ngon miệng."</p>

<p id="84">Chưa kịp từ chối thì cái đùi phải của Amelia đã lấp đầy khoang miệng tôi.</p>

<p id="85">Và rồi.</p>

<p id="86">...Hương vị này!</p>

<p id="87">Đó là hương vị kinh ngạc khiến đôi mắt lờ đờ phải mở to trừng trừng, rót sức mạnh mới vào tứ chi đang rã rời. Gần như mê muội, tôi cắn một miếng thật lớn vào cái đùi Amelia đang ngậm trong miệng, dưới lớp da thơm dai, thớ thịt trắng mềm tan chảy trong miệng. Chẳng cần nhai nhiều, khối thịt nhẹ nhàng trôi tuột xuống cổ họng. Và cuối cùng là dư vị ngọt ngào pha chút cay nồng của gia vị đọng lại nơi đầu lưỡi.</p>

<p id="88">A a, đây là... Bình minh rạng rỡ khi mặt trời nhô lên từ đỉnh núi phía Đông. Là hương vị lay động lòng người không thể kìm nén, tựa như đang chứng kiến thiên đường của loài gà tự do và xinh đẹp, nơi Amelia đang rướn cổ gáy vang "Ó ó o!" trên sườn đồi rộng lớn không rào cản.</p>

<p id="89">"Vị thế nào?"</p>

<p id="90">"Ngon tuyệt."</p>

<p id="91">Nhồm nhoàm nhồm nhoàm, tôi vừa nhai đùi gà vừa trả lời, Kiiri ngồi đối diện nhìn tôi với nụ cười mãn nguyện. Tôi như bị bỏ bùa, ra sức nhai thớ thịt dày của cái đùi gà, cảm giác no nê và hạnh phúc khó tả khi nuốt ực xuống cổ họng... Khoan đã, chờ chút!</p>

<p id="92">Đây không chỉ đơn thuần là "gà"! Là Amelia! Amelia của tôi!</p>

<p id="93">Tỉnh táo lại đi, tôi ơi! Dù thịt đùi Amelia có dai ngon đến mấy thì cũng không được đầu hàng tại đây! Đấu tranh, phải rồi! Tôi phải đấu tranh để lấy lại tôn nghiêm cho Amelia!</p>

<p id="94">"Ng, ngon thì ngon thật, nhưng hành động này quá tàn nhẫn! Cô đã phạm phải tội ác tày trời!"</p>

<p id="95">Tôi đập bàn cái "Rầm!", hét lên. Dù đối mặt với tiếng gào thét phẫn nộ của tôi, Kiiri vẫn ngậm cái nĩa trong miệng, thản nhiên đáp.</p>

<p id="96">"Hưm, cái này em cũng đồng ý. Nếu tẩm thêm bột đậu phộng thì chắc sẽ ngon một cách tày trời hơn nhỉ?"</p>

<p id="97">"Bột đậu phộng. Ừ, đúng là thế sẽ tăng thêm vị bùi... Không, không được! Tày trời đâu phải dùng theo nghĩa đó!"</p>

<p id="98">"Dù sao thì thế giới này là mạnh được yếu thua. Kẻ yếu bị kẻ mạnh ăn thịt là lẽ đương nhiên. Xét theo ý nghĩa đó thì Amelia yếu hơn hẳn so với em... Phù, cô nàng đúng là một đối thủ đáng gờm. Em sẽ không quên đôi cánh vùng vẫy kháng cự và cú đá trước đầy uy lực đó đâu."</p>

<p id="99">"Đừng có gọi là 'cô nàng', nghe tàn nhẫn lắm!"</p>

<p id="100">"Sao chứ, rốt cuộc là ai đang đặt nặng tình cảm đây? Dù có phủ nhận thế nào thì Ma Vương hiện tại trông cứ như sẽ ăn sạch cái đùi chắc nịch của 'cô nàng', đôi cánh thơm phức của 'cô nàng', bộ ức đầy đặn của 'cô nàng' và... tóm lại là tất cả của 'cô nàng' vậy."</p>

<p id="101">"Sao có thể...! Ta... Ta đúng là gã khốn nạn như ác quỷ... Hu hu!"</p>

<p id="102">Cảm giác xấu hổ và tuyệt vọng dâng trào khiến tôi phải lấy tay che miệng để kìm nén tiếng khóc. Trong đầu tôi, đúng như Kiiri nói, đang vẽ ra viễn cảnh tôi đưa từng bộ phận của Amelia vào miệng, nhâm nhi thưởng thức kỹ càng. Dù biết thế là thất lễ với Amelia, nhưng tôi không thể nào dừng sự tưởng tượng đó lại.</p>

<p id="103">A a, Amelia đáng thương. Dù chỉ là tưởng tượng nhưng ta cũng đã giày xéo em rồi...</p>

<p id="104">Nhưng mà em ngon đến mức khiến ta phạm tội! Hãy tha thứ cho ta!</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285567-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285624-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-4" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3151617"
    class="ln-comment-item mt-3 clear"
    data-comment="3151617" 
    data-parent="3151617" 
    data-type="chapter" 
    data-typeid="285587">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua93036-7eb5f004-af7f-43e7-a1d0-1b916a301614.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/93036">TheLazyStalker</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        =)) hài vcl
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3?comment_id=3151617#ln-comment-3151617"
                            class="text-slate-500">
                            <time class="timeago" title="05-01-2026 09:54:27"
                                datetime="2026-01-05T09:54:27+07:00">
                                05-01-2026 09:54:27
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'GUDZt1QXISFjeEXJwaV2UpJk0P2rVYC4iBMWg2IP';
        var comment_type = 'chapter';
        var comment_typeid = '285587';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'GUDZt1QXISFjeEXJwaV2UpJk0P2rVYC4iBMWg2IP';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24523');
    chapter_id = parseInt('285587');

    readingObject = {
        series_id: series_id,
        series_title: 'Ma Vương Ở Ẩn Và Công Chúa Kiếm',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="GUDZt1QXISFjeEXJwaV2UpJk0P2rVYC4iBMWg2IP" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

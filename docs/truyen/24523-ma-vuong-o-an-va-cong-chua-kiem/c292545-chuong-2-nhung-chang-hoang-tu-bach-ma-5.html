<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Ma Vương Ở Ẩn Và Công Chúa Kiếm - Chương 2: Những chàng hoàng tử bạch mã (5) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="&quot;Ma Vương! Kết hôn với em đi!&quot; Những vị khách không mời cứ liên tục tìm đến nhằm tiêu diệt Ma Vương. Dưới quá nhiều áp lực, trong một phút cao hứng vì men rượu, Ma Vương đã bắt cóc nàng công chúa tám tuổi Kiiri. Sau nửa tháng chung...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="CvWLVT0FymIu8H7pEb2grk9KoAp1kgi6osO4Ad8w">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292545-chuong-2-nhung-chang-hoang-tu-bach-ma-5">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24523-1ee54abd-3d50-4acb-8877-cf5e5c1e815e.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292533-chuong-2-nhung-chang-hoang-tu-bach-ma-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292545-chuong-2-nhung-chang-hoang-tu-bach-ma-5" style="background: url('https://i.hako.vn/ln/series/covers/s24523-1ee54abd-3d50-4acb-8877-cf5e5c1e815e.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem">Ma Vương Ở Ẩn Và Công Chú...</a></h5>
                    <small><i class="fas fa-pen"></i>Biei</small>
                    <small><i class="fas fa-paint-brush"></i>Lpip</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/t35488-tap-1">Tập 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285535-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285544-chuong-0-lich-su-bat-dau-tu-men-ruou">
                                                                        Chương 0: Lịch sử bắt đầu từ men rượu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285554-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-1">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285567-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285587-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-3">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285624-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-4">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285645-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-5">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285669-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-6">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c285673-chuong-1-chuyen-ta-chua-tung-nghi-toi-o-do-tuoi-cua-co-7">
                                                                        Chương 1: Chuyện ta chưa từng nghĩ tới ở độ tuổi của cô (7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292501-chuong-2-nhung-chang-hoang-tu-bach-ma-1">
                                                                        Chương 2: Những chàng hoàng tử bạch mã (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292508-chuong-2-nhung-chang-hoang-tu-bach-ma-2">
                                                                        Chương 2: Những chàng hoàng tử bạch mã (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292518-chuong-2-nhung-chang-hoang-tu-bach-ma-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2: Những chàng hoàng tử bạch mã (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292533-chuong-2-nhung-chang-hoang-tu-bach-ma-4">
                                                                        Chương 2: Những chàng hoàng tử bạch mã (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292545-chuong-2-nhung-chang-hoang-tu-bach-ma-5">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2: Những chàng hoàng tử bạch mã (5)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2: Những chàng hoàng tử bạch mã (5)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292545-chuong-2-nhung-chang-hoang-tu-bach-ma-5#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,604 từ - Cập nhật: 
                        <time class="topic-time timeago" title="18-01-2026 20:26:31" datetime="2026-01-18T20:26:31+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2: Những chàng hoàng tử bạch mã (5)</p>
                    <p id="1">Khi bị vu khống là kẻ phản bội và phải đứng trước đám đông, giữa biển người mênh mông ấy chẳng có lấy một ai đứng ra biện hộ cho hắn. Đừng nói là biện hộ, nơi đó chỉ tràn ngập những tiếng gào thét đòi giết chết kẻ phản bội. Trong số họ, có người từng chịu ơn hắn, có người từng được hắn truyền dạy ma pháp, cũng có người được hắn cứu mạng. Dẫu vậy, người mà hắn tha thiết mong chờ nhất lại không hề xuất hiện.</p>

<p id="2">Kết cục, hắn vứt bỏ tất cả những gì mình đang yêu, đã từng yêu, để chuyển đến sống tại ngôi làng này.</p>

<p id="3">Đối với dân làng, hắn chỉ đơn thuần là một kẻ xứ lạ trắng tay. Không ai quen biết hắn, không ai bận tâm đến quá khứ của hắn, cũng chẳng ai mong hắn chết đi. Điều đó khiến hắn vô cùng vui vẻ.</p>

<p id="4">Cứ thế, hắn dọn vào một căn nhà cũ nát ở rìa ngôi làng.</p>

<p id="5">Kẻ xứ lạ chẳng biết từ đâu đến ấy đã sống trong căn nhà đó hơn 50 năm. Dù hắn tự xưng chỉ là một ma pháp sư hạng ba, nhưng vào một ngày đông giá rét nọ, khi tuyết lở ập xuống, dân làng tận mắt chứng kiến hắn nhẹ nhàng làm bốc hơi cả khối tuyết khổng lồ, từ đó chẳng ai còn tin vào lời nói dối của hắn nữa. Rất nhanh sau đó, mọi người chấp nhận hắn như một thành viên trong làng. Khi thì hắn gom mây làm mưa vào ngày nắng hạn, lúc lại vớt mấy đứa nhóc nghịch ngợm ngã xuống sông, hay giúp bà cô bán hoa quả trượt ngã gãy chân trên băng mau chóng lành lặn. Mọi người gọi hắn bằng đủ loại danh xưng. Người thì gọi là ngài ma pháp sư, người gọi là đại phu, người gọi là kẻ ngoại lai, cũng có người gọi bừa hắn là "cái gã ở bên kia đồi".</p>

<p id="6">Với một kẻ xứ lạ như thế.</p>

<p id="7">Với một kẻ như tôi, người duy nhất gọi tôi là "thầy", chỉ có cô bé ấy.</p>

<p id="8">Thế nhưng, tôi đã dạy cho em điều gì xứng đáng để em gọi tôi là thầy cơ chứ?</p>

<p id="9">"Thầy ơi, 'hạnh phúc' là gì ạ?"</p>

<p id="10">Vào một ngày đông nọ. Cô bé với những nốt tàn nhang chưa mờ đi nét ưu phiền, ngồi trùm chăn trước lò sưởi nhà tôi và hỏi như vậy. Ngoài cửa sổ, tuyết rơi dày đặc, mặt trời lặn sớm tự lúc nào đã buông xuống màn hoàng hôn. Dù đi bộ về nhà em chưa mất đến mười phút, nhưng tôi không thể để một đứa trẻ mới bảy tuổi đầu lủi thủi về một mình giữa bão tuyết, nên quyết định giữ em ngủ lại một đêm rồi mới đi. Phải rồi, ngay cả khi thời tiết tốt, em cũng đã ngủ lại nhà tôi không biết bao nhiêu lần, nên chuyện này chẳng có gì lạ lẫm.</p>

<p id="11">Tôi dùng hết sức lực để mở cái nắp lọ trà gừng, đành bỏ cuộc, rồi hỏi lại em.</p>

<p id="12">"Sao tự nhiên lại tò mò chuyện đó?"</p>

<p id="13">"Cái đó... Thầy biết chuyện Bạch Tuyết không?"</p>

<p id="14">"Ta không rành chuyện hoàng tộc lắm."</p>

<p id="15">"Thầy đúng là đồ ngốc."</p>

<p id="16">Em lè lưỡi trêu tôi. Sau đó, em giơ cuốn sách đang ôm trong lòng lên cho tôi xem bìa. Trên bìa cuốn sách trông như truyện cổ tích dành cho trẻ con ấy vẽ một nàng công chúa xinh đẹp với mái tóc đen nhánh. Gì vậy, truyện cổ tích sao?</p>

<p id="17">"Nàng Bạch Tuyết bị mẹ kế đuổi đi, gặp được bảy chú lùn trong rừng, rồi thì bị mẹ kế đưa táo độc nên chết đi, mãi đến khi được hoàng tử hôn mới tỉnh lại... Ừm, đại loại là câu chuyện như thế."</p>

<p id="18">"...Để sau này ta đọc. Chứ em kể ta chẳng hiểu nội dung đầu cua tai nheo thế nào cả."</p>

<p id="19">"Tóm lại là công chúa và hoàng tử sống hạnh phúc bên nhau mãi mãi về sau. Nhưng mà, rốt cuộc hạnh phúc là gì ạ?"</p>

<p id="20">"Cái này thì... không phải lo chuyện ăn uống, đó chẳng phải là hạnh phúc sao."</p>

<p id="21">"Vậy ạ? Nhưng chú Hans bảo sống chẳng hạnh phúc chút nào. Rõ ràng chú ấy giàu nhất làng mình mà. Thầy đến nhà chú Hans bao giờ chưa? Lò sưởi than có tận hai cái lận."</p>

<p id="22">"Không phải năm ngoái vợ Hans mới mất sao. Nên mới không hạnh phúc đấy."</p>

<p id="23">"Thế còn dì Marilyn? Tại sao ngày nào dì ấy cũng mang vẻ mặt như đưa đám thế ạ?"</p>

<p id="24">"Chắc tại chồng ngoại tình đấy."</p>

<p id="25">"Hạnh phúc khó thật đấy."</p>

<p id="26">"Khó chứ. Suy cho cùng dục vọng của con người là vô tận, cứ lặp đi lặp lại sai lầm giống nhau mà thôi."</p>

<p id="27">Tôi chém gió mấy câu triết lý vụn nghe lỏm được ở đâu đó. Nghe có vẻ cũng ra dáng đấy chứ, làm cô bé tròn mắt thốt lên "Ồ ồ" đầy thán phục.</p>

<p id="28">"Rốt cuộc Bạch Tuyết đã dùng cách gì để sống hạnh phúc nhỉ? Tò mò quá đi."</p>

<p id="29">Phải rồi. Tôi mới là người muốn biết nhất đây. Sống gần 100 năm rồi mà tôi vẫn chẳng biết cách để hạnh phúc.</p>

<p id="30">"Giá mà em cũng được 'sống hạnh phúc mãi mãi về sau' bên cạnh thầy thì tốt biết mấy."</p>

<p id="31">"...Tỉnh lại đi. Cha mẹ em nghe thấy câu này là lăn đùng ra ngất đấy."</p>

<p id="32">Làm gì có chuyện họ giao cô con gái vàng ngọc cho cái gã ngoại lai dở hơi chẳng rõ lai lịch, chẳng biết đã làm những gì ở đâu như tôi chứ.</p>

<p id="33">Thế nhưng em rất kiên quyết. Nghĩ lại thì đó cũng là kết quả đương nhiên. Bởi trong mối quan hệ hạn hẹp của một đứa trẻ bảy tuổi, người chia sẻ nhiều thời gian nhất với em chính là tôi. Em ôm chặt cuốn truyện cổ tích, ngây thơ lầm bầm:</p>

<p id="34">"Có lẽ đối với em, 'hạnh phúc' chính là được sống cùng thầy."</p>

<p id="35">Tuy nực cười, nhưng thấy em cười hạnh phúc khi nói ra những lời ấy, tôi đành chịu thua.</p>

<p id="36">Dẫu bị người đời làm tổn thương, vứt bỏ, phản bội. Vết thương do con người gây ra rốt cuộc chỉ có thể được chữa lành bởi con người, trong thâm tâm, dường như tôi đã mang một niềm tin ngây thơ như thế.</p>

<p id="37">Tôi quả nhiên đã nghĩ rằng, chỉ cần ở bên tôi, em sẽ được hạnh phúc.</p>

<p id="38">Nhưng đó chỉ là ước nguyện vô nghĩa. Là ảo giác của tôi.</p>

<p id="39">Tôi đã sai rồi.</p>

<p id="40">Em.</p>

<p id="41">Eve.</p>

<p id="42">Chính vì sống cùng tôi nên em mới trở nên bất hạnh hơn.</p>

<p id="43">...Mơ sao.</p>

<p id="44">Ngẩn ngơ nhìn trần nhà, tôi thầm nghĩ.</p>

<p id="45">— Kỳ lạ thật. Eve là người... trong ấn tượng của tôi, tính cách con bé trái khoáy lắm mà.</p>

<p id="46">Tôi vừa đưa hai tay nhẹ nhàng xoa bóp mí mắt, vừa chắp nối từng mảnh thông tin về Eve còn sót lại trong ký ức. Rất bướng bỉnh, tính ghen tuông cũng mạnh, hay cười, cũng hay khóc, hay giận dỗi. Một đứa trẻ bộc lộ cảm xúc rất thẳng thắn. Nghĩ gì nói nấy, nên đôi khi buông lời tổn thương người khác mà không hề có ác ý. Không biết cách kìm nén suy nghĩ của mình. Có lẽ vì con bé hay đến tìm tôi từ khi còn rất nhỏ, cộng thêm vẻ ngoài dễ thương nên tôi đã không uốn nắn đàng hoàng, đó là lỗi của tôi. Tóm lại, dường như tôi không có năng khiếu trong việc nuôi dạy hay giáo dục trẻ con.</p>

<p id="47">Eve trong giấc mơ khác với Eve mà tôi biết, cảm giác tươi sáng và đáng yêu hơn. Có lẽ là do trước khi ngủ, tôi đã nghe Kiiri kể chuyện công chúa hoàng tử trong thư phòng. Hoặc có lẽ, trong vô thức, tôi đã lồng ghép hình bóng Kiiri vào ký ức về Eve.</p>

<p id="48">"Người phụ nữ đó, có chút giống em nhỉ."</p>

<p id="49">Tôi nhớ lại lời Kiiri từng nói khi ngắm bức tranh vẽ Eve treo trên hành lang.</p>

<p id="50">Dù tôi đã phủ nhận lời Kiiri, nhưng có lẽ đúng là có nét giống nhau thật. Ví dụ như cả hai đều bướng bỉnh, hay là cái tính thích đâm đầu vào ngõ cụt. Đặc biệt là bầu không khí vương vấn trong đôi mắt khi nhìn tôi, quả thực có những điểm tương đồng.</p>

<p id="51">"Gần đây tự nhiên mơ thấy Eve là do Kiiri sao...?"</p>

<p id="52">Tôi vừa ôm cái đầu đang đau nhói vừa ngồi dậy khỏi giường. Nhắc mới nhớ, từ khi đám người đó chiếm cứ lâu đài của tôi, dường như tôi bắt đầu mơ thấy Eve thường xuyên hơn. Quả nhiên là do tâm trạng không được bình yên rồi.</p>

<p id="53">Chắc chắn là do stress mà thôi.</p>

<p id="54">Cũng chẳng phải là gặp ác mộng, nhưng toàn thân tôi ướt đẫm mồ hôi. Chẳng hiểu sao tinh thần lại trở nên vô cùng tỉnh táo, nên tôi chẳng tự tin mình có thể ngủ lại được. Tôi tiến lại gần cửa sổ để hong khô mồ hôi và hóng gió. Vừa mở cửa sổ ra, làn gió mát lạnh liền ùa vào, đẩy lùi không khí ngột ngạt trong phòng ra ngoài.</p>

<p id="55">Và rồi tôi phát hiện ra.</p>

<p id="56">Thiếu nữ với sắc vàng rực rỡ đang đứng trên tường thành.</p>

<p id="57">"Nhỏ đó làm cái gì ở đấy giữa đêm hôm khuya khoắt thế này không biết..."</p>

<p id="58">Từ phòng mình, tôi chỉ có thể nhìn thấy bóng lưng Kiiri đang chăm chú nhìn về phía khu rừng. Mái tóc vàng óng ả ấy dường như vẫn tỏa sáng ngay cả trong bóng tối, vô cùng nổi bật.</p>

<p id="59">Bên ngoài bộ đồ ngủ chỉ khoác hờ một chiếc áo len, nên mỗi khi gió thổi qua, vạt áo lại tung bay phấp phới.</p>

<p id="60">"Định kiếm chuyện để bị cảm lạnh hay sao."</p>

<p id="61">Tôi tặc lưỡi, lẩm bẩm một mình.</p>

<p id="62">Dù sao cũng đã tỉnh hẳn rồi, tôi lấy một chiếc chăn mỏng trong tủ ngăn kéo ra, rồi rời khỏi phòng để đi tìm Kiiri.</p>

<p id="63">Hành lang cũng chìm trong bóng tối vô tận và tĩnh mịch. Tiếng tích tắc của chiếc đồng hồ quả lắc đứng ở sảnh tầng một vang vọng đến tận hành lang phòng tôi. Tôi xác định vị trí Kiiri đang đứng trong đầu, rồi rảo bước về phía cây cầu treo nối liền với tường thành. Chỉ có tiếng bước chân lê thê bám theo sau lưng tôi trong bóng tối.</p>

<p id="64">Tòa thành này rộng lớn và yên ắng đến thế sao?</p>

<p id="65">Không khí nặng nề và âm u đến thế sao?</p>

<p id="66">Cảm giác như đang bước vào một nấm mồ vậy. Không, có lẽ quãng thời gian 300 năm tôi sống cô độc trong tòa thành này, tránh xa loài người, cũng chẳng khác gì tôi đã tự chôn mình vào nấm mồ do chính tay mình tạo ra.</p>

<p id="67">Chưa từng mở lòng với ai, chưa từng cất lên tiếng nói, thậm chí dửng dưng trước cả dòng chảy của thời gian, bất lão bất tử, chỉ đơn thuần là duy trì hơi thở.</p>

<p id="68">Kẻ khiến thế giới chết chóc trong tòa thành này chuyển động... chính là Kiiri.</p>

<p id="69">"Hai người giống nhau ở điểm này thì đúng là mỉa mai thật."</p>

<p id="70">Tôi đi dọc hành lang, đến trước bức chân dung của người phụ nữ tóc nâu thì dừng bước.</p>

<p id="71">"Em đã làm thời gian của ta ngừng lại, nhưng cô bé đó lại khiến thời gian của ta chuyển động một lần nữa đấy, em biết không?"</p>

<p id="72">Người phụ nữ trong tranh đương nhiên sẽ không trả lời. Cảm thấy xấu hổ vô cớ vì lẩm bẩm một mình, tôi bật cười rồi rời khỏi bức tranh, tiếp tục bước đi.</p>

<p id="73">Vừa bước lên cầu treo, không khí ban đêm lạnh buốt liền áp vào gò má. Mồ hôi trong phút chốc nguội lạnh, mang theo cảm giác rét run. Tôi đi dọc theo tường thành bao quanh lâu đài một lúc lâu mới đến được chỗ Kiiri đang đứng, dừng lại cách em khoảng hai mươi bước chân. Tiếng gió rít gào dữ dội nên dường như Kiiri vẫn chưa nhận ra sự hiện diện của tôi.</p>

<p id="74">Kiiri đang đăm chiêu nhìn vào hư không xa xăm.</p>

<p id="75">Em đang nhìn gì thế nhỉ? Tôi quay đầu nhìn theo hướng ánh mắt của Kiiri. Khu rừng đêm đen kịt há cái miệng tối om, phả ra tiếng gió rít trầm đục như tiếng thở dài.</p>

<p id="76">Mái tóc dài của Kiiri bị gió thổi rối tung. Tựa như những sợi tơ vàng rực rỡ đang bay lượn. Trước cơn gió mạnh, Kiiri khẽ nhắm mắt cúi đầu xuống, vén lại mái tóc rối bời. Đợi đến khi tiếng gió dịu đi, em hít sâu một hơi rồi ngẩng đầu, thẫn thờ nhìn ra bên ngoài tòa thành.</p>

<p id="77">"...Em đang nhìn gì thế?"</p>

<p id="78">Rốt cuộc tôi là người lên tiếng trước.</p>

<p id="79">Kiiri quay lại nhìn tôi. Có vẻ em không ngạc nhiên lắm. Vừa chạm mắt tôi, ánh nhìn của Kiiri liền trở nên dịu dàng. Em nở nụ cười ngây thơ rạng rỡ như mọi ngày rồi vươn tay về phía tôi.</p>

<p id="80">"Lại đây nào, Ma Vương. Cùng ngắm đi. Sắp sáng rồi đấy."</p>

<p id="81">Là định ngắm bình minh sao?</p>

<p id="82">Nhắc mới nhớ, hướng này là hướng Đông. Vì tôi thường ngủ đến khi mặt trời lên đỉnh đầu mới dậy, nên dù đã sống mấy trăm năm, tôi hoàn toàn không có ký ức gì về việc ngắm bình minh cả.</p>

<p id="83">Tôi tiến lại gần Kiiri, ném cái chăn đang cầm trên tay về phía em. Kiiri bị chăn trùm kín đầu, liền ló mặt ra từ khe hở, dùng đôi mắt tròn xoe nhìn tôi.</p>

<p id="84">"Trời lạnh thế này mà em ăn mặc phong phanh thế kia à?"</p>

<p id="85">Tôi mắng ngay trước mặt, lúc này em mới như hiểu ý tôi, bật cười "Ha ha" ngắn gọn. Kiiri kéo lại tấm chăn đắp gọn gàng lên vai rồi nói với tôi.</p>

<p id="86">"Mở mắt ra thấy trời tờ mờ sáng. Tự nhiên muốn ngắm bình minh nên em chạy ra đây luôn."</p>

<p id="87">"Xem ra tính cách em cũng tùy hứng thật đấy. Nhìn cái việc em hùng hổ đòi kết hôn với ta rồi bỏ nhà đi bụi là đủ hiểu."</p>

<p id="88">"Ha ha, nhưng chuyện kết hôn với Ma Vương không phải là quyết định tùy hứng đâu nhé."</p>

<p id="89">Tôi liếc mắt nhìn nghiêng sang Kiiri. Em đang nhìn khu rừng với ánh mắt có chút mông lung.</p>

<p id="90">"Ma Vương Elevado sau khi gây ra tội ác tày trời đã ru rú trong tòa thành suốt 300 năm không thấy bóng dáng... Câu chuyện đó em đã nghe đến mòn cả tai trước khi gặp Ma Vương rồi. Thế nên em từng tưởng tượng Ma Vương là một con quái vật mọc sừng trên đầu cơ. Nhưng gặp tận mặt mới phát hiện ra không phải thế?"</p>

<p id="91">"Sao nào? Giống người quá nên làm em thất vọng à? Hay là sao? Thân thiện ngoài dự kiến? Đó là do lúc ấy ta buộc phải dùng em làm con tin để đàm phán..."</p>

<p id="92">"Trông anh rất cô đơn."</p>

<p id="93">Tôi nghẹn lời trong giây lát. Một câu trả lời ngoài dự liệu.</p>

<p id="94">"...Ý em là thương hại ta sao?"</p>

<p id="95">"Có lẽ vậy. Bởi vì lần đầu tiên em có suy nghĩ rằng mình nhất định phải 'ở bên' Ma Vương."</p>

<p id="96">Gió thổi mạnh, mái tóc Kiiri lại tung bay. Nhờ đó, chiếc gáy trắng ngần mảnh mai lọt vào tầm mắt tôi. Thứ thu hút ánh nhìn của tôi là đường nét ấy. Đường nét chẳng còn lưu lại chút dấu vết nào của cô bé 8 tuổi năm xưa.</p>

<p id="97">Thời gian của tôi và của người khác cứ thế bị tách biệt vời vợi. Nhận thức được sự thật ấy, lòng tôi lại dấy lên chút buồn bã.</p>

<p id="98">"Tuy nhiên, sau khi chia tay Ma Vương để trở về nhà. Dù vẫn là những ngày tháng bình thường như cũ, chẳng có mấy thay đổi, nhưng em chợt nhận ra."</p>

<p id="99">"Nhận ra điều gì?"</p>

<p id="100">"Rằng 'em cũng là một kẻ cô đơn'."</p>

<p id="101">Kiiri quay sang tôi, nở nụ cười mờ ảo như sương khói và đáp.</p>

<p id="102">Nửa tháng. Thời gian Kiiri sống trong tòa thành của tôi tính ra cũng chỉ hơn nửa tháng là cùng.</p>

<p id="103">Trong cuộc đời con người chẳng sống nổi đến trăm năm, khoảng thời gian ấy ngắn ngủi và vô nghĩa tựa như vài hạt cát giữa bãi biển trắng xóa.</p>

<p id="104">Thế nhưng, một nhúm thời gian ít ỏi ấy, lại dài đằng đẵng đến mức thay đổi hoàn toàn phần đời còn lại của một thiếu nữ non nớt - người vẫn luôn sống trung thành với vai diễn của mình mà chẳng hề hay biết đến sự cô đơn của bản thân.</p>

<p id="105">Vì quá thông minh, nên từ khi chưa hiểu chuyện, trên vai em đã gánh vác những trọng trách nặng nề. Làm con rối cho những người xung quanh để nhận được lời khen ngợi và sự công nhận, cảm thấy an tâm vì sự thật rằng bản thân được yêu thương. Năm tháng cứ thế trôi đi, có lẽ em sẽ lầm tưởng rằng mình giống như nàng công chúa trong truyện cổ tích, "cùng hoàng tử bạch mã sống hạnh phúc mãi mãi về sau", và rồi kết thúc cuộc đời mình như thế.</p>

<p id="106">Ảo tưởng đó cũng chẳng tệ. Suy cho cùng, dẫu sự thật có là gì, thì đối với bản thân em, đó rõ ràng vẫn là một cuộc đời viên mãn.</p>

<p id="107">Thế nhưng Kiiri đã biết rồi.</p>

<p id="108">Biết rằng bản thân là một kẻ cô đơn.</p>

<p id="109">Biết rằng dẫu có đi theo hoàng tử bạch mã, em cũng chẳng thể nào hạnh phúc.</p>

<p id="110">"Em muốn sống cùng Ma Vương. Vì em nghĩ rằng đó chính là hạnh phúc của mình."</p>

<p id="111">Thế còn tôi thì sao?</p>

<p id="112">Liệu tôi có thực sự là một kẻ cô đơn như lời em nói hay không?</p>

<p id="113">Sở dĩ tôi chọn cách xa lánh người đời, chẳng phải do ai khác, mà hoàn toàn xuất phát từ ý chí của bản thân. Bởi tôi cho rằng, thà lẻ loi một mình còn hơn phải chịu đựng tổn thương. Và quả thực, cuộc sống ẩn dật suốt 300 năm qua, khi ngày hôm nay hệt như hôm qua, và ngày mai cũng chẳng khác gì hôm nay, bình yên hơn rất nhiều so với khoảng thời gian ngắn ngủi tôi từng sống giữa loài người trước kia.</p>

<p id="114">Thế nhưng.</p>

<p id="115">Nếu một ngày nào đó Kiiri đột ngột rời xa tôi, và tòa lâu đài này lại một lần nữa chìm vào sự tĩnh lặng cùng lớp bụi thời gian phủ mờ...</p>

<p id="116">Liệu tôi của hiện tại có còn đủ sức chịu đựng được không?</p>

<p id="117">"Thế nên, chúng ta hãy cùng nhau trở thành những kẻ không còn cô đơn nữa nhé?"</p>

<p id="118">Kiiri khẽ mỉm cười, buông lời tựa như một câu nói đùa.</p>

<p id="119">Trong lúc tôi còn đang chần chừ chưa biết phải đáp lời ra sao, thì chợt nhận ra không gian xung quanh bỗng bừng sáng. Theo phản xạ, tôi quay đầu nhìn về phía khu rừng. Cánh rừng vừa nãy còn tựa như cái hang đen ngòm sâu hoắm, nay bất giác đã dần tìm lại sắc màu vốn có. Làn sương sớm bồng bềnh trôi dưới chân tựa như tấm thảm nhung mềm mại. Cảnh sắc xung quanh đảo chiều ngoạn mục, đẹp đến mức ngỡ như không phải thực tại.</p>

<p id="120">"......Trời sáng rồi kìa."</p>
<p id="121"><img src="https://i.hako.vn/ln/temp/illusts/658e5f0c-ffb6-41d7-b551-806ba0720480.jpg" alt="658e5f0c-ffb6-41d7-b551-806ba0720480.jpg"></p>
<p id="122">Kiiri nhấn mạnh điều đó.</p>

<p id="123">"Ừ, phải rồi." Tôi đáp lời.</p>

<p id="124">Bình minh ập đến chỉ trong chớp mắt. Đơn giản vậy thôi mà cõi lòng tôi bỗng chốc rộn ràng. Tiếng tim đập mỗi lúc một lớn, dồn dập đến mức khó thở. Tôi đã sống hơn 400 năm, đón chào hơn một vạn buổi bình minh. Thế nhưng, cảm giác lúc này tựa như đây là lần đầu tiên tôi được thấy ánh sáng ban mai vậy, xúc động đến tột cùng. Một cảm giác đang sống trào dâng mãnh liệt trong lồng ngực.</p>

<p id="125">Bất chợt, một bàn tay mát lạnh nắm lấy tay tôi.</p>

<p id="126">Tôi ngoảnh sang, bắt gặp nụ cười dịu dàng của Kiiri, rồi em khẽ đặt một nụ hôn lên lòng bàn tay tôi.</p>

<p id="127">"Chào buổi sáng, Ma Vương."</p>

<p id="128">Sau đó, đôi gò má em ửng hồng đầy e thẹn. Mái tóc vàng rối bời cùng đôi mắt trong veo không chút vẩn đục khiến em trông hệt như một đứa trẻ. Những cảm xúc chân thành, không chút giả tạo hay toan tính cứ thế trút hết về phía tôi. Em yêu tôi. Dẫu cho đó chỉ là sự cuồng nhiệt trong khoảnh khắc, là sự nổi loạn nhất thời, là tính khí thất thường, hay là bất cứ điều gì khác đi chăng nữa.</p>

<p id="129">"......Ừm, chào buổi sáng."</p>

<p id="130">Tôi mỉm cười đáp lại, rồi vì cảm thấy Kiiri quá đỗi đáng yêu, tôi đã vòng tay ôm chặt lấy em.</p>

<p id="131">Ra là vậy. Hóa ra tôi cũng thích cô bé này.</p>

<p id="132">Sự xác nhận ấy khiến tôi vừa kinh ngạc, vừa hân hoan, lại cũng đầy sợ hãi... Tôi nhắm nghiền đôi mắt lại.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem/c292533-chuong-2-nhung-chang-hoang-tu-bach-ma-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24523-ma-vuong-o-an-va-cong-chua-kiem" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'CvWLVT0FymIu8H7pEb2grk9KoAp1kgi6osO4Ad8w';
        var comment_type = 'chapter';
        var comment_typeid = '292545';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'CvWLVT0FymIu8H7pEb2grk9KoAp1kgi6osO4Ad8w';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24523');
    chapter_id = parseInt('292545');

    readingObject = {
        series_id: series_id,
        series_title: 'Ma Vương Ở Ẩn Và Công Chúa Kiếm',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="CvWLVT0FymIu8H7pEb2grk9KoAp1kgi6osO4Ad8w" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

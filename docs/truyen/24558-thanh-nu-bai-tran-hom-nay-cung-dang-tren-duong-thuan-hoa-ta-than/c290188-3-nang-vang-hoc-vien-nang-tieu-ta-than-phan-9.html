<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Thánh nữ bại trận hôm nay cũng đang trên đường thuần hóa tà thần - 3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 9) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Năm 3154, sau thất bại của cuộc thảo phạt Tà Thần, Học Thành chìm trong sóng ngầm dữ dội, lòng người hoang mang tột độ. Bởi vì tôi đã bị Tà Thần bắt đi làm Thánh Nữ mất rồi... Khi nhìn rõ khuôn mặt mới lung linh, mềm mại của...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="KiOIqgjuNC2RbECJTx8eeIZyHhTCBqoF3CAZzKyd">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290188-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-9">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24558-279fe6b5-2cc3-4c93-b8e6-502a55aa3eb7.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289912-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-8"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290198-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-10"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290188-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-9" style="background: url('https://i.hako.vn/ln/series/covers/s24558-279fe6b5-2cc3-4c93-b8e6-502a55aa3eb7.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than">Thánh nữ bại trận hôm nay...</a></h5>
                    <small><i class="fas fa-pen"></i>Mặc Oanh Nhi (墨莺儿)</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288118-the-bai-moe-battle-2023-cua-aurora">Minh họa</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/t35575-quyen-i-cay-su-song-tree-of-life">★ Quyển 1: Cây Sự Sống (Tree of Life)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288025-mo-dau-than-mo-gods-tomb">
                                                                        Mở đầu) Thần Mộ (God&#039;s Tomb)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288027-1-tieu-ta-than-little-devil">
                                                                        1) Tiểu Tà Thần (Little Devil)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288128-1-tieu-ta-than-phan-2">
                                                                        1) Tiểu Tà Thần (Phần 2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288160-1-tieu-ta-than-phan-3">
                                                                        1) Tiểu Tà Thần (Phần 3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288164-1-tieu-ta-than-phan-4">
                                                                        1) Tiểu Tà Thần (Phần 4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288166-1-tieu-ta-than-phan-5">
                                                                        1) Tiểu Tà Thần (Phần 5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288514-2-y-do-xau-little-trick">
                                                                        2) Ý đồ xấu (Little Trick)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288526-2-y-do-xauphan-2">
                                                                        2) Ý đồ xấu (Phần 2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288543-2-y-do-xau-phan-3">
                                                                        2) Ý đồ xấu (Phần 3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288555-2-y-do-xau-phan-4">
                                                                        2) Ý đồ xấu (Phần 4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288558-2-y-do-xau-phan-5">
                                                                        2) Ý đồ xấu (Phần 5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c288562-2-y-do-xau-phan-6">
                                                                        2) Ý đồ xấu (Phần 6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289220-2-y-do-xau-phan-7">
                                                                        2) Ý đồ xấu (Phần 7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289399-2-y-do-xau-phan-8">
                                                                        2) Ý đồ xấu (Phần 8)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289406-2-y-do-xau-phan-9">
                                                                        2) Ý đồ xấu (Phần 9)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289410-3-nang-vang-hoc-vien-nang-tieu-ta-than-good-sunny-days">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Good Sunny Days)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289416-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-2">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289737-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-3">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289745-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-4">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289748-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-5">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289896-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-6">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289903-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-7">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289912-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-8">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 8)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290188-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-9">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 9)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290198-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-10">
                                                                        3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 10)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">★ Quyển 1: Cây Sự Sống (Tree of Life)</h2>
                    <h4 class="title-item text-base font-bold" align="center">3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 9)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290188-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-9#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 1,920 từ - Cập nhật: 
                        <time class="topic-time timeago" title="14-01-2026 18:31:14" datetime="2026-01-14T18:31:14+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">3) Nắng vàng! Học viện! Nàng tiểu Tà Thần! (Phần 9)</p>
                    <p id="1">Ý tưởng của Tinh Mạt rất đơn giản: biến 『Nghi thức Trục xuất』 thành 『Nghi thức Thích hợp』 để nói với Aurora, lợi dụng sức mạnh của cô ta để thu thập nguyên liệu. </p><p id="2">Sau đó, đợi đến khi Aurora bước vào trận pháp của Merlin, cô ta sẽ bị trục xuất khỏi thế giới này.</p><p id="3">Bằng cách này, các hành động thu thập nguyên liệu tiếp theo của Tinh Mạt sẽ không bị Aurora nghi ngờ, thậm chí còn nhận được sự giúp đỡ của cô ta.</p><p id="4">Và Aurora sẽ vô tình tự tiễn chính mình đi mà không hề hay biết.</p><p id="5">Lý do Tinh Mạt không nhắc đến 『Máu Thần』 với Aurora là vì điều đó sẽ gây nghi ngờ — máu là vật trung gian mang đặc trưng linh lực cá nhân, thường không được dùng trong 『Nghi thức Thích hợp』, nhìn qua là biết giả ngay.</p><p id="6">"......"</p><p id="7">Khi nghe Tinh Mạt nhắc đến cái tên 『Nước mắt Thiên sứ』, Aurora sững người một chút.</p><p id="8">Cô nàng cúi đầu, lẩm bẩm:</p><p id="9">"Chỉ cần nước mắt của ta là được sao?"</p><p id="10"><em>Đồ tự luyến này!</em> Tinh Mạt ôm mặt:</p><p id="11">"Tất nhiên là không được... Thứ chúng ta cần là 『Nước mắt Thiên sứ』 của thiên thần dưới trướng Nữ thần, nếu không làm sao lừa được Nữ thần?"</p><p id="12">"Ồ~ ra vậy~" Aurora dùng ngón trỏ chạm nhẹ vào môi, "Tiểu Thánh nữ à, ngươi hoàn toàn biến thành hình dáng của dây leo rồi nhỉ, ngay cả lời muốn lừa gạt Nữ thần mà cũng nói ra được."</p><p id="13">Mặt Tinh Mạt đỏ bừng lên, cô kéo kéo gấu váy, hắng giọng:</p><p id="14">"Về 『Nước mắt Thiên sứ』, chúng ta có thể đến đại thánh đường Thánh Auroth hỏi vị Thánh Tu nữ, chỉ là không biết cô ấy có chịu nói cho chúng ta không..."</p><p id="15">"Không sao đâu, thời gian qua ngày nào cô ta cũng cầu nguyện với ta, ta có cách để cô ta nói ra sự thật." Aurora uể oải nói.</p><p id="16"><em>Quả nhiên là Tà thần mà... chuyên mê hoặc lòng người! Làm xằng làm bậy!</em></p><p id="17">Tinh Mạt đang nghĩ vậy thì Aurora đột nhiên nhào qua bàn, sà vào lòng cô.</p><p id="18">"Ta đọc sách mệt rồi, bế ta đi tắm đi~" Con bé rúc đầu vào ngực Tinh Mạt.</p><p id="19">Bị rúc như vậy, má Tinh Mạt đỏ lựng, hai tay không biết đặt vào đâu:</p><p id="20">"Ngươi... không phải đã biết dùng vòi hoa sen rồi sao?"</p><p id="21">"Nhưng ngươi là Thánh nữ phụng sự ta mà, giúp ta tắm rửa thì có sao đâu?"</p><p id="22">Tinh Mạt cảm thấy ấn ký trên mu bàn tay mình lại nóng rực lên.</p><p id="23">Cô khẽ thở dài, bế Aurora từ ghế mây xuống đất, đi vào phòng tắm và đóng cửa lại.</p><p id="24">"Nào, giúp ta cởi đồ đi."</p><p id="25">"Chuyện này thì tự làm đi...!"</p><p id="26">"Ồ~ vậy ta giúp ngươi luôn nhé~"</p><p id="27">"Này! Ta tự làm được... Oái! Sao lại ném tất vào mặt ta!"</p><p id="28">"Tiểu Thánh nữ... hình như ngươi có nhiều điều bất mãn lắm nhỉ~"</p><p id="29">Rất nhanh sau đó, tiếng nước chảy đã át đi những âm thanh hỗn loạn trong phòng tắm, tội ác của Tà thần một lần nữa được che đậy thành công.</p><p id="30">......</p><p id="31">Sáng sớm hôm sau, Tinh Mạt tỉnh dậy trong trạng thái mơ màng. Cô kéo rèm cửa, đón nhận ánh nắng của ngày khai giảng đầu tiên.</p><p id="32">Cô nhanh nhẹn trút bỏ váy ngủ, thay cho mình bộ đồng phục gồm áo sơ mi, váy dài đen và cà vạt hồng.</p><p id="33">Làm xong những việc này, một cơn gió thổi qua cửa sổ khép hờ, làm mái tóc Tinh Mạt bay nhẹ.</p><p id="34">Tháng Chín ở Học Thành trời đã bắt đầu chuyển lạnh, luồng không khí lạnh từ Mordheim cuối cùng cũng đã dần tràn về.</p><p id="35">Tinh Mạt đột nhiên cảm thấy phần đùi hơi lành lạnh. Dù bộ đồng phục cô chọn là váy dài, nhưng gió lạnh có vẻ không được lịch sự cho lắm, cứ thích len lỏi vào trong.</p><p id="36"><em>Phải mặc thêm đồ thôi...</em> Tinh Mạt thầm nghĩ, cô mở tủ quần áo và lấy ra một đôi quần tất đen.</p><p id="37">Cô ngồi xuống cạnh giường, chỉ loáng một cái đã xỏ xong đôi quần tất, động tác vô cùng thuần thục.</p><p id="38">Sau khi hoàn thành, Tinh Mạt ngẩn ngơ nhìn đôi chân thon dài được bao phủ bởi lớp tất đen, rồi lại cử động những ngón chân nhỏ nhắn xinh xắn của mình.</p><p id="39">Đột nhiên, cô cảm thấy mặt mình nóng ran như bốc hỏa.</p><p id="40"><em>Aaaa! Tại sao mình lại có thể thuần thục đến thế này! Mặc đồ nữ các thứ! Từ khi nào mà chuyện này lại trở nên bình thường vậy hả trời!</em></p><p id="41">Tinh Mạt tuyệt vọng ôm mặt. Gió lạnh ngoài cửa sổ càng thổi, mặt cô lại càng nóng.</p><p id="42">Đúng lúc này, một đôi tay nhỏ nhắn từ phía sau ôm lấy cổ cô:</p><p id="43">"Chị ơi... chào buổi sáng~"</p><p id="44">Tinh Mạt quay đầu lại, thấy Aurora đang ngái ngủ tựa đầu vào vai mình, vẻ mặt trông vẫn chưa tỉnh táo hẳn.</p><p id="45"><em>Lạ thật... giọng cô ta khi gọi 'chị ơi' sao mà dịu dàng thế... không giống tông giọng lúc đóng kịch chút nào?</em></p><p id="46">Trong lúc Tinh Mạt còn đang thắc mắc, Aurora đã trượt khỏi lưng cô, dụi dụi mắt:</p><p id="47">"Ưm... Tiểu Thánh nữ... ngươi dậy sớm thế..."</p><p id="48">"Hôm nay là ngày khai giảng đầu tiên đấy, quên rồi à?" Tinh Mạt ném quần áo cho Aurora.</p><p id="49">"Ồ... phải đi học à... cách học tập thật là kém hiệu quả..." Aurora lầm bầm mơ màng.</p><p id="50">Cô nhìn bộ đồ Tinh Mạt ném trên giường, đột nhiên làm nũng: "Ngươi mặc giúp ta đi~"</p><p id="51">"Tổ tông ơi, ngươi là Tà thần đấy... có thể giữ chút phong thái Tà thần được không..."</p><p id="52">Tinh Mạt cũng lười tranh luận với Aurora, cô đỡ Aurora đứng dậy khỏi giường, trút bỏ bộ váy ngủ liền thân của cô nàng.</p><p id="53">Sau đó, cô cố gắng nhanh nhất có thể mặc cho Aurora áo sơ mi, áo khoác và váy ngắn đồng phục.</p><p id="54">"Xong rồi, tất thì tự đi vào đi." Tinh Mạt chỉ vào đôi tất đang cuộn tròn.</p><p id="55">"Ta chưa tỉnh ngủ, ngươi đi giúp ta."</p><p id="56">Aurora lười biếng duỗi hai bàn chân ngọc nhỏ nhắn ra, đung đưa cạnh giường, trắng trẻo đến mức hơi chói mắt.</p><p id="57">Tinh Mạt nuốt nước bọt, hít một hơi thật sâu rồi lại cúi xuống bắt đầu đi tất cho Aurora.</p><p id="58">Cô cố gắng không nhìn, nhưng tay vẫn không ngừng run rẩy. Một bên là cảm giác mềm mại từ làn da chân của Aurora, một bên là cảm giác trơn láng, đàn hồi nhẹ nhàng của đôi tất lụa.</p><p id="59"><em>Hỏng rồi... chẳng lẽ mình... là kẻ cuồng chân sao...</em></p><p id="60">Một ý nghĩ như vậy đột ngột nảy ra trong đầu Tinh Mạt, khiến vệt đỏ lan tận mang tai.</p><p id="61">Với một tiếng "pực" nhẹ, cuối cùng cô cũng xỏ xong đôi tất vào chân Aurora.</p><p id="62">Xong việc, cô đứng bật dậy, nhanh chóng dời tầm mắt ra phía cửa:</p><p id="63">"Xong... xong rồi đấy... đi thôi..."</p><p id="64">Tinh Mạt như chạy trốn mà đẩy cửa bước đi. Điều cô không nhìn thấy là sau lưng cô, Aurora đã thu lại vẻ lười biếng, thay vào đó là một nụ cười đầy ranh mãnh.</p><p id="65">......</p><p id="66">Hai người đến Đại Lễ Đường. Đang là giờ ăn sáng, những dãy bàn dài đã chật kín học sinh đang dùng bữa, tiếng trò chuyện râm ran vang lên từng đợt.</p><p id="67">Sau khi ngồi xuống bàn, Tinh Mạt giơ tay ra, một con chim bồ câu trắng đậu xuống đầu ngón tay cô, miệng ngậm một cuộn giấy.</p><p id="68">Cô mở giấy ra, bên trên là thực đơn: bữa sáng hôm nay có thịt xông khói, xúc xích rán, bánh mì Fallou, bánh bao, cà phê, sữa đậu nành, coi như đã cân nhắc đến thói quen ăn uống của học sinh từ các nền văn hóa khác nhau.</p><p id="69">Mặc dù Tinh Mạt rất muốn gọi bánh bao và sữa đậu nành, nhưng vì nhân dạng hiện tại là người tị nạn Fallou, cô đành ngoan ngoãn gọi một phần bánh mì Falu và cà phê. Còn Aurora thì chẳng kiêng nể gì mà gọi liền ba phần thịt xông khói.</p><p id="70">Gọi món xong, Tinh Mạt đưa thực đơn lại cho bồ câu.</p><p id="71">Vài phút sau, nó xách một cái giỏ nhỏ bay về, bên trong chứa bữa sáng của hai người.</p><p id="72">Ánh nắng rọi qua những ô cửa kính màu vào đại sảnh. Trong ánh bình minh hơi se lạnh, Tinh Mạt vừa dùng răng cắn miếng bánh mì Fallou cứng như đá, vừa quan sát xung quanh lễ đường.</p><p id="73"><em>Bầu không khí quen thuộc thật đấy... thoải mái ăn sáng... rồi đi học...</em></p><p id="74">Tầm giờ này, thường thì Miriam sẽ hội quân với mình ở đây... Chị Alice cũng vậy, dù không có tiết chị ấy cũng sẽ dậy đúng giờ để ăn sáng.</p><p id="75">Cảnh tượng đó... giống như ba chú mèo cô đơn hẹn nhau đi ăn trong hẻm nhỏ mỗi ngày, nhân tiện kể cho nhau nghe những chuyện thú vị vừa thấy.</p><p id="76">Đôi mắt xanh lục như ngọc phỉ thúy của Tinh Mạt thoáng u ám trong một khoảnh khắc.</p><p id="77">Đúng lúc này, một vệt đỏ rực hiện ra ở rìa tầm mắt cô.</p><p id="78">Cô quay đầu lại, ngạc nhiên thấy chị Alice với mái tóc đỏ dài đang thản nhiên băng qua đại sảnh, tiến về phía bàn ăn của giáo viên ở cuối lễ đường và bắt đầu trò chuyện với giáo sư Lãnh.</p><p id="79"><em>Chị ấy về trường rồi? Sao lại thế nhỉ?</em> Tinh Mạt thầm thắc mắc.</p><p id="80">Cô không kìm được mà nhìn thêm vài cái: Chị Alice vẫn thanh tú, tuấn tú như vậy, gương mặt vẫn mang vẻ diễm lệ thiếu nữ nhưng giữa đôi lông mày đã thêm vài phần khí chất anh hùng, tựa như mũi kiếm sắc lạnh. </p><p id="81">Dạo này chắc chị ấy vất vả lắm... vì hoạt động của 『Người Hơi Nước』 ngày càng thường xuyên mà...</p><p id="82">Sự xuất hiện của Alice làm tiếng bàn tán trong lễ đường xôn xao hẳn lên — ai cũng biết Alice Pushett, vị 『Hộ Linh Nhân』 trẻ tuổi, nữ pháp sư tấu vang Hỏa Huyền.</p><p id="83">Tinh Mạt nhìn theo bóng lưng của Alice một hồi rồi mới luyến tiếc thu hồi ánh mắt, nhìn sang Aurora bên cạnh.</p><p id="84">Cô thấy Aurora đang nhìn chằm chằm mình: con bé này đã xử xong ba phần thịt xông khói rồi.</p><p id="85">"Chị ơi~ Nếu không có hứng ăn thì đưa em ăn cho nhé~" Aurora không quên vai diễn của mình.</p><p id="86">Tinh Mạt: "......"</p><p id="87">Cô nhìn miếng bánh mì Fallou gặm nửa ngày mới khuyết một mẩu nhỏ trên tay, đưa cho Aurora, mong đợi con bé sẽ phải chào thua.</p><p id="88">Ai ngờ, Aurora vừa cầm lấy bánh mì đã phát ra những tiếng "răng rắc", miếng bánh mì hóa thành vụn vụn giữa kẽ răng cô nàng.</p><p id="89">Tinh Mạt: "......"</p><p id="90"><em>Răng ngươi tốt thật đấy.</em></p><p id="91">"Được rồi, đến giờ đi học rồi!" Aurora đứng dậy, tràn đầy sức sống vỗ vỗ váy, "Đi thôi~"</p><p id="92">Nói xong, cô nàng tung tăng nhảy chân sáo về hướng tháp Đông.</p><p id="93">"Này, phòng học ở tháp Tây mà!" Tinh Mạt hét lớn gọi theo nàng tiểu Tà thần đã đi xa, "Em gái ngoan của chị ơi, em định quay về ngủ tiếp đấy à?"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c289912-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-8" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24558-thanh-nu-bai-tran-hom-nay-cung-dang-tren-duong-thuan-hoa-ta-than/c290198-3-nang-vang-hoc-vien-nang-tieu-ta-than-phan-10" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'KiOIqgjuNC2RbECJTx8eeIZyHhTCBqoF3CAZzKyd';
        var comment_type = 'chapter';
        var comment_typeid = '290188';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'KiOIqgjuNC2RbECJTx8eeIZyHhTCBqoF3CAZzKyd';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24558');
    chapter_id = parseInt('290188');

    readingObject = {
        series_id: series_id,
        series_title: 'Thánh nữ bại trận hôm nay cũng đang trên đường thuần hóa tà thần',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

$('#chapter-content p').on('touchstart mousedown', function(e) {
    longPressTarget = this;
    longPressTimer = setTimeout(() => {
        const allParagraphs = getParagraphs();
        const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

        if (startIndex === -1) return;

        clearResumeState();
        synth.cancel();
        
        paragraphs = allParagraphs;
        currentChunk = startIndex;
        totalChunks = paragraphs.length;
        processingIndex = startIndex;
        ttsState = 'speaking';
        
        enableConnection();
        feedQueue();
        updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
    }, 500);
}).on('touchend touchmove mouseup mouseleave', function() {
    clearTimeout(longPressTimer);
    longPressTimer = null;
});

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="KiOIqgjuNC2RbECJTx8eeIZyHhTCBqoF3CAZzKyd" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

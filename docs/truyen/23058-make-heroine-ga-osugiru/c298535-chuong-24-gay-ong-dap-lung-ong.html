<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Make Heroine ga Ōsugiru! - Chương 2.4: Gậy ông đập lưng ông - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Hử? Ai thua cuộc cơ?” Với tư cách của một nhân vật nền trong lớp, Kazuhiko Nukumizu tôi đây vừa chứng kiến một khoảnh khắc không thể tin được: Cô nàng Anna Yanami nổi tiếng vậy mà bị một chàng trai từ chối! “Cậu ấy đã hứa là sẽ cưới...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="wqJgfmoFQTKc5aW1aJEOUOPlXEuUKfgGGbqriw2r">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23058-make-heroine-ga-osugiru/c298535-chuong-24-gay-ong-dap-lung-ong">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23058-3d10c009-f302-4da4-bf0f-b93cf2c17535.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23058-make-heroine-ga-osugiru/c298272-chuong-07"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23058-make-heroine-ga-osugiru"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23058-make-heroine-ga-osugiru/c298535-chuong-24-gay-ong-dap-lung-ong" style="background: url('https://i.hako.vn/ln/series/covers/s23058-3d10c009-f302-4da4-bf0f-b93cf2c17535.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23058-make-heroine-ga-osugiru">Make Heroine ga Ōsugiru!</a></h5>
                    <small><i class="fas fa-pen"></i>Takibi Amamori</small>
                    <small><i class="fas fa-paint-brush"></i>Imigimuru</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23058-make-heroine-ga-osugiru/c215217-chuong-02">Vol 04</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23058-make-heroine-ga-osugiru/t33183-vol-05">Vol 05</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c231044-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c235548-mo-dau">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Mở đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c240311-chuong-01-chang-co-cua-de-qua-mat-nhau-dau">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 01: Chẳng có cửa để qua mặt nhau đâu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c241614-giao-doan-1-hoi-hoc-sinh-cao-trung-tsuwabuki">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Giao đoạn 1: Hội học sinh Cao trung Tsuwabuki
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c295987-chuong-21-gay-ong-dap-lung-ong">
                                                                        Chương 2.1: Gậy ông đập lưng ông
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c296595-chuong-22-gay-ong-dap-lung-ong">
                                                                        Chương 2.2: Gậy ông đập lưng ông
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c298272-chuong-07">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.3: Gậy ông đập lưng ông
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23058-make-heroine-ga-osugiru/c298535-chuong-24-gay-ong-dap-lung-ong">
                                                                        Chương 2.4: Gậy ông đập lưng ông
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 05</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2.4: Gậy ông đập lưng ông</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23058-make-heroine-ga-osugiru/c298535-chuong-24-gay-ong-dap-lung-ong#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,892 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-01-2026 17:52:22" datetime="2026-01-28T17:52:22+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2.4: Gậy ông đập lưng ông</p>
                    <p id="1"><strong>8</strong></p><p id="2">Tôi không có chút kí ức nào về cái hồi mình còn bé tí cả. Đó có thể là vì tôi thường sẽ nhanh chóng quên bẵng đi mất mặc cho trước đó đã cố ghi nhớ đến đâu; hoặc có thể là những kí ức ấy thực sự có tồn tại trong đầu, chẳng qua là tôi không thể gợi lại chúng mà thôi. Dù sao thì, khi Kaju mới ra đời, tôi lúc đó chắc được khoảng 18 tháng tuổi là cùng, nên chuyện tôi không có kí ức rõ ràng hẳn cũng là điều tất nhiên. </p><p id="3">Bởi vậy, câu chuyện sắp tới đây sẽ chỉ là thứ sản phẩm chắp vá từ mấy câu chuyện bố mẹ tôi kể và vài mảnh kí ức vụn vặt tôi nhớ được sau khi lớn lên.</p><p id="4">Tôi đã từng là người được bố mẹ chú tâm nhất, nhưng rồi tôi đã mất đi vị trí đó bởi một đứa bé khác. Và chuyện ấy đã khiến tôi thấy hờn dỗi vô cùng.</p><p id="5">Giờ đây, khi ngẫm lại cẩn thận thì chẳng khó để tôi hiểu ra rằng, bố mẹ hẳn phải chật vật lắm để có thể vừa quan tâm đến một tôi mới chập chững biết đi, vừa để ý đến một Kaju mới hạ sinh chẳng được mấy lâu. Nhưng tôi lúc ấy nào có hiểu được?</p><p id="6">Tên đứa em gái bé bỏng của tôi thực sự rất khó đọc, tôi hồi đó chẳng tài nào gọi được nó một cách chính xác. Chắc hẳn hồi đó, với riêng tôi thôi, sự xuất hiện của thành viên mới ấy đã khiến tôi thấy cô đơn và cáu giận vô cùng.</p><p id="7">Vào bữa tiệc sinh nhật năm tôi 2 tuổi, tôi cuối cùng cũng lấy lại được vị trí mà tôi hằng mong ước ấy, nhưng niềm vui ngắn chẳng tày gang. Em tôi cất tiếng khóc, và thế là mẹ tôi đã phải rời tiệc để dỗ dành em, để lại tôi với cơn tức giận sôi trào trong lòng. Chẳng thể kiềm chế được, tôi vung tay ném phăng cái vương miện bằng giấy đi, cuộn tròn trong góc phòng đầy tủi thân, để rồi thiếp đi lúc nào không hay.</p><p id="8">Không lâu sau, tôi thức dậy và bắt gặp ánh nhìn của mẹ tôi.</p><p id="9">“Chào buổi sáng, onii-chan.”</p><p id="10">Chẳng mảy may để tâm ánh nhìn đầy hờn dỗi của tôi, mẹ vẫn bế tôi lên và đưa tôi đến gần nôi của Kaju.</p><p id="11">Nhìn xuống Kaju khi đang được bế trên tay mẹ, tôi chợt nhận ra rằng dù bé hơn tôi rất nhiều, song nhìn em vẫn giống một con người. Và điều đó làm tôi thấy khó tin vô cùng.</p><p id="12">“Kaju cũng dậy rồi hử? Nhanh nhanh chào buổi sáng onii-chan đi nào, Kaju ơi.”</p><p id="13">Em thức dậy, đưa bàn tay bé xinh xinh của mình ra, và tôi cẩn thận đan tay mình vào đó. Thế rồi Kaju nắm chặt lấy bàn tay tôi. Tay em nhỏ, ấm áp, nhưng lại mạnh mẽ hơn tôi tưởng nhiều.</p><p id="14">Tôi cứng đờ tại chỗ. Thế rồi, Kaju chợt mỉm cười. Đó là khoảnh khắc tôi ngộ ra sự thật rằng: <em>Mình là anh trai của Kaju.</em></p><p id="15">Nhưng phải đến tận năm tôi 3 tuổi, kí ức về một tôi ra dáng anh trai thực thụ mới bắt đầu xuất hiện. Còn với Kaju, em vẫn cứ lẽo đẽo bám theo tôi như thường lệ, ngay cả khi đã thành học sinh sơ trung.</p><p id="16">Và ấy là lí do tại sao tôi vẫn cứ bám víu vào kí ức của bản thân, rồi liên tục tự lùi ngày Kaju trưởng thành và rời xa vòng tay tôi sang một ngày khác.</p><p id="17"><em>Tuy ngày đó rồi cũng sẽ đến thôi… nhưng chắc chắn chưa thể nào là hôm nay được.</em></p><p id="18"><strong>9</strong></p><p id="19">Trời đã trở nên tối mịt tối mù trước cả khi tôi kịp nhận thức được điều đó. Rảo bước trên con phố tối tăm, ánh mắt của tôi giờ đây chỉ còn đủ để nhìn rõ mấy tấm đá lát nền trên vỉa hè, nhưng tôi vẫn cắm đầu cắm cổ tiến về phía trước.</p><p id="20">Đón chào tôi khi kết thúc đoạn đường vỉa hè là phần vạch qua đường dành cho người đi bộ, được soi sáng bởi đèn đường. Nhưng ngay khi tôi dợm bước chân lên, cánh tay tôi bỗng bị giữ lại.</p><p id="21">“Cẩn thận xe cộ, Nukumizu-san!”</p><p id="22">Asagumo-san là người đã dừng tôi lại. Trong bộ đồng phục Cao trung Tsuwabuki, nhỏ nhìn tôi đầy bối rối và hỏi.</p><p id="23">“Cậu đang đi đâu vậy?”</p><p id="24">“... Ể? Tớ muốn về nhà thôi…”</p><p id="25">Nói đoạn, tôi ngó nghiêng xung quanh, để nhận ra rằng đây chắc chắn không hề là khu nhà tôi. Có vẻ như tôi đã vô thức lang thang và lạc đường khỏi ga Toyohashi nhỉ.</p><p id="26">“Cậu đã theo tớ đến tận đây à? Cho tớ xin lỗi nha. Lát nữa tớ sẽ ổn định lại thôi, nên là…”</p><p id="27">Asagumo-san lắc đầu nguầy nguậy và khẳng định.</p><p id="28">“Tớ không thể để Nukumizu-san một mình đơn côi bây giờ được. Tụi mình cùng đi đâu đó ngồi nghỉ xíu đi.”</p><p id="29"><em>Mấy lời đó dễ gây hiểu nhầm lắm đó nha?</em></p><p id="30">Nói rồi, nhỏ mang tôi đến một quán có tên là Matterhorn. Đó là một quán bán đồ ngọt thiết kế theo lối vintage phương tây, tọa lạc ở Toyohashi này; và đây là lần đầu tiên tôi được ghé thăm chi nhánh có bán cà phê của họ.</p><p id="31">Tôi nhìn xuống, ngắm nhìn một lượt kiến trúc cổ điển của quán trước khi Asagumo-san cho tôi xem điện thoại của nhỏ.</p><p id="32">“Yakishio cũng vừa tạm biệt mấy đứa em… Giờ cậu ấy đang trên đường đến đây rồi.”</p><p id="33">Vị nữ bồi bàn đặt một cốc cà phê lên trước mặt tôi. Tôi khẽ gật đầu biểu thị ý cảm ơn.</p><p id="34">“Cậu chỉ gọi vậy thôi à?”</p><p id="35">“Tớ chưa có đói.”</p><p id="36">Một cái bánh và nước ép hỗn hợp được đặt lên trước mặt Asagumo-san không lâu sau đó. Thế rồi, nụ cười của nhỏ nhanh chóng biến mất.</p><p id="37">“... Cậu nên để tâm hơn đến lượng đường mình tiêu thụ đi nha. Một bộ óc mệt mỏi là một bộ óc cực kì cần được bổ sung đường đầy đủ đấy.”</p><p id="38">“Tớ biết mà… Xin lỗi vì đã làm cậu lo lắng.”</p><p id="39">Nói đoạn, tôi bỏ đường vào cốc và khuấy đều. Dường như thấy vậy là không đủ, Asagumo-san đành cắm dĩa vào một miếng bánh và đưa về phía tôi.</p><p id="40">“Nào, ah…”</p><p id="41">“Ể? Khoan, khoan đã nào… Có người ở quanh đây đấy, Asagmo-san ơi.”</p><p id="42">“Nãy tớ bảo tụi mình có thể tán tỉnh lẫn nhau còn gì? Onee-chan không bao giờ thất hứa đâu.”</p><p id="43"><em>Bộ màn kịch ấy vẫn chưa có dừng lại à?</em></p><p id="44">Nhỏ trông không có vẻ gì là sẽ từ bỏ cho đến khi tôi chịu ăn nhỉ… Thôi đành vậy.</p><p id="45">… Một vị ngọt bùng nổ trong khoang miệng tôi, đi kèm với cảm giác hoài niệm khó tả. </p><p id="46">Asagumo-san có vẻ đã đặt một đĩa bánh Matterhorn, một món được đặt tên theo tên cửa hàng. Về cơ bản, đây là một chiếc bánh bông lan mỏng có lẫn kem và hạt dẻ ở bên trong. Đã lâu lắm rồi tôi chưa có ăn, nhưng nó thực vẫn ngon như ngày nào. </p><p id="47">Cá nhân tôi đã luôn là một tín đồ của bánh sô-cô-la, nhưng sau đợt này thì có khi phải xem xét lại rồi…</p><p id="48">Ngay khi tôi chuẩn bị cầm cốc cà phê lên, Asagumo-san mỉm cười.</p><p id="49">“Cậu thấy đỡ hơn chưa?”</p><p id="50">“Cảm ơn nha… Tớ thấy ổn hơn nhiều rồi.”</p><p id="51">Tôi không thể cứ mãi buồn khổ khi thấy nhỏ đang lo lắng cho tôi đến thế kia được.</p><p id="52">Tôi mỉm cười gượng gạo; và rồi, khóe mắt tôi chợt bắt được một cái túi thể thao đặt cạnh ghế ngồi của Asagumo-san.</p><p id="53">“Hai cậu đang làm gì vậy?”</p><p id="54">Với đôi mắt to tròn màu nâu của mình, Yakishio đang nhìn chằm chằm vào chúng tôi mà không chớp lấy một lần. <em>Chết dở, bị nhỏ thấy tận mắt mấy trò con bò kia luôn rồi…</em></p><p id="55">“Hôm nay tớ là chị gái của Kazu-kun ấy mà.”</p><p id="56">“Trời! Nghe hay vậy! À không, không phải vậy, tớ xin lỗi nha…”</p><p id="57"><em>Ể…? Chỉ vậy là đủ để nhỏ hiểu rồi à?</em></p><p id="58">Gọi món xong, Yakishio ngồi xuống cạnh bên Asagumo-san.</p><p id="59">“Thế có chuyện gì vậy? Tớ có nghe được là cậu đang khá đau khổ, nhưng có vẻ không phải vậy nhỉ… Cậu vẫn đủ sức để tán tỉnh qua lại với người ta cơ mà.”</p><p id="60">Nhỏ chống khuỷu tay lên mặt bàn, đoạn lên tiếng với giọng điệu tinh nghịch.</p><p id="61">Nhỡ mà Ayano biết được thì thật không ổn tí nào… Tôi cần phải đổi chủ đề ngay mới được.</p><p id="62">“À mà, Yakishio đã bế Kaju… đã bế em gái tớ đi nhỉ. Em tớ sau đó thế nào rồi?</p><p id="63">“Imouto-san? Tớ nghĩ em ấy có đôi chút bối rối thôi.”</p><p id="64"><em>Tất nhiên phải vậy rồi… nhưng đó đâu phải điều tớ muốn hỏi đâu.</em></p><p id="65">“Ờm… sau đó cậu có thả em tớ ra mà, đúng chứ?”</p><p id="66">“Tớ mang ẻm đến văn phòng hội học sinh, và nhờ đó mà giành chiến thắng đó nha!”</p><p id="67"><em>Tuy không biết luật lệ ra sao, nhưng cậu mà thắng ấy hả? Mà thôi kệ đi… em nó vẫn ổn là được rồi.</em></p><p id="68">Tôi nhấp một ngụm cà phê. Không lâu sau, trà đen và bánh sô-cô-la của Yakishio được mang lên. Về món bánh mà nhỏ gọi, đây là một loại bánh ngọt nửa này nửa kia, là sự kết hợp giữa bánh sô-cô-la và bánh bông lan, với một lớp sô-cô-la được phủ bên ngoài bánh.[note87757]Đây đã luôn là một món cực kì đắt khách của tiệm rồi.</p><p id="69">Cắm dĩa vào miếng bánh, Yakishio lẩm bẩm với tông giọng trầm tĩnh lạ thường.</p><p id="70">“Imouto-san à… Nên nói sao nhỉ? Ẻm ổn không ta?”</p><p id="71">“... Cậu có nói gì với em gái tớ không?”</p><p id="72">“Cũng có, mà không nhiều lắm vì tớ đang bận chạy mà… Nhưng cơ bản thì, em ấy có quan hệ tốt với tất cả mọi người xung quanh và có nhiều bạn lắm luôn. Nói thế nào giờ nhỉ…”</p><p id="73">Yakishio cắn một miếng bánh.</p><p id="74">“... Ẻm là một cô bé đáng tin cậy, và rất kiên định với quan điểm cá nhân của mình. Tớ hiểu là cậu cũng có lo lắng, nhưng cậu nên tin tưởng em mình hơn chút đi, Nukkun à.”</p><p id="75">Nói đoạn, nhỏ xúc lên một miếng bánh bằng dĩa của mình và đưa về phía miệng tôi.</p><p id="76">“Nào, Kazu-kun, há miệng ra đi nào.”</p><p id="77">“Hả…? Cậu làm gì vậy hả Yakishio?”</p><p id="78">Tôi ngoảnh đi chỗ khác vì sợ, nhưng Yakishio vẫn không buông tha.</p><p id="79">“Cậu có thể ăn đồ của Chiha-chan, nhưng với Remon-onee-chan thì lại không sao?”</p><p id="80">“Ê? Ê?”</p><p id="81">Thi thoảng Yakishio lại bướng bỉnh đến không ngờ… thậm chí đến cả Asagumo-san cũng gia nhập cuộc vui luôn rồi.</p><p id="82"><em>Đành chịu vậy…</em> Bỏ cuộc, tôi há miệng và ăn miếng bánh được đưa cho. Yakishio mỉm cười đầy mãn nguyện khi thấy tôi làm vậy.</p><p id="83">“Được rồi, thế là xong mọi vấn đề. Giờ thì an tâm ăn bánh thôi!”</p><p id="84"><em>Vấn đề nào đã xong cơ? </em>Mà dù sao thì, với tư cách của một người anh, tôi hẳn cần phải tin tưởng em mình nhiều hơn thật.</p><p id="85">… Nhân tiện thì, khó mà khẳng định hai đứa nó đã hẹn hò chỉ vì chúng thân thiết với nhau được. Tại sao ấy hả? Cứ nhìn vào tôi bây giờ là hiểu mà.</p><p id="86">Tôi gục gặc đầu tự đồng tình với bản thân. Còn Asagumo-san, không hiểu sao nhỏ giờ lại cứ nhìn ra ngoài với vẻ bồn chồn.</p><p id="87">“Cũng khá muộn rồi nhỉ… Tầm này chắc em cậu về nhà rồi ha, Nukumizu-kun?”</p><p id="88">“Tuần này Kaju có việc bận ở hội học sinh, nên chắc chưa về đâu. Tớ nghĩ là tuần này em ấy sẽ thường xuyên về nhà muộn ấy.”</p><p id="89">“Vậy giờ hẳn là cơ hội tuyệt hảo nhỉ.”</p><p id="90"><em>… Ý nhỏ là sao?</em></p><p id="91">Thấy tôi có vẻ hoang mang, Asagumo-san liền giơ ra cho tôi xem cái đồng hồ thông minh của nhỏ.</p><p id="92">“Cái chi vậy, Chiha-chan?”</p><p id="93">“Đồng hồ thông minh nha! Với cái này, tớ có thể kiểm soát hết thảy tất cả những con bọ tớ đã đặt ở khắp Sơ trung Momozono…”</p><p id="94">“Dừng ở đó đi, Asagumo-san!”</p><p id="95">Tôi vội vàng ngắt lời nhỏ, nhưng Asagumo-san vẫn gật đầu một cách nghiêm túc và nói tiếp.</p><p id="96">“... Đây là Smartbug mà, không phải mấy món rẻ tiền đâu.”</p><p id="97"><em>Tớ bảo cậu dừng lại đi mà…</em></p><p id="98">Nhìn vào cổ tay Asagumo-san với ánh mắt lấp la lấp lánh, Yakishio hào hứng hỏi.</p><p id="99">“Gì vậy gì vậy? Trông ngầu thiệt đó nha! Đây là kiểu công cụ bí mật của các thám tử đúng không?”</p><p id="100">“Hehe… chính nó. Với năng lực thám tử của mình, tớ có thể nghe được thanh âm từ xa thông qua chiếc máy này nha… cụ thể hơn là thanh âm trước phòng hội học sinh.”</p><p id="101"><em>Năng lực thám tử thật đáng sợ làm sao… Ủa mà khoan đã?</em></p><p id="102">“Liệu cái này có bắt được tín hiệu kể cả khi tụi mình đã rời khỏi Momozono không vậy?”</p><p id="103">Đáp lại câu hỏi hợp lí của tôi là một câu trả lời với giọng điệu như thể ấy là điều hiển nhiên từ Asagumo-san.</p><p id="104">“Tớ đã để lại đơn vị chính của một bộ phát Wifi di động trong trường rồi… Tín hiệu từ những đơn vị phụ sẽ được chuyển hóa từ đó nha.”</p><p id="105">“Đó là lí do cậu đăng kí hẳn một gói Wifi ấy hả? Chỉ vì thế này thôi sao?”</p><p id="106">Nghe vậy, Asagumo-san chỉ mỉm cười, đoạn bắt đầu khẽ điều chỉnh đồng hồ thông minh của nhỏ.</p><p id="107"><em>… Thây kệ cậu, làm gì thì làm đi.</em></p><p id="108">Tôi quyết định bỏ cuộc, rồi ngồi xem Asagumo-san thể hiện năng lực thám tử của nhỏ.</p><p id="109">“Nè, nè, Chiha-chan! Cái này là sao vậy? Nó có sáng lên được không vậy?”</p><p id="110">“Để lần tới tớ cải tiến thêm một chút đèn LED vô sau nha… À đây, kết nối rồi nè.”</p><p id="111">Ngay lập tức, cả ba đứa tôi ghé tai lại gần chiếc đồng hồ… nhưng chỉ có thể nghe được những thanh âm mơ hồ, rời rạc.</p><p id="112">“Tớ không nghe được gì cả. Có phải đang không có ai ở đó không nhỉ?”</p><p id="113">“Ah! Hình như tớ vừa nghe được gì đó đấy!”</p><p id="114">Tụi tôi thực nghe được một thanh âm gì đó. Nhưng ngay khi tụi tôi nín thở và không nói lời nào, thì một lần nữa, tụi tôi lại chẳng nghe được gì.</p><p id="115">Thế rồi, như thể nhận ra điều gì, Asagumo-san chợt ngẩng đầu lên.</p><p id="116">“Tiếng này không phải thu qua Wifi, mà được truyền thẳng qua thiết bị nghe lén ấy…”</p><p id="117">“Smartbug.”</p><p id="118">“À ừ, Smartbug.”</p><p id="119"><em>Mừng là cậu hiểu. Cơ mà, nếu thiết bị nghe lén đang ở gần đây, vậy tức là…</em></p><p id="120">“Liệu có phải có người vô tình sử dụng cùng một thiết bị với tụi mình không?”</p><p id="121">“Không, không thể nào… cái này kết nối trực tiếp đến phần mềm mà.”</p><p id="122">Asagumo-san lắc tay phủ nhận, và chợt dừng lại khi chạm mắt với tôi.</p><p id="123">“... Sao cậu nhìn tớ thế?”</p><p id="124">“Trong cặp cậu có gì vậy, Nukumizu-san?”</p><p id="125">“Hở? Bộ đồng phục Momozono hồi nãy tớ mặc thôi…”</p><p id="126">Vầng trán Asagumo-san khẽ sáng lên khi thấy tôi bắt đầu mở khóa cặp; và cùng lúc đó, âm thanh phát ra từ chiếc đồng hồ càng ngày càng mạnh hơn. <em>Không lẽ thực sự có cái gì ở trong cặp mình sao? Sao mà vậy được nhỉ?</em></p><p id="127">Tôi lấy áo ra và bắt đầu kiểm tra. Sau một hồi, một thứ gì đó chợt rơi ra từ cổ áo. Đập vào mắt tôi khi nhặt nó lên là một con chip nhỏ màu đen, nhỏ bằng phần đầu của ngón tay út. <em>Khoan đã… </em>Trên đó cũng có một con số nữa.</p><p id="128">“... Thứ 1?”</p><p id="129">“Đó là cái Smartbug tớ đã đặt ở cửa phòng hội học sinh mà… Khoan đã nào, vậy thì cái phản ứng này là…”</p><p id="130">Nói đoạn, Asagumo thọc tay vào cặp. Nhỏ sục sạo một hồi rồi lôi ra một con chip y hệt.</p><p id="131">“Thứ 2… Này là cái tớ gắn lên đồng phục của Imouto-san mà…”</p><p id="132"><em>Con nhỏ này thực sự làm mấy chuyện như thế à? Asagumo-san giờ hoàn toàn xứng với hai chữ “con nhỏ” rồi ha?</em></p><p id="133">Hai đứa tụi tôi á khẩu hoàn toàn. Thấy thế làm Yakishio vừa giữ dĩa trong tay, vừa bối rối nhìn qua lại giữa hai đứa tôi và hỏi.</p><p id="134">“Ừm… Chuyện gì đã xảy ra vậy?”</p><p id="135">Đặt ngón trỏ chống lên cằm, Asagumo-san nghiêng đầu với vẻ mặt khó xử.</p><p id="136">“Có vẻ là Watson-onii-san đã bị em gái Moriarty dễ thương lừa một vố rồi.”</p><p id="137">“Đúng thế, Watson-onee-chan có…”</p><p id="138">“Hể, tuy tớ chẳng hiểu gì sất, nhưng cảm ơn vì bữa ăn nha!”</p><p id="139">Chắp tay lại trước hai cô cậu Watson-kun, Yakishio nói lời cảm ơn.</p><p id="140"><em>Hết chương 2</em></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note87757"><a href="#anchor-note87757" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87757" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">bánh damier hay sao ý: <a href="https://www.tastemade.com/recipes/christmas-damier-cake" rel="nofollow noreferrer noopener" target="_blank">https://www.tastemade.com/recipes/christmas-damier-cake</a></span></div><span class="note-content_real long-text">bánh damier hay sao ý: <a href="https://www.tastemade.com/recipes/christmas-damier-cake" rel="nofollow noreferrer noopener" target="_blank">https://www.tastemade.com/recipes/christmas-damier-cake</a></span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23058-make-heroine-ga-osugiru/c298272-chuong-07" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23058-make-heroine-ga-osugiru" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23058-make-heroine-ga-osugiru" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'yks63zQafY8vRn2EGIC7yLCNcIphzDMIfJDtGl8p';
        var comment_type = 'chapter';
        var comment_typeid = '298535';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'wqJgfmoFQTKc5aW1aJEOUOPlXEuUKfgGGbqriw2r';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23058');
    chapter_id = parseInt('298535');

    readingObject = {
        series_id: series_id,
        series_title: 'Make Heroine ga Ōsugiru!',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="wqJgfmoFQTKc5aW1aJEOUOPlXEuUKfgGGbqriw2r" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c507e26acbdc3a3',t:'MTc2OTYwMzMzOQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Vĩnh Thoái Hiệp Sĩ - Chương 302 - Lực lượng Ngọc lục bảo đứng về phía ai? - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Dù đó có thể là giấc mơ hao mòn, nhàu nát hay phai mờ. Vẫn kiên cường, không hề gục ngã. Mỗi ngày lặp lại, vẫn lao về phía ánh sáng của ngày mai. Trở thành Hiệp Sĩ – kiên cường và rực rỡ. ---o0o--- &quot;Ngươi đúng là một thiên...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="Y74hsfn54UdOXZkhoxjPndEebh08LoVkIxb37oU8">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21180-vinh-thoai-hiep-si/c278807-chuong-302-luc-luong-ngoc-luc-bao-dung-ve-phia-ai">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21180-df8fd877-c734-4e98-b9f7-7a785534c937.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21180-vinh-thoai-hiep-si/c278790-chuong-301-vi-dieu-do-khong-sai"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21180-vinh-thoai-hiep-si"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/21180-vinh-thoai-hiep-si/c163325-encrid"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21180-vinh-thoai-hiep-si/c278807-chuong-302-luc-luong-ngoc-luc-bao-dung-ve-phia-ai" style="background: url('https://i.hako.vn/ln/series/covers/s21180-df8fd877-c734-4e98-b9f7-7a785534c937.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21180-vinh-thoai-hiep-si">Vĩnh Thoái Hiệp Sĩ</a></h5>
                    <small><i class="fas fa-pen"></i>Soulpung (소울풍)</small>
                    <small><i class="fas fa-paint-brush"></i>Leean</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21180-vinh-thoai-hiep-si/c162820-chuong-01">Chương 01 - 100</a></li>
                                        
                                                            <li class=""><a href="/truyen/21180-vinh-thoai-hiep-si/c181846-chuong-101-khi-may-man-khong-con-dong-hanh-3">Chương 100 - 200</a></li>
                                        
                                                            <li class=""><a href="/truyen/21180-vinh-thoai-hiep-si/c262483-chuong-201-ho-dua-vao-dieu-gi-ma-dam-tu-tin-den-vay1">Chương 201 - 300</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21180-vinh-thoai-hiep-si/t35267-chuong-301-400">Chương 301 - 400</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21180-vinh-thoai-hiep-si/c278790-chuong-301-vi-dieu-do-khong-sai">
                                                                        Chương 301 - Vì điều đó không sai
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21180-vinh-thoai-hiep-si/c278807-chuong-302-luc-luong-ngoc-luc-bao-dung-ve-phia-ai">
                                                                        Chương 302 - Lực lượng Ngọc lục bảo đứng về phía ai?
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/21180-vinh-thoai-hiep-si/c163325-encrid">thông tin nhân vật - Có chứa spoil - Đang cập nhật</a></li>
                                        
                                                            <li class=""><a href="/truyen/21180-vinh-thoai-hiep-si/c270214-behind-webtoon-doodle-story-episode-esther">Ngẫu hứng của artist iancomics2018</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 301 - 400</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 302 - Lực lượng Ngọc lục bảo đứng về phía ai?</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21180-vinh-thoai-hiep-si/c278807-chuong-302-luc-luong-ngoc-luc-bao-dung-ve-phia-ai#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,108 từ - Cập nhật: 
                        <time class="topic-time timeago" title="25-12-2025 12:59:28" datetime="2025-12-25T12:59:28+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 302 - Lực lượng Ngọc lục bảo đứng về phía ai?</p>
                    <p id="1">"Tệ lắm."</p><p id="2">Đó là câu trả lời cho câu hỏi "Ông có ổn không".</p><p id="3">Nằm trên giường bệnh, Graham chỉ ngẩng đầu lên nhìn Encrid.</p><p id="4">Vết thương sâu ở lưng khiến ông thậm chí không thể cử động bình thường.</p><p id="5">Điều này đồng nghĩa với việc Lực Lượng Border Guard đã mất đi người chỉ huy.</p><p id="6">Họ sẽ phải chiến đấu trong tình cảnh không có Lãnh chúa, không có Tiểu đoàn trưởng, không có Tổng chỉ huy...</p><p id="7">"Không có ta cũng được mà."</p><p id="8">Graham nói.</p><p id="9">Viên phó quan suýt chút nữa thì gật đầu đồng tình. À không, có hai phó quan, và một trong số đó đã thực sự gật đầu.</p><p id="10">"Tên khốn này gật đầu cái gì?"</p><p id="11">"A, không ạ."</p><p id="12">Bị Graham mắng, viên phó quan đang gật đầu lia lịa vội chuyển sang lắc đầu quầy quậy.</p><p id="13">Encrid chứng kiến vở hài kịch ngắn này rồi hỏi:</p><p id="14">"Vậy là tôi sẽ đảm nhận sao?"</p><p id="15">"Không cậu thì ai?"</p><p id="16">Graham lại một lần nữa nhận ra điều đó.</p><p id="17">Danh nghĩa là Lãnh chúa thôi.</p><p id="18">Chẳng phải người hùng thực sự của thành phố này là kẻ khác sao.</p><p id="19">Trong trận chiến vừa qua, chém chết tướng địch, thu phục được đám thuộc hạ điên khùng, bản thân hắn cũng chẳng bình thường chút nào, nhưng hắn lại là người biết cứu một đứa trẻ.</p><p id="20">Việc lao mình ra cứu đứa bé trong khoảnh khắc đó.</p><p id="21">Một hành động vô ích nhưng...</p><p id="22">Chính vì là người như thế nên mới đáng tin cậy.</p><p id="23">Và cũng chính vì là người như thế nên ông không có gì để phàn nàn.</p><p id="24">Ngay bây giờ.</p><p id="25">"Ông nhường lại ghế Lãnh chúa cho tôi đi."</p><p id="26">Dù Encrid có nói vậy, ông cũng sẽ sẵn lòng giao lại.</p><p id="27">Tất nhiên hắn sẽ không nói thế. Đó chỉ là ảo giác của ông thôi.</p><p id="28">Dù chỉ là Lãnh chúa trên danh nghĩa, ông cũng không thấy khó chịu. Thật kỳ lạ.</p><p id="29">Ông không hề nảy sinh lòng đố kỵ với người đàn ông trước mặt.</p><p id="30">Là do ông đã chứng kiến hắn đi lên từ đáy vực sao?</p><p id="31">Hay là do ông biết hắn đã vung kiếm đến mức toạc cả lòng bàn tay?</p><p id="32">Dù giờ đây thực lực đã tiến bộ vượt bậc so với trước kia, hắn vẫn ngược đãi đôi tay mình y như vậy.</p><p id="33">Ghen tị với một người như thế chẳng khác nào tự thừa nhận mình là rác rưởi và kém cỏi.</p><p id="34">Có lẽ là vì vậy.</p><p id="35"><em>Có lẽ mình không muốn trở thành rác rưởi.</em></p><p id="36">Graham kết luận như vậy. Dù sao vẫn có điều thắc mắc nên ông hỏi:</p><p id="37">"Tại sao cậu lại cứu đứa bé đó?"</p><p id="38">Rất nguy hiểm.</p><p id="39">Và vô nghĩa.</p><p id="40">Ánh chớp và vụ nổ, chỉ cần sơ sẩy một chút là mất mạng.</p><p id="41">Vậy mà người đàn ông trước mặt vẫn ôm lấy đứa bé và lăn xả vào đó. Hắn cứu nó dù lưng và vai bị bỏng.</p><p id="42">Tại sao? Chỉ là một đứa nhóc thôi mà.</p><p id="43">Một đứa trẻ lẽ ra sẽ chết vì một mũi tên lạc hoặc chết nếu không ai can thiệp, hắn lại làm điều gì đó vì nó.</p><p id="44">Không thể hiểu hết mọi hành động của hắn trong khoảnh khắc đó, nhưng kết quả là hắn đã cứu đứa trẻ.</p><p id="45">Vung kiếm vì một người xa lạ.</p><p id="46">Hắn như một nhân vật bước ra từ những câu chuyện kể.</p><p id="47">Encrid trả lời không chút đắn đo:</p><p id="48">"Vì tôi muốn làm thế."</p><p id="49">Cái thái độ coi đó là chuyện hiển nhiên càng gây ấn tượng mạnh mẽ hơn.</p><p id="50">Tên khốn này đúng là một kẻ điên rồ vĩ đại.</p><p id="51">Graham buột miệng kiếm chuyện:</p><p id="52">"Trả lời Tiểu đoàn trưởng cho lễ phép vào. Đại đội trưởng. Cậu bị lây tính xấu của Rem rồi à."</p><p id="53">"Xúc phạm nhau đấy à. Ông muốn thách đấu tôi sao?"</p><p id="54">"Nhắc đến Rem là lỗi của ta."</p><p id="55">"Vâng."</p><p id="56">"Thắng rồi trở về đi. Khi cậu trở về, ta sẽ là người đầu tiên ra đón trong lễ khải hoàn."</p><p id="57">"Được một ông già đón tiếp thay vì gái đẹp thì có gì đáng mừng chứ?"</p><p id="58">Hắn hỏi như thể thực sự thắc mắc, tên phó quan ngốc nghếch lại gật đầu.</p><p id="59">Tại sao lại đồng tình ở chỗ đó hả.</p><p id="60">"Ra ngoài."</p><p id="61">Graham đuổi cả Encrid lẫn phó quan ra ngoài.</p><p id="62">Là một Lãnh chúa, ông lo lắng cho thành phố.</p><p id="63">Encrid nhìn thấy tinh thần trách nhiệm nơi Graham. Điều đó khiến anh khá hài lòng.</p><p id="64">Vậy nên.</p><p id="65">"Tôi sẽ thắng và trở về."</p><p id="66">Encrid nói vọng lại khi bước ra.</p><p id="67">Graham không nói thêm gì. Chỉ là trong mắt ông không hề hiện lên chút lo lắng nào.</p><p id="68">Bước ra ngoài, tuyết đang ngừng rơi. Aspen không biết sẽ đứng nhìn đến bao giờ, nên anh phải xuất quân sớm.</p><p id="69">Với tư cách là quân tiếp viện cho Ngọc lục bảo.</p><p id="70">"Giá mà bọn chúng cũng biết điều như tuyết thì tốt, đúng không?"</p><p id="71">Tên phó quan thiếu tinh tế này đúng là ngu ngốc. Hắn không hiểu rằng nhờ tuyết rơi mà họ mới có thời gian nghỉ ngơi quý giá.</p><p id="72">Làm thế nào mà gã này leo lên được chức phó quan hay vậy?</p><p id="73">"Cậu nên học cách quan sát đi."</p><p id="74">Encrid để lại lời khuyên đầy ẩn ý rồi quay lưng bước đi.</p><p id="75">Anh nhìn thấy mẹ của đứa bé, thấy cả đám lính đánh thuê bị thương trong thành phố.</p><p id="76">Đám lính đánh thuê đang trọ tại quán trọ trong thành.</p><p id="77">Một số hứa sẽ tòng quân, một số thì bảo sẽ ở lại làm lính đánh thuê.</p><p id="78">Có khá nhiều kẻ thú vị.</p><p id="79">Trong số đó có cả Edin Molsen.</p><p id="80">"Hãy coi chừng cha ta."</p><p id="81">Hắn đột ngột tiến lại và nói thế.</p><p id="82">"Cậu có biết câu đó cũng đồng nghĩa với việc bảo tôi hãy coi chừng cậu không?"</p><p id="83">"Không phải cảnh cáo, là lời khuyên."</p><p id="84">"Đã rõ."</p><p id="85">Anh nghe rồi để đó, không bận tâm lắm. Bây giờ điều quan trọng là Bá tước Molsen sao?</p><p id="86">Không phải.</p><p id="87">Thứ tự ưu tiên rất rõ ràng. Đối thủ hiện tại là Aspen. Một Aspen đang lăm le tấn công.</p><p id="88">"Đừng quên lời ta nói."</p><p id="89">Edin Molsen nhắc lại lần nữa, Encrid đáp lại một cách vui vẻ:</p><p id="90">"Mà cậu tên gì nhỉ?"</p><p id="91">"......Lại quên nữa à?"</p><p id="92">Trước khi Edin lên cơn, Encrid nhanh chân chuồn lẹ về doanh trại.</p><p id="93">"Có gì ăn không? Có gì ăn không? Người bị thương phải được tẩm bổ, không biết à?"</p><p id="94">Vừa bước vào lều, Rem đã chào đón anh. Như con chim non chờ mẹ mớm mồi. Một con chim non háu ăn kinh khủng.</p><p id="95">Đúng lúc anh vừa đi một vòng quanh thành phố về.</p><p id="96">Vừa để hồi phục, vừa để thăm hỏi những lính đánh thuê đã ở lại chiến đấu vì anh.</p><p id="97">Nên trên tay anh có mang theo ít bánh mì, mứt cam và thịt khô tẩm gia vị.</p><p id="98">"Nghe bảo ăn no rồi chết thì cũng đỡ tủi thân hơn đấy."</p><p id="99">"Đùa kiểu phương Tây mà cậu cũng biết à?"</p><p id="100">Rem cười khẩy rồi nhét bánh mì vào miệng.</p><p id="101">Nhìn cảnh đó, anh chợt nhớ đến Gilpin, người anh gặp ngay trước khi trở về từ chợ.</p><p id="102">Gã đó có gì đó hơi lạ.</p><p id="103">"Có nhiều gián điệp đã xâm nhập và chúng tôi đã để sổng mất vài tên."</p><p id="104">Gã đột ngột tiến lại và nói thế.</p><p id="105">"Tôi sẽ giám sát chặt chẽ hơn nữa."</p><p id="106">Ý chí kiên định lộ rõ qua hàm răng nghiến chặt.</p><p id="107">Anh không trả lời gì. Chỉ tự hỏi tại sao bọn họ lại đi bắt gián điệp.</p><p id="108">Đó chẳng phải việc của đội an ninh thành phố sao?</p><p id="109">Hay không phải? Hình như đúng mà.</p><p id="110">Dù sao thì mắt Gilpin cũng rực lửa quyết tâm. Gã thể hiện nhiệt huyết và đam mê như thể đây là sứ mệnh của mình, như thể nhận được sự kêu gọi của thần linh.</p><p id="111">Dù khởi nguồn là mệnh lệnh của Krais nên chắc chắn chẳng liên quan gì đến thần thánh cả.</p><p id="112">"Ờ, được rồi."</p><p id="113">"Meelun đang xử lý tất cả những kẻ có dấu hiệu biết dùng kiếm ngay khi phát hiện. Chúng tôi sẽ tăng cường thành viên bang hội để đặt màn đêm của thành phố hoàn toàn dưới chân mình."</p><p id="114">Encrid không biết, nhưng Gilpin cũng đã chứng kiến chiến trường. Gã đã theo dõi trận chiến. Đặc biệt là Encrid.</p><p id="115">Vốn biết anh là người tài giỏi, nhưng Encrid trong trận chiến lần này có gì đó rất khác.</p><p id="116">Đứng ở tuyến đầu đón nhận lưỡi kiếm.</p><p id="117">Đối đầu với tướng địch. Điều đó cũng đáng kinh ngạc, nhưng thứ khắc sâu vào tâm trí Gilpin là cảnh anh ôm đứa bé lăn lộn giữa chiến trường.</p><p id="118">Hình ảnh đó cứ ám ảnh tâm trí gã suốt mấy ngày nay.</p><p id="119">Có lý do gì để cứu đứa bé đó không?</p><p id="120">Không. Vậy mà anh vẫn cứu. Việc đứa bé bị bắt cóc là lỗi của gã. Gã đã hứa sẽ truy lùng gián điệp và bảo vệ màn đêm của thành phố. Dù có sự trợ giúp của tên Frog Meelun.</p><p id="121">Vẫn để sổng.</p><p id="122">Ngày hôm đó, Gilpin nghiến răng mạnh đến mức lợi chảy máu.</p><p id="123">Hơn một trăm năm trước, có một người đàn ông đã một mình thống nhất các bang hội trộm cướp.</p><p id="124">Hắn không phải là đạo tặc mà là nghĩa tặc.</p><p id="125">Hắn lấy việc giúp đỡ người nghèo khổ làm tôn chỉ sống.</p><p id="126">Từ nhỏ chỉ biết nhìn, nghe và học cách trộm cắp, hắn đã leo lên đỉnh cao của thế giới đó.</p><p id="127">Bậc Thầy Đạo Tặc duy nhất của lục địa.</p><p id="128">Người hát rong ca ngợi sự lãng mạn của bóng đêm.</p><p id="129">Hoàng đế của những con hẻm, Kiuzelas.</p><p id="130">Ước mơ thuở nhỏ của Gilpin là trở thành Người Bảo Vệ Bóng Đêm.</p><p id="131">Người Bảo Vệ Bóng Đêm là khái niệm do Kiuzelas tạo ra.</p><p id="132">Bảo vệ màn đêm để hát khúc ca bình yên cho mọi người.</p><p id="133">Nhìn nụ cười của những người xung quanh, Gilpin nghĩ rằng mình đang trở thành một người khác, không phải là một tên trộm cướp.</p><p id="134">Gã tin và hành động với niềm tin rằng mình đang góp phần bảo vệ thành phố nơi mình sinh ra và lớn lên.</p><p id="135"><em>Thành phố nơi ta sinh ra và lớn lên.</em></p><p id="136"><em>Hãy bảo vệ nó. Nếu không phải là ta thì ai sẽ làm?</em></p><p id="137">Gã đã để sổng mất đứa bé. Để sổng mất vài tên gián điệp.</p><p id="138">Không ai trách Gilpin cả.</p><p id="139">Ngay cả mẹ đứa bé cũng không trách gã, nhưng Gilpin tự trách mình.</p><p id="140"><em>Là lỗi của ta.</em></p><p id="141">Dù có bị chỉ trích là một tên trộm cướp hèn mọn mà bày đặt nói chuyện sứ mệnh cũng được.</p><p id="142">Nếu chỉ là mơ thôi thì...</p><p id="143">Gilpin muốn ấp ủ lại giấc mơ thuở nhỏ và bước tiếp.</p><p id="144">Và ngay trước khi giấc mơ ấy tan vỡ, Encrid đã cứu lấy đứa bé.</p><p id="145">Gã nhìn thấy sự biết ơn của người mẹ.</p><p id="146">Và Gilpin nhìn thấy sự phi phàm nơi người đàn ông trước mắt.</p><p id="147">Không phải nói về kiếm thuật.</p><p id="148">Kiuzelas có giống thế này không?</p><p id="149">Encrid là người có trái tim và ý chí khác biệt. Gilpin nhận ra điều đó.</p><p id="150">"Tại sao anh làm vậy?"</p><p id="151">Khi hỏi Krais vừa trở về, câu trả lời nhận được cũng thật "đặc sắc".</p><p id="152">"Chắc là thấy ngứa mắt thôi. Cái thằng tướng địch làm trò hèn hạ quá mà. Cứu được nó thì thằng kia tức nổ đom đóm mắt, sướng phải biết."</p><p id="153">Thực sự là lý do đó sao?</p><p id="154">Không. Là cứu người. Cứu người cũng là bảo vệ thành phố.</p><p id="155">Việc Encrid làm dù không cố ý nhưng đã hoàn toàn thu phục được trái tim của tên trộm già.</p><p id="156">Gilpin hạ quyết tâm một lần nữa.</p><p id="157">Dù có phải bỏ cái mạng này.</p><p id="158">Gã sẽ bảo vệ màn đêm của thành phố, gã sẵn sàng dọn dẹp những hòn đá nhỏ ngáng đường người đàn ông này.</p><p id="159">Dù Krais là người quan tâm và thu nhận gã, nhưng lòng trung thành của gã lại thề thốt với một người khác, một tình huống trớ trêu. Nhưng sau này khi Krais biết hết ý định và suy nghĩ của Gilpin, mọi chuyện vẫn chẳng thay đổi gì.</p><p id="160">Thì cứ thế đi, kiểu vậy. Rất bình thản.</p><p id="161">Đằng nào thì chỉ cần làm tốt việc của mình là được. Thậm chí nói trước thế này còn thấy biết ơn.</p><p id="162">Nghĩa là sẽ không bị đâm sau lưng nếu có biến.</p><p id="163">Tất nhiên Encrid không biết những điều này.</p><p id="164">Chỉ là nhìn thấy người có nhiệt huyết thì anh thấy vui thôi.</p><p id="165">"Tôi ủng hộ anh."</p><p id="166">"Tôi sẽ dọn sạch dù chỉ là hòn đá nhỏ trên đường."</p><p id="167">Dù không hiểu hết câu nói sau đó, nhưng anh hiểu là gã sẽ dọn dẹp sạch sẽ các con hẻm trong thành phố.</p><p id="168">Chỉ ghé qua thành phố một chút mà cũng có bao nhiêu chuyện, gặp bao nhiêu người.</p><p id="169">Trên đường về còn gặp cả Graham nữa.</p><p id="170">Kết thúc dòng suy nghĩ ngắn ngủi, anh quay sang nhìn Dunbakel với gò má sưng vù. Ai nhìn cũng biết là bị đánh.</p><p id="171">"Tuyết ngừng rơi là xuất quân, anh đánh cô ta ra nông nỗi này thì làm ăn gì?"</p><p id="172">Encrid trách mắng. Thú nhân là chiến lực quan trọng ngay lúc này.</p><p id="173">"Cỡ này nửa ngày là khỏi thôi. Cậu nghĩ ta là ai hả? Là cái loại đánh trẻ con không suy nghĩ chắc?"</p><p id="174">Encrid suýt chút nữa thì gật đầu, nhưng may kìm lại được. Không thể hành xử như tên phó quan thiếu tinh tế ban nãy.</p><p id="175">"Hình như cằm hơi lệch rồi đấy?"</p><p id="176">"Mắt cũng bị thương thì phải."</p><p id="177">Lờ đi chuyện đó, anh thấy Krais đang ngồi trước lò sưởi với vẻ mặt ngẩn ngơ sau một ngày ngủ nướng để dưỡng da.</p><p id="178">Nhìn bề ngoài thì có vẻ nhàn nhã, nhưng không. Đầu óc cậu ta đang hoạt động hết công suất đấy.</p><p id="179">Anh tin là vậy và quan sát.</p><p id="180">Chụt.</p><p id="181">Krais chảy nước miếng rồi vội hít vào.</p><p id="182">"Á, ngủ gật mất."</p><p id="183">Đúng là đang rảnh rỗi thật.</p><p id="184">Encrid cân nhắc có nên đến táng cho một cú vào gáy không.</p><p id="185">Đúng lúc đó Krais vươn vai đứng dậy.</p><p id="186">"Anh về rồi à?"</p><p id="187">"Ừ."</p><p id="188">"Tôi đã suy nghĩ kỹ rồi."</p><p id="189">"Suy nghĩ gì?"</p><p id="190">Nếu cái miệng đó thốt ra lời vô dụng thì có nên đấm một cái rồi hãy nói chuyện không nhỉ.</p><p id="191">Không biết suy nghĩ của Encrid, Krais tiếp tục với giọng điệu bình thường.</p><p id="192">"Bọn Aspen chắc chắn đã giăng bẫy."</p><p id="193">Tuyết rơi dày đặc dần thưa thớt, Krais đã suy tính trong suốt thời gian đó.</p><p id="194">Thà rằng chúng đánh úp từ phía sau.</p><p id="195">Dù sẽ là một trận chiến khó khăn, nhưng nằm trong dự tính. Aspen đáng lẽ phải tận dụng lợi thế và tấn công.</p><p id="196">Nhưng chúng không làm thế.</p><p id="197">Chiến tranh mùa đông vốn đã khắc nghiệt, tại sao lại kéo dài thời gian?</p><p id="198">Aspen không tấn công mà chờ đợi.</p><p id="199">Tuyết đang ngừng rơi mà cũng không có cuộc tập kích nào. Giờ chúng mới rục rịch chuẩn bị di chuyển quân.</p><p id="200">Thái độ như thể đang chờ trận chiến bên này kết thúc.</p><p id="201">Điều đó cực kỳ đáng ngờ. Có mùi thối. Rất, rất tệ. Cảm giác bất an lại dâng lên.</p><p id="202"><em>Là mình thì mình đã đánh rồi.</em></p><p id="203">Có trận chiến nào dễ dàng hơn việc đánh úp sau lưng khi đối thủ đang bận đánh nhau đâu, nhưng Aspen lại không làm vậy.</p><p id="204">Có gì đó mờ ám. Không thể dự đoán được. Nghĩa là tình huống tồi tệ nhất.</p><p id="205">Sau một hồi suy nghĩ, Krais đi đến một kết luận.</p><p id="206">"Sẽ còn khó khăn hơn cả liên minh Hắc Kiếm và dị giáo. Biết đâu chúng giấu một Hiệp sĩ ở đâu đó. Ngay cả khi Hiệp sĩ xuất hiện, chưa chắc quân ta đã cử chiến lực cấp Hiệp sĩ đến ứng cứu. Có thể chúng sẽ điều một phần binh lực tấn công trực tiếp vào thành phố."</p><p id="207">"Cậu muốn nói gì?"</p><p id="208">"Bọn chúng có thể làm bất cứ điều gì."</p><p id="209">"Đối sách?"</p><p id="210">Encrid hỏi và Krais trả lời. Giọng điệu bình thản qua lò sưởi, nhưng chẳng khác nào cuộc đối thoại giữa tướng lĩnh xuất chinh và quân sư.</p><p id="211">Sao lại không chứ.</p><p id="212">Graham bị ám sát và nằm liệt giường. Toàn quyền đã được giao cho Encrid.</p><p id="213">Ánh lửa làm khuôn mặt Krais ửng đỏ.</p><p id="214">"Tiểu đoàn trưởng đang ở Ngọc lục bảo, anh có biết rõ về ông ta không?"</p><p id="215">Encrid lắc đầu. Anh chưa từng gặp người đó. Chỉ nghe loáng thoáng đây đó rằng hắn là kẻ cơ hội, sẵn sàng làm bất cứ điều gì vì lợi ích.</p><p id="216">Giỏi về hậu cần và xây dựng căn cứ, nhưng chiến đấu không phải sở trường.</p><p id="217">Nói chung là chẳng có tin gì tốt lành.</p><p id="218">"Trong tình huống xấu nhất, chúng ta sẽ phải đối mặt với ma thuật khiến kẻ thù nhân đôi."</p><p id="219">Nghe thấy từ "ma thuật", Esther ngồi bên cạnh cười khẩy.</p><p id="220">"Hừ."</p><p id="221">Hôm nay cô ở trong hình dạng con người.</p><p id="222">Trong lúc nói chuyện, tuyết đã ngừng rơi hẳn.</p><p id="223">Tuyết ngừng, nghĩa là đã đến lúc chỉnh đốn đội hình và xuất quân.</p><p id="224">Cơ thể đã hồi phục một nửa.</p><p id="225">Không có Graham, bản thân Encrid phải đứng ra làm Tổng chỉ huy dẫn đầu.</p><p id="226">"Cái đó phải kiểm chứng mới biết được."</p><p id="227">Tiểu đoàn Ngọc lục bảo hiện đang đứng về phe ai?</p><p id="228">Có khi nào Aspen chần chừ đến tận bây giờ là vì đã mua chuộc được quân ta?</p><p id="229">Hoàn toàn có cơ sở để nghi ngờ. Không, phải nghi ngờ.</p><p id="230">"Xuất quân trước đã."</p><p id="231">Giấc mộng ngắn ngủi trong vài ngày nghỉ ngơi đã qua.</p><p id="232">Đã đánh bại vài con sói, giờ là lúc đối mặt với con hổ đang rình rập phía sau.</p><p id="233">Chuẩn bị xuất quân, sau đó tiến công.</p><p id="234">Cho đến khi kiểm tra xong các hàng rào gỗ và chòi canh khắp Ngọc lục bảo và bước vào bên trong, họ không thể lơ là cảnh giác.</p><p id="235">Và rồi, Tiểu đoàn trưởng Ngọc lục bảo xuất hiện với trang bị vũ trang đầy đủ để đón tiếp Encrid.</p><p id="236">Khoảnh khắc nhìn thấy khuôn mặt méo mó của hắn, Krais cảm thấy những dự cảm chẳng lành dường như đang trở thành hiện thực.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21180-vinh-thoai-hiep-si/c278790-chuong-301-vi-dieu-do-khong-sai" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21180-vinh-thoai-hiep-si" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21180-vinh-thoai-hiep-si/c163325-encrid" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'Y74hsfn54UdOXZkhoxjPndEebh08LoVkIxb37oU8';
        var comment_type = 'chapter';
        var comment_typeid = '278807';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'Y74hsfn54UdOXZkhoxjPndEebh08LoVkIxb37oU8';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21180');
    chapter_id = parseInt('278807');

    readingObject = {
        series_id: series_id,
        series_title: 'Vĩnh Thoái Hiệp Sĩ',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="Y74hsfn54UdOXZkhoxjPndEebh08LoVkIxb37oU8" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

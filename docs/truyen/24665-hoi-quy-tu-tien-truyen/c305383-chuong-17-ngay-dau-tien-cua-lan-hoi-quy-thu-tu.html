<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Hồi quy tu tiên truyện - Chương 17: Ngày đầu tiên của lần hồi quy thứ tư. - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Khi đang trên đường tới buổi hội thảo của công ty, chúng tôi đã rơi vào một thế giới tu tiên khi vẫn còn ở trong xe. Những người trong nhóm, sở hữu linh căn và thiên phú phi thường, đều đã được chiêu mộ vào các môn phái tu...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="RL6dR6KGLjGXXbRQj6zTkfFWqitQjfx6DkNDqI2q">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24665-hoi-quy-tu-tien-truyen/c305383-chuong-17-ngay-dau-tien-cua-lan-hoi-quy-thu-tu">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24665-226a05e2-2fb4-458d-84c5-c69d355940bf.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24665-hoi-quy-tu-tien-truyen/c304193-chuong-16-tai-nang-thien-tuyet-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24665-hoi-quy-tu-tien-truyen"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24665-hoi-quy-tu-tien-truyen/c305383-chuong-17-ngay-dau-tien-cua-lan-hoi-quy-thu-tu" style="background: url('https://i.hako.vn/ln/series/covers/s24665-226a05e2-2fb4-458d-84c5-c69d355940bf.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24665-hoi-quy-tu-tien-truyen">Hồi quy tu tiên truyện</a></h5>
                    <small><i class="fas fa-pen"></i>Tremendous (엄청난)</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24665-hoi-quy-tu-tien-truyen/t35765-tap-01">Tập 1: Lần hồi quy từ 1 tới 5</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c291160-prologue">
                                                                        Prologue
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c291409-chuong-02">
                                                                        Chương 1: Ngày đầu tiên của Hồi quy giả
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c292160-chuong-2-van-menh-ly-tan-1">
                                                                        Chương 2: Vận mệnh ly tán (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c292879-chuong-3-van-menh-ly-tan-2">
                                                                        Chương 3: Vận mệnh ly tán (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c296544-chuong-4-giam-doc-kim-la-thien-tai-vo-hoc-1">
                                                                        Chương 4: Giám đốc Kim là thiên tài võ học (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c297560-chuong-5-giam-doc-kim-la-thien-tai-vo-hoc-2">
                                                                        Chương 5: Giám đốc Kim là thiên tài võ học (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c297895-chuong-6-ngay-dau-tien-cua-lan-hoi-quy-thu-hai">
                                                                        Chương 6: Ngày đầu tiên của lần hồi quy thứ hai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c298915-chuong-08">
                                                                        Chương 7: Tài năng thiên phú (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c299260-chuong-8-tai-nang-thien-phu-2">
                                                                        Chương 8: Tài năng thiên phú (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c299526-chuong-9-tai-nang-thien-phu-3">
                                                                        Chương 9: Tài năng thiên phú (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c300397-chuong-10-tai-nang-thien-phu-4">
                                                                        Chương 10: Tài năng thiên phú (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c302627-chuong-11-tai-nang-thien-phu-5">
                                                                        Chương 11: Tài năng thiên phú (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c302870-chuong-12-ngay-dau-tien-cua-lan-hoi-quy-thu-ba">
                                                                        Chương 12: Ngày đầu tiên của lần hồi quy thứ ba
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c303429-chuong-13-tai-nang-thien-tuyet-1">
                                                                        Chương 13: Tài năng thiên tuyệt (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c303477-chuong-14-tai-nang-thien-tuyet-2">
                                                                        Chương 14: Tài năng thiên tuyệt (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c303744-chuong-15-tai-nang-thien-tuyet-3">
                                                                        Chương 15: Tài năng thiên tuyệt (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c304193-chuong-16-tai-nang-thien-tuyet-4">
                                                                        Chương 16: Tài năng thiên tuyệt (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c305383-chuong-17-ngay-dau-tien-cua-lan-hoi-quy-thu-tu">
                                                                        Chương 17: Ngày đầu tiên của lần hồi quy thứ tư.
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1: Lần hồi quy từ 1 tới 5</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 17: Ngày đầu tiên của lần hồi quy thứ tư.</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24665-hoi-quy-tu-tien-truyen/c305383-chuong-17-ngay-dau-tien-cua-lan-hoi-quy-thu-tu#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,335 từ - Cập nhật: 
                        <time class="topic-time timeago" title="07-02-2026 10:24:14" datetime="2026-02-07T10:24:14+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 17: Ngày đầu tiên của lần hồi quy thứ tư.</p>
                    <p id="1">Ah.</p><p id="2">Tôi mở mắt.</p><p id="3">Lại cái cảm giác quen thuộc đó.</p><p id="4">“Có vẻ là một lần hồi quy nữa.”</p><p id="5">Tôi nhớ lại những khoảnh khắc cuối cùng của kiếp trước.</p><p id="6">Chiến đấu cho tới hơi thở cuối cùng…</p><p id="7">“Cuối cùng, cuối cùng cũng đã đạt được!”</p><p id="8">Bây giờ tôi đã hoàn toàn tỉnh táo lại.</p><p id="9">Trước khi chết, tôi chắc chắn đã đạt tới…</p><p id="10">“Tuyệt đỉnh!”</p><p id="11">Trong đầu tôi giờ chỉ còn niềm vui sướng tột độ. Tôi nhìn lên bầu trời, mặc kệ mọi thứ xung quanh, và hét to.</p><p id="12">“Cuối cùng thì! Sau bao nhiêu gian khó!”</p><p id="13">Tôi đã đạt tới cảnh giới tuyệt đỉnh mà mình đã luôn mong ước.</p><p id="14"><em>bla bla bla</em></p><p id="15">Một âm thanh quen thuộc vang lên.</p><p id="16">Nó phát ra từ Jeon Myeong-hoon, người mà tôi đã lâu không gặp.</p><p id="17">Nhưng tôi còn chẳng nhìn về phía anh ta, mà chỉ nhắm mắt lại một lần nữa.</p><p id="18"><em>vút!</em></p><p id="19">Bàn tay của Jeon Myeong-hoon xé gió lao tới tôi.</p><p id="20">Tôi cảm nhận chuyển động của anh ấy, và thức tỉnh lại cái ‘cảm giác’ mà tôi đã đạt tới trước khi chết.</p><p id="21">‘Tôi có thể thấy rõ.’</p><p id="22">Ngay cả khi nhắm mắt, nó vẫn hiện lên rõ ràng.</p><p id="23">Một đường màu đỏ nhắm tới má tôi.</p><p id="24">Với đôi mắt vẫn đang nhắm nghiền, tôi né cú tát của anh ta bằng chuyển động tối thiểu.</p><p id="25">“Nó né được sao?”</p><p id="26"><em>vù! vèo! vù!</em></p><p id="27">Jeon Myeong-hoon vung tay thêm một vài lần nữa, nhưng tôi né tránh tất cả bằng chuyển động tối ưu trong khi đang nhắm mắt.</p><p id="28">‘Tôi có thể thấy đòn tiếp theo của Jeon Myeong-hoon và đường di chuyển của bàn tay anh ấy rõ như ban ngày.’</p><p id="29">Trong quá khứ, tôi cũng có thể né một người như Jeon Myeong-hoon mà không cần nhìn, nhưng điều đó hoàn toàn dựa vào hàng thập kỉ luyện võ và ‘dự đoán’ hướng tấn công của anh ấy.</p><p id="30">Nhưng giờ thì khác.</p><p id="31">Đường màu đỏ chỉ ra quỹ đạo tấn công.</p><p id="32">Kể cả khi mở mắt hay không, những đường này vẫn hiện ra ở đó.</p><p id="33">Đấy không phải ‘dự đoán’, mà đúng hơn là ‘tiên tri’.</p><p id="34">‘Đây là [tầm nhìn] của một cao thủ tuyệt đỉnh sao?’</p><p id="35">Cuối cùng tôi đã hiểu vì sao một cao thủ hạng nhất, kể cả khi có quân số áp đảo, cũng không thể đánh bại một cao thủ tuyệt đỉnh.</p><p id="36">‘Tất cả mọi thứ đều thấy rõ mồn một. Toàn bộ ý định và quỹ đạo tấn công của các võ giả hạng nhất đều hiện lên rõ ràng. Làm thể nào họ có thể thắng nếu đòn đánh của họ còn chẳng thể chạm tới cao thủ tuyệt đỉnh?’</p><p id="37">Để đối đầu với một cao thủ tuyệt đỉnh, võ giả hạng nhất cần phải tấn công bằng số lượng và chiến thuật bầy đàn.</p><p id="38">‘Để việc này qua một bên đã.’</p><p id="39">Tôi tập trung vào Jeon Myeong-hoon, người đang lao tới tôi.</p><p id="40">Cùng lúc đó, những đường màu đỏ thể hiện quỹ đạo tấn công biến mất, và tầm nhìn của tôi tràn ngập những đường màu xanh.</p><p id="41">Mặt, vai, ngực, tay, thân, bụng trên, bụng dưới, háng, đùi, đầu gối, bàn chân.</p><p id="42">Những đường màu xanh phân bố dày đặc vào vô số điểm.</p><p id="43">Theo bản năng, tôi biết.</p><p id="44">Những đường màu xanh thể hiện điểm yếu của đối thủ và những quỹ đạo để tấn công một cách tối ưu.</p><p id="45">Khác biệt về trình độ giữa tôi và Jeon Myeong-hoon lớn đến mức tôi có thể nhìn thấy rất nhiều yếu điểm đang lộ ra.</p><p id="46">‘Hóa ra là vậy. Đỏ và xanh từ hồi đó.’</p><p id="47">Tôi nhớ lại đại khái cuộc trò chuyện giữa Kim Young-hoon và Bát Trực Đài, Thái thượng trưởng lão của Tuy Hà Phái, trong lần hồi quy thứ hai.</p><p id="48">“A, là một cao thủ Tam Hoa Tụ Đỉnh. Đây là lần đầu tiên ta thấy một người như ngài trong thành này.”</p><p id="49">“Màu thứ ba khá hiếm gặp. Đa số cao thủ chỉ dừng lại ở màu đỏ và xanh cho tới lúc chết. Ta cũng vậy, cũng đã lâu không gặp một cao thủ như ngài.”</p><p id="50">Hồi đó Bát Trực Đài có nhắc tới ‘màu đỏ và xanh’.</p><p id="51">Lúc ấy tôi không hiểu một chữ nào trong cuộc đối thoại, nhưng giờ thì tôi đã hiểu.</p><p id="52">‘Ngài ấy nói về [tầm nhìn] của các cao thủ tuyệt đỉnh.’</p><p id="53">Đường màu đỏ để đọc đòn tấn công của đối thủ.</p><p id="54">Đường màu xanh để ra đòn một cách tối ưu.</p><p id="55">Thế giới hai màu này là thế giới của các cao thủ tuyệt đỉnh, là ‘đỏ và xanh’ mà ngài ấy đã nhắc tới.</p><p id="56">Sau khi tôi đạt tới kết luận này.</p><p id="57"><em>nhỏ giọt, nhỏ giọt</em></p><p id="58">‘Cái gì?’</p><p id="59">Bỗng nhiên tôi chảy máu mũi.</p><p id="60">Cùng lúc đó, tôi cảm thấy ‘đau’.</p><p id="61">Đau quá!</p><p id="62">Như thể não tôi đang bị đốt cháy.</p><p id="63">‘Chết thật, dùng [tầm nhìn] này sẽ làm quá tải bộ não sao?’</p><p id="64">Tôi nhanh chóng điểm huyệt Jeon Myeong-hoon đang lao tới, tắt đi [tầm nhìn], rồi cho anh ấy ăn thảo dược gây mê.</p><p id="65">Tôi đã cảm thấy đau từ lúc kích hoạt [tầm nhìn], nhưng tôi lờ nó đi.</p><p id="66">Tuy nhiên càng dùng lâu thì cơn đau càng mạnh, và rồi tôi cảm thấy não mình như đang bốc cháy.</p><p id="67">‘Quãng thời gian tôi kích hoạt [tầm nhìn] trong khi đánh nhau với Jeon Myeong-hoon chỉ là vài giây, mà cơn đau đã tới mực này…’</p><p id="68">Vấn đề nằm ở đâu nhỉ?</p><p id="69">Tôi đứng suy nghĩ một hồi, rồi chuyển sang trấn an các đồng nghiệp còn lại, đưa họ tới cái hang, nấu quả dại và nấm rừng, rồi gây mê họ.</p><p id="70">Sau khi mặt trời lặn và các đồng nghiệp của tôi đã đi ngủ hết, tôi ngồi bên ngoài hang và sắp xếp lại những suy nghĩ của mình.</p><p id="71">“Hãy cùng tìm hiểu rốt cuộc tuyệt đỉnh là cái gì nào.”</p><p id="72">Cảnh giới tuyệt đỉnh về cơ bản là làm quá tải bộ não để mô phỏng và đọc các đường tấn công của đối thủ.</p><p id="73">Kể cả là với một người mù, nếu họ có thể đọc được các đường tấn công của đối thủ, hai màu sắc cũng sẽ hiện lên rõ ràng trong tâm trí họ, như thể thị lực chưa từng mất đi.</p><p id="74">Đây còn hơn là tưởng tượng những đường có hai màu trong đầu. Mà đúng hơn là chúng như thể hiện ra ở thế giới thực, và não tôi mặc định tô màu cho những đường ấy bằng màu xanh và đỏ vậy.</p><p id="75">“Bằng [tầm nhìn] này, tôi có thể đọc toàn bộ chuyển động của đối phương và tấn công vào những yếu điểm với chuyển động tối thiểu.”</p><p id="76">Trong kiếp trước, phương pháp quá tải các giác quan của Kim Young-hoon giống như một cách ‘bắt chước cảnh giới tuyệt đỉnh’.</p><p id="77">Tôi đã gián tiếp tính toán các đòn đánh của đối phương bằng cách đẩy các giác quan tới cực hạn.</p><p id="78">Nhưng vì không có tài năng, tôi chỉ có thể thức tỉnh được tầm nhìn tuyệt đỉnh ngay trước khi qua đời, mặc dù đã hoàn toàn phỏng theo được nó.</p><p id="79">“Thật vi diệu.”</p><p id="80">Tôi một lần nữa nhìn thế giới qua tầm nhìn của tuyệt đỉnh.</p><p id="81">Ngắm những chiếc lá rơi xuống trong màn đêm chỉ còn ánh trăng sáng, tôi tạo ra những đường màu xanh.</p><p id="82">Hàng trăm, hàng ngàn đường màu xanh mỏng như sợi chỉ xuất hiện nhắm tới những chiếc lá.</p><p id="83">Tôi cầm lấy một cành cây gần đó và vung chính xác theo những đường ấy vào đám lá.</p><p id="84">Cành cây có hình dáng tròn và tù, không sắc như một thanh kiếm thực thụ.</p><p id="85">Tuy nhiên, ngay thời khắc nó đánh trúng vào những chiếc lá, chúng bị chém làm đôi.</p><p id="86"><em>tách!</em></p><p id="87">Từng chiếc lá một bị cắt ngọt xớt làm hai nửa bằng nhau bởi cành cây, trong khi tôi còn không dùng một chút nội công nào.</p><p id="88">Vào ngày đầu tiên của lần hồi quy trước, tôi đã hơi hơi chạm tới trạng thái này.</p><p id="89">Lúc ấy tôi ở trong trạng thái nửa tỉnh nửa mơ, nhưng bây giờ thì hoàn toàn tỉnh táo.</p><p id="90">Tôi đứng lên trong khi cầm lấy cành cây, và múa như thể đang cầm một thanh kiếm. </p><p id="91">Trong điệu múa kiếm giữa vô số lá cây bay lượn khắp xunh quanh, từng chiếc lá một đều bị cành cây chẻ làm đôi.</p><p id="92"><em>vút! vút!</em></p><p id="93">Vô số đường kiếm xuyên qua đống lá.</p><p id="94">Hàng ngàn đường tấn công tối ưu hiện ra trước mắt.</p><p id="95">Tôi nhắm mắt lại và tưởng tượng những chiếc lá là một nhóm các cao thủ hạng nhất.</p><p id="96">Không dùng tới nội công và chỉ cầm cành cây tròn trên tay, liệu tôi có thể đánh bại nhiều cao thủ hạng nhất như thế này không?</p><p id="97">“Mình có thể chiến thắng!”</p><p id="98">Những cao thủ hạng nhất cầm vũ khí và lao tới tôi.</p><p id="99">Thương, kiếm, ám khí, chùy, kích, quyền, giáo, đại kiếm, và vô số vũ khí khác tấn công vào tôi.</p><p id="100">Nhưng tôi không sợ.</p><p id="101"><em>vút! vút! vút!</em></p><p id="102">Trong khi tiếp tục múa kiếm, tôi né đòn tấn công của võ giả hạng nhất đầu tiên và kết nối những đường màu xanh lại với nhau.</p><p id="103">Chỉ với một đường kiếm, toàn bộ chiêu thức của họ đều bị hóa giải, tư thế đều bị phá vỡ, và tất cả đều bị đánh bại.</p><p id="104">“Hà…”</p><p id="105">Khi tôi mở mắt ra, vô số vụn lá vương vãi khắp nơi.</p><p id="106"><em>nhỏ giọt…</em></p><p id="107">Dù máu mũi đang chảy ra và đầu tôi đau như lửa đốt, một cảm giác hưng phấn đang trào lên từ đáy lòng.</p><p id="108">“Bây giờ tôi đã là cao thủ tuyệt đỉnh!”</p><p id="109">Tôi cầm máu mũi bằng thảo dược, rồi đi xung quanh và đào những cây Hoàng Trúc Căn hàng trăm năm tuổi.</p><p id="110">“Có lẽ mình không thể duy trì tầm nhìn được lâu là do thiếu nội công.”</p><p id="111">Một mức độ nội lực tối thiểu là cần thiết để chịu đựng và kéo dài thời gian của tầm nhìn.</p><p id="112">Sau khi đào những cây đó lên, tôi nhai và nuốt chúng ngay tại chỗ, chỉ để lại một vài cây cho Kim Young-hoon.</p><p id="113">Bây giờ tôi đã là cao thủ tuyệt đỉnh, bán chúng trong các tiệm thuốc là không cần thiết.</p><p id="114">“Hoàng Trúc Căn… Mình sẽ để lại một vài cây cho Kim Young-hoon và ăn hết đống còn lại.”</p><p id="115">Có khoảng mười cây trong phạm vi quanh tôi, và có thể còn nhiều hơn nữa nếu tôi mở rộng phạm vi tìm kiếm, nhưng tôi thấy như vậy không cần thiết.</p><p id="116">Tôi ăn tám cây Hoàng Trúc Căn và để lại hai cây cho Kim Young-hoon.</p><p id="117"><em>gầm…</em></p><p id="118">Long Mạch Khí Công dẫn nội lực qua các huyệt đạo, và một nguồn năng lượng khổng lồ trào dâng trong các kinh mạch của tôi.</p><p id="119"><em>phù…</em></p><p id="120">Một nguồn nội lực khổng lồ xuất hiện trong đan điền gần như ngay lập tức.</p><p id="121">Bây giờ nội công của tôi còn nhiều hơn cả kiếp trước, lúc mà tôi đã luyện tập suốt năm mươi năm.</p><p id="122">“Thử lại chứ nhỉ?”</p><p id="123">Bây giờ, được hỗ trợ bởi nguồn nội công khổng lồ, tôi kích hoạt tầm nhìn một lần nữa.</p><p id="124">Tôi có thể tập luyện với nó trong khoảng một tiếng mà không có vấn đề gì đáng kể.</p><p id="125">Cảm giác não bộ đốt cháy bắt đầu xuất hiện sau khoảng thời gian một bữa ăn[note88616].</p><p id="126">Dù nội công của tôi có nhiều hơn đến đâu, cơn đau chỉ bị trì hoãn chứ không bị loại bỏ hoàn toàn.</p><p id="127">“Cách duy nhất là liên tục tập luyện tầm nhìn tuyệt đỉnh.”</p><p id="128">Để giảm đi những cơn đau và dần dần khiến bộ não làm quen với trạng thái này.</p><p id="129">“Tập luyện vô hạn là câu trả lời.”</p><p id="130">Tôi có thể không phải là một thiên tài, nhưng đây là cách tốt nhất cho một người không có tài năng.</p><p id="131">Mục tiêu của kiếp này là vượt qua cơn đau đầu bùng cháy trong khi sử dụng tầm nhìn tuyệt đỉnh, và cuối cùng là…</p><p id="132">“Tam Hoa Tụ Đỉnh…!”</p><p id="133">Đạt tới cảnh giới Tam Hoa Tụ Đỉnh, hay còn được gọi là tuyệt đỉnh của tuyệt đỉnh.</p><p id="134">“Mình sẽ không nhắm tới Ngũ Khí Triều Nguyên trong kiếp này. Tam Hoa Tụ Đỉnh đã đủ khó khăn rồi.”</p><p id="135">Tôi có thể lờ mờ hiểu được cảnh giới Tam Hoa Tụ Đỉnh.</p><p id="136">Khi Thái thượng trưởng lão Tuy Hà Phái nói “màu thứ ba”.</p><p id="137">Màu đỏ thể hiện ý định của kẻ địch, còn màu xanh là ý định của tôi.</p><p id="138">Ngoài hai màu đó ra còn có một ‘màu thứ ba’, là ranh giới tách biệt Tam Hoa Tụ Đỉnh khỏi phần còn lại của các cao thủ tuyệt đỉnh.</p><p id="139">Màu thứ ba.</p><p id="140">“Mặc dù vẫn chưa thể nắm được đó là cái gì.”</p><p id="141">Cú nhảy vọt từ hạng nhất lên tuyệt đỉnh giống như cá chép vượt vũ môn, nhưng tôi thấy Tam Hoa Tụ Đỉnh có vẻ dễ dàng hơn.</p><p id="142">Tôi mỉm cười nhìn về phía Kim Young-hoon đang ngủ.</p><p id="143">“Chắc chắn, chắc chắn rằng kiếp này tôi sẽ có thể học được nhiều hơn từ ngài.”</p><p id="144">Sau khi đạt tới tuyệt đỉnh, bây giờ tôi sẽ có thể nhận được những lời chỉ giáo thâm sâu hơn rất nhiều so với hạng nhất.</p><p id="145">Thêm vào đó, tôi còn có sáu tập sách tràn ngập những giác ngộ và khẩu quyết cuối cùng mà Kim Young-hoon từ kiếp trước để lại.</p><p id="146">Kim Young-hoon của kiếp này chắc chắn sẽ còn mạnh hơn kiếp trước.</p><p id="147">“Tôi cũng vậy, trong kiếp này tôi cũng sẽ cố gắng đạt tới Tam Hoa Tụ Đỉnh và tiến gần hơn với cảnh giới tu tiên.”</p><p id="148">Hạ quyết tâm trong lòng, tôi yên lặng nhìn mặt trời mọc lên trước cửa hang.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note88616"><a href="#anchor-note88616" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note88616" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">khoảng 30-45 phút</span></div><span class="note-content_real long-text">khoảng 30-45 phút</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24665-hoi-quy-tu-tien-truyen/c304193-chuong-16-tai-nang-thien-tuyet-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24665-hoi-quy-tu-tien-truyen" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24665-hoi-quy-tu-tien-truyen" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'RL6dR6KGLjGXXbRQj6zTkfFWqitQjfx6DkNDqI2q';
        var comment_type = 'chapter';
        var comment_typeid = '305383';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'RL6dR6KGLjGXXbRQj6zTkfFWqitQjfx6DkNDqI2q';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24665');
    chapter_id = parseInt('305383');

    readingObject = {
        series_id: series_id,
        series_title: 'Hồi quy tu tiên truyện',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="RL6dR6KGLjGXXbRQj6zTkfFWqitQjfx6DkNDqI2q" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ca05b7aff5f9a4f',t:'MTc3MDQ0MDc3OQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đính ước với đối thủ cũ, chúng tôi trở thành cặp đôi mạnh nhất - Chương 2.2 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Reid, anh hùng trẻ tuổi với năng lực thể chất vô song. Elria, hiền nhân xinh đẹp với năng lực ma pháp không ai sánh bằng. Từ hai quốc gia đối địch, hai người chiến đấu với nhau như kỳ phùng địch thủ, nhưng câu chuyện kết thúc với cái...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="9AaLIjXFrVxrBT3FQjZ3Ibxaph6PxGovAoDNEtXt">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308466-chuong-22">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s14866-cd7417b6-bee2-43f5-8ddd-b30caa73071b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=c044c63e744fb1723a7d067aa1473af1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308465-chuong-21"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308467-chuong-23"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308466-chuong-22" style="background: url('https://i.hako.vn/ln/series/covers/s14866-cd7417b6-bee2-43f5-8ddd-b30caa73071b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon">Đính ước với đối thủ cũ,...</a></h5>
                    <small><i class="fas fa-pen"></i>Fujiki Washiro</small>
                    <small><i class="fas fa-paint-brush"></i>Heirō</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c111931-minh-hoa">Volume 1 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c112055-minh-hoa">Volume 2 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c112530-minh-hoa">Volume 3 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c118434-chuong-01">Volume 4 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c132728-minh-hoa">Volume 5 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class="current"><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/t28716-volume-6">Volume 6 [ĐÃ HOÀN THÀNH]</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c163791-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh hoạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308459-mo-dau">
                                                                        Mở đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308460-chuong-11">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308462-chuong-12">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308463-chuong-13">
                                                                        Chương 1.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308464-chuong-14">
                                                                        Chương 1.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308465-chuong-21">
                                                                        Chương 2.1
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308466-chuong-22">
                                                                        Chương 2.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308467-chuong-23">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308468-chuong-24">
                                                                        Chương 2.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308469-chuong-25">
                                                                        Chương 2.5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308470-chuong-31">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308471-chuong-32">
                                                                        Chương 3.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308472-chuong-33">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308473-chuong-34">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308474-chuong-35">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308475-chuong-41">
                                                                        Chương 4.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308476-chuong-42">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 4.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308477-chuong-43">
                                                                        Chương 4.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308478-chuong-44">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 4.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308479-chuong-51">
                                                                        Chương 5.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308480-chuong-52">
                                                                        Chương 5.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308481-chuong-53">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 5.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308482-chuong-54">
                                                                        Chương 5.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308483-phan-ket">
                                                                        Phần kết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308484-loi-bat">
                                                                        Lời bạt
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c261742-minh-hoa">Volume 7</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c114020-bonus-vol-01">Bonus Story</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Volume 6 [ĐÃ HOÀN THÀNH]</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2.2</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308466-chuong-22#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,163 từ - Cập nhật: 
                        <time class="topic-time timeago" title="10-02-2026 01:10:13" datetime="2026-02-10T01:10:13+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2.2</p>
                    <p id="1">Rất lâu sau đó, nhóm của Reid đã về Nhị giới an toàn. Họ xuất hiện từ khoảng không giữa những rễ cây của Cây Thế Giới, được chào đón bởi ánh nắng ấm áp và bầu không khí trong lành tràn đầy sức sống.</p><p id="2">“Thời tiết đẹp thật,” Reid vừa nói vừa đưa tay che mắt. Mỉm cười, anh quay sang những người bạn đồng hành. “Norn, Ariel, Valtos, nhìn xem. Bầu trời ở đây trong xanh không gợn m――”</p><p id="3">“Kh… khổ thật… Cuối cùng cũng tới nơi rồi…” Ariel rên rỉ.</p><p id="4">“Đất… Chân ta đang chạm đất rồi!” Valtos gào lên.</p><p id="5">“Em tưởng mình đến đây để du lịch vui vẻ cơ mà… T-tại sao trước khi tới nơi em đã thấy cả đời mình tua lại rồi…?” Norn thút thít.</p><p id="6">Đáng tiếc thay, ba người mà Reid nghĩ sẽ xúc động nhất trước cảnh tượng này lại đang nằm bệt dưới đất như vừa mất hết sinh khí.</p><p id="7">“Ariel…” Valtos trừng mắt. “Chẳng phải trên thuyền cô còn khoe với ta rằng nhờ kinh nghiệm dày dạn nên rất điềm tĩnh, rất ngầu sao? Thế này là thế nào hả?”</p><p id="8">Ariel cười khan. “Tôi chỉ có thể nói là… nhảy từ vách đá xuống khác hoàn toàn với việc bị ném thẳng vào vách đá rồi kéo ngược lên trời…”</p><p id="9">“Em cứ tưởng mình sắp hóa thành sao băng,” Norn lẩm bẩm.</p><p id="10">Reid thở dài. “Cũng đâu còn cách nào khác. Tọa độ khe nứt không gian nằm tít trên đó.” Anh nhớ lại lúc cả nhóm đến Nhất giới khi bắt đầu hành trình, cũng là trải nghiệm rơi thẳng từ trên trời xuống. Muốn quay về theo cùng một con đường, dĩ nhiên phải nhảy lên đúng độ cao bằng đó, cụ thể là Reid phải nhảy, trong khi những người khác đều bị buộc vào anh bằng dây thừng. “Nhưng đừng lo. Elria nói rằng khi đã nắm được bước sóng ma lực của việc di chuyển xuyên không thời gian, cô ấy có thể điều chỉnh tọa độ. Hơn nữa, bên này có Cây Thế Giới làm nền, lại có cầu thang dẫn lên khe nứt. Lần sau quay về Nhất giới sẽ an toàn hơn nhiều so với lúc sang đây.”</p><p id="11">“Ơn trời… Tôi không bao giờ muốn trải qua cảm giác nội tạng lơ lửng ấy thêm một lần nào nữa,” Ariel lẩm bẩm. Phía sau, Valtos và Norn gật đầu lia lịa.</p><p id="12">Một lúc sau, Millis cuối cùng cũng chui ra khỏi rễ cây và bước ra ngoài. “Phù. Đúng là về nhà rồi!”</p><p id="13">Reid nhướng mày. “Trông cậu khoẻ phết nhỉ, Millis? Xem ra chuyến đi sang thế giới kia đã rèn luyện cậu kha khá rồi đấy nhỉ?”</p><p id="14">“Đương nhiên!” Millis ưỡn ngực. “Mình ở lại trong kia một lúc khi mọi người còn phơi nắng ngoài này để nôn thốc nôn tháo cho đã đời. Thế nên giờ thì mình hơi bị ổn luôn, danh dự cũng chẳng sứt mẻ tí nào!”</p><p id="15">“Ờ ha… Ừ, đúng là ‘trưởng thành’ thật,” Reid đáp với giọng đều đều.</p><p id="16">“Dù sao thì!” Millis hắng giọng. “Mình gọi cô Elise nhé?”</p><p id="17">Reid gật đầu. “Ừ, nhờ cậu. Anh hùng bọn tôi không dùng được ma cụ. Dùng cái thiết bị liên lạc trong tình huống khẩn cấp gọi cô ấy đi.”</p><p id="18">Việc đầu tiên họ cần làm sau khi trở về từ Nhất giới là liên lạc với Elise, nhưng không Anh hùng nào có thể làm điều đó do loại ma lực đặc thù của họ, còn Norn thì lại không rành ma cụ. Xem ra việc Millis đi cùng đúng là quá may mắn.</p><p id="19">“Ủa…?”</p><p id="20">Reid nhướng mày. “Sao thế?”</p><p id="21">“Cô hiệu trưởng không bắt máy… Thiết bị chắc chắn phải ở trên người cô ấy, mà cô ấy cũng phải nhận ra mình qua ma lực chứ…?”</p><p id="22">“Hay là cô ấy đang họp?”</p><p id="23">“Có thể. Hay là để lại lời nhắn ở văn phòng?”</p><p id="24">“Cậu có thể dịch chuyển chúng ta thẳng từ đây về Vegalta không?” Reid hỏi.</p><p id="25">“Elria nói là mình có thể dùng ma lực tích trữ trong Cây Thế Giới để thi triển phép dịch chuyển, giống như dùng ma cụ dịch chuyển ở Học viện…” Millis nói rồi cau mày. “Khoan, cậu không biết à? Thế cậu định quay về Vegalta bằng cách nào?”</p><p id="26">“Chạy,” Reid đáp.</p><p id="27">“À, phải rồi… Sao mình lại quên mất cơ chứ… Với đám dị nhân như mấy người thì chuyện gì cũng làm được mà.”</p><p id="28">“Khoan đã!” Ariel chen vào. “Sao cô lại nhìn cả chúng tôi nữa?! Anh hùng thì đúng là có thể lực vượt trội, nhưng chạy từ Palmare về Vegalta thì không thể nào!”</p><p id="29">“Trước giờ ta chưa từng rời khỏi Đế đô, nên hoàn toàn không tự tin vào thể lực!” Valtos vội vàng phụ họa.</p><p id="30">“À. Vậy thì xin phép đính chính,” Millis gật gù. “Xem ra Reid vẫn là siêu nhân duy nhất.”</p><p id="31">Reid nhíu mày nhìn họ. “Dian cũng khá trâu bò mà. Hai người không giống thế sao?”</p><p id="32">Đáp lại anh là hai cái nhăn mặt giống hệt nhau, cùng một lời từ chối dứt khoát, vang dội.</p><p id="33">Ariel hắng giọng. “Tôi nghĩ sự khác biệt nằm ở chỗ, thưa ngài Reid, ngài đã thừa hưởng sức mạnh Anh hùng chân chính. Cũng giống như với pháp sư, càng nhiều ma lực thì càng mạnh và càng linh hoạt.”</p><p id="34">“À… Nghĩ lại thì Dian có dùng một năng lực khá kỳ lạ,” Reid nhớ ra. “Anh ta dùng ma lực của Anh hùng như ma pháp hay sao?”</p><p id="35">“Đúng vậy. Năng lực của anh ta là ‘bóp méo’, cho phép tự do điều khiển hướng đi và động lượng của sức mạnh. Có thể xem nó như một dạng ma pháp, nhưng nó gần như không phù hợp với bất kỳ quy luật ma pháp nào đã biết, nên chúng tôi gọi chung là ‘năng lực.’”</p><p id="36">“Vậy hai người cũng có năng lực riêng?”</p><p id="37">“Có. Của tôi là ‘biến hóa’, tức là có thể hiện thực hóa ma lực thành bất kỳ hình dạng nào tôi muốn. Không chỉ ma lực của tôi, mà ngay cả ma lực ô nhiễm cũng dùng được, nên nó cực kỳ hữu ích khi dựng doanh trại hay phòng tuyến trên tiền tuyến. Còn Valtos thì――”</p><p id="38">“Năng lực của ta là ‘kim loại hóa’! Với thân thể như sắt thép này, ta có thể đỡ đòn của Thảm Hoạ mà không hề hấn gì. Ta cũng có thể biến bất cứ thứ gì ta muốn thành vũ khí!”</p><p id="39">Ariel liếc ông ta bằng ánh mắt lạnh lẽo. “Nói thế thôi chứ có chứng minh được đâu, quý ngài suốt ngày cố thủ trong Đế đô ạ.”</p><p id="40">“Đương nhiên rồi!” Valtos ưỡn ngực, ngẩng cao đầu. “Làm sao mà một hoàng thái tử như ta đây có thể bại trận khi đang gánh trên vai hy vọng của dân chúng chứ?!”</p><p id="41">Dù Ariel tỏ ra nghi ngờ, và điều đó hoàn toàn hợp lý, nhưng Valtos quả thật đã từng chịu trọn một cú đấm của Reid mà không trầy xước gì. Ít nhất, về năng lực thì có vẻ ông ta không nói dối.</p><p id="42">Bỏ chuyện đó sang một bên, những năng lực này lại khiến Reid cảm thấy quen thuộc đến lạ. Anh từng dùng tay không bắt và đỡ ma pháp như đã nhiều lần làm với ma pháp của Elria; gần đây hơn là Faregh và đám Vệ Long. Thậm chí, anh còn từng vô thức tạo ra thanh đại kiếm cũ của mình bằng ma lực. Vì vậy, anh không khỏi nghĩ: Liệu đó có phải là biểu hiện của “biến hóa”, tức khả năng hiện thực hóa ma lực mà Ariel nói đến không?</p><p id="43">Reid cũng đã học cách sử dụng vũ khí một cách thuần thục trong thời gian làm lính đánh thuê, rồi dần dần dùng cả ma pháp mình bắt được trên chiến trường như vũ khí giống hệt như cách Valtos mô tả về “kim loại hóa.”</p><p id="44">Có lẽ điều này cũng không quá khó hiểu, xét rằng Reid đã thừa hưởng sức mạnh của Anh hùng nguyên thủy, tức nguồn gốc của mọi năng lực Anh hùng. Nhưng nếu vậy thì… năng lực thực sự của Anh hùng đầu tiên rốt cuộc là gì?</p><p id="45">“Mọi người chú ý! Chuẩn bị dịch chuyển!” Millis lên tiếng.</p><p id="46">Reid lắc đầu, tạm gác dòng suy nghĩ ấy sang một bên và bước về phía cô. Bên cạnh Millis lúc này đã xuất hiện một cánh cổng sáng rực. “Chỉ cần bước vào đây thôi à?”</p><p id="47">“Chuẩn luôn! Đây là phiên bản thu nhỏ của cổng dịch chuyển ở các thành phố nên hơi nhỏ, nhưng sẽ đưa chúng ta thẳng tới văn phòng của cô Elise.”</p><p id="48">“Nhân tiện, Millis… Cậu đã từng thi triển phép dịch chuyển bao giờ chưa?”</p><p id="49">“Chưa. Sao vậy?”</p><p id="50">Reid nheo mắt. “Nếu tôi nhớ không lầm… dịch chuyển thất bại có thể chôn sống chúng ta, đúng không?”</p><p id="51">“Cậu cứ nói thẳng là nghi ngờ tay nghề của mình đi cho rồi?!” Millis cáu. “Mình nói cho cậu biết, Elria đã viết hướng dẫn cho mình, và mình làm theo y chang từng bước!”</p><p id="52">“Ừm… nếu cậu đã nói vậy thì…”</p><p id="53">“Sao cậu vẫn còn do dự thế?!” Millis rên rỉ, đẩy Reid về phía cổng. “Anh hùng kiểu gì mà lại sợ một cánh cửa lộng lẫy cơ chứ? Vào đi, cho bọn mình xem bản lĩnh nào!”</p><p id="54">Ánh sáng chói lòa tràn ngập tầm nhìn của Reid, rồi dần dần dịu xuống. Trước mắt anh là văn phòng của Hiệu trưởng.</p><p id="55">“Xem ra… cô ấy không ở đây,” anh lẩm bẩm.</p><p id="56">“Chắc là đang họp thật rồi,” Millis đồng tình, bước vào cùng những người còn lại. “Cô ấy có lẽ sẽ liên lạc khi thấy lời nhắn của chúng ta. Trong lúc đó, đi dạo quanh thành phố giết thời gian không?”</p><p id="57">“Ừm… để tôi nghĩ một chút.” Reid chậm rãi đi quanh phòng, nheo mắt nhìn bàn làm việc và các kệ sách. “Tôi muốn xin phép Elise trước khi đi lại tự do, nhất là khi có người từ Nhất giới đi cùng. Cậu có thể gọi văn phòng khoa để hỏi xem cô ấy đang ở đâu không?”</p><p id="58">“Rõ!” Millis đặt tay lên ma cụ liên lạc trên bàn, trao đổi nhanh với giảng viên. Họ để cô chờ một lúc rồi kết thúc cuộc gọi.</p><p id="59">“Đúng là đang họp,” Millis nói. “Họ đã báo với cô ấy rằng chúng ta đã về, và cô ấy nói sẽ liên lạc khi cuộc họp kết thúc. Cho đến lúc đó, chúng ta được tự do.”</p><p id="60">“Ra vậy…” Reid khẽ thở ra, rồi quay lại nhìn cả nhóm. “Được phép ra ngoài thì cũng tốt… nhưng tôi còn định xin Elise tiền tiêu vặt cho chuyến tham quan nữa.”</p><p id="61">“Bị moi tiền trong khi đã phải gánh bao nhiêu việc rồi… Mình có thể nghe tiếng cô ấy khóc luôn đấy,” Millis cười khan. “Thôi thì để sau xin hoàn lại vậy. Giờ thì… tìm nguồn tiền khác chứ?”</p><p id="62">“Nguồn khác?” Reid ngẫm nghĩ. “À… đúng rồi. Tôi biết một người, chỉ cần nghe tin chúng ta trở về là sẽ chạy ngay tới, nhét cho ít tiền tiêu vặt trong ngày.”</p><p id="63">“Thật sao? Gấp thế này mà?” Ariel thoáng ngạc nhiên, rồi gật đầu. “Tôi nghe nói ở thế giới này, Altein và sự tồn tại của Anh hùng đã bị xóa khỏi lịch sử, nhưng nghĩ lại thì việc ngài có người chống lưng cũng không có gì lạ với năng lực vượt trội như vậy.”</p><p id="64">Reid bật cười, xua tay. “Chống lưng gì đâu. Chỉ là bạn học cùng Học viện, con trai một gia tộc quý tộc giàu có, với lại là học trò kiếm thuật của tôi thôi.”</p><p id="65">“Ừm, tôi hiểu… Ở thế giới của chúng tôi, do sự phát triển của máy móc và ma pháp, kiếm thuật cùng các võ nghệ khác giờ chỉ được xem là một phần của tu dưỡng tinh thần… Việc một người trẻ với xuất thân ưu việt mà vẫn theo đuổi nó quả thật đáng nể. Người này có để lại dấu ấn gì trong lịch sử của chúng tôi không?”</p><p id="66">“Không biết có lưu danh sử sách hay không, nhưng cậu ta đã để lại hậu duệ ở thế giới đó.”</p><p id="67">“Thật sao?! Vậy có khi tôi đã từng nghe qua rồi! Được gặp tổ tiên của một dòng dõi đáng kính như thế quả là――”</p><p id="68">“Là cô đấy,” Reid cắt ngang.</p><p id="69">Ariel chớp mắt. “Hả?”</p><p id="70">“Tôi đang nói đến tổ tiên của cô đấy, Ariel,” Reid mỉm cười. “Đi thôi. Đến lúc gặp Faregh Verminant rồi.”</p><p id="71">◇</p><p id="72"><em>May your path be clear</em></p><p id="73"><em>May you get to where dreams are all crystalline and sweet ♬</em></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308465-chuong-21" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308467-chuong-23" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '9AaLIjXFrVxrBT3FQjZ3Ibxaph6PxGovAoDNEtXt';
        var comment_type = 'chapter';
        var comment_typeid = '308466';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '9AaLIjXFrVxrBT3FQjZ3Ibxaph6PxGovAoDNEtXt';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('14866');
    chapter_id = parseInt('308466');

    readingObject = {
        series_id: series_id,
        series_title: 'Đính ước với đối thủ cũ, chúng tôi trở thành cặp đôi mạnh nhất',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="9AaLIjXFrVxrBT3FQjZ3Ibxaph6PxGovAoDNEtXt" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cb6263cee951588',t:'MTc3MDY2OTI4NQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đính ước với đối thủ cũ, chúng tôi trở thành cặp đôi mạnh nhất - Chương 1.1 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Reid, anh hùng trẻ tuổi với năng lực thể chất vô song. Elria, hiền nhân xinh đẹp với năng lực ma pháp không ai sánh bằng. Từ hai quốc gia đối địch, hai người chiến đấu với nhau như kỳ phùng địch thủ, nhưng câu chuyện kết thúc với cái...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="nxnpJ8zEirCWC5AI4vTxXim1FJ32W8eeOzh4XCZH">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308460-chuong-11">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s14866-cd7417b6-bee2-43f5-8ddd-b30caa73071b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=c044c63e744fb1723a7d067aa1473af1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308459-mo-dau"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308462-chuong-12"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308460-chuong-11" style="background: url('https://i.hako.vn/ln/series/covers/s14866-cd7417b6-bee2-43f5-8ddd-b30caa73071b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon">Đính ước với đối thủ cũ,...</a></h5>
                    <small><i class="fas fa-pen"></i>Fujiki Washiro</small>
                    <small><i class="fas fa-paint-brush"></i>Heirō</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c111931-minh-hoa">Volume 1 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c112055-minh-hoa">Volume 2 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c112530-minh-hoa">Volume 3 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c118434-chuong-01">Volume 4 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c132728-minh-hoa">Volume 5 [ĐÃ HOÀN THÀNH]</a></li>
                                        
                                                            <li class="current"><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/t28716-volume-6">Volume 6 [ĐÃ HOÀN THÀNH]</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c163791-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh hoạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308459-mo-dau">
                                                                        Mở đầu
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308460-chuong-11">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308462-chuong-12">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308463-chuong-13">
                                                                        Chương 1.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308464-chuong-14">
                                                                        Chương 1.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308465-chuong-21">
                                                                        Chương 2.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308466-chuong-22">
                                                                        Chương 2.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308467-chuong-23">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308468-chuong-24">
                                                                        Chương 2.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308469-chuong-25">
                                                                        Chương 2.5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308470-chuong-31">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308471-chuong-32">
                                                                        Chương 3.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308472-chuong-33">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308473-chuong-34">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308474-chuong-35">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308475-chuong-41">
                                                                        Chương 4.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308476-chuong-42">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 4.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308477-chuong-43">
                                                                        Chương 4.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308478-chuong-44">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 4.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308479-chuong-51">
                                                                        Chương 5.1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308480-chuong-52">
                                                                        Chương 5.2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308481-chuong-53">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 5.3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308482-chuong-54">
                                                                        Chương 5.4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308483-phan-ket">
                                                                        Phần kết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308484-loi-bat">
                                                                        Lời bạt
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c261742-minh-hoa">Volume 7</a></li>
                                        
                                                            <li class=""><a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c114020-bonus-vol-01">Bonus Story</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Volume 6 [ĐÃ HOÀN THÀNH]</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1.1</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308460-chuong-11#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,459 từ - Cập nhật: 
                        <time class="topic-time timeago" title="10-02-2026 01:09:26" datetime="2026-02-10T01:09:26+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1.1</p>
                    <p id="1">Đã bốn tháng trôi qua kể từ khi nhóm của Reid Frieden và Elria Caldwen kết thúc cuộc thương thuyết với hoàng gia Altein và các thế lực trọng yếu của Đế quốc.</p><p id="2">Hai người đã đích thân hộ tống các quý tộc đồng thuận đến nơi ở mới, rồi đưa những cư dân nguyên bản của Thiên đường trở lại Đế đô. Toàn bộ quyền lực được trao lại cho Reid và Elria, mở ra một kỷ nguyên cải tổ chưa từng có trong hệ thống cai trị của Altein. Nhờ đó, chiến tuyến nơi miền đông của Etrulia tạm thời được giải tán, cho phép Anh hùng Ariel Verminant cùng đội quân của cô trở về Đế đô.</p><p id="3">Không cần nói cũng biết, Nhất giới đang thay đổi chóng mặt, và cùng với nó, vị thế của Ariel Verminant cũng không ngừng dịch chuyển.</p><p id="4">“Nè... Ariel,” Elria cất tiếng gọi.</p><p id="5">Ariel lập tức đứng thẳng lưng. “V-Vâng! Có chuyện gì vậy, thưa Elria-sama?!”</p><p id="6">“Cô còn nhớ tôi đã dặn cô làm gì khi chúng tôi vắng mặt không?”</p><p id="7">“Là... huấn luyện binh sĩ của Đế đô.”</p><p id="8">“Đúng rồi. Chỉ thị đó là vì Đế đô cách rất xa đại lục phía tây, nên không cần phải bố trí quá nhiều lính ở đây. Họ nên phục vụ ngoài tiền tuyến thì hơn.”</p><p id="9">“Vâng...”</p><p id="10">“Nhưng tình hình thế này thì không ổn chút nào.” Từ trên bức tường thành, Elria cau mày cúi xuống nhìn đám binh lính. “Họ mất tận ba mươi phút chỉ để vào đội hình. Chừng đó thời gian đủ để một tách trà sữa nguội ngắt rồi.”</p><p id="11">“E rằng… tôi không hiểu đơn vị đo lường ấy cho lắm...”</p><p id="12">“Ý tôi là kỹ năng quản lý thời gian của họ quá tệ. Lính tráng mà mất ba mươi phút mới vào đội hình thì không thể chấp nhận được.” Elria nhíu mày, giọng điệu nghe vẻ gay gắt hơn một bậc.</p><p id="13">Dẫu vậy, Ariel đâu có lười biếng. “Nhưng khác với quân của tôi, binh sĩ ở đây chỉ biết đảm bảo trật tự và an ninh trong thành. Họ thiếu kinh nghiệm thực chiến, nói trắng ra thì tôi còn nghĩ họ chẳng mấy hứng thú với công việc đó. Và e rằng tình hình này khó mà cải thiện sớm được bởi Đế đô đang thay đổi quá nhiề――”</p><p id="14">“Miễn lý do,” Elria quở trách với hai má phụng phịu. “Phạt, ngay.”</p><p id="15">Ariel ngoan ngoãn cúi đầu để Elria vỗ nhẹ lên đầu vài cái. Đau không? Tuyệt nhiên không. Thế nhưng chẳng hiểu sao, mỗi cái vỗ vẫn khiến ngực cô nhói lên một cảm giác hổ thẹn khó diễn tả.</p><p id="16">Lý do là... Ariel chẳng phải hoàn toàn vô can. Cô là một trong những nguyên nhân khiến binh sĩ Đế đô thiếu động lực tập luyện. Ở Đế quốc Altein cũ, Ariel Verminant được biết đến như một kẻ trở thành Anh hùng bằng con đường phản bội. Lời đồn lan truyền từ đám quý tộc trẻ tuổi trong quân đội xuống tận những binh lính thường dân. Vì thế, chẳng mấy ai tình nguyện nhận nhiệm vụ ngoài tiền tuyến dưới quyền cô, và cô phải thường xuyên mượn nhân sự của Dian.</p><p id="17">“Tôi thành thật xin lỗi,” Ariel lí nhí. “Tất cả là vì danh tiếng tệ hại của tô―― A đau!”</p><p id="18">“Lại lý do,” lần này Elria búng trán Ariel trước khi khoanh tay lại. “Ariel, danh tiếng chẳng liên quan gì đến việc đào tạo binh sĩ cả. Tôi cũng đâu bắt đầu với danh tiếng tốt.”</p><p id="19">“T-Thật... sao ạ…?”</p><p id="20">“Ừm. Tôi là một elf trước khi tái sinh, nên lính tráng lúc nào cũng giữ khoảng cách với tôi. Lần đầu tôi được giao chỉ huy một tiểu đoàn, số người ứng tuyển chỉ đếm trên đầu ngón tay.” Trên môi Elria nở một nụ cười nhẹ như phản chiếu lại kí ức xa xăm. “Nhưng đến cuối đời, tôi đã dẫn dắt một tiểu đoàn hơn năm trăm người. Nếu tính cả những người đã giải ngũ, suốt thời gian ấy con số đã lên đến hơn một nghìn.”</p><p id="21">Một con số không quá lớn đối với một đội quân, nhưng đó là một kỳ tích phi thường khi ma pháp thời ấy vẫn còn là một thứ gì đó mới mẻ được Elria tự tay đào tạo tất cả từ con số không.</p><p id="22">“Đúng là danh tiếng rất quan trọng, nhưng nó không đến từ người khác,” Elria tiếp tục. “Cô phải tự gây dựng nó, biến nó thành minh chứng cho khả năng thật sự của chính mình. Hơn nữa, danh tiếng chỉ quan trọng trong lúc chỉ huy và giúp chiến dịch có thêm cơ hội thành công, còn lúc huấn luyện thì không cần.”</p><p id="23">“Vậy... huấn luyện thì cần những gì ạ?” Ariel hỏi.</p><p id="24">“Rất đơn giản, đến mức cô cũng làm được.” Elria cầm Ma Trang của mình lên và nhìn xuống đám lính. “Cho họ thấy sức mạnh áp đảo, để họ nếm thử nỗi sợ và nỗi đau.”</p><p id="25">Lập tức, từng lớp băng bắt đầu phủ lên chân binh lính. </p><p id="26">“G-Gì vậy?!”</p><p id="27">“C-chúng ta đang bị đóng băng… từ dưới đất!?”</p><p id="28">Elria bình thản quan sát đám binh sĩ hố thoảng khi băng tiếp tục lan dọc theo cơ thể họ. Cô cầm chiếc loa trong tay và nói, “Các người mất ba mươi phút mới vào đội hình. Quá thiếu ý thức của một người lính! Nên tôi sẽ chấn chỉnh lại ý thức của mấy người!”</p><p id="29">“Đ-Đừng có đùa với ta! Ta là trưởng nam của một quý tộc Alte――” Một tên lính còn chưa kịp dứt lời thì tốc độ đóng băng dưới chân hắn tăng vọt, nhanh chóng nuốt trọn cả bắp đùi.</p><p id="30">“Áaaaaaaa! C-Chân ta...!”</p><p id="31">“Tôi không cho phép cậu mở miệng,” Elria lạnh lùng đáp. “Không một người lính tử tế nào được cắt ngang lời cấp trên. Cậu thật sự chẳng biết cả điều sơ đẳng nhất. Không thể chấp nhận nổi.” Ánh mắt cô lạnh buốt như chính lớp băng đang ghì chặt họ. “Tôi không cần biết cậu là ai, nhưng có một điều tôi biết rõ: tất cả các cậu đều là một nỗi thất vọng. Chừng nào các cậu còn như thế, băng sẽ không tan. Trước hết, hãy khắc ghi ý nghĩa của việc làm một người lính.” Elria nheo mắt, giọng băng giá. “Lặp lại theo tôi: ‘Chúng tôi không phải lính. Chúng tôi là rác rưởi.’”</p><p id="32">“Tại sao bọn ta phả―― Aaaaaagh!”</p><p id="33">“Khi tôi ra lệnh, các cậu phải làm theo. Không tuân thủ sẽ bị chích điện. Không muốn làm theo thì các người có hai lựa chọn: ăn điện thay cơm, hoặc sống nốt cuộc đời còn lại như một bức tượng băng. Chọn đi.”</p><p id="34">Tên lính run rẩy, co giật, nhưng quá nửa phần thân dưới đông cứng vẫn giữ hắn đứng thẳng. Những người còn lại tái mét, cố gắng đứng nghiêm trong tuyệt vọng.</p><p id="35">Elria chờ một chút rồi tiếp tục: “Giờ thì lặp lại. Lớn đến mức tôi nghe được từ đây.”</p><p id="36"><em>“C-Chúng tôi không phải lính! Chúng tôi là rác rưởi!!!”</em></p><p id="37">“Giọng không đều, lại run như cầy sấy. Binh sĩ thì không được sợ hãi trước kẻ địch. Làm lại.”</p><p id="38">“Làm thế thì có nghĩa lý g―― Aaaaaaagh!”</p><p id="39">“Tôi chưa cho phép cậu mở miệng.” Ánh mắt Elria sắc như mũi dao. “Hiện tại, tôi chỉ có một mệnh lệnh: lặp lại. Bài tập này sẽ không kết thúc cho đến khi các người làm đúng.”</p><p id="40">Binh lính nhìn thấy rõ trong mắt Elria rằng cô hoàn toàn nghiêm túc. Không ai trong số họ sẽ được rời khỏi đây nếu không hoàn thành mệnh lệnh, cho dù băng có từ từ nuốt trọn cơ thể họ. Chỉ khi ấy, họ mới hiểu được sự thật tàn khốc trước mắt.</p><p id="41">“Tất cả đồng thanh. Làm lại.”</p><p id="42"><em>“Chúng tôi không phải lính! Chúng tôi là rác rưởi!!!”</em></p><p id="43">“Chưa đều. Chưa đủ to. Làm lại.”</p><p id="44"><em>“Chúng tôi không phải lính! Chúng tôi là rác rưởi!!!”</em></p><p id="45">“Ngẩng đầu lên. Nhìn thẳng vào cấp trên và thi hành mệnh lệnh. Làm lại.”</p><p id="46"><em>“Chúng tôi không phải lính! Chúng tôi là rác rưởi!!!”</em></p><p id="47">“Tôi không bảo các người tức giận. Lặp lại.”</p><p id="48"><img src="https://i2.hako.vip/ln/chapters/illusts/163791/257b9871-219d-407b-821c-d07c328cd681.jpg" alt="e8ffe700-6e6e-4fe1-addd-f91ebeb85b26.jpg">Họ gào lên hết lần này đến lần khác, nhưng lần nào cũng bị Elria gạt phăng bằng giọng nói sắc lạnh: “Hô khẩu hiệu còn không đồng thanh thì làm sao phối hợp trên chiến trường? Lặp lại.”</p><p id="49">“Các cậu là người bảo vệ dân chúng. Sao trông sợ hãi đến vậy? Làm lại.”</p><p id="50">“Có vài người đang lườm tôi, nhưng tôi chẳng việc gì phải sợ những kẻ còn không tuân thủ được mệnh lệnh đơn giản. Làm lại.”</p><p id="51">“Khóc không giải quyết được gì hết. Làm lại.”</p><p id="52">“Đừng nghĩ tôi sẽ dừng lại chỉ vì các người kiệt sức. Tôi đã nói rồi. Việc này sẽ không kết thúc cho đến khi làm đúng. Làm lại.”</p><p id="53">“Một người lính phải sẵn sàng bỏ mạng để hoàn thành nhiệm vụ. Mọi mệnh lệnh phải được thực hiện với ý chí tương tự. Làm lại.”</p><p id="54">Giữa những tiếng gào tuyệt vọng, Elria cứ thế tiếp tục, không chút nương tay.</p><p id="55">Ariel đứng bên cạnh, run rẩy. “Elria-sama... kiếp trước ngài cũng làm thế này sao...?”</p><p id="56">“Đúng. Sau hai ngày, binh lính của tôi chẳng còn tia sáng nào trong mắt. Từ đó trở đi, họ đều ngoan ngoãn như những đứa trẻ, không bao giờ chống lệnh cấp trên nữa.”</p><p id="57">“Nghe chẳng khác gì tẩy não cả!”</p><p id="58">“Không. Họ là những đứa trẻ ngoan mà,” Elria khẳng định, hai má lại phồng lên, hẳn trông còn rất đáng yêu nếu không phải cô đang chỉ huy một buổi huấn luyện hà khắc. “Hơn nữa, mục đích không phải để biến họ thành những người nghe lời vô điều kiện, mà để giúp họ quen với đau đớn và nỗi sợ. Giữa chiến trường mà thất thần hay bất động thì sẽ làm hại không chỉ bản thân mà cả đồng đội nữa. Điều này đặc biệt quan trọng khi họ sử dụng một sức mạnh có thể cướp đi mạng người trong chớp mắt như ma pháp, nên tôi luôn rất cẩn trọng với vấn đề này.” Cô nheo mắt nhìn xuống binh lính, “Ngoan hay không không quan trọng. Kẻ vô tri mà cầm sức mạnh lớn rất dễ trở nên lệch lạc. Nhất là ma pháp, tôi không tạo ra nó để người đời sử dụng một cách ngu xuẩn như thế.”</p><p id="59">Từ lâu, Altein đã dùng ma lực của Ma Vương để giày xéo các nước khác và thống trị toàn đại lục, thế nên Ma Vương khi ấy buộc phải san bằng tất cả để trừng phạt họ. Elria Caldwen trước mặt Ariel bây giờ không phải Ma Vương trong truyền thuyết, nhưng Ariel cảm nhận rõ: bản chất ấy vẫn còn nguyên, nằm trong sức nặng của từng lời Elria thốt ra.</p><p id="60">“Bất cứ ai cũng dễ dàng gây đau đớn cho người khác khi bản thân chưa từng trải qua nỗi đau ấy,” Elria nói nhỏ. “Thế nên việc này rất quan trọng.”</p><p id="61">“Vâng... Ngài nói phải,” Ariel khẽ đáp. “Khi tôi vừa nhận được sức mạnh của Anh hùng... tôi đã thề rằng thanh kiếm của mình sẽ không bao giờ chĩa vào dân thường.”</p><p id="62">“Vậy là cô hiểu mà không cần ai nói. Ngoan lắm, Ariel.” Elria nhón chân đưa tay xoa đầu Ariel, khiến nàng Anh hùng phải đỏ mặt. Rồi cô rụt tay lại, khẽ nhăn mặt. “Nhưng đôi khi, vài người vượt qua bài huấn luyện này lại nảy sinh... những sở thích hơi rắc rối.”</p><p id="63">“Ví dụ như…?”</p><p id="64">“Vì lý do nào đó, họ bắt đầu… cầu xin được trừng phạt.”</p><p id="65">Ariel nghiến răng. “Sao nghe quen vậy...?!”</p><p id="66">Bỗng nhiên, một binh sĩ đứng bên trái đội hình cất tiếng: “Thưa Ngài Caldwen! Tôi, Trung sĩ Volo Crepton, dưới trướng Ngài Verminant, xin phép được phát biểu!”</p><p id="67">Elria gật đầu. “Lời xin phép rất chuẩn mực. Tôi cho phép.”</p><p id="68">“Là cấp dưới của Ngài Verminant, chúng tôi xin chân thành thỉnh cầu cấp trên trực tiếp ra lệnh cho chúng tôi!”</p><p id="69">Elria quay sang Ariel. “Có vẻ họ muốn cô chỉ huy đấy.”</p><p id="70">“H-Họ muốn... tôi ra lệnh như ngài vừa nãy á?!”</p><p id="71">“Chúng tôi muốn Ngài Ariel gọi chúng tôi là rác rưởi nữa!!!” binh sĩ hăng hái đồng thanh.</p><p id="72">“C-Các người nói cái gì vậy?!” Ariel hét lên.</p><p id="73">“Nếu có thể, xin hãy vừa nói vừa nhìn xuống chúng tôi với ánh mắt khinh miệt!”</p><p id="74">“Dù tôi rất yêu vẻ bối rối hiện giờ của Ariel-sama, nhưng được ngài nhìn xuống bằng ánh mắt chán ghét thì... tôi không còn gì hối tiếc!”</p><p id="75">“Và nếu Ngài có thể ném vào chúng tôi vài lời cay nghiệt... chúng tôi sẵn sàng làm trâu làm chó cho Ngài!”</p><p id="76">“Này! Ai nói vậy?! Tên nào vừa phát ngôn đấy?!” Ariel gào lên.</p><p id="77">Elria đặt tay lên vai cô. “Cấp trên phải đáp ứng kỳ vọng của cấp dưới.”</p><p id="78">“Cái――?!” Ariel nghẹn họng. “Elria-sama cũng nghĩ thế luôn sao?!”</p><p id="79">“Tôi biết ánh mắt đó... Tôi từng thấy nó từ học trò và cấp dưới của ta.” Elria nói với ánh mắt xa xăm. Ariel chợt hiểu ra rằng cô cũng từng chịu không ít nỗi khổ tương tự. “Tinh thần rất quan trọng. Ariel, nên cứ làm đi.”</p><p id="80">“Ughhh... Tôi hiểu, nhưng mà――!”</p><p id="81">“Đừng lo. Tôi tin cô có tố chất.” Elria nhẹ nhàng đẩy Ariel lên phía trước.</p><p id="82">“T-Tố chất gì mới được chứ?!” Ariel bật lên. Từ trên tường thành, cô nhìn xuống đám binh lính bên dưới, xuống một biển ánh mắt lấp lánh mong chờ. Cô hít một hơi thật sâu, lấy hết can đảm, rồi nói:</p><p id="83">“C-Các người không phải lính... Các người là rác rưởi!”</p><p id="84"><strong><em>“CHÚNG TÔI KHÔNG PHẢI LÍNH! CHÚNG TÔI LÀ RÁC RƯỞI!!!”</em></strong></p><p id="85">Ngay lập tức, lớp băng quanh chân họ vỡ tung thành vô số mảnh sáng lấp lánh như bụi sao.</p><p id="86">Ariel khuỵu gối, vùi mặt vào hai bàn tay. “Làm... làm sao mấy người có thể đáp lại hoàn hảo trong tích tắc như vậy?! Đồ ngốc… từng đứa một đều ngốc như nhau!!!” cô khóc thảm thiết, nhưng tiếng la của cô hoàn toàn bị nhấn chìm bởi tiếng reo vui của binh lính.</p><p id="87">Ariel và Elria ngồi cạnh nhau một lúc trong im lặng, trước khi Elria lặng lẽ vỗ lưng Ariel, dịu dàng an ủi cô.</p><p id="88">◇</p><p id="89"><em>That snowflake once fell on my nose</em></p><p id="90"><em>Now flying backwards to last winter </em>♬</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308459-mo-dau" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/14866-eiyuu-to-kenja-no-tensei-kon/c308462-chuong-12" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'nxnpJ8zEirCWC5AI4vTxXim1FJ32W8eeOzh4XCZH';
        var comment_type = 'chapter';
        var comment_typeid = '308460';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'nxnpJ8zEirCWC5AI4vTxXim1FJ32W8eeOzh4XCZH';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('14866');
    chapter_id = parseInt('308460');

    readingObject = {
        series_id: series_id,
        series_title: 'Đính ước với đối thủ cũ, chúng tôi trở thành cặp đôi mạnh nhất',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="nxnpJ8zEirCWC5AI4vTxXim1FJ32W8eeOzh4XCZH" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cb6261f1d84fabe',t:'MTc3MDY2OTI4MQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Nhân vật chính trong truyện lãng mạn kỳ ảo chỉ thích mình tôi - 159. Thiếu nữ Marigold. (10) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Quý cô sa cơ Marigold, cho đến khi em hạnh phúc.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="hBt19oNkblKTDLLrSHGI4vdPVimUPEhNt2CEcejx">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277236-159-thieu-nu-marigold-10">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24127-51b6487d-7919-4cbc-93d5-8b2d7f14e0d3.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277234-158-thieu-nu-marigold-9"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277242-160-thieu-nu-marigold-11"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277236-159-thieu-nu-marigold-10" style="background: url('https://i.hako.vn/ln/series/covers/s24127-51b6487d-7919-4cbc-93d5-8b2d7f14e0d3.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi">Nhân vật chính trong truy...</a></h5>
                    <small><i class="fas fa-pen"></i>Verbena</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c266175-ve-bia-sach-1">Minh Họa</a></li>
                                        
                                                            <li class=""><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c265614-1-vong-lap-vo-han-phien-qua-phien-chet-di-duoc">Tập 1</a></li>
                                        
                                                            <li class=""><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c268005-49-phap-su-marigold-1">Tập 2</a></li>
                                        
                                                            <li class=""><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c267758-105-thien-kim-marigold-1">Tập 3</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/t35135-tap-4">Tập 4</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276250-150-thieu-nu-marigold-1">
                                                                        150. Thiếu nữ Marigold. (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276252-151-thieu-nu-marigold-2">
                                                                        151. Thiếu nữ Marigold. (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276495-152-thieu-nu-marigold-3">
                                                                        152. Thiếu nữ Marigold. (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276716-153-thieu-nu-marigold-4">
                                                                        153. Thiếu nữ Marigold. (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276717-154-thieu-nu-marigold-5">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        154. Thiếu nữ Marigold. (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c276718-155-thieu-nu-marigold-6">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        155. Thiếu nữ Marigold. (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277227-156-thieu-nu-marigold-7">
                                                                        156. Thiếu nữ Marigold. (7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277231-157-thieu-nu-marigold-8">
                                                                        157. Thiếu nữ Marigold. (8)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277234-158-thieu-nu-marigold-9">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        158. Thiếu nữ Marigold. (9)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277236-159-thieu-nu-marigold-10">
                                                                        159. Thiếu nữ Marigold. (10)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277242-160-thieu-nu-marigold-11">
                                                                        160. Thiếu nữ Marigold. (11)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277250-161-thieu-nu-marigold-12">
                                                                        161. Thiếu nữ Marigold. (12)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 4</h2>
                    <h4 class="title-item text-base font-bold" align="center">159. Thiếu nữ Marigold. (10)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277236-159-thieu-nu-marigold-10#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,363 từ - Cập nhật: 
                        <time class="topic-time timeago" title="23-12-2025 00:56:57" datetime="2025-12-23T00:56:57+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">159. Thiếu nữ Marigold. (10)</p>
                    <p id="1">"Hu hu, xi, xin lỗi, Lancel, hu hu!"</p>
<p id="2">Marigold vừa hỉ mũi vừa dần hoàn hồn lại. Lúc này nàng mới luống cuống kéo chiếc giỏ dã ngoại tới, nặn ra một nụ cười gượng gạo.</p>
<p id="3">"Hề hề hề, sữa nguội ngắt hết rồi này."</p>
<p id="4">"......."</p>
<p id="5">Marigold trông có vẻ đã bình tĩnh lại, nhưng Lancel thì hoàn toàn ngược lại. Đầu óc anh rối bời, vô vàn suy nghĩ đang cuộn trào trong tâm trí.</p>
<p id="6">Anh lặng lẽ nhìn chằm chằm vào ly sữa vừa được rót ra, rồi uống cạn một hơi.</p>
<p id="7">Chiếc bánh mì kẹp và ly sữa ngày hôm đó chẳng hiểu sao lại khó nuốt trôi đến lạ, nhưng dù vậy, hương vị vẫn ngon không chê vào đâu được.</p>
<p id="8">.</p>
<p id="9">.</p>
<p id="10">.</p>
<p id="11">"Lancel."</p>
<p id="12">"Ừm."</p>
<p id="13">"Mấy lời vừa nãy cậu quên hết đi nhé. Thỉnh thoảng mình cũng có những lúc xúc động nhất thời mà nói ra mấy lời trái lòng, kiểu vậy đó. Ưm, hừm hừm."</p>
<p id="14">"Ý cậu là tuổi dậy thì ấy hả."</p>
<p id="15">"Đúng, chính là nó. Chính là như thế."</p>
<p id="16">Marigold đắc ý ngoái đầu lại nhìn Lancel đang ngồi phía sau yên ngựa.</p>
<p id="17">"Lancel. Đã hứa rồi nhé, cậu không được qua lại với người phụ nữ nào khác đâu đấy. Nói rồi đó nha."</p>
<p id="18">"A a, mình sẽ sống cô độc cả đời."</p>
<p id="19">"Cậ, cậu nói thế làm như mình biến thành kẻ xấu xa lắm ấy..."</p>
<p id="20">"Dù sao thì dẫu không có Mary, mình cũng sẽ sống như vậy mà thôi."</p>
<p id="21">Đó là sự thật.</p>
<p id="22">Anh vốn dĩ là kẻ như vậy, trước khi gặp Marigold đã luôn sống một mình. Thậm chí ngay cả lời cầu hôn của Hoàng nữ, anh cũng chẳng mảy may hứng thú.</p>
<p id="23">Suy cho cùng, anh cũng là kẻ đã sống đến tận bây giờ với cái ác danh "thái giám" trong Đế quốc cơ mà.</p>
<p id="24">"Lancel lớn lên chắc sẽ được yêu thích lắm đây..."</p>
<p id="25">"Chắc chắn là nổi tiếng rồi."</p>
<p id="26">"Hu hu, cậu thế mà cũng không thèm phủ nhận!"</p>
<p id="27">"Chẳng bao lâu nữa đâu, mình đi đến đâu cũng sẽ có phụ nữ sáp lại gần, bám riết lấy mình cả ngày cho mà xem. Đến lúc đó không biết sẽ có bao nhiêu người sống chết đòi được sống cùng mình trọn đời, giờ mình cũng có thể tưởng tượng ra viễn cảnh đó rồi đây."</p>
<p id="28">"Á á á á!"</p>
<p id="29">Marigold nằm rạp xuống cổ ngựa, dáng vẻ đau khổ tột cùng.</p>
<p id="30">" ...Cảm giác chuyện đó thật sự có khả năng xảy ra, giờ mình đã thấy sợ rồi đây. Hu hu."</p>
<p id="31">"Mary."</p>
<p id="32">Lancel nhẹ nhàng nâng người Marigold đang nằm rạp xuống dậy, rồi ôm nàng vào lòng. Anh áp cái đầu tròn vo như quả nho chín mọng của nhóc con này vào ngực mình.</p>
<p id="33">Có lẽ vì vừa khóc một trận đã đời trên đồi nên chóp mũi nàng vẫn còn đỏ ửng.</p>
<p id="34">"Dù ở giữa đám phụ nữ đó, mình cũng sẽ chỉ nhớ về mỗi mình cậu thôi, thế chẳng phải là rất tốt sao?"</p>
<p id="35">"......."</p>
<p id="36">Lancel cảm nhận được gò má Marigold đang dần nóng bừng lên.</p>
<p id="37">"Rốt cuộc thì cũng vì sự ích kỷ của mình mà Lancel phải sống cô độc cả đời rồi."</p>
<p id="38">"Sống một mình cũng đâu có tệ."</p>
<p id="39">"Ưm ưm."</p>
<p id="40">Màn đêm dần buông xuống.</p>
<p id="41">Hai người bắt đầu hành trình trở về làng Erica.</p>
<p id="42">Cả hai rơi vào trầm mặc một hồi lâu.</p>
<p id="43">Một Lancel vừa thốt ra những lời sến súa không đúng lúc, và một Marigold sau khi nghe những lời đó thì thân nhiệt dường như tăng thêm một độ, cả hai đều chìm vào sự im lặng ngượng ngùng.</p>
<p id="44">"Hô hô."</p>
<p id="45">"......."</p>
<p id="46">Tiếng cười khẽ thoát ra từ miệng Marigold phá tan bầu không khí tĩnh lặng.</p>
<p id="47">"Lancel, tuy hỏi thế này hơi đột ngột."</p>
<p id="48">"......?"</p>
<p id="49">Nàng toét miệng cười, rồi nói tiếp.</p>
<p id="50">"Sinh nhật Lancel muốn nhận quà gì nhất?"</p>
<p id="51">"Bánh mì kẹp."</p>
<p id="52">"Lại nữa rồi. Ngoài cái đó ra chắc chắn phải còn cái khác chứ."</p>
<p id="53">"Mình thì cái gì cũng không kén chọn... Mà sao tự nhiên lại hỏi cái này?"</p>
<p id="54">"Hừm hừm. Được rồi, mình biết rồi. Cứ giao hết cho phu nhân mình đây."</p>
<p id="55">Rốt cuộc là nàng biết cái gì chứ.</p>
<p id="56">"Dù sao thì người nhớ được sinh nhật Lancel cũng chỉ có mỗi mình thôi! Cái ngày sinh nhật mà ngay cả bản thân cậu cũng quên bén mất ấy."</p>
<p id="57">.</p>
<p id="58">.</p>
<p id="59">.</p>
<p id="60">Thiếu nữ của làng Erica.</p>
<p id="61">Cô bé được tất cả mọi người yêu mến, Marigold.</p>
<p id="62">Nàng đã trút hơi thở cuối cùng vào năm mười ba tuổi.</p>
<p id="63">Đúng như lời Tử tước Dante đã nói, đó là mùa hoa nở rộ.</p>
<p id="64">"Mary. Thiếu nữ rạng rỡ của làng Erica, nguyện con an giấc ngàn thu theo con đường mà thần linh chỉ lối."</p>
<p id="65">Lancel vốn tưởng rằng bản thân đã sớm quen với cái chết, nhưng lần này, cú sốc trong lòng lại nặng nề hơn bao giờ hết.</p>
<p id="66">Có lẽ là bởi, Marigold ra đi khi tuổi đời còn quá trẻ, nhưng gương mặt nàng lại quá đỗi tươi sáng.</p>
<p id="67">"Đã tiễn đưa Mary chu toàn chưa?"</p>
<p id="68">"Rồi ạ, thưa cha."</p>
<p id="69">Tử tước Dante sau khi hay tin cũng đã đến dự tang lễ. Ông không mang theo bất kỳ tùy tùng nào, chỉ đến một mình. Chiếc mũ trùm đầu dày nặng che khuất thân phận.</p>
<p id="70">"Con định bao giờ thì về nhà?"</p>
<p id="71">"Xử lý xong việc ở đây con sẽ về."</p>
<p id="72">"Được. Cứ thong thả thôi."</p>
<p id="73">Tử tước Dante không hề hối thúc. Ông chỉ vỗ mạnh vào lưng Lancel vài cái, rồi quay lưng rời đi, bóng dáng dần khuất xa.</p>
<p id="74">19.</p>
<p id="75">Marigold.</p>
<p id="76">Cho đến tận giây phút cuối cùng, Lancel vẫn luôn ở bên cạnh nàng, cùng nàng trải qua mọi khoảnh khắc.</p>
<p id="77">Dạo bộ, ăn uống, dã ngoại, vui đùa, tiệm bánh mì, du lịch, cả những lúc đi ngủ. Anh luôn túc trực bên cạnh Marigold như hình với bóng.</p>
<p id="78">Trong những ngày tháng đó, Marigold trông thực sự rất hạnh phúc.</p>
<p id="79">Kể từ khi bước sang tuổi mười hai, thời gian nàng tỉnh táo chẳng còn bao nhiêu, ngoài việc chăm sóc nàng ra thì cũng chẳng thể làm được gì khác.</p>
<p id="80">Mặc dù vậy, nàng trông vẫn luôn hạnh phúc. Tựa hồ như ngay cả nỗi sợ hãi cái chết cũng đã không còn tồn tại.</p>
<p id="81">"Hề hề hề..."</p>
<p id="82">Thậm chí ngay cả khoảnh khắc ấy, khi sinh mệnh đang dần trôi đi, đến chút sức lực để để lại di ngôn cũng chẳng còn, cho đến tận cùng, Marigold vẫn mỉm cười hướng về phía Lancel.</p>
<p id="83">"Lancel... tay... ấm quá..."</p>
<p id="84">Đó là hình ảnh cuối cùng của nàng.</p>
<p id="85">Tang lễ của nàng chỉ có Tử tước Dante và vài người đến viếng.</p>
<p id="86">So với sự kiện trọng đại khi nàng qua đời với tư cách là Hoàng đế, đây là một lễ đưa tiễn nhỏ bé đến mức không thể nhỏ bé hơn.</p>
<p id="87">— Marigold Curtain Marigold.</p>
<p id="88">— Nguyện người an nghỉ.</p>
<p id="89">Lancel một lần nữa đứng trước bia mộ nàng.</p>
<p id="90">Phiến đá lạnh lẽo và nhẵn thín. Chẳng hiểu sao, anh cảm thấy như trên đó vẫn còn vương lại hơi ấm của Marigold.</p>
<p id="91">20.</p>
<p id="92">"Lancel. Cái này, là quà tiểu thư để lại cho cậu."</p>
<p id="93">Cô hầu gái Kana đưa tới một mảnh giấy, Lancel đón lấy với vẻ mặt đầy nghi hoặc.</p>
<p id="94">"Bản đồ?"</p>
<p id="95">"Cậu còn nhớ không? Trò chơi tìm kho báu mà lũ trẻ làng Erica hay chơi ngày xưa ấy. Hồi đó cậu còn tặng tiểu thư chiếc nhẫn mà. Chính là cái đó đấy."</p>
<p id="96">"A."</p>
<p id="97">Trò chơi tìm kho báu từng thịnh hành ở làng Erica, đây chính là tấm bản đồ kho báu nhỏ nhắn được dùng hồi đó.</p>
<p id="98">Tại vị trí được đánh dấu, chỉ để lại một dòng chữ nhỏ: "Gửi Lancel mười bảy tuổi".</p>
<p id="99">Vấn đề là, anh bây giờ mới mười sáu tuổi.</p>
<p id="100">"Viết nhầm sao?"</p>
<p id="101">"Hô hô, sao mà nhầm được."</p>
<p id="102">"Vậy chẳng lẽ..."</p>
<p id="103">"Ừm. Một năm sau hãy đi tìm nhé. Tiểu thư bảo là đã chôn quà sinh nhật ở đó rồi. Tôi cũng có giúp một tay đấy, nên cậu cũng phải cảm ơn tôi nữa nha!"</p>
<p id="104">— Dù sao thì người nhớ được sinh nhật Lancel cũng chỉ có mỗi mình thôi! Cái ngày sinh nhật mà ngay cả bản thân cậu cũng quên bén mất ấy.</p>
<p id="105">Ra là vậy.</p>
<p id="106">Hèn gì lúc nãy nói chuyện đầy ẩn ý như thế.</p>
<p id="107">"Phải đợi một năm mới được đi tìm, thế này chẳng phải là tra tấn người ta sao."</p>
<p id="108">"Nếu bận quá thì cũng không nhất thiết phải đi đúng giờ... nhưng Lancel sẽ không làm thế đâu, đúng không?"</p>
<p id="109">"......."</p>
<p id="110">May mắn là vùng này không xảy ra thiên tai lũ lụt gì. Món quà chôn dưới đất chắc sẽ không bị trôi mất đâu.</p>
<p id="111">"Lancel, cảm ơn cậu đã chăm sóc tiểu thư chu đáo như vậy. Người chắc chắn sẽ nhớ cậu lắm đấy."</p>
<p id="112">"Kana định đi đâu?"</p>
<p id="113">"Thành phố cảng. Tôi định tìm một công việc mới ở đó."</p>
<p id="114">"......Nếu lỡ không tìm được việc, thì cứ đến dinh thự gia tộc Dante."</p>
<p id="115">"Đến đó làm gì?"</p>
<p id="116">"Đến rồi sẽ biết."</p>
<p id="117">"Vậy sao? Ừm, được rồi, tôi sẽ ghi nhớ. Cảm ơn cậu nhé, Lancel. Có duyên gặp lại!"</p>
<p id="118">Mất đi trụ cột tinh thần là Marigold, các cô hầu gái mỗi người chọn cho mình một con đường riêng. Có lẽ bởi họ hiểu rằng, đó chính là điều mà chủ nhân mong muốn.</p>
<p id="119">Ngoại trừ Albert tình nguyện ở lại làm người giữ mộ, tất cả mọi người đều rời khỏi làng Erica.</p>
<p id="120">Chỉ còn lại tiệm bánh mì đã đổi chủ nhân mới là vẫn ở lại đó, ngày hôm nay vẫn tiếp tục nướng bánh.</p>
<p id="121">'Mười bảy tuổi à.'</p>
<p id="122">Giờ đây, trong tay Lancel chỉ còn lại tấm bản đồ tìm kho báu mà Marigold để lại.</p>
<p id="123">Trước khi sinh nhật tiếp theo đến, Lancel lao đầu vào luyện kiếm thuật như điên. Đó là sự giãy giụa của anh để khiến thời gian trôi qua nhanh hơn.</p>
<p id="124">'Rốt cuộc là cái gì nhỉ?'</p>
<p id="125">Ôm theo sự tò mò to lớn ấy, Lancel đã chịu đựng suốt một năm trời.</p>
<p id="126">"Chúc mừng sinh nhật mười bảy tu...!"</p>
<p id="127">"Từ từ đã, con phải đi đến làng Erica một chuyến!"</p>
<p id="128">"Cái gì? Tiệc sinh nhật đã chuẩn bị xong xuôi rồi, thằng nhóc này định đi đâu!"</p>
<p id="129">Đúng ngày sinh nhật.</p>
<p id="130">Vị trí được đánh dấu trên bản đồ cuối cùng dẫn đến một khu rừng cách làng Erica một quãng khá xa.</p>
<p id="131">"Là chỗ này sao?"</p>
<p id="132">Dưới gốc cây cổ thụ khổng lồ.</p>
<p id="133">Anh dùng tay hì hục đào đất lên, bên dưới chôn một chiếc hộp sắt nhỏ.</p>
<p id="134">'Thỉnh thoảng cô ấy cứ lén lút cùng Kana đi ra đi vào, chẳng lẽ là vì cái này?'</p>
<p id="135">Mỗi khi Lancel bận rộn, con nhỏ đó cứ như đã chờ sẵn từ trước, cùng Kana đi lại một nơi nào đó, cảnh tượng ấy chợt lóe lên trong đầu anh.</p>
<p id="136">Hồi đó nàng kịch liệt phản đối không cho anh đi theo, khiến anh còn thầm thấy tủi thân.</p>
<p id="137">Không ngờ nàng lại bày mưu tính kế làm chuyện này.</p>
<p id="138">—————————</p>
<p id="139">— Chúc mừng sinh nhật 17 tuổi, Lancel! Đây là quà sinh nhật nhé! Vị trí quà sinh nhật 18 tuổi ở chỗ này nè! Đi tìm trước là phạm quy đấy, nên dù có tò mò cũng không được đi trước đâu nha! Lúc nào đến thăm mình thì tiện đường ghé qua tìm luôn nhé. Hứa rồi đấy.</p>
<p id="140">— Một nửa duy nhất của Lancel, Mary.</p>
<p id="141">—————————</p>
<p id="142">Trong hộp để lại một bức thư ngắn, một chiếc vòng tay được kết từng hạt từng hạt từ vỏ hạt dẻ, và một tấm bản đồ khác đã được chuẩn bị sẵn, nằm lặng lẽ trước mắt anh.</p>
<p id="143">Lancel nhặt chiếc vòng tay lên.</p>
<p id="144">'Cái vòng tay này...'</p>
<p id="145">'Cậu đang làm gì đấy?'</p>
<p id="146">'A, kh, không có gì!'</p>
<p id="147">'Trông khả nghi lắm nha.'</p>
<p id="148">'Không được! Giờ chưa được xem!'</p>
<p id="149">'Giờ chưa được...?'</p>
<p id="150">Anh nhớ lại rồi, đây chính là chiếc vòng tay mà Marigold từng đan để giết thời gian dạo trước.</p>
<p id="151">Hồi đó nàng có vẻ định khoe với mình, nhưng kể từ ngày ấy, mình chẳng bao giờ còn thấy nó nữa.</p>
<p id="152">'Trên bản đồ viết là sinh nhật sau hãy quay lại tìm, ý là thế này sao.'</p>
<p id="153">Rốt cuộc nàng đã chuẩn bị quà đến sinh nhật bao nhiêu tuổi đây? Lancel hoàn toàn không đoán ra được.</p>
<p id="154">"Xem ra mỗi năm đều phải ghé qua đây một chuyến rồi."</p>
<p id="155">Trò chơi tìm kho báu giữa anh và Marigold mười tuổi, một trò chơi sẽ không bao giờ kết thúc ngay cả khi anh đã trưởng thành.</p>
<p id="156">Lancel đặt bó hoa trước bia mộ nàng, không kìm được mà bật cười khúc khích.</p>
<p id="157">"Cảm ơn quà sinh nhật của em, Mary."</p>
<p id="158">Con bé đó chắc hẳn đã đinh ninh rằng Lancel sẽ sống mãi ở gần Lãnh địa Dante nên mới bày ra kế hoạch này... nhưng thực tế đâu có được như vậy.</p>
<p id="159">Nhờ ơn đó mà trò chơi tìm kho báu diễn ra mỗi dịp sinh nhật này, định sẵn sẽ gian nan hơn nhiều so với tưởng tượng của nàng.</p>
<p id="160">Tất nhiên, đúng như lời Kana nói, cũng chẳng bắt buộc phải tuân thủ luật chơi. Nếu bây giờ đào hết lên, chắc chắn sẽ lấy được tất cả.</p>
<p id="161">Nhưng nếu làm vậy, chẳng phải là quá có lỗi với cô nhóc đã vắt óc suy nghĩ để giấu kho báu đi sao.</p>
<p id="162">'Đành chịu thôi.'</p>
<p id="163">Lancel đeo chiếc vòng tay làm từ vỏ hạt dẻ lên cổ tay, rồi lại khoác lên mình chiếc áo choàng. Đó là chiếc áo choàng trắng tinh khôi, bên trên thêu những họa tiết hoa và ong.</p>
<p id="164">"Vậy thì cố gắng thêm chút nữa, trụ vững đến thời điểm này năm sau vậy."</p>
<p id="165">Tổng lượng nỗ lực cho tròn một năm.</p>
<p id="166">Đã được nạp đầy.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277234-158-thieu-nu-marigold-9" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277242-160-thieu-nu-marigold-11" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3135004"
    class="ln-comment-item mt-3 clear"
    data-comment="3135004" 
    data-parent="3135004" 
    data-type="chapter" 
    data-typeid="277236">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u226412-7448c8a6-2e96-47ce-b749-ffa84428c345.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/226412">Yumine</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        (⁠｡⁠•́⁠︿⁠•̀⁠｡⁠). Mong em hạnh phúc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24127-nhan-vat-chinh-trong-tieu-thuyet-lang-man-ky-ao-chi-thich-minh-toi/c277236-159-thieu-nu-marigold-10?comment_id=3135004#ln-comment-3135004"
                            class="text-slate-500">
                            <time class="timeago" title="23-12-2025 01:05:54"
                                datetime="2025-12-23T01:05:54+07:00">
                                23-12-2025 01:05:54
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'hBt19oNkblKTDLLrSHGI4vdPVimUPEhNt2CEcejx';
        var comment_type = 'chapter';
        var comment_typeid = '277236';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'hBt19oNkblKTDLLrSHGI4vdPVimUPEhNt2CEcejx';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24127');
    chapter_id = parseInt('277236');

    readingObject = {
        series_id: series_id,
        series_title: 'Nhân vật chính trong truyện lãng mạn kỳ ảo chỉ thích mình tôi',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="hBt19oNkblKTDLLrSHGI4vdPVimUPEhNt2CEcejx" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Chàng trai bị NTR biết được kết cục của bản thân. - Học sinh cấp ba 8: Nhìn lại một năm trôi qua - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Vào một ngày cận kề lễ tốt nghiệp trung học cơ sở. Tại nhà ga, Tachibana Sho tình cờ chứng kiến cảnh tượng người yêu từ năm nhất của mình, Shinano Saki, đang môi kề môi với một nam sinh cùng lớp. Cú sốc khi bất ngờ bắt gặp cảnh...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="LnM8h8EFAQ0NFxxstR4CrpNVXNSQTLJF9wjQ4Gyv">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua">
    <meta property="og:image" content="https://docln.net/img/nocover.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268987-case2-shinano-saki"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268992-hoc-sinh-cap-ba-9-danh-cuoc-vao-suc-anh-huong"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua" style="background: url('https://docln.net/img/nocover.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than">Chàng trai bị NTR biết đư...</a></h5>
                    <small><i class="fas fa-pen"></i>オーメル</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/t34828-webnovel">Webnovel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268904-khoi-dau-1-pha-huy-nao-bo">
                                                                        Khởi đầu 1: Phá hủy não bộ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268924-khoi-dau-2-tien-tri-tuong-lai">
                                                                        Khởi đầu 2: Tiên tri tương lai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268939-khoi-dau-2-truoc-cuoc-chia-tay-ngo-nhu-da-tung-thay">
                                                                        Khởi đầu 3: Trước cuộc chia tay ngỡ như đã từng thấy
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268944-khoi-dau-4-mot-ket-thuc">
                                                                        Khởi đầu 4: Một kết thúc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268948-khoi-dau-5-huong-ve-tuong-lai">
                                                                        Khởi đầu 5: Hướng về tương lai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268950-case1-shinano-saki">
                                                                        CASE1: Shinano Saki
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268979-hoc-sinh-cap-ba-1-gui-den-ai-do-cua-ba-nam-sau">
                                                                        Học sinh cấp ba 1: Gửi, đến ai đó của ba năm sau
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268980-hoc-sinh-cap-ba-2-cau-ay-thoi-hoc-sinh">
                                                                        Học sinh cấp ba 2: Cậu ấy thời học sinh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268981-hoc-sinh-cap-ba-3-moi-quan-he-giua-hai-nguoi">
                                                                        Học sinh cấp ba 3: Mối quan hệ giữa hai người
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268982-hoc-sinh-cap-ba-4-loi-tu-biet-hoan-hao">
                                                                        Học sinh cấp ba 4: Lời từ biệt hoàn hảo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268983-hoc-sinh-cap-ba-5-mong-cau-kinh-nghiem">
                                                                        Học sinh cấp ba 5: Mong cầu kinh nghiệm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268984-hoc-sinh-cap-ba-6-tu-gia-su-hy-sinh-ban-than">
                                                                        Học sinh cấp ba 6: Từ giã sự hy sinh bản thân
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268985-hoc-sinh-cap-ba-7-co-gai-o-cua-hang-tien-loi">
                                                                        Học sinh cấp ba 7: Cô gái ở cửa hàng tiện lợi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268987-case2-shinano-saki">
                                                                        CASE2: Shinano Saki
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua">
                                                                        Học sinh cấp ba 8: Nhìn lại một năm trôi qua
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268992-hoc-sinh-cap-ba-9-danh-cuoc-vao-suc-anh-huong">
                                                                        Học sinh cấp ba 9: Đánh cược vào sức ảnh hưởng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268994-case3-shinano-saki">
                                                                        CASE3: Shinano Saki
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269214-hoc-sinh-cap-ba-10-bua-trua-khong-duoc-hoan-nghenh">
                                                                        Học sinh cấp ba 10: Bữa trưa không được hoan nghênh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269224-hoc-sinh-cap-ba-11-cang-thang-qua-do">
                                                                        Học sinh cấp ba 11: Căng thẳng quá độ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269228-hoc-sinh-cap-ba-12-nguyen-vong-tuong-lai">
                                                                        Học sinh cấp ba 12: Nguyện vọng tương lai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269231-second-case-1-negishi-sayo">
                                                                        SECOND CASE 1: Negishi Sayo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269232-hoc-sinh-cap-ba-13-tam-biet-nguoi-thu-hai">
                                                                        Học sinh cấp ba 13: Tạm biệt người thứ hai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269235-hoc-sinh-cap-ba-14-chiec-xe-den">
                                                                        Học sinh cấp ba 14: Chiếc xe đen
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269238-hoc-sinh-cap-ba-15-khong-cung-dang-cap">
                                                                        Học sinh cấp ba 15: Không cùng đẳng cấp
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269246-hoc-sinh-cap-ba-16-sun-life-cua-tuong-lai">
                                                                        Học sinh cấp ba 16: Sun Life của tương lai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269268-hoc-sinh-cap-ba-17-thien-kim-tieu-thu-cua-cong-ty">
                                                                        Học sinh cấp ba 17: Thiên kim tiểu thư của công ty
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269288-third-case1-izuki-sakura">
                                                                        THIRD CASE1: Itsuki Sakura
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269300-hoc-sinh-cap-ba-18-manh-vo-cua-cuoc-chia-ly">
                                                                        Học sinh cấp ba 18: Mảnh vỡ của cuộc chia ly
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269336-case4-shinano-saki">
                                                                        CASE4: Shinano Saki
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269357-hoc-sinh-cap-ba-19-nhung-ngay-thang-dan-doi-thay">
                                                                        Học sinh cấp ba 19: Những ngày tháng dần đổi thay
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269369-hoc-sinh-cap-ba-20-chuyen-chang-ai-muon-xay-den">
                                                                        Học sinh cấp ba 20: Chuyện chẳng ai muốn xảy đến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269388-hoc-sinh-cap-ba-21-giai-tru-bao-viem">
                                                                        Học sinh cấp ba 21: Giải trừ Bạo viêm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269391-hoc-sinh-cap-ba-22-doi-thoai">
                                                                        Học sinh cấp ba 22: Đối thoại
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269395-case5-shinano-saki">
                                                                        CASE5: Shinano Saki
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269449-hoc-sinh-cap-ba-23-ngay-25-thang-12">
                                                                        Học sinh cấp ba 23: Ngày 25 tháng 12
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269453-hoc-sinh-cap-ba-24-khoi-dau-cua-dai-tien-tri">
                                                                        Học sinh cấp ba 24: Khởi đầu của Đại Tiên Tri
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269460-hoc-sinh-cap-ba-25-the-gioi-dao-lon">
                                                                        Học sinh cấp ba 25: Thế giới đảo lộn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269473-second-case2-negishi-sayo">
                                                                        SECOND CASE2: Negishi Sayo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c269665-hoc-sinh-cap-ba-26-tan-nhan">
                                                                        Học sinh cấp ba 26: Tàn nhẫn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c270185-hoc-sinh-cap-ba-27-nhung-dieu-co-the-lam-trong-mot-nam-hoa-binh">
                                                                        Học sinh cấp ba 27: Những điều có thể làm trong một năm hòa bình
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c270600-hoc-sinh-cap-ba-28-thoi-gian-hay-ngung-dong">
                                                                        Học sinh cấp ba 28: Thời gian, hãy ngưng đọng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c271112-hoc-sinh-cap-ba-29-dau-co-trong-cho-vao-ky-tich">
                                                                        Học sinh cấp ba 29: Dẫu có trông chờ vào kỳ tích
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c271482-third-case2-itsuki-sakura">
                                                                        THIRD CASE2: Itsuki Sakura
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c271948-hoc-sinh-cap-ba-30-boc-lo-ban-chat">
                                                                        Học sinh cấp ba 30: Bộc lộ bản chất
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c272380-hoc-sinh-cap-ba-31-su-to-mo-cua-thieu-nu">
                                                                        Học sinh cấp ba 31: Sự tò mò của thiếu nữ
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Webnovel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Học sinh cấp ba 8: Nhìn lại một năm trôi qua</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 1,938 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-12-2025 00:34:39" datetime="2025-12-05T00:34:39+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Học sinh cấp ba 8: Nhìn lại một năm trôi qua</p>
                    <p id="1">Thời gian trôi nhanh như tên bắn, và trong khoảng thời gian đó, công cuộc chuẩn bị cho tương lai vẫn không ngừng diễn ra.</p><p id="2">Rèn luyện hàng ngày là điều hiển nhiên, nhưng bên cạnh đó còn có những trận chiến với kẻ khả nghi hay tội phạm để tích lũy điểm kinh nghiệm. Đồng thời, tôi cũng nâng cao độ nhận diện của tài khoản tiên tri sử dụng thông tin từ tương lai.</p><p id="3">Tôi cố gắng xử lý tội phạm và những kẻ khả nghi ở ven đường để tránh dính líu đến cảnh sát.</p><p id="4">Cụ thể, tôi giới hạn hành động vào những khung giờ vắng người như buổi tối hay đêm muộn, can thiệp khi ai đó bị tấn công và vô hiệu hóa kẻ thủ ác.</p><p id="5">Bằng cách đeo khẩu trang che phần lớn khuôn mặt, tôi nhanh chóng biến mất trước khi nạn nhân kịp nhận ra.</p><p id="6">Vụ việc ở cửa hàng tiện lợi đã cho tôi hiểu rõ việc khiến người khác mang ơn phiền phức đến mức nào. Nếu đã vậy thì thà trấn áp nhanh gọn rồi lặn mất tăm còn đỡ rắc rối hơn.</p><p id="7">Mặc dù những việc đang làm có vẻ giống một sát thủ, nhưng coi như bài tập tiêu diệt kẻ địch nhanh chóng thì cũng đủ rồi.</p><p id="8">Chỉ có điều, vì chủ yếu là tập kích bất ngờ nên tôi vẫn thiếu kinh nghiệm chiến đấu trực diện. Chuyện này thì đành phải đợi đến lúc thực chiến mà tích lũy thôi.</p><p id="9">Gần đây, những lời đồn đại bắt đầu lan truyền trong trường và khu phố.</p><p id="10">Một người tốt bụng chuyên bắt trói tội phạm trước khi cảnh sát đến. Vì không có thông tin gì trên các trang web chia sẻ video hay mạng xã hội, nên người ta cho rằng mục đích không phải để nổi tiếng, và tôi được đối xử như một “người hùng công lý” theo cách gọi của thiên hạ.</p><p id="11">Hành động này gần giống như tư hình nên cảnh sát khó mà chấp nhận được, nhưng dư luận thì có lẽ hoan nghênh việc có ai đó đứng ra giúp đỡ.</p><p id="12">Và nói về việc giúp đỡ ai đó, tài khoản tiên tri cũng vậy.</p><p id="13">Số lượng người theo dõi đã lên tới ba trăm năm mươi nghìn. Chỉ cần tìm kiếm sơ qua về các tiên đoán trên mạng xã hội, ai cũng đang đưa ra ý kiến cá nhân về tài khoản của tôi.</p><p id="14">Nguyên nhân của sự gia tăng bùng nổ này quả nhiên là do các trang web chia sẻ video.</p><p id="15">Các kênh chuyên về hiện tượng siêu nhiên khác đã giới thiệu tài khoản của tôi, và đó trở thành chất xúc tác thu hút sự chú ý của đông đảo mọi người.</p><p id="16">Tỷ lệ chính xác đến thời điểm hiện tại là 100%. Do thông tin đưa ra quá chi tiết nên không ai có thể bác bỏ, và cuối cùng đã xuất hiện những người sùng bái như tín đồ.</p><p id="17">Cũng có nhiều ý kiến phủ nhận tài khoản của tôi, cho rằng chắc chắn phải có mánh khóe gì đó, nhưng những lời lẽ ấy chẳng thể thay đổi được dòng chảy hiện tại.</p><p id="18">Nhiều người nước ngoài cũng tham gia vào, và theo như những gì tôi đọc được qua bản dịch, các người dùng mạng xã hội nước ngoài cũng đang giới thiệu tài khoản của tôi.</p><p id="19">『Nếu chủ nhân của tài khoản này là thật, chính phủ nên thuê người này ngay lập tức.』</p><p id="20">Câu nói đó nhận được sự đồng tình của rất nhiều người. Ngược lại, tôi thì chỉ muốn xin tha, vì nếu bị lộ danh tính thì cuộc sống của tôi sẽ chẳng còn chút bình yên nào nữa.</p><p id="21">Tin nhắn trực tiếp cũng tràn ngập vô số yêu cầu tiên tri và những lời cảm ơn.</p><p id="22">Dù tôi không trả lời bất kỳ tin nhắn nào, nhưng những lời cảm ơn từ những người thoát nạn nhờ thông tin báo trước khiến lòng tôi ấm áp.</p><p id="23">Những việc tôi làm là có ý nghĩa. Việc tin chắc vào điều đó là niềm an ủi đối với một kẻ mang trong mình nỗi bất an về tương lai.</p><p id="24">Đồng thời, điều này cũng đưa khả năng chuẩn bị cho sự xuất hiện của Dungeon thông qua những phát ngôn của tôi đến gần hơn một bước lớn. Dù vẫn còn những điểm hoang đường, nhưng nếu truyền đạt theo dòng sự kiện Dungeon xuất hiện ở Trung Quốc, mọi người chắc chắn sẽ chuẩn bị.</p><p id="25">Con đường đến mục tiêu chính cho đến giờ vẫn thuận lợi.</p><p id="26">Hiện tại chưa thấy sự can thiệp kỳ lạ nào, và cũng không gây ra áp lực lớn cho tôi.</p><p id="27">Tuy nhiên, nếu hỏi cuộc sống riêng tư có vấn đề gì không, câu trả lời là không. Ngược lại, đó mới là nơi tập trung những nguyên nhân gây stress.</p><p id="28">“Chào buổi sáng!”</p><p id="29">Đang đi bộ đến trường, bỗng một giọng nói vui vẻ vang lên từ phía sau.</p><p id="30">Vỗ nhẹ vào vai tôi, người đó ―――― Negishi vượt lên trước rồi quay lại nhìn. Vẫn là nụ cười tôi thường thấy mỗi ngày, người mà tôi dính dáng nhiều nhất trong suốt năm nhất cao trung này.</p><p id="31">Và việc cô ấy chào hỏi một đứa cô độc như tôi tự nhiên lại thu hút sự chú ý của các nam sinh khác.</p><p id="32">Phần lớn đều nhìn tôi với ánh mắt ghen tị, và một kẻ không có bạn bè như tôi chỉ còn cách vờ như không quan tâm mà phớt lờ đi.</p><p id="33">“Chào buổi sáng.”</p><p id="34">“Thật là, lúc nào cũng cứng nhắc! Thoải mái hơn chút đi mà!!”</p><p id="35">“Ahaha, thôi thì, từ từ vậy.”</p><p id="36">Tôi biết cô ấy đang cố gắng vun đắp tình bạn.</p><p id="37">Và trong đó có lẽ hiệu ứng cầu treo cũng đang hoạt động mạnh mẽ. Ơn cứu mạng, càng trẻ người ta càng dễ coi trọng nó một cách sâu sắc.</p><p id="38">Người cứu mình trông quyến rũ gấp bội lần bình thường, và nhịp tim dồn dập vì sợ hãi hay căng thẳng lại bị nhầm lẫn là tiếng gọi của tình yêu. Dù có chỉ ra điều đó thì họ cũng chẳng mấy tin, nên tôi chỉ còn cách giữ khoảng cách hàng ngày để mọi thứ trở về quỹ đạo cũ.</p><p id="39">Kỹ năng xử thế nhờ tận dụng kiến thức từ tương lai. Nó rất thuận tiện để hoàn thành mục tiêu chính, nhưng khi đối phương không bình thường thì mọi chuyện lập tức trở nên khó khăn.</p><p id="40">Negishi cũng mang một tính chất khác biệt. Trường hợp của cô ấy, dường như cô ấy không hề nghĩ rằng mình đang bị giữ khoảng cách.</p><p id="41">Không rõ đó là do thiếu kinh nghiệm hay do sự chậm tiêu bẩm sinh, mà tôi vẫn chưa tung ra con bài tẩy cuối cùng và cũng là tồi tệ nhất cho đến tận hôm nay.</p><p id="42">“Lúc nào cũng bảo từ từ. Hôm nay nhất định phải đi ăn cùng nhau một bữa đấy nhé.”</p><p id="43">“Negishi-san lúc nào chẳng được mọi người rủ rê. Em nghĩ chị nên ưu tiên phía đó thì hơn.”</p><p id="44">“Thì cũng đúng là vậy. Nhưng mà cậu cũng có thể tham gia ăn cùng được mà, có sao đâu.”</p><p id="45">“Em không hợp với bầu không khí đó lắm. Với lại có người lạ vào mọi người sẽ khó xử đấy. Nhất là với đứa chẳng có bạn bè gì như em.”</p><p id="46">Những lời mời của Negishi thường kéo theo một nhóm đông người.</p><p id="47">Có thể là hội bạn gái thân thiết, hoặc đám con trai có cảm tình với cô ấy, hoặc cả hai.</p><p id="48">Dù là nhóm nào thì cũng xoay quanh cô ấy, và một tập thể toàn đàn anh đàn chị như vậy thì độ khó hơi cao đối với tôi. Hơn nữa, nếu một gã con trai có vẻ ngoài u ám như tôi xuất hiện, chắc chắn phía bên kia cũng sẽ bối rối.</p><p id="49">Hiện tại đã thấy lạc quẻ lắm rồi, tôi không muốn làm tình hình tồi tệ hơn nữa. Tôi từ chối với suy nghĩ đó, nhưng có vẻ cô ấy không phục, má phồng lên.</p><p id="50">“Chị nghĩ bạn chị không có ai để ý mấy chuyện đó đâu. Chắc là sẽ bị trêu chọc một chút, nhưng không ai có ác ý gì đâu.”</p><p id="51">Chắc là cô ấy có những mối quan hệ thực sự tốt đẹp.</p><p id="52">Mọi người xung quanh có vẻ cũng bị ảnh hưởng bởi hào quang của cô ấy nên đều thức tỉnh thuộc tính ánh sáng, không ai có ý định phá rối.</p><p id="53">Nhưng đám con trai chắc chắn sẽ lườm tôi cháy mắt. Nếu cứ liên tục tạo ra bầu không khí thân thiết hơn người khác thế này, kiểu gì tôi cũng bị gọi ra sau giờ học và bị cảnh cáo đừng có mà vênh váo, lúc đó thì bọn họ thức tỉnh thuộc tính bóng tối là cái chắc.</p><p id="54">Có lẽ vì đã nhìn thấy hình ảnh của bản thân khi trưởng thành, nên những cảm xúc non trẻ ấy đối với tôi trông có vẻ hơi quá đà.</p><p id="55">Tình yêu rốt cuộc cũng chỉ là thứ nhất thời, muốn duy trì thì cần sự nỗ lực của cả hai. Không thể nào cứ mãi say đắm trong cơn sốt tình ái, vì thế giai đoạn chán chường mới tiềm ẩn nguy cơ chia tay cao nhất.</p><p id="56">Tình bạn cũng vậy, hợp tác hay đồng minh cũng thế.</p><p id="57">Nếu ai đó muốn xây dựng mối quan hệ với ai đó, cả hai đều phải có ý định duy trì nó.</p><p id="58">Điều đó khiến tôi cảm thấy phiền phức. Tôi không có ý phủ nhận tình yêu hay tình bạn, nhưng có vẻ nó không hợp với tôi.</p><p id="59">Trở nên thế này là do vụ ngoại tình, hay là do trong tương lai tôi đã được tự do lựa chọn theo ý mình ở một khía cạnh nào đó?</p><p id="60">Dù làm gì đi nữa, cuối cùng vẫn là tự chịu trách nhiệm.</p><p id="61">Thà tự mình làm tự mình chịu còn hơn là bị vạ lây bởi sai lầm của kẻ nào đó mà mình không biết.</p><p id="62">Nếu phạm sai lầm thì phải tự giải quyết tất cả, nhưng nếu có thể ổn định cuộc sống chỉ bằng việc tự quản lý bản thân thì như vậy tốt hơn.</p><p id="63">Tôi tìm cách lảng tránh lời mời của cô ấy, và ngày hôm đó cũng trôi qua một cách yên bình.</p><p id="64">Năm nhất cũng sắp kết thúc. Sang năm hai, những sự kiện như trong truyện giả tưởng sẽ bắt đầu. Đội quân quái vật bất ngờ tràn ra sẽ gây ra những cuộc tàn sát, và chỉ trong vài ngày, số người chết sẽ ngang ngửa với thời chiến.</p><p id="65">Không có cách nào ngăn chặn điều đó từ trước. Từ giờ trở đi sẽ là cuộc đối đầu giữa quái vật và nhân loại, và người Nhật sẽ hành động với ưu tiên hàng đầu là chạy trốn.</p><p id="66">Họ sẽ chỉ nhận ra đó là sai lầm khi Dungeon xuất hiện tại Nhật Bản.</p><p id="67">Hoạt động trên mạng của tôi cũng sẽ trở nên khá quan trọng. Ngay từ đầu đã không có thời gian để chơi bời, nhưng sắp tới tôi sẽ bị đòi hỏi những hoạt động khắt khe hơn nữa.</p><p id="68">――Ngày định mệnh, quả thực đang chuẩn bị hiện ra trước mắt tôi.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268987-case2-shinano-saki" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268992-hoc-sinh-cap-ba-9-danh-cuoc-vao-suc-anh-huong" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3117468"
    class="ln-comment-item mt-3 clear"
    data-comment="3117468" 
    data-parent="3117468" 
    data-type="chapter" 
    data-typeid="268990">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u154485-86606e9b-e7fd-4587-a2e3-4041dba0c9e3.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/154485">Kyoani77</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Thanks trans
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua?comment_id=3117468#ln-comment-3117468"
                            class="text-slate-500">
                            <time class="timeago" title="08-12-2025 01:21:40"
                                datetime="2025-12-08T01:21:40+07:00">
                                08-12-2025 01:21:40
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3114708"
    class="ln-comment-item mt-3 clear"
    data-comment="3114708" 
    data-parent="3114708" 
    data-type="chapter" 
    data-typeid="268990">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua71697-b3119935-c589-4132-bba1-84f59d6c0e4f.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/71697">2years</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Ý trời
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24200-chang-trai-bi-ntr-biet-duoc-ket-cuc-cua-ban-than/c268990-hoc-sinh-cap-ba-8-nhin-lai-mot-nam-troi-qua?comment_id=3114708#ln-comment-3114708"
                            class="text-slate-500">
                            <time class="timeago" title="05-12-2025 23:39:31"
                                datetime="2025-12-05T23:39:31+07:00">
                                05-12-2025 23:39:31
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'LnM8h8EFAQ0NFxxstR4CrpNVXNSQTLJF9wjQ4Gyv';
        var comment_type = 'chapter';
        var comment_typeid = '268990';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'LnM8h8EFAQ0NFxxstR4CrpNVXNSQTLJF9wjQ4Gyv';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24200');
    chapter_id = parseInt('268990');

    readingObject = {
        series_id: series_id,
        series_title: 'Chàng trai bị NTR biết được kết cục của bản thân.',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="LnM8h8EFAQ0NFxxstR4CrpNVXNSQTLJF9wjQ4Gyv" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="//spicewaxworks.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

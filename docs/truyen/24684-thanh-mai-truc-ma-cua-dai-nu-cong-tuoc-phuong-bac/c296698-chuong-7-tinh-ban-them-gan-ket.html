<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Thanh Mai Trúc Mã Của Nữ Đại Công Tước Phương Bắc - Chương 7: Tình Bạn Thêm Gắn Kết - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tiểu thư đài các vốn là bạn thanh mai trúc mã của tôi dạo này cứ hay gắt gỏng. Nhưng mà, trêu chọc cô ấy thú vị lắm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="RJxtb8w0QYPJy6RSzlt2FBKnr0B2NfAOi3Yr910p">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c296698-chuong-7-tinh-ban-them-gan-ket">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24684-b2182685-87c0-4ade-af64-bb9d4031927e.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c295359-chuong-6-tinh-huong-bat-ngo"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c296698-chuong-7-tinh-ban-them-gan-ket" style="background: url('https://i.hako.vn/ln/series/covers/s24684-b2182685-87c0-4ade-af64-bb9d4031927e.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac">Thanh Mai Trúc Mã Của Nữ...</a></h5>
                    <small><i class="fas fa-pen"></i>bamioneunjam</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/t35818-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c292060-loi-mo-dau">
                                                                        Lời Mở Đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c292062-chuong-1-day-la-dau-nay-la-ai">
                                                                        Chương 1: Đây Là Đâu? Này Là Ai?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c292295-chuong-2-toi-tro-thanh-ban-cua-mot-nguoi-vo-cung-cao-quy">
                                                                        Chương 2: Tôi Trở Thành Bạn Của Một Người Vô Cùng Cao Quý
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c293131-chuong-3-cach-tu-duy-khac-biet-cua-tieu-thu">
                                                                        Chương 3: Cách Tư Duy Khác Biệt Của Tiểu Thư
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c293785-chuong-4-tieu-thu-khong-he-thanh-that">
                                                                        Chương 4: Tiểu Thư Không Hề Thành Thật
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c295031-chuong-5-tieu-thu-to-mo">
                                                                        Chương 5: Tiểu Thư Tò Mò
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c295359-chuong-6-tinh-huong-bat-ngo">
                                                                        Chương 6: Tình Huống Bất Ngờ
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c296698-chuong-7-tinh-ban-them-gan-ket">
                                                                        Chương 7: Tình Bạn Thêm Gắn Kết
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 7: Tình Bạn Thêm Gắn Kết</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c296698-chuong-7-tinh-ban-them-gan-ket#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,693 từ - Cập nhật: 
                        <time class="topic-time timeago" title="24-01-2026 22:35:19" datetime="2026-01-24T22:35:19+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                
                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 7: Tình Bạn Thêm Gắn Kết</p>
                    <p id="1">Cả hai ngay lập tức được đưa trở về dinh thự.</p><p id="2">Tận mắt chứng kiến Edgar ngất đi trước mặt mình, Ariel đã tuyệt vọng gọi tên anh suốt quãng đường trở về. </p><p id="3">Đối với một cô bé mười tuổi, đó hẳn là một cảnh tượng vô cùng chấn động.</p><p id="4">“Mẹ ơi! Edgar...! Tại con mà Edgar mới...!”</p><p id="5">“Bình tĩnh lại nào Ariel. Con cũng cần được điều trị trước đã.”</p><p id="6">Sau khi nghe toàn bộ câu chuyện, Helene trước tiên trấn an cô con gái đang hoảng loạn. </p><p id="7">Theo lời bác sĩ, Edgar chỉ bị ngất đi chứ không gặp chấn thương nghiêm trọng hay tổn thương nội tạng nào. Tính mạng của cậu không nguy hiểm. </p><p id="8">Tuy nhiên, vì đã gắng sức quá mức đối với cơ thể của một đứa trẻ mười tuổi, việc nghỉ ngơi là ưu tiên hàng đầu.</p><p id="9">Helene gửi gắm Ariel cho Katria chăm sóc rồi lặng lẽ tiến về phía căn phòng nơi Edgar đang nằm. </p><p id="10">Mái tóc đỏ rực như màu mắt con gái bà của cậu bé đang rối bời. </p><p id="11">Tay và cánh tay cậu được quấn băng vì những vết trầy xước, có lẽ do bị kéo lê trên mặt đất. </p><p id="12">Theo lời kể của người lính, Ariel nói rằng Edgar đã bị thương khi chiến đấu với lợn rừng để bảo vệ cô bé.</p><p id="13">‘Một con lợn rừng... thật là một đứa trẻ dũng cảm.’</p><p id="14">Dù đã nghe từ người lính, bà vẫn thấy khó tin. </p><p id="15">Một người trưởng thành được đào tạo bài bản còn chưa chắc hạ gục được lợn rừng, huống chi Edgar chỉ là một đứa trẻ mười tuổi. </p><p id="16">Ý nghĩ về việc đối đầu với một con lợn rừng to lớn hơn mình gấp bội dường như là điều không tưởng.</p><p id="17">Helene đưa tay gạt những lọn tóc khỏi khuôn mặt Edgar. </p><p id="18">Việc để cậu bé này bên cạnh con gái bà có lẽ là một trong những quyết định sáng suốt nhất bà từng đưa ra với tư cách là một người mẹ. </p><p id="19">Tất nhiên, nhìn thấy cậu phải chịu khổ vì điều đó luôn khiến bà cảm thấy tội lỗi.</p><p id="20">Lúc này, bà chỉ mong cậu sớm tỉnh lại để mọi người trong dinh thự có thể thở phào nhẹ nhõm. </p><p id="21">Với niềm hy vọng đó, Helene nhẹ nhàng vuốt ve gò má lạnh lẽo của Edgar, và như để đáp lại, đôi mắt cậu khẽ mở ra.</p><p id="22">“Ư... Phu nhân Helene?”</p><p id="23">“Con tỉnh rồi sao? Đừng lo. Con đang ở dinh thự rồi.”</p><p id="24">“Còn... Ariel thì sao ạ...?”</p><p id="25">Ngay khi vừa tỉnh lại, Edgar đã bày tỏ sự lo lắng cho tình trạng của Ariel thay vì bản thân mình. </p><p id="26">Helene không nhịn được mà bật cười nhẹ. </p><p id="27">Bà không biết nên cảm kích hay nên phiền lòng vì điều này nữa. Cậu bé thực sự nên biết chăm sóc bản thân mình một chút.</p><p id="28">“Con bé ổn. Tất cả là nhờ con đấy.”</p><p id="29">“Không ạ. Đúng hơn là tại con... ư.”</p><p id="30">Không thể tiếp tục cuộc trò chuyện trong khi đang nằm trước mặt phu nhân Đại công tước, Edgar cố gắng ngồi dậy nhưng sức lực đã cạn kiệt. </p><p id="31">Cậu chỉ kịp thốt lên một tiếng rên ngắn khi khuôn mặt nhăn lại vì đau. </p><p id="32">Thấy vậy, Helene nhẹ nhàng đặt cậu nằm xuống và lắc đầu.</p><p id="33">“Đừng lo lắng về lễ nghi, cứ nằm xuống đi. Ta còn nhiều điều muốn thỉnh cầu ở người đã cứu mạng con gái ta đấy.”</p><p id="34">Nghĩ lại thì, lẽ ra bà mới là người nên quỳ xuống bày tỏ lòng biết ơn. </p><p id="35">Xét đến mối quan hệ chủ tớ giữa hai gia tộc, địa vị xã hội lúc này chẳng còn ý nghĩa gì. </p><p id="36">Sự thật duy nhất là giờ đây cậu đã trở thành ân nhân mà bà phải đối đãi bằng sự tôn trọng cao nhất.</p><p id="37">“Con xin lỗi, phu nhân Helene.”</p><p id="38">“Vì đã không ngăn cản được Ariel sao?”</p><p id="39">“...Vâng ạ.”</p><p id="40">Trước lời khẳng định của Edgar, Helene mỉm cười đáp lại. </p><p id="41">Cậu bé hẳn đã cố gắng hết sức để khuyên ngăn cô bé đừng lên núi. </p><p id="42">Vì một sự cố tương tự đã xảy ra trước đó, cậu chắc chắn muốn ngăn chặn sai lầm thứ hai. </p><p id="43">Nhưng Ariel, vốn bướng bỉnh và cứng đầu, hẳn đã bất chấp tất cả mà tiến tới. </p><p id="44">Kịch bản hiện ra rõ mồn một trong đầu bà.</p><p id="45">“Lần này, ngay cả con cũng không thể ngăn cản được con bé đâu. Có lẽ vào một ngày bình thường thì có thể.”</p><p id="46">“Dạ? Ý phu nhân là sao ạ...?”</p><p id="47">Hàng loạt dấu hỏi hiện lên trên đầu Edgar vì anh không hiểu được ý nghĩa đằng sau lời nói của bà. </p><p id="48">Bà có ý gì nhỉ? </p><p id="49">Dù anh cảm thấy sự bướng bỉnh của cô bé mạnh hơn bình thường, nhưng anh chỉ nghĩ đơn giản là hôm nay cô bé sung sức hơn thôi. </p><p id="50">Tuy nhiên, lời nói của Helene lại ám chỉ có một lý do khác.</p><p id="51">“Tiếc là đó không phải chuyện con nên hỏi ta. Khi nào gặp Ariel, hãy hỏi trực tiếp con bé nhé.”</p><p id="52">“Vâng, thưa phu nhân.”</p><p id="53">Vậy là anh nên nghe từ chính miệng cô bé sao? </p><p id="54">Edgar ngứa ngáy vì tò mò nhưng không còn cách nào khác là phải đồng ý. </p><p id="55">Chắc hẳn muộn nhất là ngày mai anh sẽ nghe được thôi.</p><p id="56">‘Cảm thấy hơi chóng mặt.’</p><p id="57">Giờ đã xác nhận được tình trạng của Ariel, anh mới bắt đầu để ý đến bản thân mình. </p><p id="58">Cơ thể anh cảm thấy lạnh lẽo vì dầm mưa quá lâu, và khi chạm vào trán, anh thấy hơi nóng.</p><p id="59">‘Chắc là bị cảm rồi.’</p><p id="60">À thì, xét theo tình hình, nếu chỉ bị cảm nhẹ sau khi trở về an toàn thì đó cũng là một kết thúc có hậu. </p><p id="61">Quan sát từ bên cạnh, Helene dường như nhận ra tình trạng của Edgar. Bà đưa bàn tay thanh mảnh lên sờ má và trán cậu để kiểm tra xem có sốt không. </p><p id="62">Dù không nóng hầm hập nhưng chắc chắn là có sốt nhẹ. </p><p id="63">Vì cậu đã tỉnh táo, tốt nhất là nên để bác sĩ kiểm tra lại một lần nữa.</p><p id="64">“Con có vẻ bị sốt rồi. Nằm nghỉ một lát đi. Ta sẽ mang nước và thức ăn đến ngay. Và ta sẽ bảo bác sĩ kiểm tra lại cho con.”</p><p id="65">“Con xin lỗi vì đã gây rắc rối cho phu nhân, phu nhân Helene.”</p><p id="66">“Trẻ con sinh ra là để gây rắc rối cho người lớn mà. Dù có lẽ không có ai gây rắc rối nhiều như con gái ta đâu.”</p><p id="67">Với một tiếng cười vang, buông lời trêu chọc con gái mình, Helene nhanh chóng rời khỏi phòng. </p><p id="68">Khi sự căng thẳng vơi đi, Edgar ngây người nhìn lên trần nhà trước khi thở phào nhẹ nhõm. </p><p id="69">Thú thật, anh đã nghĩ cả hai sẽ chết vì bị kẹt ngoài đó. </p><p id="70">Thật may là những người lính đã tìm thấy họ sớm hơn anh dự tính, cứu họ khỏi số phận thảm khốc.</p><p id="71">‘Mình thậm chí đã tính đến chuyện ném Ariel lên lưng chừng núi.’</p><p id="72">Bằng cách đó, dù cô bé có bị thương, những người tìm kiếm cũng sẽ phát hiện ra cô nhanh hơn. </p><p id="73">Đó là phương án cuối cùng anh nghĩ ra trước khi mất đi ý thức, nhưng may mắn thay, anh đã không phải dùng đến nó.</p><p id="74">‘Bên ngoài khá là ồn ào.’</p><p id="75">Phía ngoài căn phòng khá hỗn loạn. </p><p id="76">Có tiếng bước chân thình thịch và tiếng cửa cót két, anh đoán là mọi người đang tất bật lên xuống cầu thang. </p><p id="77">Cũng phải thôi, những người hầu hẳn phải hoảng loạn lắm khi trưởng nữ nhà Đại công tước trở về trong tình trạng như thế. </p><p id="78">Khi nào cảm thấy khá hơn, anh cũng nên đi thăm Ariel...</p><p id="79">Rầm!</p><p id="80">“Ed!”</p><p id="81">“Hả?”</p><p id="82">Đang mải suy nghĩ thì cánh cửa bật tung và Ariel xông vào. </p><p id="83">Chính xác hơn là một người lính cõng Ariel trên lưng đã mở cửa, nhưng đó chỉ là chi tiết nhỏ.</p><p id="84">“Ed! Cậu không sao chứ?!”</p><p id="85">“Ừ, đừng lo. Còn cậu thì sao?”</p><p id="86">Đầu Edgar vẫn còn hơi choáng váng, nhưng anh cố gắng hết sức để không lộ ra khi trả lời. </p><p id="87">Anh lo rằng lời nói dối của mình sẽ bị phát hiện, nhưng thật may, bộ máy nhạy cảm của cô bé dường như đang bị hỏng hóc lúc này. Bằng chứng là một nụ cười rạng rỡ nở rộ trên khuôn mặt Ariel.</p><p id="88">“Tớ không bị thương chỗ nào cả. Vì cậu đã bảo vệ tớ đến cùng mà.”</p><p id="89">Anh thực sự không làm gì nhiều để bảo vệ cô cả. </p><p id="90">Anh thậm chí còn chẳng chiến đấu với con lợn rừng, chỉ chạy trốn khỏi nó, và cùng lắm là nhường áo cho cô thôi. </p><p id="91">Dù sao thì, nghe tin cô an toàn là một chuyện, nhìn thấy cô bằng xương bằng thịt bình an vô sự lại là một sự nhẹ nhõm khác. </p><p id="92">Đôi mắt hơi sưng cho thấy cô đã khóc rất nhiều. Ngay cả bây giờ, dù đang mỉm cười, mắt cô vẫn còn ngân ngấn nước.</p><p id="93">“Sao cậu khóc nhiều thế? Cậu tưởng tớ sắp chết à?”</p><p id="94">Edgar cố tình nói bằng giọng trêu đùa để làm dịu bầu không khí. </p><p id="95">Anh mong đợi vị tiểu thư thiếu thành thật này sẽ vặn lại, khẳng định rằng mình chẳng khóc tí nào. </p><p id="96">Nhưng sao hôm nay chẳng có việc gì diễn ra như anh mong đợi vậy?</p><p id="97">Thay vào đó, Ariel đỏ mặt và ngoan ngoãn gật đầu. </p><p id="98">Như thể ký ức đang ùa về, nước mắt lại bắt đầu dâng đầy trong mắt cô.</p><p id="99">“Ừ... hức. Tớ thực sự đã tưởng cậu... hức... sắp chết rồi...”</p><p id="100">“Này, sao lại khóc nữa rồi?”</p><p id="101">“T-Tớ không biết nữa...!”</p><p id="102">Khi anh đưa tay định lau nước mắt cho cô, Ariel bướng bỉnh quay đầu đi chỗ khác. </p><p id="103">Cô đang nghĩ rằng anh chẳng biết cô đã lo lắng đến nhường nào, vậy mà anh cứ thản nhiên như không. </p><p id="104">Nếu anh không cứu mạng cô, cô đã cho anh một trận ra trò rồi. </p><p id="105">Nhưng cô biết ơn vì sự thực là anh còn sống, nên hôm nay cô quyết định bỏ qua.</p><p id="106">“Cậu chủ Edgar, cậu thực sự ổn chứ ạ?”</p><p id="107">Một trong những lính canh của Ariel, người đã quen mặt với Edgar, tiến lại gần hỏi thăm. </p><p id="108">Theo một nghĩa nào đó, cậu bé mười tuổi này đã làm thay công việc mà lẽ ra họ phải làm. </p><p id="109">Có lẽ vì thế mà trong mắt người lính thấp thoáng một sự kính trọng lạ lùng.</p><p id="110">“Vâng, tôi ổn. Mẹ tôi đâu rồi?”</p><p id="111">“Bà ấy đang mang thức ăn tới. Bà ấy có vẻ rất lo lắng và nói rằng sẽ đích thân đút cho cậu ăn...”</p><p id="112">“Ôi trời.”</p><p id="113">Dù có thực sự là một đứa trẻ mười tuổi, anh cũng chẳng muốn bị mẹ đút cho ăn tí nào. </p><p id="114">Bà chắc sẽ không mang một bữa ăn thịnh soạn cho người đang mệt, có lẽ chỉ là chút súp nhẹ. Anh có thể tự lo liệu được, ngay cả trong tình trạng hiện tại.</p><p id="115">Trong lúc đang trò chuyện với Ariel đủ thứ chuyện, Katria bước vào phòng với một bữa ăn đơn giản. </p><p id="116">Theo sau bà là Helene với một nụ cười gượng gạo, vì đã bị tước mất nhiệm vụ mà bà dự định làm. </p><p id="117">Căn phòng nhanh chóng trở nên đông đúc, và biểu cảm của Edgar trở nên không thoải mái.</p><p id="118">Từ chối lời đề nghị đút ăn của mẹ, Edgar vươn tay cầm thìa súp ấm. </p><p id="119">Với bao nhiêu ánh mắt đổ dồn vào mình, anh chẳng biết là thức ăn đang trôi vào mũi hay vào miệng nữa.</p><p id="120">“Katria, chúng ta ra ngoài một lát đi. Người lớn tụ tập quanh một người đang ăn thì không tốt đâu.”</p><p id="121">“À, vâng... tôi hiểu rồi ạ.”</p><p id="122">Đúng là phu nhân Helene! Bà ấy hiểu ý anh quá đi mất. </p><p id="123">Thầm khen ngợi bà trong lòng, Edgar tiếp tục ăn như không có chuyện gì xảy ra. </p><p id="124">Khi mọi người theo chân Helene ra ngoài, chỉ còn lại Edgar và Ariel trong phòng. </p><p id="125">Có lẽ vì đầu vẫn còn hơi choáng, thỉnh thoảng anh lại làm rơi thìa, nhưng Edgar vẫn kiên trì ăn hết bát súp. </p><p id="126">Một bữa ăn thịnh soạn là cách tốt nhất để hồi phục nhanh chóng.</p><p id="127">“Ừm... Ed.”</p><p id="128">“Xì xụp. Gì thế?”</p><p id="129">Ariel gọi tên anh với khuôn mặt đỏ bừng một cách kỳ lạ. </p><p id="130">Vì đang mải ăn nốt bát súp đã vơi một nửa, Edgar trả lời hơi chậm một chút.</p><p id="131">“Về bát súp đó...”</p><p id="132">“Hả? À, cậu cũng muốn ăn một ít à?”</p><p id="133">“T-Tớ ăn rồi mà—!?”</p><p id="134">Cái gì vậy? Chẳng phải cô chỉ vào bát súp vì trông nó ngon lành sao? </p><p id="135">Edgar xé một miếng bánh mì cạnh bát súp, bỏ vào miệng và nhìn chằm chằm vào Ariel với vẻ mặt thản nhiên trong khi nhai.</p><p id="136">Hôm nay cô ấy lạ thật. Ngay cả bây giờ, cô cũng chỉ cúi gầm mặt mà chẳng nói năng gì. </p><p id="137">Vị tiểu thư vốn dĩ luôn tự tin và cứng đầu đi đâu mất rồi? </p><p id="138">Khi sự bối rối của Edgar ngày càng sâu sắc, Ariel, người nãy giờ vẫn quan sát bát súp đang cạn dần, khẽ thở dài. </p><p id="139">Sau đó, như thể đã đưa ra một quyết định chắc chắn, cô gật đầu.</p><p id="140">“E-Ed!”</p><p id="141">“Cậu làm tớ giật mình đấy. Hôm nay cậu bị làm sao vậy?”</p><p id="142">Lẽ nào cô ấy ăn phải thứ gì không tốt sao?</p><p id="143">“Bát súp đó... cậu có muốn tớ đút cho không?”</p><p id="144">“Hả?”</p><p id="145">Súp á? Anh gần như đã ăn xong rồi. </p><p id="146">Lúc đầu súp nóng và anh gặp khó khăn khi cầm thìa, nhưng sau đó anh đã xử lý rất điệu nghệ, và giờ bát đã gần cạn. </p><p id="147">Vậy mà cô lại muốn đút cho anh? Tại sao?</p><p id="148">“Không sao đâu. Tớ gần xong rồi mà.”</p><p id="149">“T-Tớ đoán vậy...?”</p><p id="150">“...”</p><p id="151">Điều này lại làm trái tim anh mềm nhũn đi. </p><p id="152">Thấy vẻ mặt buồn bã ngay lập tức của Ariel, Edgar khẽ nhếch môi. </p><p id="153">Cô bé có lẽ muốn bày tỏ lòng biết ơn và sự hối lỗi nhưng không biết cách. </p><p id="154">Anh có thể dễ dàng đoán được tại sao vị tiểu thư vốn thiếu thành thật này lại phản ứng như vậy.</p><p id="155">‘Một lần chắc cũng không sao.’</p><p id="156">Nếu điều đó có thể làm vơi bớt gánh nặng trong lòng Ariel, thì đó cũng không phải là một kết quả tồi. </p><p id="157">Anh không có ý định dùng tai nạn này để đòi hỏi bất cứ điều gì từ cô, vì vậy anh muốn cho cô một cơ hội để xóa sạch món nợ này một cách sòng phẳng.</p><p id="158">“Thực ra thì, xin lỗi nhé, nhưng cậu đút cho tớ được không?”</p><p id="159">“...Thật sao?”</p><p id="160">“Thật ra tớ đang bị sốt nên cầm thìa vẫn thấy hơi khó khăn. Trông cậy vào cậu đấy.”</p><p id="161">Được sự cho phép của anh, khuôn mặt Ariel ngay lập tức bừng sáng. </p><p id="162">Cô cầm lấy thìa, múc nốt phần súp còn lại và đưa lên miệng anh. Edgar mỉm cười đón nhận.</p><p id="163">‘Cũng không tệ.’</p><p id="164">Cảm giác được một người có địa vị cao chăm sóc như vậy cũng không hoàn toàn khó chịu. </p><p id="165">Anh nghĩ sẽ thật tốt nếu cô lúc nào cũng ngoan ngoãn thế này, nhưng mặt khác, anh lại cảm thấy cái dáng vẻ ban đầu của cô mới thực sự là cô.</p><p id="166">Một vị tiểu thư quý tộc, dù bên ngoài có gai góc nhưng bên trong lại có một trái tim mềm yếu. </p><p id="167">Đó là ấn tượng của Edgar về Ariel Lobeheim.</p><p id="168">‘Nghĩ lại thì, mình vẫn chưa hỏi món quà đó là gì.’</p><p id="169">Để mai hỏi chắc cũng không muộn đâu. </p><p id="170">Gạt chuyện đó sang một bên vì coi nó là không quan trọng, Edgar tiếp tục đón nhận từng thìa súp từ Ariel cho đến khi bát sạch trơn.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac/c295359-chuong-6-tinh-huong-bat-ngo" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24684-thanh-mai-truc-ma-cua-dai-nu-cong-tuoc-phuong-bac" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'RJxtb8w0QYPJy6RSzlt2FBKnr0B2NfAOi3Yr910p';
        var comment_type = 'chapter';
        var comment_typeid = '296698';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'RJxtb8w0QYPJy6RSzlt2FBKnr0B2NfAOi3Yr910p';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24684');
    chapter_id = parseInt('296698');

    readingObject = {
        series_id: series_id,
        series_title: 'Thanh Mai Trúc Mã Của Nữ Đại Công Tước Phương Bắc',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="RJxtb8w0QYPJy6RSzlt2FBKnr0B2NfAOi3Yr910p" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

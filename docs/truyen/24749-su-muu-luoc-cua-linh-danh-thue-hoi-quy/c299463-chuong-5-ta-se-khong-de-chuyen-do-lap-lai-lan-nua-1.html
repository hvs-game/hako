<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Sự Mưu Lược Của Lính Đánh Thuê Hồi Quy - Chương 5: Ta Sẽ Không Để Chuyện Đó Lặp Lại Lần Nữa (1) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Là một trong bảy cường giả mạnh nhất lục địa, hắn được mệnh danh là Vua Lính Đánh Thuê. Để trả thù cho gia đình đã bị sát hại, hắn phát động chiến tranh, tàn phá lãnh thổ của kẻ thù. Nhưng cuối cùng… thất bại và bỏ mạng. Thế...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="XOwUG5d3eyqed8uKUSBd7GEZuSIPE9nypiMUHM54">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299463-chuong-5-ta-se-khong-de-chuyen-do-lap-lai-lan-nua-1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24749-007737aa-b87a-4b1d-8c74-ff8b310c3e83.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299462-chuong-4-su-khinh-miet-quen-thuoc-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299463-chuong-5-ta-se-khong-de-chuyen-do-lap-lai-lan-nua-1" style="background: url('https://i.hako.vn/ln/series/covers/s24749-007737aa-b87a-4b1d-8c74-ff8b310c3e83.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy">Sự Mưu Lược Của Lính Đánh...</a></h5>
                    <small><i class="fas fa-pen"></i>골드행</small>
                    <small><i class="fas fa-paint-brush"></i>이담</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/t35958-web-novel">Web novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c295878-chuong-01-su-khinh-miet-quen-thuoc-1">
                                                                        Chương 1: Sự Khinh Miệt Quen Thuộc (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c296020-chuong-2-su-khinh-miet-quen-thuoc-2">
                                                                        Chương 2: Sự Khinh Miệt Quen Thuộc (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299461-chuong-3-su-khinh-miet-quen-thuoc-3">
                                                                        Chương 3: Sự Khinh Miệt Quen Thuộc (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299462-chuong-4-su-khinh-miet-quen-thuoc-4">
                                                                        Chương 4: Sự Khinh Miệt Quen Thuộc (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299463-chuong-5-ta-se-khong-de-chuyen-do-lap-lai-lan-nua-1">
                                                                        Chương 5: Ta Sẽ Không Để Chuyện Đó Lặp Lại Lần Nữa (1)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 5: Ta Sẽ Không Để Chuyện Đó Lặp Lại Lần Nữa (1)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299463-chuong-5-ta-se-khong-de-chuyen-do-lap-lai-lan-nua-1#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,126 từ - Cập nhật: 
                        <time class="topic-time timeago" title="30-01-2026 06:57:06" datetime="2026-01-30T06:57:06+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 5: Ta Sẽ Không Để Chuyện Đó Lặp Lại Lần Nữa (1)</p>
                    <p id="1">“Anh Hai?”</p><p id="2">Khi Ghislain đột ngột ôm lấy mặt cô và đôi vai anh bắt đầu run lên, Elena để lộ vẻ sợ hãi.</p><p id="3">Cũng phải thôi, bởi anh trai cô là kiểu người có thể nổi điên và làm ra những chuyện rồ dại bất cứ lúc nào.</p><p id="4">“Hả? À, không, không có gì đâu. Chỉ là… chà, đã lâu lắm rồi mới được gặp em!”</p><p id="5">Ghislain dang rộng vòng tay, trông vô cùng xúc động.</p><p id="6">Cái chết của Elena là một ký ức đau thương đã ám ảnh anh suốt cả cuộc đời trước. Được nhìn thấy cô còn sống sờ sờ ngay trước mắt, anh cảm thấy một niềm vui sướng mãnh liệt dâng trào trong lồng ngực.</p><p id="7">Anh không giỏi diễn tả cảm xúc bằng lời. Đúng với danh hiệu Vua Lính Đánh Thuê, anh luôn thể hiện bản thân qua hành động một cách táo bạo.</p><p id="8">“Elena!”</p><p id="9">Khi Ghislain dang tay tiến lại gần, khuôn mặt Elena thoáng chốc tái mét.</p><p id="10">“T-Tại sao?”</p><p id="11">“Anh thực sự rất nhớ em!”</p><p id="12">“Nhưng em vừa mới gặp anh mấy ngày trước mà… Khoan đã! Sao tự nhiên anh lại cư xử thế này? Đừng có lại gần đây!”</p><p id="13">Bụp!</p><p id="14">Ghislain ôm chặt lấy Elena, đôi mắt anh nhắm nghiền. Một cảm xúc vỡ òa suýt chút nữa khiến nước mắt trào ra bao trùm lấy toàn thân anh.</p><p id="15">“Áaaa! Sao tự nhiên anh lại ghê thế hả!”</p><p id="16">Elena thực sự hoảng loạn.</p><p id="17">Sự thật là, cô và Ghislain không có mối quan hệ tốt đẹp cho lắm.</p><p id="18">Bị thúc đẩy bởi mặc cảm tự ti, Ghislain lúc nào cũng nóng nảy và khiến những người xung quanh cảm thấy mệt mỏi. Chẳng đời nào anh lại tỏ ra âu yếm với em gái mình như vậy.</p><p id="19">“Lại là trò đùa quái đản gì đây? Anh đang âm mưu cái gì thế?”</p><p id="20">Elena vặn người, cố đẩy Ghislain ra.</p><p id="21">Ngay khi cô định buông thêm một lời mỉa mai nữa, cô khựng lại ngay khoảnh khắc nhìn vào khuôn mặt anh trai mình.</p><p id="22">Ánh mắt dịu dàng, một nụ cười chứa chan nỗi nhớ nhung không thể giải thích.</p><p id="23">Đó là biểu cảm mà cô chưa từng thấy ở Ghislain trước đây, và trong một khoảnh khắc, nó khiến Elena cảm thấy nghẹn ngào.</p><p id="24">Cô không hiểu tại sao mình lại cảm thấy như vậy.</p><p id="25">‘Sao anh ấy lại hành xử thế này? Anh ấy lại gây rắc rối gì nữa à? Và tại sao mắt anh ấy lại rưng rưng thế kia?’</p><p id="26">Elena nhìn Ghislain đầy nghi ngờ. Trái lại, anh vẫn cười tươi rói, như thể không thể nào hạnh phúc hơn được nữa.</p><p id="27">Dù không biết lý do, nhưng nụ cười ấy vào lúc này mang lại cảm giác chân thành.</p><p id="28">‘Anh ấy có vẻ… giống như ngày xưa?’</p><p id="29">Khi cha họ luôn vắng nhà vì những chiến dịch quân sự, và sau khi mẹ qua đời, hai anh em đã từng nương tựa vào nhau.</p><p id="30">Tuy nhiên, thời gian trôi qua, Ghislain trở thành một tên khốn, và mối quan hệ giữa họ cũng dần trở nên xa cách.</p><p id="31">Trong khi Elena nheo mắt tiếp tục nhìn chằm chằm vào anh, Ghislain hắng giọng.</p><p id="32">“E hèm, anh chỉ vui vì được gặp em thôi. Dù sao thì, em làm gì trong phòng anh vậy?”</p><p id="33">“Chà.”</p><p id="34">Elena nhìn anh sững sờ, như thể không tin vào tai mình.</p><p id="35">Ghislain đâu có phản ứng như thế này khi cô đến thăm vài ngày trước.</p><p id="36">— Biến đi. Đừng có lảng vảng trước mặt tao làm hỏng tâm trạng. Tao thấy sự hiện diện của mày cực kỳ khó chịu.</p><p id="37">Đó mới là kiểu phản hồi mà cô quen nghe từ anh.</p><p id="38">Thú thật, Elena không hề muốn đến, nhưng cô nghe tin Ghislain suýt chết vì Orc, nên cô ghé qua vì phép lịch sự.</p><p id="39">“Thì… Belinda bảo em đến kiểm tra xem anh thế nào… Em nghe nói anh gặp nguy hiểm vì một con Orc, nhưng có vẻ anh vẫn ổn nhỉ?”</p><p id="40">Belinda có xu hướng suy nghĩ khá đơn giản.</p><p id="41">Cô ấy hẳn đã hy vọng rằng mối quan hệ của hai anh em sẽ cải thiện nếu Elena đến thăm.</p><p id="42">Vì Belinda cứ nài nỉ mãi, Elena cuối cùng cũng nhượng bộ và đến nơi, nhưng ngạc nhiên thay, Ghislain có vẻ rất khỏe mạnh.</p><p id="43">Cô đã mong đợi thấy anh nằm liệt giường vì sốt cao, chứ không phải chào đón cô một cách vui vẻ thế này.</p><p id="44">“Orc hả? Anh xử lý hết bọn chúng rồi. Chuyện nhỏ ấy mà. Anh mạnh lắm đấy, em biết không.”</p><p id="45">Nhìn Ghislain nhún vai và tỏ vẻ tự mãn, Elena không nhịn được phải bật cười.</p><p id="46">“Cái gì cơ? Chẳng phải anh ngất xỉu rồi mới được khiêng về sao?”</p><p id="47">“Ôi dào, em đang nói gì thế? Nghe này. Em có muốn biết anh đã xử lý bọn khốn đó thế nào không…”</p><p id="48">Ghislain bắt đầu khua tay múa chân loạn xạ khi kể lại chiến tích anh hùng của mình. Nhìn anh khoác lác một cách thái quá như vậy khiến Elena phì cười.</p><p id="49">Nhìn anh khoe khoang cũng buồn cười thật, và cũng không tệ lắm khi thấy anh trai mình có tâm trạng vui vẻ như thế này để thay đổi không khí.</p><p id="50">“Thế là, anh gọi cái tên Ricardo đó…”</p><p id="51">“À, em biết hắn ta. Cái tên lính hay tán tỉnh đó phải không?”</p><p id="52">“Em biết hắn ta à? Chà, hắn ta cũng đẹp trai đấy chứ.”</p><p id="53">“Hắn nổi tiếng mà. Anh có biết hắn được lòng các cô gái thế nào không?”</p><p id="54">“Hừm, nghe có vẻ cũng là một tên khốn nạn giống như Aiden vậy.”</p><p id="55">“Aiden? Đó là ai?”</p><p id="56">“Có một kẻ như thế. Một gã cực kỳ tồi tệ.”</p><p id="57">Đôi mắt Ghislain thoáng lóe lên tia ác ý, và khuôn mặt Elena hiện lên vẻ thấu hiểu, như muốn nói: Đấy, biết ngay mà, bản chất lộ ra rồi.</p><p id="58">Cô cứ tưởng anh đã khá hơn, nhưng có vẻ như anh vẫn chưa hoàn toàn trở lại bình thường.</p><p id="59">Dù sao thì, đây vẫn là một sự tiến bộ, dù chỉ là chút ít. Cô sẽ phải tiếp tục để mắt đến anh vì tâm trạng của anh có thể thay đổi bất cứ lúc nào.</p><p id="60">“Em đi đây. Anh tự lo cho mình đi nhé.”</p><p id="61">“Ừ, lần sau anh sẽ kể cho em nghe chuyện anh giết rồng.”</p><p id="62">“Ồ? Anh giết nó trong mơ hả? Anh có biết con rồng trông như thế nào không đấy?”</p><p id="63">Sau khi nghe câu chuyện anh hùng phóng đại của Ghislain, Elena rời đi với tâm trạng vui vẻ.</p><p id="64">Mặc dù anh có chút kỳ quặc, nhưng phiên bản Ghislain này—người đầy vẻ huênh hoang—vẫn tốt hơn nhiều so với trước đây.</p><p id="65">Trong quá khứ, tính khí của anh khiến cho ngay cả một cuộc trò chuyện ngắn ngủi cũng trở nên không thể chịu đựng nổi.</p><p id="66">Ngay cả khi Elena đã rời đi, Ghislain vẫn đứng nhìn chằm chằm vào cánh cửa một lúc lâu, một nụ cười nhạt thoáng hiện trên môi.</p><p id="67">“Anh chưa bao giờ quên em, dù chỉ một khoảnh khắc.”</p><p id="68">Anh không bao giờ có thể quên được hình ảnh Elena bị sát hại và thi thể bị hủy hoại tàn nhẫn.</p><p id="69">“Anh cũng chưa quên những người khác.”</p><p id="70">Anh không thể xóa nhòa ký ức khi trở về lãnh địa và nhìn thấy đầu của cha mình cùng các gia thần bị chặt và treo trên cổng thành.</p><p id="71">“Mình đã là một kẻ hèn nhát và là một nỗi ô nhục.”</p><p id="72">Anh nhớ lại, vì sợ hãi, anh đã bỏ chạy mà không thể làm được gì.</p><p id="73">Nụ cười trên mặt Ghislain đột ngột biến mất, thay vào đó là một bầu không khí ớn lạnh.</p><p id="74">“Cơ hội để sửa chữa mọi thứ đã quay lại với mình…”</p><p id="75">Anh không còn là tên quý tộc thảm hại, đáng xấu hổ của kiếp trước nữa.</p><p id="76">“Mình sẽ ngăn chặn sự sụp đổ của Ferdium.”</p><p id="77">Ghislain vội vàng tìm giấy bút và viết nguệch ngoạc tất cả những gì anh có thể nhớ về tương lai. Anh nắm được đại khái những sự kiện quan trọng sẽ diễn ra trên khắp lục địa. Mặc dù không nhớ chính xác ngày tháng, nhưng anh có ý niệm chung về mốc thời gian, điều này sẽ giúp định hướng cho các bước đi tiếp theo.</p><p id="78">“Trước tiên, mình cần cứu Elena…”</p><p id="79">Một tuần nữa, lễ hội sẽ bắt đầu. Lễ hội này, với mục đích cầu nguyện cho sự thịnh vượng, cũng đánh dấu sự bắt đầu của mùa thu hoạch. Ngay cả ở những vùng lãnh thổ phía Bắc khắc nghiệt, nơi các cuộc chiến với tộc man rợ diễn ra triền miên, người dân vẫn tổ chức lễ hội, cầu mong cho một thời kỳ tốt đẹp hơn.</p><p id="80">“Nghĩ đi nào… hồi đó…”</p><p id="81">Vào thời điểm đó, Ghislain đã quá chán ngán với những lời chỉ trích và khinh miệt liên tục nên đã quyết định rời bỏ gia tộc.</p><p id="82">Lễ hội bắt đầu giữa cơn hỗn loạn ấy, và theo lời nài nỉ của Elena, anh đã cùng cô ra ngoài tận hưởng không khí lễ hội.</p><p id="83">Nhưng với tâm trạng tồi tệ, anh chẳng mảy may quan tâm đến lễ hội. Cuối cùng, anh bỏ về lâu đài một mình.</p><p id="84">Dù sao thì, đó cũng là lễ hội được tổ chức trong phạm vi lãnh địa, và Elena đã có các hiệp sĩ hộ tống, nên anh không suy nghĩ nhiều.</p><p id="85">“Sau đó Elena biến mất…”</p><p id="86">Không lâu sau khi Elena và các hiệp sĩ mất tích, thi thể của họ được tìm thấy.</p><p id="87">Sự kiện đó là giọt nước tràn ly. Ghislain không thể chịu đựng thêm nữa và đã bỏ trốn khỏi lâu đài, trốn chạy khỏi những lời xì xào và tin đồn bủa vây lấy mình.</p><p id="88">Đó là lần cuối cùng Ghislain đặt chân đến Ferdium.</p><p id="89">“Lẽ ra mình nên ở bên cạnh con bé.”</p><p id="90">Mặc dù, nói thật thì, có lẽ điều đó cũng chẳng thay đổi được gì. Khi ấy, Ghislain quá yếu đuối để có thể bảo vệ bất kỳ ai.</p><p id="91">Tuy nhiên, cảm giác tội lỗi vì đã bỏ lại Elena và quay về lâu đài một mình đã ám ảnh anh suốt phần đời còn lại.</p><p id="92">“Có thể nào… cái chết của Elena là do Công tước Delfine sắp đặt?”</p><p id="93">Ở kiếp trước, người ta tiết lộ rằng kẻ giết Elena là một quý tộc trẻ từ lãnh địa khác đến xem lễ hội.</p><p id="94">Tất nhiên, những kẻ bị buộc tội đã chối bay chối biến, tuyên bố rằng họ bị vu oan, nhưng Ferdium đã bị kéo vào một cuộc chiến tranh lãnh địa và chịu tổn thất nặng nề.</p><p id="95">Từ thời điểm đó, hàng loạt sự kiện lớn nhỏ diễn ra, khiến tình hình ngày càng tồi tệ hơn.</p><p id="96">“Có gì đó bốc mùi… như phân Goblin vậy.”</p><p id="97">Ghislain không biết chi tiết chính xác về những gì xảy ra sau đó vì anh đã rời đi trước khi chiến tranh lãnh địa nổ ra.</p><p id="98">Tất cả những gì anh biết là dòng chảy chung của các sự kiện, được chắp vá từ những thông tin anh thu thập được trong hành trình trả thù của mình.</p><p id="99">Ban đầu, anh cho rằng đó là một đòn tấn công phủ đầu, tiêu diệt các lãnh địa có khả năng nổi loạn.</p><p id="100">Nhưng mọi thứ trở nên đáng ngờ khi anh biết Aiden có liên quan đến sự sụp đổ của Ferdium. Rõ ràng là đã có một âm mưu.</p><p id="101">“Tại sao chúng lại phá hủy một lãnh địa nghèo nàn, vô dụng như thế này? Ngay cả khi chiếm được nó, chúng cũng chỉ rước thêm việc phải chiến đấu với bọn man rợ thay cho chúng ta mà thôi.”</p><p id="102">Có những tài nguyên ẩn giấu gần đó, nhưng không ai biết về chúng vào thời điểm này. Đó là điều mà Ghislain đã điều tra nhiều lần trong kiếp trước, tự hỏi liệu những tài nguyên đó có phải là lý do hay không.</p><p id="103">“Chà… lý do là gì cũng không quan trọng. Mình sẽ giết hết bọn chúng.”</p><p id="104">Vẻ mặt Ghislain đanh lại với quyết tâm lạnh lùng.</p><p id="105">Ở kiếp trước, anh chỉ nhắm vào Công tước Delfine để trả thù, tin rằng họ là kẻ đứng sau mọi chuyện. Nhưng bây giờ, mọi thứ đã khác.</p><p id="106">Anh không biết Aiden ám chỉ ai khi nói "chúng ta", nhưng bất kẻ kẻ nào chống lại Ferdium đều sẽ bị xóa sổ.</p><p id="107">Ghislain gõ ngón tay lên cằm, trầm ngâm suy nghĩ.</p><p id="108">“Thi thể của Elena và các hiệp sĩ được tìm thấy trong khu ổ chuột, đúng không?”</p><p id="109">Không có lý do gì để họ đến đó trong lễ hội. Chắc chắn ai đó đã dụ họ hoặc bắt cóc họ đến đó.</p><p id="110">“Ít nhất có một điều chắc chắn.”</p><p id="111">Cái chết của Elena là điểm khởi đầu cho sự suy tàn của Ferdium.</p><p id="112">“Trong trường hợp đó, mình chỉ cần sửa chữa mọi thứ ngay từ điểm bắt đầu.”</p><p id="113">Anh sắp xếp lại suy nghĩ và lập tức rời khỏi phòng.</p><p id="114">“Mình cần lấy lại vóc dáng càng nhanh càng tốt. Vấn đề là, mình không có nhiều thời gian—chỉ vỏn vẹn một tuần…”</p><p id="115">Ghislain đi lang thang quanh lâu đài lãnh chúa.</p><p id="116">Đã quá lâu kể từ khi anh sống ở Lâu đài Ferdium đến nỗi anh hầu như không nhớ nổi cấu trúc của nó hay khuôn mặt của những người hầu.</p><p id="117">Mọi người đi ngang qua đều chào anh, nhưng biểu cảm của họ chẳng mấy vui vẻ—chủ yếu là sự pha trộn giữa thờ ơ hoặc khinh miệt ngầm.</p><p id="118">‘Mình đâu phải là người tồi tệ đến thế.’</p><p id="119">Vào thời điểm này, có lẽ anh bị xem là một kẻ khó tính, hay cáu gắt mà ai cũng muốn tránh xa.</p><p id="120">“Thiếu gia! Thiếu gia Ghislain!”</p><p id="121">Khi anh đang đi dạo, có ai đó gọi tên anh và chạy tới, thở hổn hển.</p><p id="122">‘Ồ… Fergus?’</p><p id="123">Đó là Fergus, một trong những hiệp sĩ từng là người bảo hộ của anh. Ông ấy đã đủ già để nghỉ hưu và an hưởng tuổi già, nhưng ông vẫn ở lại lâu đài, trung thành ở bên cạnh Ghislain.</p><p id="124">Fergus đứng trước mặt anh, cúi gập người và thở dốc.</p><p id="125">‘Ông ấy đã chạy bao xa thế?’</p><p id="126">Nếu sát thủ xuất hiện lúc này, thật không rõ ai sẽ bảo vệ ai nữa.</p><p id="127">Dẫu vậy, lòng trung thành của ông là điều đáng khâm phục. Sau này, Ghislain mới biết rằng Fergus đã lo lắng cho anh đến tận ngày ông qua đời, ngay cả sau khi Ghislain đã bỏ trốn khỏi lãnh địa.</p><p id="128">“Hộc, hộc… Thiếu gia, ngài đã đi đâu một mình thế? Belinda cũng không biết, làm ông già này phải tìm ngài khắp nơi.”</p><p id="129">Fergus vừa nói vừa cố lấy hơi. Hẳn ông đã chạy đôn chạy đáo khắp nơi trong vội vã.</p><p id="130">“Trời ạ, ta bao nhiêu tuổi rồi mà ông vẫn gọi ta là ‘Thiếu gia’ chứ?”</p><p id="131">“Haha, trong mắt ông già này, ngài vẫn chỉ là một đứa trẻ thôi.”</p><p id="132">Với cơ thể yếu ớt của Ghislain hiện tại, trông anh chắc còn trẻ con hơn nữa.</p><p id="133">Ghislain thở dài. Gần đây, anh liên tục được nghe những điều mà anh chưa bao giờ tưởng tượng nổi trong những ngày tháng làm Vua Lính Đánh Thuê.</p><p id="134">“Nếu ông thấy thế, thì cứ cho là thế đi. Nhưng tại sao ông lại tìm ta?”</p><p id="135">“Hề hề, chuyện tôi đi theo khi ngài di chuyển là lẽ đương nhiên mà, thưa Thiếu gia. Sao tự nhiên ngài lại hỏi vậy?”</p><p id="136">Vị hiệp sĩ già nhìn Ghislain đầy ấm áp, và bắt gặp ánh mắt đó khiến Ghislain thoáng chùn lòng.</p><p id="137">‘Phải rồi.’</p><p id="138">Vào thời điểm này trong đời, Ghislain đã từ chối cả những vệ sĩ của mình vì mặc cảm tự ti và sự giận dữ. Cảm giác như tất cả mọi người đều là kẻ thù, như thể họ đều đang chế giễu anh.</p><p id="139">Nhưng Fergus và Belinda, những người đã chăm sóc anh từ nhỏ, là ngoại lệ.</p><p id="140">Chỉ sau khi mất đi những gì quý giá, anh mới nhận ra giá trị của họ. Anh đã ngu ngốc biết bao.</p><p id="141">Ghislain bỗng thấy sống mũi cay cay và kéo Fergus vào một cái ôm thật chặt.</p><p id="142">Anh đã định giữ kín hành động của mình, nhưng niềm vui khi được đoàn tụ với một người thân thiết nhường này thật khó kìm nén.</p><p id="143">“Ông già, hãy sống thật lâu nhé. Hãy cùng sống thật lâu, được không? Chết… thực sự là một cảm giác tồi tệ lắm.”</p><p id="144">Giật mình trước hành động bất ngờ của Ghislain, Fergus cười gượng gạo.</p><p id="145">“Hề hề, sao tự nhiên ngài lại thế này? Cứ như thể chúng ta đã không gặp nhau cả ngàn năm rồi ấy…”</p><p id="146">Ông ấy nhận ra rồi! Quả nhiên, tuổi tác không làm mòn đi trực giác của ông.</p><p id="147">Chà, Fergus sẽ tin bất cứ điều gì mình nói. Dù sao thì, ông cũng là vị hiệp sĩ trung thành đã sát cánh bên Ghislain ngay cả khi mọi người nguyền rủa tên anh sau vụ việc chinh phạt Orc.</p><p id="148">Với quyết tâm đã định, Ghislain nói một cách chắc chắn.</p><p id="149">“Ông già, nghe cho kỹ đây. Chuyện này thực sự quan trọng. Sự thật là… ta đã chết và sống lại…”</p><p id="150">“Hề hề, ngài đùa đủ rồi đấy.”</p><p id="151">Ra là ông ấy vẫn không tin mình.</p><p id="152">“…Ừ, dù sao thì, cứ sống cho lâu vào. Sống lại không dễ đâu.”</p><p id="153">“Tất nhiên rồi, tôi sẽ sống ít nhất cho đến khi thấy ngài kết hôn, thưa Thiếu gia.”</p><p id="154">“Hừm, kết hôn à.”</p><p id="155">Ghislain cười chua chát.</p><p id="156">Tình yêu? Hôn nhân? Giờ không phải là lúc để nghĩ đến những chuyện đó.</p><p id="157">Với sự sụp đổ của lãnh địa đang chực chờ, mình biết trách ai nếu chết trong khi còn đang lo lắng về mấy chuyện đó chứ?</p><p id="158">Lắc đầu để xua đi những suy nghĩ vẩn vơ, Ghislain tiếp tục bước đi với những sải chân dài.</p><p id="159">Fergus vội vã chạy theo sau, hỏi: “Nhưng ngài đang đi đâu thế?”</p><p id="160">“Sân tập. Ta cần luyện tập một chút.”</p><p id="161">Fergus há hốc mồm vì sốc, tay ôm lấy ngực.</p><p id="162">“Th-Thiếu gia… tập luyện ư… Hộc, khụ!”</p><p id="163">“Woa! Ông bị sao thế hả ông già? Tỉnh táo lại đi! Thở đi! Ta bảo thở đi mà!”</p><p id="164">Tại sao chẳng ai tin lời mình nói thế nhỉ?</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy/c299462-chuong-4-su-khinh-miet-quen-thuoc-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24749-su-muu-luoc-cua-linh-danh-thue-hoi-quy" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'XOwUG5d3eyqed8uKUSBd7GEZuSIPE9nypiMUHM54';
        var comment_type = 'chapter';
        var comment_typeid = '299463';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'XOwUG5d3eyqed8uKUSBd7GEZuSIPE9nypiMUHM54';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24749');
    chapter_id = parseInt('299463');

    readingObject = {
        series_id: series_id,
        series_title: 'Sự Mưu Lược Của Lính Đánh Thuê Hồi Quy',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="XOwUG5d3eyqed8uKUSBd7GEZuSIPE9nypiMUHM54" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c5d0c3ee98ccce5',t:'MTc2OTczNDk4OA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

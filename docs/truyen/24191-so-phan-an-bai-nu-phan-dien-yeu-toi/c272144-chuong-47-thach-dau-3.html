<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Số phận an bài nữ phản diện yêu tôi - Chương 47: Thách Đấu (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi đã được trùm cuối cầu hôn">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="NX4HI9OD59JeImad491SATHTBE6fCovRgGg8oTkx">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24191-ae67b35d-2bcf-4708-9260-7236f903a10c.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272021-chuong-46-thach-dau-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3" style="background: url('https://i.hako.vn/ln/series/covers/s24191-ae67b35d-2bcf-4708-9260-7236f903a10c.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi">Số phận an bài nữ phản di...</a></h5>
                    <small><i class="fas fa-pen"></i>리틀빅</small>
                    <small><i class="fas fa-paint-brush"></i>N/A</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/t34815-wn">WN</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c268414-chuong-32-lam-on">
                                                                        Chương 32.1: Làm ơn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c268490-chuong-322-lam-on">
                                                                        Chương 32.2: Làm ơn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c268792-chuong-331-tap-luyen">
                                                                        Chương 33.1: Tập luyện
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c268859-chuong-332-tap-luyen">
                                                                        Chương 33.2: Tập luyện
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c268978-chuong-341-tap-luyen-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 34.1: Tập luyện (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269046-chuong-342-tap-luyen-2">
                                                                        Chương 34.2: Tập luyện (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269364-chuong-351-su-chuan-bi">
                                                                        Chương 35.1: Sự chuẩn bị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269373-chuong-352-su-chuan-bi">
                                                                        Chương 35.2: Sự chuẩn bị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269529-chuong-36-du-gio">
                                                                        Chương 36: Dự giờ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269614-chuong-37-du-gio-2">
                                                                        Chương 37: Dự giờ (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269797-chuong-38-lua-dao">
                                                                        Chương 38: Lừa đảo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269799-chuong-39-lua-dao">
                                                                        Chương 39: Linh thể
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269897-chuong-40-linh-the-2">
                                                                        Chương 40: Linh thể (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c269981-chuong-41-bom-hen-gio">
                                                                        Chương 41: Bom hẹn giờ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c270225-chuong-42-ky-thi-giua-ky-1">
                                                                        Chương 42: Kỳ thi giữa kỳ (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c271122-chuong-43-ky-thi-giua-ky-2">
                                                                        Chương 43: Kỳ thi giữa kỳ (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c271225-chuong-44-ky-thi-giua-ky-3">
                                                                        Chương 44: Kỳ thi giữa kỳ (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c271547-chuong-45-thach-dau">
                                                                        Chương 45: Thách Đấu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272021-chuong-46-thach-dau-2">
                                                                        Chương 46: Thách Đấu (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3">
                                                                        Chương 47: Thách Đấu (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">WN</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 47: Thách Đấu (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,755 từ - Cập nhật: 
                        <time class="topic-time timeago" title="11-12-2025 12:08:55" datetime="2025-12-11T12:08:55+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 47: Thách Đấu (3)</p>
                    <p id="1">Nghĩ lại thì.</p><p id="2">Việc Ác Quỷ hiện thân là điều vô lý, bởi người cố triệu hồi nó thậm chí còn không được nó lựa chọn.</p><p id="3">Và dù tôi đã kích hoạt kỹ năng, sắc màu đang lan ra quanh tôi cũng không rõ rệt như khi Elnore đánh thức mảnh vỡ bên trong cô ấy. Vốn dĩ, thứ này thậm chí chẳng thể bám vào cơ thể tôi, mà sẽ tan ra ngay lập tức.</p><p id="4">Tuy nhiên.</p><p id="5">&lt;Hệ Thống Thông Báo&gt;</p><p id="6">[ ‘Ấn Chú của Kẻ Sa Ngã’ phản ứng. ]</p><p id="7">[ Quỷ năng đang tập trung quanh Ấn Chú của Kẻ Sa Ngã. ]</p><p id="8">Đúng như tôi mong đợi.</p><p id="9">Tôi không biết chính xác Ấn Chú của Kẻ Sa Ngã làm gì. Phần mô tả của nó trong cửa sổ hệ thống cũng bị hỏng.</p><p id="10">“…”</p><p id="11">Tôi chỉ có thể bật cười cay đắng.</p><p id="12">Trong game, những ‘ấn chú’ mà ác ma để lại trên con người đều có ảnh hưởng cực lớn về sau. </p><p id="13">Không biết nó sẽ tác động tới tâm trí tôi đến mức nào, có khi còn ngang với những vật chủ sở hữu mảnh vỡ thật sự.</p><p id="14">Nhưng tạm thời.</p><p id="15">Tôi có thể bắt chước một vật chủ trong một khoảng thời gian rất ngắn.</p><p id="16">“…”</p><p id="17">Thế giới chậm lại. Giống như trước.</p><p id="18">Nhưng có một khác biệt rõ ràng so với Elnore.</p><p id="19">Lúc đó, khi quỷ năng chạm vào thế giới, mọi thứ đều dừng lại. Còn bây giờ, dù chậm, mọi thứ vẫn chuyển động. Tôi vẫn có thể quan sát được bằng mắt thường.</p><p id="20">‘…Đó là tại sao.’</p><p id="21">Tôi nhếch môi.</p><p id="22">Năng lực cơ bản của Quỷ Xám, ‘Xâm Thực’, là quyền kiểm soát tuyệt đối với mọi không gian mà quỷ năng của nó chạm vào.</p><p id="23">Ngay cả một vật chủ chỉ có một mảnh vỡ cũng có thể kích hoạt được.</p><p id="24">Việc thế giới vẫn nhúc nhích, dù chậm, nghĩa là kể cả với sự trợ giúp của ấn chú, tôi vẫn không thể dùng được ngay cả năng lực cơ bản nhất.</p><p id="25">Dẫu vậy.</p><p id="26">Tôi có thể thấy cô ấy.</p><p id="27">Quỷ Xám trong hình dạng của Elnore.</p><p id="28">Cô nhạt nhòa đến mức chỉ lờ mờ thấy đường nét. Là đương nhiên, vì tôi không phải vật chủ hoàn chỉnh.</p><p id="29">Nhưng chính vì thế, áp lực lên cơ thể tôi lại nhẹ đi. Trước đây, cảm giác như chỉ cần ánh mắt cô ấy chạm vào tôi, tôi sẽ chết ngay lập tức. Còn bây giờ, tôi chịu được.</p><p id="30">“…”</p><p id="31">Cô chậm rãi đáp xuống từ bầu trời và tiến lại gần tôi mà không nói lời nào.</p><p id="32">Cô cũng có gương mặt không biểu cảm như Elnore hay có.</p><p id="33">Chỉ là, khác với phản ứng trẻ con lần trước, lần này cô trông vô cùng xa lạ.</p><p id="34">“…”</p><p id="35">Ánh mắt đỏ sẫm ấy quét qua từng vết thương trên người tôi, tỉ mỉ đến mức gai người.</p><p id="36">Nói cách khác, cô không thể hiện ra thôi, chứ không phải vô cảm.</p><p id="37">‘…Mình hiểu rồi.’</p><p id="38">Cô đang tức giận.</p><p id="39">Cô bĩu môi và dậm chân một cái. Mặt cô không biểu cảm gì, nhưng tôi cảm nhận rõ sự bất mãn của cô trong tình huống hiện tại.</p><p id="40">Kiểu như đang nói, “Sao ngươi đi đâu cũng bị thương thế? Chăm sóc bản thân một chút đi.”</p><p id="41">“…”</p><p id="42">Mà thật thú vị.</p><p id="43">So với các Ác Quỷ khác, cô ấy lại thể hiện kiểu ‘quan tâm mang tính người’.</p><p id="44">Nếu cô là kiểu thô bạo như Bạch Quỷ hay Lam Quỷ, thì khi hiện thân cô sẽ ngay lập tức trói, ép buộc hoặc giam giữ tôi, bất kể tôi có bị thương hay không.</p><p id="45">Tôi đủ tự tin để triệu hồi cô ấy vì biết điều đó.</p><p id="46">‘…Đành vậy.’</p><p id="47">Tôi cười chua chát.</p><p id="48">Thời gian vẫn trôi, chỉ là rất chậm, nhưng chừng đó là đủ.</p><p id="49">“…”</p><p id="50">Cô cuối cùng cũng ngừng dậm chân, nhưng má vẫn phồng lên.</p><p id="51">Giữ nguyên vẻ đó, cô tiến lại gần tôi một chút, rồi đưa tay chạm vào ngực tôi.</p><p id="52">“DuÁ¦ ÇÏdi¿¡dau”</p><p id="53">Cuối cùng cô cũng nói gì đó.</p><p id="54">“DungC3/4ð3/4î°de¡UC3/4bi.,̨̝̻̂̂̈́̾̀̃̐̒̀̕… 속Î̶̻̙͓͓͎̫͛́͌̀̆͊͒͆̚±̦͖̺̗͎͍̰͊̏͒̉̍̉̚͟͠×̵̢̯̥̟͖̞̔̈́̃̚͘͞thuong.”</p><p id="55">“…”</p><p id="56">Ừ, tôi sẽ nhớ.</p><p id="57">Không ngờ lại được nghe lời ấm áp như vậy từ một Ác Quỷ.</p><p id="58">Rồi một luồng sáng nhạt hiện lên từ ngực tôi.</p><p id="59">&lt;Hệ Thống Thống Báo&gt;</p><p id="60">[ Quỷ năng trong ‘Ấn Chú kẻ Kẻ Sa Ngã’ được truyền thêm thuộc tính. ]</p><p id="61">[ Trong thời gian hiệu lực, toàn bộ thuộc tính vật lý được tăng mạnh nhờ sức mạnh của Quỷ Xám. ]</p><p id="62">[ Mọi đòn tấn công của bạn mặc định khắc chế ‘Chúc Phúc’. ]</p><p id="63">“Tra3/4î°¡Ulai nhung3/4îÁgi¦Çda nhan.”</p><p id="64">…Ra là vì thế nên cô ấy buff thuộc tính vật lý cho tôi.</p><p id="65">Còn hơn cả đủ.</p><p id="66">Cảm giác đang dâng lên trong cơ thể tôi chứng minh điều đó.</p><p id="67">Với từng này, tôi sẽ đá nát đít Klein chỉ trong chốc lát.</p><p id="68">Nhưng ngay sau khi truyền hết sức mạnh hiện hữu, cơ thể cô bắt đầu tan ra, phân thành từng mảnh tro xám.</p><p id="69">“…”</p><p id="70">Như lần trước, cô mỉm cười và hé môi.</p><p id="71">Sự hiện diện của cô mờ nhạt đến mức giọng cô đã không thể nghe được, nhưng tôi vẫn đọc được khẩu hình.</p><p id="72">‘Ta yêu ngươi. Gặp lại sau.’</p><p id="73">Câu quen thuộc ấy.</p><p id="74">Lần cuối chúng tôi gặp nhau ở trận boss Kẻ Thanh Tẩy, cô cũng nói câu đó trước khi rời đi.</p><p id="75">Và.</p><p id="76">‘Lần tới, chắc chắn. Ngươi.’</p><p id="77">Tôi vẫn nhớ rõ.</p><p id="78">Nhưng lần này.</p><p id="79">“Cùng ta, đến tận cùng của thế giới”</p><p id="80">Cô ấy thêm một câu nữa.</p><p id="81">●</p><p id="82">“…Vừa rồi… là cái gì?”</p><p id="83">Klein lẩm bẩm.</p><p id="84">Cảm giác ấy. Ngay cả bây giờ bàn tay hắn vẫn còn run.</p><p id="85">Dù thoáng qua, nhưng rõ ràng có ‘một thứ gì đó’ vừa hiện diện.</p><p id="86">Thứ mà chỉ cần đứng gần đã khiến bản năng gào thét sợ hãi.</p><p id="87">Mồ hôi lạnh đầm đìa của hắn là minh chứng rõ ràng nhất.</p><p id="88">“Hmm.”</p><p id="89">Nhưng hắn chưa kịp suy nghĩ thêm, một tiếng khịt mũ từ phía đối diện kéo hắn trở lại thực tại.</p><p id="90">Trong nháy mắt, Klein lấy lại tinh thần, siết chặt kiếm, vào thế.</p><p id="91">“…”</p><p id="92">Và hắn chết lặng.</p><p id="93">Bởi Dowd Campbell đã đặt vũ khí xuống đất.</p><p id="94">“…Ngươi làm gì vậy?”</p><p id="95">Hắn đầu hàng ư?</p><p id="96">Tại sao lại bỏ vũ khí?</p><p id="97">“Ờ thì.”</p><p id="98">Đối phương đáp tỉnh queo, hơi siết nắm đấm lại, vẻ mặt cau có như đang không quen với cơ thể mình.</p><p id="99">Và từ dáng vẻ ấy, Klein theo bản năng nhận ra một điều:</p><p id="100">Tên này.</p><p id="101">Đã thay đổi.</p><p id="102">So với trước, ‘bên trong’ hắn có một thứ gì đó.</p><p id="103">“Tôi thấy nếu dùng kiếm, ông sẽ chết luôn chỉ với một đòn.”</p><p id="104">-!</p><p id="105">Cú đấm nhẹ của Dowd vung lên, chạm vào cằm Klein.</p><p id="106">Nhẹ đến mức trông chẳng khác gì đập tay.</p><p id="107">Nhưng chỉ thế thôi.</p><p id="108">“…!”</p><p id="109">Trước khi kịp lên tiếng vì kinh ngạc khi thấy các lớp chúc phúc bị xé như giấy, Klein đã bật hơi, loạng choạng ngã lùi.</p><p id="110">Hắn chưa kịp lấy lại thăng bằng thì một đòn khác lao tới.</p><p id="111">Lần này là cú đá. Cũng nhẹ hều. Như thể Dowd đang cố tình nương tay.</p><p id="112">Tuy nhiên.</p><p id="113">“Keoheok-!”</p><p id="114">Cùng với âm thanh khó tin rằng lại phát ra từ một va chạm giữa hai cơ thể, thân hình Klein bị hất văng lên không trung như một viên đạn. Rồi hắn ta lăn lộn loạn xị ngậu trên mặt đất, vệt máu phun ra kéo thành một đường dài trên sàn đấu.</p><p id="115">Chỉ với cú đánh kỳ quái ấy, toàn bộ các lớp chúc phúc của Klein lại bị xuyên thủng, xương sườn gãy rời. Mảnh xương gãy còn đâm vào phổi khiến hắn xuất huyết trong.</p><p id="116">Gần như ngay lập tức, đôi mắt Klein nhuốm một màu đỏ thẫm.</p><p id="117">“…Thằng… khốn…!”</p><p id="118">Klein chẳng biết đối thủ đã trở nên mạnh như vậy bằng cách nào.</p><p id="119">Nhưng không thể để Giáo Hoàng nhìn thấy cảnh mình bị sỉ nhục thảm hại như thế.</p><p id="120">Nghĩ vậy, những ký tự thánh quanh cơ thể hắn tỏa sáng dữ dội hơn. Tạm thời phải kích hoạt hồi phục đã.</p><p id="121">Xương hắn lập tức trở lại vị trí cũ, hơi thở ổn định, sinh lực trào dâng.</p><p id="122">Ngay sau đó, Klein chuyển toàn bộ chúc phúc quanh cơ thể thành một thuộc tính duy nhất.</p><p id="123">‘…Không ngờ lại phải dùng thứ này!’</p><p id="124">Trong khoảnh khắc, ngọn lửa trắng bùng cháy trên thanh kiếm.</p><p id="125">Một trong những ‘phép màu’ tấn công chỉ những Tư Tế Chiến Đấu cấp cao mới sử dụng được.</p><p id="126">“Lửa Thánh?”</p><p id="127">Một giọng nói khó tin cất lên từ phía đối diện.</p><p id="128">“Ê, cái đó dùng để chém quái cỡ khổng lồ mà…”</p><p id="129">Đây đâu phải trận tử chiến, càng không phải thứ nên dùng với một học sinh.</p><p id="130">Ngọn lửa thiên giới này sẽ không tắt trừ khi mục tiêu chết hoặc người dùng tự dập.</p><p id="131">So với các phước lành, nó đại diện cho sự tàn độc và mạnh hơn hàng chục lần.</p><p id="132">Tuy nhiên.</p><p id="133">“Ta chỉ cần giữ ngươi còn sống là được!”</p><p id="134">Ngọn lửa trắng phóng thẳng về phía Dowd.</p><p id="135">Mục đích không phải giết, mà là thiêu sống đối phương trong sự đau đớn tột cùng cho đến khi đối phương cầu xin được giải thoát.</p><p id="136">Hắn ta đã nghĩ như thế.</p><p id="137">“Ừm.”</p><p id="138">Cho đến khi Dowd hờ hững nhún vai rồi tung một cú đấm qua loa.</p><p id="139">Chỉ thế thôi mà.</p><p id="140">Ngọn lửa bị gió dập tắt.</p><p id="141">“…”</p><p id="142">Klein há hốc nhìn thanh kiếm của mình.</p><p id="143">Một chiến binh trình độ như hắn, không thể nào phạm sai lầm sơ đẳng như mất tập trung giữa trận chiến.</p><p id="144">Nghĩ lại thì chuyện này còn nhục nhã hơn cú lộn nhào lúc nãy.</p><p id="145">Ít nhất… không nên để Giáo Hoàng chứng kiến.</p><p id="146">Nhưng giờ đây, hắn ta đang quá choáng váng để bận tâm đến thể diện.</p><p id="147">Một phép màu tấn công mà hắn, một Tư Tế Chiến Đấu cấp cao, tự tay thi triển… lại bị thổi tắt như thổi một cây nến.</p><p id="148">“…Vậy mà cũng có tác dụng. Sự khắc chế đáng sợ thật.”</p><p id="149">“Ngươi… ngươi… ngươi vừa làm cái quái gì vậy…!”</p><p id="150">Hắn ta há hốc mồm kêu lên, nhưng chưa kịp nói hết câu thì một cú đấm nữa nện thẳng vào cằm.</p><p id="151">Lại một lần nữa, mọi lớp phòng thủ đều bị xuyên thủng, ý thức dần mờ đi.</p><p id="152">“Gahhh…!”</p><p id="153">Và rồi, những cú đánh liên tiếp trút xuống cơ thể đang bị hất lên của Klein.</p><p id="154">Một cú vào bụng không giáp. Một phát lên gối vào mặt khi cơ thể hắn ta cong lại. Và một cú đấm thẳng như đóng đinh vào đầu hắn khi đang bị kéo xuống.</p><p id="155">“Keok, heok…!”</p><p id="156">Tất cả những gì hắn làm được chỉ là hét lên trong đau đớn khi phải chịu đựng toàn bộ đòn đó.</p><p id="157">Về kỹ thuật mà nói thì chẳng có gì. Giống như một người bình thường thiếu kinh nghiệm chiến đấu đang đánh đấm lung tung.</p><p id="158">Vậy mà hắn lại không chống đỡ nổi. Thậm chí không kịp phản ứng.</p><p id="159">Dù đã chuyển toàn bộ phước lành từ phỏng thủ sang hồi phục, thứ có thể chữa lành cả những vết thương chí mạng, thì tốc độ hắn bị đánh còn nhanh hơn tốc độ lành. Trong khi đối thủ thậm chí còn chẳng hề dùng hết sức.</p><p id="160">Một sự chênh lệch sức mạnh quá khủng khiếp!</p><p id="161">“À, nhắc mới nhớ.”</p><p id="162">Dowd nhếch mép.</p><p id="163">“Miễn là không giết là được, đúng không?”</p><p id="164">-!</p><p id="165">-!!</p><p id="166">Cơn đau vẫn tiếp diễn.</p><p id="167">Sống mũi bị nghiền nát, máu đỏ bắn tung tóe. Rồi một cú đá hất đầu hắn vào tường, để lại những vết nứt như mạng nhện.</p><p id="168">‘Hắn đang chơi đùa mình…!’</p><p id="169">Dowd lẽ ra có thể khiến hắn gục ngay từ đầu.</p><p id="170">Chênh lệch thật sự quá lớn.</p><p id="171">Đây không phải một trận đấu. </p><p id="172">Đây là cảnh một con người đang hành hạ một con bọ.</p><p id="173">“D-dừng…!”</p><p id="174">Thêm một cú nữa.</p><p id="175">Những chiếc răng mới mọc lại lập tức rụng một lần nữa. Hắn không có cơ hội để phục hồi đủ hàm răng.</p><p id="176">Lại một đòn nữa.</p><p id="177">Một cú đấm vào bụng khiến hắn cảm thấy máu dâng ngược lên cổ họng.</p><p id="178">Và những đòn đánh cứ thế tiếp diễn, đấm, đá, lên gối. Máu tràn ra thành từng vũng nước trên sàn đấu.</p><p id="179">Cuối cùng, Klein không chịu nổi nữa và gào lên.</p><p id="180">“Dừng, dừng lại! Tôi sai rồi! Đủ rồi…!”</p><p id="181">Ý chí chiến đấu đã sụp đổ từ lâu. Giáo Hoàng có nhìn hay không giờ chẳng còn quan trọng.</p><p id="182">Điều duy nhất quan trọng là thoát khỏi cơn đau lóc thịt xé xương này!</p><p id="183">Nghe tiếng thét bỏ hết cả kiêu hãnh, Dowd tạm ngừng tay.</p><p id="184">“…!”</p><p id="185">Có lẽ đã dừng lại vì lời cầu xin. Klein nhìn Dowd với tia hy vọng mong manh.</p><p id="186">Rồi…</p><p id="187">Một cơn lạnh chạy dọc sống lưng.</p><p id="188">Ánh mắt đối phương chẳng có gì cả.</p><p id="189">Dowd dửng dưng trước tất cả những bạo lực mình đã làm.</p><p id="190">Giống như chỉ đang… hoàn thành công việc.</p><p id="191">“Hmm.”</p><p id="192">Chỉ vậy.</p><p id="193">Như thể những đau đớn này là điều hiển nhiên khi rơi vào tay ‘ kẻ thù’</p><p id="194">Và lời nói tiếp theo cũng lạnh y như vậy.</p><p id="195">Giọng vẫn đều đều.</p><p id="196">“Đéo.”</p><p id="197">Thứ cuối cùng Klein nhìn thấy là nắm đấm lao thẳng vào mặt mình.</p><p id="198">●</p><p id="199">Ý ông là gì khi nói ‘ông đã sai’?</p><p id="200">Ngay từ đầu, ông không nên tra tấn người khác.</p><p id="201">“…”</p><p id="202">“…”</p><p id="203">Tôi nhìn Klein, hiện đang nằm bất tỉnh trên mặt đất, rồi nhìn quanh.</p><p id="204">Bầu không khí bị bóp nghẹt bởi sự im lặng.</p><p id="205">Một phần vì một học sinh vừa đánh gục một Tư Tế Chiến Đấu cấp cao, còn lại là vì sức mạnh mà tôi vừa phô bày.</p><p id="206">Chắc hẳn hầu hết mọi người ở đây đã nhận ra.</p><p id="207">Rằng thứ tôi vừa sử dụng là ‘Quỷ năng’.</p><p id="208">Và việc họ sốc là điều hoàn toàn dễ hiểu.</p><p id="209">Tôi đã kích hoạt trong chốc lát sức mạnh của Quỷ Xám, một trong những Quỷ mạnh nhất.</p><p id="210">Theo bối cảnh thiết lập, có không ít phe phái thèm khát loại sức mạnh này.</p><p id="211">Tuy nhiên, điều khiến họ hoảng hốt là kẻ nắm giữ sức mạnh đó lại là tôi, một người mà họ chưa từng xem trọng.</p><p id="212">Hơn nữa, khác với các vật chủ bình thường, những kẻ mất lý trí và hóa điên ngay khi tiếp xúc với quỷ năng, tôi lại hoàn toàn kiểm soát được nó.</p><p id="213">Ngay cả trong lịch sử, có lẽ chưa từng tồn tại trường hợp nào như vậy.</p><p id="214">‘…Nhưng đó là vì mình không phải vật chủ thật.’</p><p id="215">Tôi chỉ là bản sao thôi. Nếu là vật chủ xịn, điều khiển năng lượng quỷ ở mức này chỉ là trò trẻ con. Những gì tôi vừa làm chỉ là một chút khởi động</p><p id="216">Tuy vậy, tôi đã thành công gieo vào đầu tất cả mọi người nơi đây hình ảnh về một “con người có thể lý trí điều khiển sức mạnh của Quỷ.”</p><p id="217">Chỉ vậy thôi cũng đủ để thay đổi hoàn toàn vị thế của tôi.</p><p id="218">“…”</p><p id="219">Nói một cách phũ phàng, sự hỗ trợ mà Atalante nói đến từ các thế lực lớn trong việc quản lý các vật chủ, vốn không có nghĩa họ thật sự hỗ trợ cho tôi.</p><p id="220">Họ chỉ công nhận sự “cần thiết”, chứ không công nhận “giá trị” của tôi.</p><p id="221">Nhưng sau màn thể hiện vừa rồi.</p><p id="222">Mọi thứ từ giờ sẽ thay đổi rất nhiều.</p><p id="223">“…”</p><p id="224">Thay đổi đến mức nào?</p><p id="225">Đủ để tôi làm điều này.</p><p id="226">“Heo… peueuk…”</p><p id="227">Tôi túm lấy Klein, đang cố thở trong đau đớn và kéo lê hắn đi.</p><p id="228">Rồi tôi ném thẳng hắn lên dãy ghế khán giả.</p><p id="229">-!</p><p id="230">Cơ thể Klein bay vút lên, kéo theo vài tiếng hét hoảng loạn.</p><p id="231">Nhưng không trúng ai.</p><p id="232">Bởi vì cơ thể hắn đã bị chặn lại giữa không trung bởi một ‘kết giới thánh’.</p><p id="233">“…Ngươi có ý gì?”</p><p id="234">Thánh Credo Baor II.</p><p id="235">Giáo Hoàng hiện tại.</p><p id="236">Nếu không có rào chắn, Klein đã lao thẳng vào người ông ta.</p><p id="237">“Ngài không thấy sao, thưa Giáo Hoàng?”</p><p id="238">Tôi cười nhếch mép, tiếp tục nói.</p><p id="239">“Tôi đang tuyên chiến với ngài đấy.”</p><p id="240">Xung quanh, toàn bộ hàm của những người có mặt đều đồng loạt rơi xuống.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272021-chuong-46-thach-dau-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3121444"
    class="ln-comment-item mt-3 clear"
    data-comment="3121444" 
    data-parent="3121444" 
    data-type="chapter" 
    data-typeid="272144">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u155611-a5327a5b-64a5-4150-9c0c-deb5fcf1fcda.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/155611">Tannie</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        M-manh qua
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3?comment_id=3121444#ln-comment-3121444"
                            class="text-slate-500">
                            <time class="timeago" title="11-12-2025 14:41:19"
                                datetime="2025-12-11T14:41:19+07:00">
                                11-12-2025 14:41:19
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3121368"
    class="ln-comment-item mt-3 clear"
    data-comment="3121368" 
    data-parent="3121368" 
    data-type="chapter" 
    data-typeid="272144">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u205336-8a877e24-4656-45b1-a0cc-78e3d303bb2e.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/205336">anskadt</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Sao ko dùng lại câu. Xin lỗi tôi ko có găng ✋
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24191-so-phan-an-bai-nu-phan-dien-yeu-toi/c272144-chuong-47-thach-dau-3?comment_id=3121368#ln-comment-3121368"
                            class="text-slate-500">
                            <time class="timeago" title="11-12-2025 12:52:07"
                                datetime="2025-12-11T12:52:07+07:00">
                                11-12-2025 12:52:07
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'NX4HI9OD59JeImad491SATHTBE6fCovRgGg8oTkx';
        var comment_type = 'chapter';
        var comment_typeid = '272144';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'NX4HI9OD59JeImad491SATHTBE6fCovRgGg8oTkx';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24191');
    chapter_id = parseInt('272144');

    readingObject = {
        series_id: series_id,
        series_title: 'Số phận an bài nữ phản diện yêu tôi',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="NX4HI9OD59JeImad491SATHTBE6fCovRgGg8oTkx" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="//spicewaxworks.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Chỉ Mình Tôi Biết Rằng Cô Lớp Trưởng Thanh Lịch Của Lớp Tôi Từng Là Một Idol Chuunibyou - Chương 1: Một mục tiêu đơn thuần chỉ là một hành trình mới (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="cô gái tự xưng là “ ác mộng của tai ương” một chuunibyou chính hiệu, thường được gọi bằng cái tên Mea. Cô từng là bạn nghịch ngợm của Kurusu Reo. Reo thường chụp ảnh cô rồi đăng lên mạng xã hội, khiến những tấm hình ấy viral khắp nơi....">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="c9whplX01ic8txSpI9TswCIfVRUk7II20lj4hGfJ">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s22539-fa91af18-62b1-406c-9a26-44dbda340ce6.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c265058-chuong-1-chuong-1-mot-muc-tieu-chi-don-thuan-la-mot-hanh-trinh-moi-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3" style="background: url('https://i.hako.vn/ln/series/covers/s22539-fa91af18-62b1-406c-9a26-44dbda340ce6.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou">Chỉ Mình Tôi Biết Rằng Cô...</a></h5>
                    <small><i class="fas fa-pen"></i>Mikami Kota</small>
                    <small><i class="fas fa-paint-brush"></i>Yuga (ゆが一)</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c193928-v1">Minh họa</a></li>
                                        
                                                            <li class=""><a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c193929-mo-dau">Tập 1</a></li>
                                        
                                                            <li class="current"><a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/t31500-vol-2">Tập 2</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c215183-prologue">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Prologue
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c223192-chuong-1-mot-muc-tieu-chi-don-thuan-la-mot-hanh-trinh-moi-1">
                                                                        Chương 1: Một mục tiêu chỉ đơn thuần là một hành trình mới (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c265058-chuong-1-chuong-1-mot-muc-tieu-chi-don-thuan-la-mot-hanh-trinh-moi-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1: Một mục tiêu chỉ đơn thuần là một hành trình mới (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1: Một mục tiêu đơn thuần chỉ là một hành trình mới (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 2</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1: Một mục tiêu đơn thuần chỉ là một hành trình mới (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,083 từ - Cập nhật: 
                        <time class="topic-time timeago" title="25-12-2025 03:35:58" datetime="2025-12-25T03:35:58+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1: Một mục tiêu đơn thuần chỉ là một hành trình mới (3)</p>
                    <p id="1"><s>Merry</s>Nagi Christmas:))</p><p id="2"><strong>Trans + edit: Yuuki</strong></p><p id="3">———————————————————————</p><p id="4">Ngày hôm sau.</p><p id="5">"Ugh… sao mọi chuyện lại thành ra thế này?" - Nagi rên rỉ với đôi mắt rưng rưng, kèm theo là khuôn mặt đỏ ửng.</p><p id="6">Cô hiện đang đứng trong sân chơi của trường mẫu giáo, ngượng ngùng khoanh tay, ôm chặt lấy chính mình.</p><p id="7">Bộ trang phục cô đang khoác lên thực sự… rất đáng chú ý. </p><p id="8">Một chiếc mũ vàng tươi rói, phối cùng chiếc áo khoác xanh lơ có ống tay bo thun, bên dưới là chân váy ngắn màu hạt dẻ. </p><p id="9">Phải, Nagi đang mặc một bộ đồ mang đậm sự hoài niệm của tuổi thơ.</p><p id="10">"Trời đất... cái sự phấn khích này... chẳng lẽ là cảm giác ‘tội lỗi’ khi chạm vào điều cấm kỵ sao?"</p><p id="11">Thử tưởng tượng mà xem, một nữ sinh cao trung cao ngồng lại ăn mặc y như mấy em mẫu giáo, ai mà không tò mò cho nổi? Cô ấy trông kì quái đến mức tôi chẳng dám nhìn thẳng vào nữa.</p><p id="12">Cảm giác này là sao? Bối rối xen lẫn thích thú ư? Lòng tôi nôn nao như vừa mở cánh cửa dẫn tới thế giới kì quái.</p><p id="13">"Im đi! Tớ sẽ thay ngay khi quần áo khô!" - Nagi hét lên trong tuyệt vọng, nước mắt chực trào. </p><p id="14">Dẫu vậy, có vẻ cô đã dần cam chịu số phận nhục nhã khi phải khoác lên mình chiếc áo choàng trẻ con này.</p><p id="15">Đầu đuôi câu chuyện thế này: sau khi thống nhất kế hoạch tại quán cà phê, bọn tôi đã tham gia tình nguyện ở trường mẫu giáo gần đây.</p><p id="16">Để tổ chức thành công một sự kiện cộng đồng, sự ủng hộ của người dân chính là chìa khóa then chốt. Ngay cả trẻ em cũng rất quan trọng, bởi người lớn thường có xu hướng lắng nghe mong muốn của con trẻ.</p><p id="17">Bởi vậy, kế hoạch tình nguyện lập tức được triển khai. Thế nhưng thứ đợi chờ chúng tôi - đúng hơn là Nagi-chan - là lễ rửa tội. Thảm hại chưa.</p><p id="18">"Ha… Ai mà nghĩ tớ sẽ phải hứng chịu "mưa bùn” cơ chứ."</p><p id="19">Nagi ngồi sụp xuống, khuôn mặt lộ rõ vẻ chán nản.</p><p id="20"><img src="https://scontent.fsgn14-1.fna.fbcdn.net/v/t39.30808-6/533244246_10224131787321953_3524536744196025100_n.jpg?_nc_cat=101&amp;ccb=1-7&amp;_nc_sid=833d8c&amp;_nc_eui2=AeFD1DK38jwYiSk3VVG5sRrb052iEyOHooHTnaITI4eigXgH2N9SHO1z0jpXLRm5EkMfyESDpAXe9yFfDCsMP_lZ&amp;_nc_ohc=17FdESa86B0Q7kNvwGtb59E&amp;_nc_oc=AdkRU4WuxpU3LpRcaFT8HjbKebzq7067Ui44lO1yEjSXPns8Bh9bRn_CZKt1aPVqa-E&amp;_nc_zt=23&amp;_nc_ht=scontent.fsgn14-1.fna&amp;_nc_gid=GY7nGpj9V-y3mX_UkBCx1w&amp;oh=00_AfluXw00nMUB_krLsd1WaUPAkpJ6ws3hwiC1PYhzL7qYig&amp;oe=6952259F" alt=""></p><p id="21">Đúng vậy, lũ trẻ đã cực kì hiếu động khi thấy Nagi. </p><p id="22">Chúng lập tức "tặng" cho cô vài quả bóng bùn. À không, chẳng phải một hay hai quả đâu, mà là một đợt tổng tấn công gồm ba phát liên hoàn đầy uy lực, cứ như thể chính Oda Nobunaga[note86008] vừa sống dậy để trực tiếp chỉ huy trận chiến vậy. </p><p id="23">Do đó, hệt như chiến binh thất bại nơi mảnh đất Nagashino, Nagi-chan buộc phải gửi quần áo đến tiệm giặt khô. Trong tình cảnh không còn gì để mặc, cô đành phải sử dụng bộ đồ duy nhất hiện có tại trường: chiếc áo choàng[note86009].</p><p id="24">"Nhưng mà, cậu thấy đó, thật may khi nhà trường có một bộ size người lớn do đặt nhầm, đúng không?"</p><p id="25">Miệng thì nói vậy thôi, chứ.. tôi thấy "quần áo size người lớn" này giống "đồ cosplay trẻ mẫu giáo" hơn. Tôi cũng chẳng buồn thắc mắc tại sao nhà trường lại mua nhầm cái thể loại trang phục kỳ quặc này làm gì, vì nếu đào sâu hơn, có lẽ vài thông tin đáng lo ngại nào đó sẽ bị bại lộ mất…</p><p id="26">"Ugh…!" - Nagi rên rỉ với mớ cảm xúc hỗn độn. Cô vừa thấy may vì không phải ở trần, vừa thấy đen đủi khi rơi vào tình huống dở khóc dở cười này.</p><p id="27">Đang mải mê trò chuyện thì một giáo viên từ trong trường bước đến. Ngay khi nhìn thấy Nagi, ánh mắt cô ấy lộ rõ vẻ hối lỗi.</p><p id="28">"Kanagi-san… ừm…, cô nên nói thế nào nhỉ…?"</p><p id="29">Nhận ra sự áy náy trong đôi mắt vị giáo viên, Nagi lặng lẽ quay mặt đi.</p><p id="30">"Ugh…xin cô hãy... hãy đừng nói gì hết ạ."</p><p id="31">"Cô hiểu rồi… Cô đã nhờ tiệm giặt ưu tiên đồ của em trước, nên đồng phục sẽ xong nhanh thôi…"</p><p id="32">Nhận ra thứ Nagi muốn không phải là lời xin lỗi, giáo viên liền trở lại thái độ làm việc chuyên nghiệp như trước.</p><p id="33">"Em hiểu rồi ạ…"</p><p id="34">Nagi gật đầu, kéo theo bầu không khí gượng gạo, im lặng đến đáng sợ.</p><p id="35">Nếu cứ thế này thì hoàn toàn không ổn chút nào, bởi xây dựng mối quan hệ tốt đẹp với giáo viên cũng là một phần của kế hoạch.</p><p id="36">"Đừng lo cô ạ! Thực ra cosplay với Nagi-chan chỉ là chuyện cơm bữa thôi! Cosplay thành mấy bé mẫu giáo cũng chả nhằm nhò gì sất!"</p><p id="37">Tôi khoác vai Nagi, cười toe toét, vốn là để xóa bầu không khí ảm đạm vừa rồi.</p><p id="38">"Kurusu-kun?!"</p><p id="39">Đôi mắt Nagi mở to vì sốc trước lời nói kì lạ của tôi.</p><p id="40">"Tớ đâu có nói gì sai, đúng không? Nhờ có tớ mà cậu mới được cosplay mấy thể loại đấy đó nha!"</p><p id="41">"T-Thì đúng là tớ đã cosplay, nhưng đột nhiên cậu nói thế có thể gây ra hiểu lầm đó!"</p><p id="42">"Ơ? Thế cậu chỉ ra tớ sai ở đâu đi?"</p><p id="43">"Ư-Ưm…"</p><p id="44">Nagi lúng túng, không biết đáp lại ra sao, còn tôi thì ưỡn ngực đắc thắng.</p><p id="45">"Tớ đâu có nói sai sự thật đâu, đúng không? Với lại bộ này hợp với cậu lắm! Không sao đâu mà. Hôm nay tớ cứ có cảm giác như mình vừa khám phá ra được một khía cạnh mới của cậu vậy. Thế nên, hãy cùng nhau tận hưởng bầu không khí mới mẻ này nhá!"</p><p id="46">"Còn lâu!"</p><p id="47">Nagi giãy giụa, tìm đủ mọi cách để thoát ra khỏi vòng tay tôi.</p><p id="48">"Mối quan hệ giữa hai em… là vậy sao?"</p><p id="49">Vị giáo viên nhìn chúng tôi với gò má ửng hồng.</p><p id="50">Trò đùa của tôi hẳn là đã gây ra hiểu lầm cực kì tai hại cho hội trưởng hội học sinh đáng quý rồi.</p><p id="51">"Phần còn lại để cô tự tưởng tượng nhé!"</p><p id="52">Tôi nở nụ cười gượng gạo. Giáo viên nghe vậy liền gật đầu lia lịa, khuôn mặt vẫn chưa thôi đỏ.</p><p id="53">Mà thôi, dù sao thì bầu không khí nặng nề lúc nãy cũng đã tan biến, mặc cho Nagi vẫn đang phản kháng trong vòng tay tôi và lặng lẽ đấm thùm thụp vào ngực tôi. Kệ cô ấy đi.</p><p id="54">"Mà cô ơi, các em nhỏ đã làm đến đâu rồi ạ?"</p><p id="55">Nhận thấy tâm trạng đã tốt lên, tôi liền quay về vấn đề chính.</p><p id="56">"À, đúng rồi. Đây. Chỉ các bé lớp lớn mới biết viết thôi, nên số lượng có hơi ít…"</p><p id="57">Giáo viên ấy lấy ra một chồng giấy - khoảng mười lăm tờ - từ trong túi tạp dề.</p><p id="58">Nhiêu đây để mà nói thì có hơi ít, nhưng vẫn cực kì rất quan trọng cho kế hoạch tổ chức sự kiện của bọn tôi.</p><p id="59">"Cảm ơn cô vì đã giúp ạ!"</p><p id="60">"Không, không, cô mới là người phải cảm thấy có lỗi khi chỉ chuẩn bị được nhiêu đây thôi." - vị giáo viên khiêm tốn đáp.</p><p id="61">Đúng lúc này, tiếng em bé khóc vang lên từ trong nhà, dù hiện vẫn là giờ nghỉ trưa.</p><p id="62">"Ôi chao, chắc bé nào lại dậy rồi… Xin lỗi, cô phải đi đây."</p><p id="63">"Không sao đâu ạ! Cảm ơn cô vì đã giúp đỡ."</p><p id="64">Cô giáo ấy vội cúi đầu cảm ơn rồi tức tốc trở lại trường.</p><p id="65">"Mọi việc diễn ra suôn sẻ ghê ta!"</p><p id="66">"Nhưng quần áo và tinh thần của tớ lại đang gặp tổn thương nặng nề đó!"</p><p id="67">Tôi cười khẩy đầy mãn nguyện, trong khi Nagi - cô gái số "nhọ" nhất của ngày - lại bất mãn khóc.</p><p id="68">Bỏ tiếng khóc thảm thương đó ngoài tai, tôi xem qua chồng giấy mà giáo viên đưa.</p><p id="69">Đó là những bức thư của các em nhỏ.</p><p id="70">Bằng những đường nét ngộ nghĩnh của bút sáp màu, các em vụng về viết nên các câu ngắn gọn bằng Hiragana, ví dụ như "Mình muốn tham gia lễ hội hè" hay "Mình muốn mặc yukata". Câu nào cũng hết sức đơn giản, song lại chứa chan biết bao ước mơ ngây ngô của trẻ nhỏ.</p><p id="71">Hệt như tôi, Nagi cũng ngẩn ngơ nhìn những bức thư.</p><p id="72">"Nhưng… liệu kế hoạch của bọn mình có thành công "hồi sinh” lễ hội mùa hè không?"</p><p id="73">Cô nhíu mày, coi bộ vẫn còn nghi ngờ về tính khả thi của kế hoạch.</p><p id="74">"Dù thất bại thì vẫn hơn là ra về tay không. Các bác trong hội đồng thị trấn đã dừng tổ chức sự kiện do vấn đề tuổi tác, đúng không?"</p><p id="75">"Ừ."</p><p id="76">"Vậy nên, họ đều là những ông bà lão cả rồi. Mà theo quy luật của vũ trụ, ông bà thì luôn yếu thế trước các cháu nhỏ. Vì thế, món quà này chắc chắn sẽ là quân bài chiến lược để buộc họ phải tổ chức lại sự kiện."</p><p id="77">Bọn tôi đã giới thiệu cho các em nhỏ về lễ hội mùa hè, về các trò chơi, về vẻ đẹp của lễ hội rồi bảo chúng viết thư tặng cho ông bà. Có lẽ công sức bọn tôi đổ ra đã đem lại quả ngọt.</p><p id="78">Thậm chí, chúng tôi còn biết rằng cháu của vài thành viên trong hội đồng thị trấn hiện đang học ngay tại trường này.</p><p id="79">    </p><p id="80"><em>Ước mơ trong sáng của trẻ em.</em></p><p id="81"><em>Tình cảm yêu thương chân thành của ông bà.</em></p><p id="82"><em>Thật kì diệu.</em></p><p id="83">    </p><p id="84">Đứng sau tất cả là sự thao túng của hội trưởng hội học sinh - ngài Nagi Kanagi-sama - nhằm vẽ nên thành tựu cho bản thân. Chà, đúng là xảo quyệt ghê, nhỉ?</p><p id="85">"... Cậu đang nghĩ gì đó cực kỳ mờ ám, đúng không?"</p><p id="86">Có lẽ suy nghĩ vừa rồi đã hiện rõ mồn một trên mặt. </p><p id="87">Nagi ném cho tôi cái ánh nhìn đầy nghi hoặc.</p><p id="88">"L-Làm gì có!"</p><p id="89">"Thế sao cậu lại nói theo kiểu "katakoto"[note86010] thế!?"</p><p id="90">"Không phải lo cho tớ đâu. Với cả, bọn mình vẫn còn nhiều việc phải làm lắm. Bọn mình ở đây để tình nguyện cơ mà, nên tiếp tục cố gắng thôi!"</p><p id="91">Bí quyết để đánh lạc hướng là tạo ra chủ đề mới một cách thật hào hứng.</p><p id="92">"Đ-Đợi quần áo của tớ khô đã không được à? Tớ không muốn làm việc trong bộ trang phục này đâu…" - Nagi băn khoăn. </p><p id="93">Rõ ràng là cô không hề thoải mái khi phải khoác bộ áo choàng tạm bợ đó.</p><p id="94">"Cậu nói gì thế? Chiếc áo cậu đang mặc vốn được thiết kế để sử dụng khi làm việc đó nha! Mặc chúng lên đồng nghĩa với nói: "Tôi đã sẵn sàng làm việc rồi!""</p><p id="95">"Nhưng có phải tớ muốn mặc nó đâu!!" - Nagi thét lên phản kháng.</p><p id="96">Dẫu vậy, cô vẫn chẳng còn lựa chọn nào ngoài bắt tay vào làm việc ngay lập tức.</p><p id="97">"Thôi nào. Lượng thư bọn mình nhận được ít hơn dự kiến đó. Bét nhất thì bọn mình cũng phải chiếm được thiện cảm của giáo viên nơi đây, do đó không được phép lơ là đâu."</p><p id="98">Thực ra học sinh tiểu học là đối tượng hoàn hảo nhất để thuyết phục - các em ấy thông minh hơn, trình độ học vấn cao hơn. Tuy vậy, hiện đang là ngày đầu tiên của kì nghỉ hè, nên tập trung một nhóm học sinh tiểu học là không thể.</p><p id="99">Bởi vậy nên bọn tôi mới phải chọn các bé mẫu giáo.</p><p id="100">Nhân tiện, chỉ có các lớp mẫu giáo là còn hoạt động, còn nhà trẻ cũng nghỉ cả rồi.</p><p id="101">Đây có thể coi là thời điểm thuận lợi cho chúng tôi làm việc, nhưng… đen đủi thay, bọn tôi vẫn chưa có đủ thư để thuyết phục hội đồng thị trấn.</p><p id="102">Do đó, việc tìm kiếm thêm "đồng minh” đã trở thành ưu tiên hàng đầu.</p><p id="103">"Ugh…"</p><p id="104">Nagi rên rỉ như thể đã hoàn toàn bị lập luận của tôi thuyết phục.</p><p id="105">Tôi tung ra cú huých tinh thần cuối cùng.</p><p id="106">"Ngoài ra, nhiệm vụ tiếp theo của bọn mình là xử lí rác thải trong nhà kho. Cậu chỉ cần quanh quẩn ở nhà kho và lò đốt rác thôi. Chỗ đó chẳng mấy khi có người qua lại, lại còn an toàn hơn ở đây."</p><p id="107">“Tớ sẽ giúp." - Nagi lập tức trả lời.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note86008"><a href="#anchor-note86008" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86008" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text"><strong>Oda Nobunaga</strong> là một nhân vật lịch sử lỗi lạc của Nhật Bản, nổi tiếng với tài cầm quân xuất chúng trong thời kỳ Chiến Quốc (Sengoku). Chi tiết về 'chiến thuật tam đoạn kích tài tình' và Trận Nagashino (1575) là sự gợi nhắc đến cách sử dụng súng hỏa mai đầy sáng tạo của Nobunaga, với chiến thuật bắn loạt liên tiếp có sức công phá khủng khiếp nhằm áp đảo hoàn toàn quân thù.</span></div><span class="note-content_real long-text"><strong>Oda Nobunaga</strong> là một nhân vật lịch sử lỗi lạc của Nhật Bản, nổi tiếng với tài cầm quân xuất chúng trong thời kỳ Chiến Quốc (Sengoku). Chi tiết về 'chiến thuật tam đoạn kích tài tình' và Trận Nagashino (1575) là sự gợi nhắc đến cách sử dụng súng hỏa mai đầy sáng tạo của Nobunaga, với chiến thuật bắn loạt liên tiếp có sức công phá khủng khiếp nhằm áp đảo hoàn toàn quân thù.</span></div>
                                                    <div style="margin-bottom: 20px;" id="note86009"><a href="#anchor-note86009" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86009" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text"><strong>Từ gốc: Smock.</strong> 

Áo choàng dài hoặc áo khoác ngoài là trang phục bên ngoài theo truyền thống của những người lao động nông thôn, đặc biệt là những người chăn cừu và người đánh xe ngựa. Ngày nay, từ áo khoác dùng để chỉ một loại quần áo rộng rãi được mặc để bảo vệ quần áo của một người, chẳng hạn như của một họa sĩ. Trong câu chuyện, học sinh tại trường mặc áo choàng cũng vì lí do tránh gây bẩn quần áo.</span></div><span class="note-content_real long-text"><strong>Từ gốc: Smock.</strong> 

Áo choàng dài hoặc áo khoác ngoài là trang phục bên ngoài theo truyền thống của những người lao động nông thôn, đặc biệt là những người chăn cừu và người đánh xe ngựa. Ngày nay, từ áo khoác dùng để chỉ một loại quần áo rộng rãi được mặc để bảo vệ quần áo của một người, chẳng hạn như của một họa sĩ. Trong câu chuyện, học sinh tại trường mặc áo choàng cũng vì lí do tránh gây bẩn quần áo.</span></div>
                                                    <div style="margin-bottom: 20px;" id="note86010"><a href="#anchor-note86010" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86010" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Katakoto là sử dụng tiếng Nhật một cách ngập ngừng, đơn giản hóa hay cực kì ngây ngô như trẻ con, thường được sử dụng nhằm bắt chước cách trẻ em hoặc người không phải bản địa giao tiếp. Trong trường hợp này, lời chối cãi vội vàng của Kurusu cũng được coi là "Katakoto"</span></div><span class="note-content_real long-text">Katakoto là sử dụng tiếng Nhật một cách ngập ngừng, đơn giản hóa hay cực kì ngây ngô như trẻ con, thường được sử dụng nhằm bắt chước cách trẻ em hoặc người không phải bản địa giao tiếp. Trong trường hợp này, lời chối cãi vội vàng của Kurusu cũng được coi là "Katakoto"</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c265058-chuong-1-chuong-1-mot-muc-tieu-chi-don-thuan-la-mot-hanh-trinh-moi-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
                    <div class="ln-comment-group">
    <div id="ln-comment-3137535"
    class="ln-comment-item mt-3 clear"
    data-comment="3137535" 
    data-parent="3137535" 
    data-type="chapter" 
    data-typeid="278564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u216796-00a4489c-212f-416a-b072-46df16ddab9d.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ring-2 ring-cyan-500 dark:ring-cyan-900">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/216796">Yuuki?</a>
    </div>
                        <div class="self-center">
                <div
                    class="flex gap-1 rounded-sm shadow-[inset_0px_0px_0px_2px_#E63950] dark:bg-[#E63950]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#E63950] dark:text-[#FDCB02]">
                    <img class="my-auto h-[14px]" src="/img/badge/owner2.png" />
                    <div class="leading-4">PHÓ THỚT</div>
                </div>
            </div>
                                    <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Giáng sinh zui zẻ&lt;(") Ông già noel nào tặng tui quà đi:P
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3?comment_id=3137535#ln-comment-3137535"
                            class="text-slate-500">
                            <time class="timeago" title="25-12-2025 03:41:13"
                                datetime="2025-12-25T03:41:13+07:00">
                                25-12-2025 03:41:13
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold">1</span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3137579"
    class="ln-comment-item mt-3 clear"
    data-comment="3137579" 
    data-parent="3137579" 
    data-type="chapter" 
    data-typeid="278564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u172687-4f8d3988-e6af-4535-8c84-edb5f4db4cb9.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/172687">Yuuta7528</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/22539-chi-minh-toi-biet-rang-co-lop-truong-cua-lop-toi-tung-la-mot-idol-chuunibyou/c278564-chuong-1-mot-muc-tieu-don-thuan-chi-la-mot-hanh-trinh-moi-3?comment_id=3137579#ln-comment-3137579"
                            class="text-slate-500">
                            <time class="timeago" title="25-12-2025 06:01:30"
                                datetime="2025-12-25T06:01:30+07:00">
                                25-12-2025 06:01:30
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'c9whplX01ic8txSpI9TswCIfVRUk7II20lj4hGfJ';
        var comment_type = 'chapter';
        var comment_typeid = '278564';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'c9whplX01ic8txSpI9TswCIfVRUk7II20lj4hGfJ';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('22539');
    chapter_id = parseInt('278564');

    readingObject = {
        series_id: series_id,
        series_title: 'Chỉ Mình Tôi Biết Rằng Cô Lớp Trưởng Thanh Lịch Của Lớp Tôi Từng Là Một Idol Chuunibyou',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="c9whplX01ic8txSpI9TswCIfVRUk7II20lj4hGfJ" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

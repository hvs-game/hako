<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc A TS Reincarnated Student Who Just Tries her Best - 18 • Từng bước một - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Có chàng trai nọ trút hơi thở cuối cùng trên đất mẹ, chẳng biết hên hay xui mà cậu đã rơi xuống mảnh đất Kivotos của trò chơi Blue Archive dưới hình hài học sinh — và trong tất cả các ngôi trường khả dĩ, đó lại là Arius suy...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="3Q3jP71CS0dR7NmSci9egYZcVKrTzN8WxSqL8Ltz">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24246-b26fb665-9082-40ab-a698-64be4bb5c6ee.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c275900-17-cong-cuoc-trut-bo-ganh-nang-khoi-vai-con-tre-pckt-p2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot" style="background: url('https://i.hako.vn/ln/series/covers/s24246-b26fb665-9082-40ab-a698-64be4bb5c6ee.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best">A TS Reincarnated Student...</a></h5>
                    <small><i class="fas fa-pen"></i>おにっく</small>
                    <small><i class="fas fa-paint-brush"></i>シロパンダクロ</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/t34933-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c270919-giay-phep-hanh-nghe-dich-gia-yapping">
                                                                        Test 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271439-pho-cap-kien-thuc">
                                                                        Test 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271442-httpsdocsgooglecomdocumentd1294n3qv7av16ytuqnldocm0qhlerp5cverltd6-dctiedittabt0">
                                                                        1 • Câu chuyện kể không gì ngoài sự luân hồi + PCKT P1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271444-2-luan-hoi-a-ha-khong-chuyen-gioi-thi-dung-hon">
                                                                        2 • Luân hồi á hả? Không, chuyển giới thì đúng hơn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271449-3-thuc-tai-luon-la-mot-tro-choi-te-hai">
                                                                        3 • Thực tại luôn là một trò chơi tệ hại
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271454-4-be-gai-dang-di-dao-thi-dinh-dan-lac">
                                                                        4 • Bé gái đang đi dạo thì dính đạn lạc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271457-5-ke-hoach-tuong-lai-va-chu-tich-hoi-hoc-sinh-arius-hien-tai">
                                                                        5 • kế hoạch tương lai và chủ tịch hội học sinh Arius hiện tại
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271484-6-hai-nhan-vat-quyen-luc-lap-di-chang-kem-gi-nhau">
                                                                        6 • Hai nhân vật quyền lực lập dị chẳng kém gì nhau
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c271570-7-bang-chung-cua-tieu-quy">
                                                                        7 • Bằng chứng của tiểu quỷ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c272132-8-ban-chat-that-cua-ke-dich">
                                                                        8 • Bản chất thật của kẻ địch
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c272627-9-dau-tap-va-cuoc-noi-chien-bat-dau">
                                                                        9 • Đấu tập và cuộc nội chiến bắt đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c272878-10-nhung-vien-dan-no">
                                                                        10 • Những viên đạn nổ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c273593-11-qua-bom-pha-huy-halo">
                                                                        11 • Quả bom phá hủy Halo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c274017-12-thua-cuoc">
                                                                        12 • Thua cuộc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c274482-13-quyet-tam-cua-bon-ho">
                                                                        13 • Quyết tâm của bọn họ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c274695-14-quyet-tam-cua-nhung-ke-bat-tai">
                                                                        14 • Quyết tâm của kẻ bất tài
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c275059-15-tap-kich">
                                                                        15 • Tập kích
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c275335-16-may-dua-la-em-gai-chi">
                                                                        16 • Mấy đứa là em gái chị!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c275900-17-cong-cuoc-trut-bo-ganh-nang-khoi-vai-con-tre-pckt-p2">
                                                                        17 • Công cuộc trút bỏ gánh nặng khỏi vai con trẻ + PCKT P2
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot">
                                                                        18 • Từng bước một
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">18 • Từng bước một</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,263 từ - Cập nhật: 
                        <time class="topic-time timeago" title="21-12-2025 22:29:40" datetime="2025-12-21T22:29:40+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">18 • Từng bước một</p>
                    <p id="1">Hôm nay không có buổi học với Saori và Misaki.</p><p id="2">Thiết nghĩ để hai đứa dành chút thời gian tự học sẽ tốt hơn.</p><p id="3">Hay nói cách khác, tôi sẽ có thể dành thời gian với Atsuko và Hiyori ở đâu đó ngoài tầm nhìn của hai người này.</p><p id="4">Và khi tôi trình bày với hai người họ thì—</p><p id="5">"Nghe cho kỹ đây...! Nếu cô dám làm bất cứ điều gì kỳ lạ với Hiyori hoặc Atsuko, tốt hơn hết cô nên chuẩn bị tâm thế móc mắt ra là vừa...!!"</p><p id="6">"…nếu cô đặt một ngón tay lên hai em ấy... tôi sẽ không tha thứ cho cô."</p><p id="7">"Bộ hai đứa nghĩ chị là ấm dâu à!?"</p><p id="8">…tôi đã bị đe dọa nghiêm trọng.</p><p id="9">Nhưng mà thực tế là họ vẫn để hai gái ở chỗ tôi bất chấp tất cả những lời dọa nạt - chứng tỏ họ đã bắt đầu tin tưởng tôi. Dần dần... chắc vậy? Hoặc là tôi muốn nghĩ như vậy.</p><p id="10">Từng chút một, ngày càng có nhiều người bắt đầu chấp nhận tôi.</p><p id="11">Có lẽ các buổi dạy học thực sự đã có hiệu quả.</p><p id="12">Con người ta ngưỡng mộ những gì chúng ta không có.</p><p id="13">…tuy nhiên, ngay cả bây giờ, những đứa trẻ mà tôi thực sự có thể gặp mặt và nói chuyện có lẽ thậm chí không chiếm một phần nhỏ so với tổng số trẻ em ở Arius.</p><p id="14">“…mình phải chăm chỉ hơn nữa."</p><p id="15">Vâng. Đúng vậy.</p><p id="16">“…hả? Ý Suou-san là gì cơ...!?"</p><p id="17">Ơ cái đ... tôi lỡ nói thành tiếng mất rồi. Cô gái với mái tóc xanh nhạt đang nhìn tôi đầy khó hiểu. Bên cạnh là một cô gái với mái tóc tím nhạt, đeo một chiếc mặt nạ trắng đơn giản.</p><p id="18">Tên hai người lần lượt là Hiyori Tsuchinaga và Atsuko Hakari.</p><p id="19">"Không, không có gì cả. Mà nè, Saori hay Misaki có nói gì với hai đứa chưa?"</p><p id="20">“…”</p><p id="21">Atsuko đang cố gắng hết sức để nói gì đó bằng ngôn ngữ ký hiệu, cơ mà tôi chả thấm lấy nổi một từ.</p><p id="22">"Hưm—xin lỗi nha, Atsuko. Chị vẫn chưa hiểu được ngôn ngữ ký hiệu. Hay là em cứ... nói chuyện như bình thường với chị đi?"</p><p id="23">“…”p</p><p id="24">Cô ấy lắc đầu một cách chắc nịch.</p><p id="25">Chà, vẫn là vấn đề hình tượng nhân vật.</p><p id="26">"Ừm thưa, Atsuko-chan chỉ có thể sử dụng ngôn ngữ ký hiệu vì 'đức bà' đã ra lệnh..."</p><p id="27">“…phải. Chị biết. Mặt nạ cũng là một phần trong đó phải không?"</p><p id="28">Hakari Atsuko. Cô ấy khác biệt với các thành viên còn lại của biệt đội Arius.</p><p id="29">Atsuko mang trong mình dòng máu của cựu chủ tịch hội học sinh - một hậu duệ hoàng gia[note85754].</p><p id="30">Rất có thể cô ấy là thành viên hoàng tộc duy nhất còn sót lại ở Arius.</p><p id="31">…tôi từng nghĩ Cyan cũng như vậy nhưng hóa ra không phải.</p><p id="32">Bất kể thế nào, Beatrice đang để mắt đến Hakari Atsuko, người mang dòng máu hoàng gia.</p><p id="33">Ả muốn hiến tế Atsuko, hấp thụ thần bí hoàng tộc qua đó đạt đến cõi giới của màu sắc.</p><p id="34">Toàn bộ sự việc xảy ra trong Vol Hiệp Định Eden đều vì mục đích đó.</p><p id="35">Và khi nhóm ba người đầu tiên của biệt đội Arius sau này biết được, họ đã không thể trơ mắt đứng nhìn và cố giúp cô, đó là lý do tại sao Atsuko lại đang ở đây với họ bây giờ.</p><p id="36">Nói tóm lại, Atsuko không xuất thân từ khu ổ chuột — và Beatrice đang nhắm vào cô.</p><p id="37">…cô ấy là một trong những chìa khóa để đến gần Beatrice hơn.</p><p id="38">“…?”</p><p id="39">“…aha, không có gì."</p><p id="40">Nhưng trước bất kỳ điều gì trong số đó, cô ấy là một đứa trẻ.</p><p id="41">Và là em gái tôi.</p><p id="42">Tôi sẽ không bao giờ để cô ấy bị tổn thương.</p><p id="43">"Nè, Atsuko. Sẽ không ai phát hiện ra đâu. Em không muốn thử nói lại một lần nữa sao?"</p><p id="44">“…”</p><p id="45">…vâng, tôi hiểu chứ. Khi tuổi đời còn nhỏ, chúng ta luôn muốn tránh làm bất cứ điều gì có thể khiến người lớn phật ý và gặp rắc rối, ngay cả khi không ai phát hiện ra.</p><p id="46">Nhưng đó không phải là cách chuyện này nên diễn ra, không phải tại Arius.</p><p id="47">“…em không cần phải vâng lời con già thối nát đó."</p><p id="48">“…”</p><p id="49">“…chị hiểu cảm giác của em. Cảm giác 'điều gì sẽ xảy ra nếu như' khiến em sợ hãi, phải không? Lỡ như bị bắt thì sao... em có thể không phải là người duy nhất gặp nguy hiểm. Mọi người đều có thể đau khổ vì em."</p><p id="50">"...!"</p><p id="51">…cô ấy là một đứa trẻ tốt bụng. Ngay cả trong thời điểm khốn cùng nhất, đất nước rơi vào tay giặc ngoại xâm, vương vị bị tước đoạt, Atsuko vẫn nghĩ đến người khác.</p><p id="52">Nhưng—</p><p id="53">"Không sao hết! Bởi em đã có chị em ở đây!! Và tất nhiên là cả Hiyori nữa!"</p><p id="54">"Ế!? Em - em không..."</p><p id="55">"Ừm thì - đại khái là vậy! Bất kể chuyện gì xảy ra, cứ để chị em lo! Chị sẽ chịu toàn bộ trách nhiệm! Chị sẽ không để bất cứ ai đặt một ngón tay vào bất kỳ cô em gái nào của mình hết!! Bởi vì đó trách nhiệm của một người chị!"</p><p id="56">Bà chị ngốc nghếch của tôi cũng từng nói như vậy... không biết giờ bả sao rồi nhỉ.</p><p id="57">Không—hãy tập trung vào những gì trước mặt.</p><p id="58">"Thế nên, làm ơn, hãy ích kỷ hơn một chút. Hãy làm những gì em muốn làm."</p><p id="59">“…”</p><p id="60">…cô ấy đang do dự.</p><p id="61">Chỉ một chút thôi cũng được. Tôi muốn cô ấy học cách chống cự. Để học cách dựa dẫm vào người khác.</p><p id="62">Hoạt động lén lút ngoài tầm nhìn của người lớn độc ác và phá vỡ các quy tắc bất bình đẳng - những đứa trẻ bình thường lớn lên trong sự bất công sẽ học được cách để làm vậy[note85755]. </p><p id="63">Điều mà những đứa trẻ này cần ngay lúc này chính là kiểu 'bình thường' đó.</p><p id="64">“…”</p><p id="65">“…Atsuko-chan..."</p><p id="66">“…Atsuko."</p><p id="67">…cô ấy đang run rẩy.</p><p id="68">Tôi không biết cô ấy đã trải qua những gì, nhưng không khó để đoán đó không phải điều gì tốt đẹp.</p><p id="69">"Không sao đâu."</p><p id="70">“…”</p><p id="71">"Không sao hết. Chị sẽ bảo vệ tất cả mọi người. Vì vậy cho nên, chỉ một chút thôi. Chỉ một từ thôi. Hãy bắt đầu từ những việc nhỏ."</p><p id="72">Ngay cả khi phải cứng rắn một chút, tôi vẫn muốn cô ấy biết tới loại 'bình thường' đó.</p><p id="73">“………”</p><p id="74">“…a…”</p><p id="75">“!!”</p><p id="76">Giọng nói yếu ớt đến nỗi tưởng như có thể biến mất bất cứ lúc nào.</p><p id="77">Giả như mất tập trung dù chỉ một khoảnh khắc, tôi có thể đã bỏ lỡ nó.</p><p id="78">Dù vậy... đây là bước đi nhỏ bé đầu tiên của Atsuko. Bằng chứng cho sự kháng cự của cô ấy.</p><p id="79">"A-Atsuko—"</p><p id="80">"Atsukooooo!!"</p><p id="81">Tôi lao thẳng tới, vòng tay ôm lấy cô ấy và khóc nức nở.</p><p id="82">“!?”</p><p id="83">"Em làm được rồi...!! Em tuyệt vời lắm...!! Chị xin lỗi vì đã thúc ép em quá nhiều...!!"</p><p id="84">“…”</p><p id="85">Đối với cô bé, việc gom góp từng đó can đảm hẳn phải rất khó khăn. Rất đáng sợ.</p><p id="86">Chưa kể, cô bé vẫn cố gắng tiến lên từng bước một.</p><p id="87">“…”</p><p id="88">Ấy thế nhưng Atsuko đang run rẩy, sức lực của cô đã cạn kiệt.</p><p id="89">Tôi không thể ép cô ấy nhiều hơn thế này nữa.</p><p id="90">“…ừm. Chị hiểu mà. Hẳn phải đáng sợ lắm đúng không...? Nào, giờ ổn cả rồi."</p><p id="91">"Ơ-ừm!!… em không nghĩ là cậu ấy sợ đâu ạ!"</p><p id="92">"Hả?"</p><p id="93">"Atsuko-chan run rẩy là vì... S-Suou-san, chị ôm cậu ấy chặt quá...!"</p><p id="94">…chờ đã, cái gì cơ?</p><p id="95">"Há—Atsuko!? Chị rất xin lỗi!! Em có ổn không!? Em có đau ở đâu không!?"</p><p id="96">Ôi không ôi không ôi không!! Vất vả lắm Atsuko mới lấy được can đảm, thế mà tôi lại phá hoại hết rồi!?</p><p id="97">“…hehe."</p><p id="98">“…!?”</p><p id="99">Tiếng cười vừa rồi—!</p><p id="100">"Atsuko...!?"</p><p id="101">“…”</p><p id="102">Cô quay đầu đi, ngượng ngùng.</p><p id="103">Nhưng chắc chắn là cô ấy vừa mới...</p><p id="104">“…v-vậy là cậu vẫn ổn, tớ nghĩ là... pfft...!"</p><p id="105">"H-hai em cười nhạo chị đấy à!?"</p><p id="106">“…”</p><p id="107">"Dạ vâng, cậu nói đúng...! Là lỗi của Suou-san vì đã siết quá mạnh."</p><p id="108">"Ứ...!!"</p><p id="109">…không hẳn là khung cảnh ấm áp mà tôi đã hình dung.</p><p id="110">"Cơ mà giọng Atsuko-chan dễ thương thiệt đó... không giống như tớ..."</p><p id="111">“…”</p><p id="112">"Không, điều đó không đúng...! Cậu nịnh tớ thôi đúng không...!? Tớ biết phải làm gì đây...!?"</p><p id="113">"Suy nghĩ tiêu cực gì vậy!? Giọng của cả hai đứa đều cực kỳ dễ thương, siêu cấp dễ thương!"</p><p id="114">“…”</p><p id="115">"C-cả Suou-san nữa..."</p><p id="116">Hầy, thôi cũng đành. Miễn là nó giúp tâm trạng hai đứa nhỏ tốt lên thì cũng đáng.</p><p id="117">"À phải rồi. Thế, đã có ai trong hai em thuộc bài chưa?"</p><p id="118">“…”</p><p id="119">Lại là ngôn ngữ ký hiệu. Tôi không biết cô bé vừa nói cái gì. Tôi thực sự cần bắt đầu học nó.</p><p id="120">"Hiyori, Atsuko nói gì vậy?"</p><p id="121">"Cậu ấy hỏi chính xác ý chị là gì. Em... cũng không được dạy bất cứ điều gì."</p><p id="122">Hả? Sai sót giao tiếp à? À vâng, chắc vậy rồi.</p><p id="123">"Chị đã dạy Saori và Misaki học bài được một thời gian. Hai em cũng sẽ tham gia cùng."</p><p id="124">"R-ra là vậy... và đổi lại chị sẽ buộc bọn em trở thành em gái của chị..."</p><p id="125">"Chị sẽ không."</p><p id="126">…trời ạ, sự tiêu cực của Hiyori là một thứ gì đó khác biệt. Tuy nhiên, so với ba người còn lại, thành thật mà nói, cô bé là người ổn định nhất về tinh thần trong nhóm. Sự dẻo dai của cô ấy có lẽ cũng đến từ lối suy nghĩ đó.</p><p id="127">“…”</p><p id="128">"G-gì thế ạ...!?"</p><p id="129">"À, không có gì."</p><p id="130">…chắc là Hiyori đang mắc chứng sợ bị từ chối[note85757].</p><p id="131">"Tóm lại, hai em cũng sẽ học bài với chị."</p><p id="132">“…”</p><p id="133">"Đ-đúng rồi… bọn mình chưa bao giờ thực sự đi học trước đây, thế nên... đợi đã. Vậy thì hai chị kia đâu...?"</p><p id="134">"Nay hai em ấy tự học. Trong tòa nhà bỏ hoang bên cạnh."</p><p id="135">“…!”</p><p id="136">"Hả?"</p><p id="137">Ê ê, Hiyori. Tại sao cơ mặt của em lại đột ngột co giật vậy? Mặt Atsuko thì bị che mất cơ mà... hy vọng rằng cô bé không có biểu cảm tương tự.</p><p id="138">"Nói cách khác, hôm nay chỉ có chị với hai đứa thôi."</p><p id="139">"E—eeehhh!?"</p><p id="140">Khuôn mặt của Hiyori tái nhợt trong tích tắc, dần dần chuyển sang tuyệt vọng hoàn toàn.</p><p id="141">Sao thế, em có vấn đề với việc học hả?</p><p id="142">Nhưng tôi cũng không thể lùi bước.</p><p id="143">"Vậy thì! Ngày hôm nay, các em sẽ học bài cùng với chị! Atsuko! Hiyori!"</p><p id="144">“…”</p><p id="145">"Uwaaahhh!! Kết thúc thật rồi!!"</p><p id="146">"Kết thúc của cái gì cơ!?"</p><p id="147">Câu đó nghĩa là gì, "cuộc đời kết thúc vì đi học à"!? Nó thực sự khủng khiếp như vậy sao!?</p><p id="148">"Không còn gì ngoài sự tuyệt vọng...!! Nếu đã vậy thì chí ít...!! Sẽ có đồ ăn vặt chứ!?"</p><p id="149">"Con háu ăn này!!"</p><p id="150">Thật khó tin! Cái con bé này nhìn thế mà da mặt dày điên!!</p><p id="151">"Rồi rồi! Chị sẽ cho em đồ ăn vặt, được chưa!! Nhưng chỉ khi em học hành đàng hoàng!!"</p><p id="152">“…”</p><p id="153">"A-Atsuko-chan...! Là đồ ăn vặt đó, tuyệt quá! Hãy cố gắng hết sức...!"</p><p id="154">Và cứ thế, lúc tôi chuẩn bị bắt đầu bài học thì—</p><p id="155">"Cuối cùng cô cũng lộ bản chất thật!! Cô đã làm gì với Hiyori và Atsuko!?"</p><p id="156">"Hai em không sao chứ...!?"</p><p id="157">Tiếng khóc của Hiyori đã đánh động hai người kia chạy vào, hoàn toàn hiểu lầm tình hình!?</p><p id="158">Niềm tin vào tôi với tư cách "chị cả" của họ có thực sự mong manh như vậy không!?</p><p id="159">“…!!”</p><p id="160">"Hai em không... bị đau ở đâu à...?"</p><p id="161">"Đ-Đó... có lẽ chỉ là hiểu lầm...!"</p><p id="162">A-Atsuko! Hiyori! Hai em đang cố gắng minh oan cho chị sao!?</p><p id="163">"Không lý nào! Cô ta làm hai em im lặng bằng cách nào đó phải không...!?"</p><p id="164">"Hèn hạ...!! Cái đồ khối u ác tính!!"</p><p id="165">Éo, nó méo ăn thua!!</p><p id="166">Và khoan đã, có phải Misaki mới dùng từ "khối u ác tính" mà tôi nói đùa hôm nọ không!? Em sử dụng nó sai cách rồi!!</p><p id="167">…cơ mà wow, họ thực sự đang học hành nghiêm túc để học được một từ vựng phức tạp như vậy.</p><p id="168">…không, khoan! Giờ không phải là lúc đa cảm!!</p><p id="169">"T-tất cả chỉ là hiểu lầm!! Hãy nghe chị giải thích!!"</p><p id="170">"Tại sao súng đạn của chúng ta không xi nhê gì...!?"</p><p id="171">Bọn trẻ manh động quá!? Bị bắn bằng súng cũng đau đấy nhé!?</p><p id="172">"Khốn kiếp...! Đồ quái vật!!"</p><p id="173">"Cô tự gọi mình là chị cả thế đấy à!?"</p><p id="174">…chuyện này có thực sự ổn không vậy cà? Liệu tôi có sống sót qua hôm nay không...?</p><p id="175">Mà, kệ đi. Tôi làm gì còn lựa chọn nào khác ngoài việc tiếp tục.</p><p id="176">Việc sửa đổi khẩu pháo cầm tay gần như đã hoàn thành. Đào tạo trẻ em đang đi đúng hướng.</p><p id="177">Từng bước một, tôi phải tiếp tục tiến gần hơn đến việc giết Beatrice.</p><p id="178">"Misaki... em sẽ ở lại chiến đấu bên cạnh chị chứ?"</p><p id="179">“…!… vâng. Atsuko, Hiyori. Chạy đi. Bọn chị sẽ giữ chân cô ta."</p><p id="180">“…! …!!”</p><p id="181">"C-chị đã bảo là hiểu lầm rồi mà...!!"</p><p id="182">Nhưng trước tất cả những điều đó – nghiêm túc mà nói, tôi cần phải khắc phục tình huống này trước đã!!</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note85754"><a href="#anchor-note85754" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note85754" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Vann: trong BA, trường học được xem như đất nước, chủ tịch nước được bầu lên thì giống như thủ tướng, còn cha truyền con nối thì giống hoàng gia</span></div><span class="note-content_real long-text">Vann: trong BA, trường học được xem như đất nước, chủ tịch nước được bầu lên thì giống như thủ tướng, còn cha truyền con nối thì giống hoàng gia</span></div>
                                                    <div style="margin-bottom: 20px;" id="note85755"><a href="#anchor-note85755" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note85755" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Vann: cảm ơn bác hồ đã giải phóng đất nước để con có thời gian ngồi đây dịch truyện</span></div><span class="note-content_real long-text">Vann: cảm ơn bác hồ đã giải phóng đất nước để con có thời gian ngồi đây dịch truyện</span></div>
                                                    <div style="margin-bottom: 20px;" id="note85757"><a href="#anchor-note85757" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note85757" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Vann: people-pleasing • một dạng của việc chiều theo cảm xúc của người khác để được yêu quý và sợ bị từ chối</span></div><span class="note-content_real long-text">Vann: people-pleasing • một dạng của việc chiều theo cảm xúc của người khác để được yêu quý và sợ bị từ chối</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c275900-17-cong-cuoc-trut-bo-ganh-nang-khoi-vai-con-tre-pckt-p2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
                    <div class="ln-comment-group">
    <div id="ln-comment-3133427"
    class="ln-comment-item mt-3 clear"
    data-comment="3133427" 
    data-parent="3133427" 
    data-type="chapter" 
    data-typeid="276616">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u66934-4ee874a2-08f6-4de7-a286-fee062777b08.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ring-2 ring-cyan-500 dark:ring-cyan-900">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/66934">Vannesith</a>
    </div>
                        <div class="self-center">
                <div
                    class="flex gap-1 rounded-sm shadow-[inset_0px_0px_0px_2px_#E63950] dark:bg-[#E63950]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#E63950] dark:text-[#FDCB02]">
                    <img class="my-auto h-[14px]" src="/img/badge/owner.png" />
                    <div class="leading-4">CHỦ THỚT</div>
                </div>
            </div>
                                    <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Cống hiến cho tư bản hai ngày trời về ngủ như chết tới giờ, cứ tưởng mất chuỗi rồi cơ 😴
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot?comment_id=3133427#ln-comment-3133427"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 22:36:23"
                                datetime="2025-12-21T22:36:23+07:00">
                                21-12-2025 22:36:23
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold">1</span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3133448"
    class="ln-comment-item mt-3 clear"
    data-comment="3133448" 
    data-parent="3133448" 
    data-type="chapter" 
    data-typeid="276616">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u214475-007d7fb7-4488-4dfa-8760-6ca8e6bd5036.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/214475">Ryukyuvania</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Khổ:)))
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24246-a-ts-reincarnated-student-who-just-tries-her-best/c276616-18-tung-buoc-mot?comment_id=3133448#ln-comment-3133448"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 22:47:20"
                                datetime="2025-12-21T22:47:20+07:00">
                                21-12-2025 22:47:20
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '3Q3jP71CS0dR7NmSci9egYZcVKrTzN8WxSqL8Ltz';
        var comment_type = 'chapter';
        var comment_typeid = '276616';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '3Q3jP71CS0dR7NmSci9egYZcVKrTzN8WxSqL8Ltz';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24246');
    chapter_id = parseInt('276616');

    readingObject = {
        series_id: series_id,
        series_title: 'A TS Reincarnated Student Who Just Tries her Best',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="3Q3jP71CS0dR7NmSci9egYZcVKrTzN8WxSqL8Ltz" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Defy Winter - 1.1 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Giữa một mùa đông không có dấu hiệu kết thúc, có hai người đi hẹn hò. Từ những ngày đầu của năm nay, một hiện tượng thời tiết bất thường đã xuất hiện và tiếp diễn đến tận hiện tại - một “mùa đông” dị thường. Mùa hạ không nóng,...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="iCiJIWnVtxN8m692BcsCu37iVTVOvV9Lt8rpaIGh">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23802-defy-winter/c279488-11">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23802-d0179da4-e90e-4572-a1bc-8d751f3178d2.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23802-defy-winter/c247333-mo-dau"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23802-defy-winter"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23802-defy-winter/c279488-11" style="background: url('https://i.hako.vn/ln/series/covers/s23802-d0179da4-e90e-4572-a1bc-8d751f3178d2.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23802-defy-winter">Defy Winter</a></h5>
                    <small><i class="fas fa-pen"></i>Hiroshi Ishikawa</small>
                    <small><i class="fas fa-paint-brush"></i>Syo5</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/23802-defy-winter/t33974-toan-van">Toàn văn</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23802-defy-winter/c247332-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23802-defy-winter/c247333-mo-dau">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Mở đầu
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23802-defy-winter/c279488-11">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        1.1
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Toàn văn</h2>
                    <h4 class="title-item text-base font-bold" align="center">1.1</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23802-defy-winter/c279488-11#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 4,122 từ - Cập nhật: 
                        <time class="topic-time timeago" title="26-12-2025 21:16:00" datetime="2025-12-26T21:16:00+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">1.1</p>
                    <p id="1"><img src="https://i.postimg.cc/QMqQcBLr/image-1.png" alt="image-1.png"></p><p id="2">Tiếng chuông báo thức từ điện thoại vang lên, đánh thức Yukihisa dậy từ giấc ngủ dài.</p><p id="3">Cậu uể oải rời giường, rồi kéo rèm cửa ra. Dưới nền trời âm u ngoài kia, đâu đâu cũng chỉ có một màu trắng xóa của tuyết. Chỉ sau một đêm, tuyết đã chất đầy trên mái nhà hàng xóm, trông bấp bênh đến mức như chỉ cần một tác động nhẹ là sẽ đổ ào xuống từ mái hiên. Và tuyết vẫn đang chầm chậm rơi, lặng lẽ giăng kín cả màn trời.</p><p id="4">Nhìn ngắm cảnh vật bên ngoài cửa sổ sau khi thức dậy đã trở thành một thói quen hàng ngày của Yukihisa.</p><p id="5">Sau đó, cậu mở điện thoại lên để xem dự báo thời tiết. Dù sáng nay thời tiết có vẻ an bình, nhưng cậu dám chắc là đêm qua tuyết rơi nặng hạt lắm. Việc ứng dụng giao thông công cộng xác nhận rằng mọi chuyến tàu ở trung tâm thành phố hôm nay đều bị tạm ngưng hoạt động là minh chứng rõ ràng nhất cho điều đó. </p><p id="6">Phía trường cậu đã chính thức ra công văn cho học sinh học ở nhà ngày hôm nay. Song, mấy đứa lớp cậu dường như khá thờ ơ với chuyện đó. Nhóm chat lớp dù đã xôn xao từ sáng, nhưng mọi người nhắn nhau mấy lời đùa giỡn là chủ yếu. Ví dụ như, tin nhắn gần nhất là một câu đùa rằng “Tớ sẽ đến trường ngay bây giờ để nhận tín chỉ học online đây!”, khiến cho nhiều bạn bật cười.</p><p id="7">Tuy cho học ở nhà nhưng trường cậu vẫn bắt học sinh phải mặc đồng phục, cũng như thời gian bắt đầu tiết chủ nhiệm buổi sáng vẫn như mọi ngày. Thế nên là, không có cách nào để cậu có thể ngủ nướng thêm lúc nữa cả. Thở dài, cậu đặt điện thoại lên bàn.</p><p id="8">Sau khi gập gọn, cậu cất bộ futon vào tủ rồi xuống tầng. Dưới phòng ăn, mẹ cậu đã ngồi sẵn ở đó từ bao giờ và đang uống cà phê. Mí mắt bà sụp xuống đầy vẻ mệt mỏi sau cả đêm làm việc.</p><p id="9">“Nay phải đi học không con?” Bà hỏi.</p><p id="10">“Nay tụi con được học online.”</p><p id="11">“Vậy à… bữa trưa của con mẹ để trong hộp bento rồi đó. Giờ mẹ đi ngủ đây.”</p><p id="12">Cậu liếc mắt về phía bàn bếp, nơi có một hộp bento với phần nắp đang được hé mở để đồ nguội bớt đi. Mẹ cậu đang làm lễ tân tại một khu nghỉ dưỡng gần biển. Vì công việc của bà làm theo ca, nên lịch sinh hoạt của hai mẹ con cậu gần như không bao giờ trùng nhau cả.</p><p id="13">Yukihisa xới ít cơm vào bát, đồng thời lấy một tí gà chiên còn thừa và tamagoyaki từ hộp bento và đặt lên đĩa. Cậu vừa ăn vừa bình thản lên tiếng.</p><p id="14">“Lát con sẽ qua nhà bạn để học online ạ.”</p><p id="15">Mẹ cậu chau mày đầy khó hiểu khi nghe những lời đó. Bà đặt cốc cà phê xuống, rồi hỏi.</p><p id="16">“Đang có cảnh báo tuyết rơi dày mà?”</p><p id="17">“Cái đó được gỡ bỏ rồi mà mẹ.”</p><p id="18">“Nhưng trời vẫn đang đổ tuyết đấy.”</p><p id="19">“Nhà bạn ngay gần đây thôi mà.” Yukihisa giải thích trong lúc tay gắp miếng tamagoyaki bỏ vào miệng. Tuy vậy, vẻ cau mày trên gương mặt mẹ cậu vẫn chưa tiêu tan. </p><p id="20">“Bạn đó đến từ Nishiko à?”</p><p id="21">“Vâng.”</p><p id="22">“Có phải bạn con quen ở Cao trung Izuminachi không?”</p><p id="23">“Vâng, cậu ấy mới chuyển đến đây để học cao trung đó mẹ.”</p><p id="24">Yukihisa mang bát đĩa ra bồn sau khi ăn xong bữa sáng. Và khi cậu sắp sửa rời khỏi bếp, mẹ cậu lên tiếng hỏi lần nữa.</p><p id="25">“Con đã hỏi thầy cô về vụ học bổng chưa?”</p><p id="26">“Con quên mất tiêu.” Cậu khựng lại một nhịp, rồi đáp lời mà không ngoái đầu lại. “Để xong tiết chủ nhiệm rồi con sẽ hỏi sau.”</p><p id="27">Yukihisa vào phòng tắm để đánh răng và rửa mặt, rồi mới leo lên lại phòng mình. </p><p id="28">Ngay khi cậu vừa bước chân vào phòng, không khí lạnh không biết từ đâu đập vào mặt cậu. Căn phòng giờ đây y như phòng lạnh nhà xác, nhưng vì lát nữa cậu sẽ rời đi nên cậu không định bật điều hòa làm gì. Run rẩy trong cái lạnh, cậu tức tốc đổi sang bộ đồng phục và chọn cho mình một đôi tất sọc để đeo. Nếu học trực tiếp trên trường như mọi hôm thì cậu không chọn đôi này đâu, nhưng nay là ngoại lệ mà.</p><p id="29">Ở dưới nhà, mẹ cậu vẫn đang xem TV trong phòng khách mà chưa đi ngủ. Thấy vậy, cậu buông lời chào, rồi nhanh chóng rời nhà.</p><p id="30">Cậu mới dọn sạch tuyết trên đoạn đường phía trước nhà ngay ngày hôm qua, vậy mà sáng nay trên đó đã chất một lớp tuyết mới dày đến giữa bắp chân luôn rồi. Hết cách, cậu lấy cái xẻng xúc tuyết đang dựa cạnh cửa, rồi bắt đầu dọn đường.</p><p id="31">Được một lúc thì đằng sau cậu có tiếng cửa trượt mở, đi cùng là tiếng gọi vọng ra của mẹ cậu. Nghe thấy thế, cậu tạm nghỉ tay một chút.</p><p id="32">“Mẹ xin lỗi,” Mẹ cậu ló đầu ra. “Lúc về đến nhà thì mẹ mệt quá rồi, nên mới để tạm vậy chưa dọn. Để đó lát mẹ làm cho.”</p><p id="33">Nghe vậy, Yukihisa dựng lại xẻng vô tường, rồi chỉnh lại cặp của mình.</p><p id="34">“Cầm ô đi con.” Mẹ cậu bảo, tay cầm một chiếc ô.</p><p id="35">“Vâng.”</p><p id="36">Cậu nhận lấy ô từ tay mẹ mình, rồi bắt đầu bước đi. Tuyết trắng vẫn lặng lẽ rơi, lấp đi dấu chân cậu tạo ra khi rảo bước trên con đường phủ đầy tuyết kia.</p><p id="37">Dọc con hẻm nhỏ cậu đi, cậu không bắt gặp bóng dáng của bất kì ai khác. Âu cũng là điều dễ hiểu, vì dù là học sinh hay người đã đi làm thì đều phải ở nhà trong hoàn cảnh này thôi. Những khái niệm như “học online” hay “làm việc từ xa” dẫu mới được cậu biết đến vào năm ngoái, thế mà nay đã trở thành điều phổ biến trong đời sống thường nhật rồi.</p><p id="38">Việc một mình dạo bước trên con hẻm đem đến một chút thư thái cho tâm trí Yukihisa. Nhờ vành ô cậu cầm liên tục cọ vào tường, tạo nên những thanh âm khe khẽ và nhịp nhàng, nên dù đi một mình nhưng cậu vẫn không thấy buồn chán.</p><p id="39">Thanh âm của cánh cửa trượt mở mới nãy bỗng hiện lên trong tâm trí Yukihisa. Từ thuở ấu thơ, cậu đã luôn thấy không thích cánh cửa tồi tàn đó rồi. Không chỉ cánh cửa, cậu còn không thích nhiều thứ khác trong căn nhà của mình. Từ cái đèn lồng treo trước cửa vào, cho đến gạch lát sàn mà làm cho phòng tắm nhà cậu trông như phòng tắm tráng ở bể bơi trường, hay căn phòng truyền thống kiểu Nhật của cậu – cậu đều không muốn cho ai khác biết cả. Căn nhà đã được xây từ thời ông nội cậu, nhưng dù những căn khác cùng thời ở Izuminachi hiện đã được tân trang thành khu nghỉ dưỡng cho thuê sang trọng hay quán cà phê hào nhoáng, duy chỉ có nhà cậu là vẫn không đổi theo năm tháng. Và cậu không thích điều đó chút nào.</p><p id="40">Đi được khoảng 5 phút thì cậu đến được nhà Minami. </p><p id="41">Con đường từ cổng vào đến trước nhà Minami đã được dọn dẹp gọn gàng, với những ụ tuyết nhỏ chất bên cạnh, tạo nên những gờ tuyết trắng mỏng trải dọc hai bên đường. Minami thì đang khom người xúc tuyết ngay cạnh lối vào. Việc mặc trên mình một bộ đồ cho dân trượt tuyết và đội mũ len làm cô trông như một người sinh ra và lớn lên trên một vùng đất toàn tuyết là tuyết vậy.</p><p id="42">“Minami, chào buổi sáng!” Yukihisa nói to.</p><p id="43">“Chào buổi sáng.” Minami ngước mắt lên, thở ra khói trắng và lên tiếng đáp lại. </p><p id="44">“Cậu tự dọn hết chỗ này à Minami?”</p><p id="45">“Còn ai vào đây nữa chứ?” Cô đáp lại với giọng điệu có phần hơi cục cằn như thường lệ. Đôi má ửng đỏ vì lạnh khiến cô có vẻ e thẹn lạ thường, làm cậu gần như bật cười.</p><p id="46">Cả căn nhà rộng lớn kia chỉ có mình cô sống ở trong đó. Hơn nữa, người duy nhất ghé chơi nhà cô chỉ có cậu mà thôi. Thế nên, việc cô hì hục dọn tuyết từ sáng thế này có lẽ một phần là để giúp cậu vào đây dễ dàng hơn. Biết được điều đó, cậu định nói lời cảm ơn cô, nhưng rồi lại thôi vì làm vậy thì ngại bỏ xừ.</p><p id="47">Khi cậu còn đang nghĩ vẩn nghĩ vơ, Minami bỗng khù khụ ho, gắt đến mức người phải tựa vào xẻng để tránh bị ngã.</p><p id="48">“Cậu có sao không?” Yukihisa bước tới gần Minami, ân cần hỏi han. </p><p id="49">“Hít thở trong bầu không khí lạnh thế này làm họng tớ cứ khò khè mãi không thôi.” Cô khàn khàn khẽ đáp lại cậu trong lúc dụi mắt bằng mu bàn tay mình.</p><p id="50">“À… Cái cảm giác đó, tớ hiểu mà.” Cậu đáp lại, rồi theo chân cô vào trong nhà.</p><p id="51">Không gian bên trong nhà tăm tối và lạnh lẽo, làm bật lên vẻ im lìm của căn nhà. Tuy mang một thiết kế thoáng đãng và thanh lịch, nhưng vì không có hơi người nên thiết kế ấy chỉ càng tô đậm thêm cảm giác trống trải mà không gian này đem lại. Sau bao năm sống trong căn nhà chật hẹp nhưng ấm cúng của mình, Yukihisa chỉ cần nhìn qua là biết ngay đây là một căn nhà để nghỉ dưỡng chứ không phải nơi để định cư. Phòng khách thoáng đãng, liên thông với nhà bếp, cùng một phòng khác ở tầng trên và có thể là một phòng khác nữa ở tầng một – quá đủ tiện nghi cho một gia đình mà có lẽ thi thoảng mới đến đây vào những dịp nghỉ hè hay cuối tuần.</p><p id="52">Tuy vậy, việc chỉ có mình Minami sống ở đây mới là điều làm Yukihisa thấy khó hiểu. Cậu không biết tí gì về hoàn cảnh gia đình cô, hay lí do cùng suy nghĩ của họ khi quyết định để cô ở đây một mình, vì hai người họ chẳng bàn luận về những chuyện kiểu thế bao giờ cả. Thật lòng mà nói, cậu thậm chí còn không biết mối quan hệ giữa hai người họ hiện tại nên được định nghĩa như thế nào nữa.</p><p id="53">Khi hai người lên đến tầng hai, Minami vào phòng và khóa trái cửa để thay đồ. Khi cửa được mở ra lại, cô đã diện xong lên mình bộ đồng phục trường rồi. Mặc trên mình một cái áo blazer xanh navy, đi kèm với chân váy xếp ly cùng chiếc cà vạt thắt hời hợt, trông cô bây giờ khác hẳn với khi diện trên mình bộ đồ trượt tuyết ban nãy.</p><p id="54">Hai người ngồi xuống đối diện nhau bên bàn sưởi kotatsu. Yukihisa lắp điện thoại mình vào một cái tripod để bàn, còn Minami thì mở MacBook ra. Không gian trong nhà vẫn tĩnh lặng đến lạ thường, cứ như thể nơi đây đã bị tách biệt khỏi dòng chảy vĩnh hằng của thời gian.</p><p id="55">Nhằm chuẩn bị trước khi vào buổi học, Yukihisa dùng một ứng dụng để chiếu mặt mình lên màn hình. Để ý thấy những cảnh vật xa lạ như phần tường và trần nhà hiện đại của nhà Minami hiện rõ mồn một sau lưng mình, cậu tức tốc vào phần cài đặt và bật chế độ phông nền ảo lên. Hiện lên sau đó là cảnh một bãi biển nhiệt đới, nhưng vì trông khá lạc lõng với thời tiết hiện tại, cậu quyết định đổi qua dùng cảnh một góc thành phố ở Châu Âu.</p><p id="56">“Ồ… cái này hay nha.” Minami bò lên giường và nghiêng người nhìn về phía màn hình của cậu, rồi nói. “Nếu để như này thì không ai có thể nhận ra được là tớ ngồi ngay sau cậu nhỉ?”</p><p id="57">“Không hẳn đâu. Nếu nhìn kĩ hơn, cậu có thể thấy ở chỗ giữa thân người tớ với ảnh nền ảo đằng sau ấy, vẫn có một khoảng trống nhỏ đấy.”</p><p id="58">“Ồ? Đâu để tớ xem thử.” Dứt lời, cô nghiêng mặt sát về phía cậu, gần đến nỗi Yukihisa có thể cảm nhận hơi thở của cô khẽ phả qua tai mình.</p><p id="59">“Với cả, để nền thế này lắm lúc trông kinh dị cực.” Cậu mỉm cười. “Nhìn kĩ hơn sẽ thấy như có bóng một người phụ nữ bí ẩn đang thấp thoáng sau lưng tớ đấy.” </p><p id="60">“Keta… mitsu… keta… “ Cô thầm thì.</p><p id="61">“Nghe mà rợn cả người.”</p><p id="62">Hai người bông đùa qua lại một lúc nữa, rồi Minami mới quay lại chỗ của mình, vừa lúc tiết chủ nhiệm bắt đầu.</p><p id="63">Cô giáo chủ nhiệm lớp hai người họ - Natsumi Sano - xuất hiện trên màn hình. Cô phụ trách bộ môn giáo dục thể chất nên họ thường thấy cô trong bộ đồ thể thao hơn, nhưng hôm nay thì khác. Vận trên người cô buổi nay là một chiếc áo len cổ tròn, trông trang trọng đến lạ thường.</p><p id="64">“Được rồi, vào học đi thôi...” Cô Sano nhìn xuống dưới, có lẽ là nhìn giáo trình hoặc màn hình máy tính của cô. “Các bạn vào lớp hết chưa? Hmm…Shiozawa đâu rồi?”</p><p id="65">“Ryoma có bảo em là điện thoại bạn ấy hết pin, nên là bạn đang đi mượn dùng máy tính bố mẹ bạn rồi cô.” Eguchi You cắt ngang lời cô Sano, làm cả lớp phá lên cười.</p><p id="66">“Kobayashi, sao em lại đeo khẩu trang vậy?” Cô Sano hướng mắt về phía Akari Kobayashi, thắc mắc.</p><p id="67">“Vì nay mặt em không được đẹp ấy mà.” Akari tinh nghịch đáp lại, kéo theo nhiều tràng cười rộn rã hơn nữa. Minami nghe vậy thì cũng híp mắt cười đầy vui vẻ.</p><p id="68">Akari thuộc vào nhóm nổi bật trong lớp, đồng thời là một trong những người bạn thân nhất của Minami. Cô là thành viên trong nhóm bốn người mà Yukihisa hôm qua gặp được ở trước tiệm tạm hóa. Mặc dù không mấy thân thiết với cô, Yukihisa vẫn luôn khâm phục việc cô có thể dễ dàng làm thân với người khác.</p><p id="69">“Còn mặt em thì xấu từ thuở lọt lòng rồi cơ.” Koutarou bỗng buông lời đùa, làm tiếng cười vừa lắng xuống lại rộn rã vang lên lần nữa. Dù không thuộc vào nhóm nổi bật của lớp, song Koutarou lại luôn biết cách nói ra những lời đùa hóm hỉnh, gây cười cho mọi người.</p><p id="70">Khác với thằng bạn mình, Yukihisa không được tự tin đến thế khi lên tiếng nói chuyện. Trong những khoảnh khắc như bây giờ, thường thì cậu sẽ giữ im lặng và ẩn mình vào đám đông.</p><p id="71">Trong lúc cậu đang ngẩn ngơ lắng nghe cô chủ nhiệm trình bày lịch học ngày hôm nay, cậu bỗng cảm thấy có gì đó chạm nhẹ vào đầu gối dưới bàn kotatsu. Hoang mang, cậu lật chăn lên để kiểm tra thử, nhưng lại chẳng thấy gì. Một lúc sau, cậu lại cảm thấy có gì đó đang chạm vào chân mình, lần này là chọc vào bắp chân cậu. Nghi ngờ, cậu ngước mắt nhìn về phía Minami và thấy cô nở một nụ cười đầy tinh nghịch. Cậu chỉ còn biết mỉm cười bất lực đáp lại.</p><p id="72">Và rồi, cậu không chút do dự mà đưa tay xuống bàn kotatsu và giữ chặt lòng bàn chân của cô lại. Sau đó, bàn chân của Minami liên tục giật mạnh, quẫy đạp như một con cá đang nỗ lực đào thoát khỏi bàn tay ngư dân. Cô cứ đạp vào chân cậu không ngừng như để đáp trả lại hành động giữ chân kia vậy.</p><p id="73">Khi những cú đạp chơi chơi của cô trở nên quá mức chịu đựng của cậu, Yukihisa đành phải lật chăn lên để nhìn vào bên trong.</p><p id="74">Màu xanh navy trên đôi tất của Minami như hóa đen dưới ánh đèn sưởi ấm áp màu cam của bàn kotatsu. Đèn chỉ vừa đủ sáng để cậu có thể có một ấn tượng mơ hồ về vị trí của bàn chân cô, chứ khó mà thấy được hết cảnh tượng mờ ảo phía dưới lớp chăn ấm áp, mềm mại này. Chân cô thoắt ẩn thoắt hiện mỗi lần đạp qua, tạo thành một nhịp điệu lôi cuốn đến lạ kì. Đây như một khoảnh khắc âm thầm nổi loạn cùng nhau của hai người dưới vỏ bọc của một tiết học bình thường như bao ngày. </p><p id="75">“Amagi…”</p><p id="76">Yukihisa vội ngẩng mặt lên khi nghe thấy tên mình được gọi. Cậu không biết là do hơi ấm từ kotatsu hay do được gọi tên trực tiếp, nhưng dù là gì thì mặt cậu hiện tại đang nóng bừng cả lên. Trên màn hình cuộc gọi, cô Sano đang áp sát mặt vào camera và nhìn thẳng vào cậu.</p><p id="77">“Tự nhiên biến đi đâu thế? Em có đang thực sự lắng nghe không vậy?”</p><p id="78">“À, dạ… tại cái kotatsu đó cô.” Yukihisa ấp úng, cố nghĩ ra lí do để lấp liếm.</p><p id="79">“Kotatsu?” Cô Sano nhướng mày khó hiểu.</p><p id="80">“Chả là… em tưởng nó bật rồi, nhưng hóa ra là chưa…” Lí do cậu đưa ra nghe rất khiên cưỡng, kéo theo một vài tiếng cười khẽ vang lên đây đó trong lớp học. Cô Sano cũng nở nụ cười, nhưng lại mang chút gì đó chế giễu trong đó.</p><p id="81">“Kotatsu hả? Nghe hay đấy. Lớp mình còn ai cũng đang ngồi kotatsu nào?” Cô Sano hỏi, xóa tan đi bầu không khí khó xử trước đó.</p><p id="82">Đáp lại lời cô, một vài cánh tay giơ lên như muốn tham gia vào trò vui trước mắt.</p><p id="83">“Có em nữa.” Minami khẽ nói, đồng thời kín đáo giơ tay lên ở mức vừa đủ cho Yukihisa để ý thấy. Cái cách cô cố ý quay mặt đi chỗ khác khi ánh mắt hai người chạm nhau càng tăng thêm tính nghịch ngợm cho điệu bộ kia của cô.</p><p id="84">Và rồi, tiết chủ nhiệm kết thúc ở đó.</p><p id="85">Khi mọi người đang lục tục rời lớp, Yukihisa nhớ lại câu hỏi ban nãy của mẹ cậu. Sau một thoáng do dự, cậu cất tiếng.</p><p id="86">“À, cô ơi…”</p><p id="87">Nghe vậy, cô Sano tạm ngưng đôi tay đang gõ phím cành cạch và hỏi lại. “Sao thế Amagi?”</p><p id="88">Yukihisa không trả lời ngay. Cậu có thể cảm thấy ánh nhìn tò mò của Minami từ phía bên kia bàn. Một cảm giác ngượng ngùng bỗng xuất hiện và chầm chậm len lỏi vào trong tâm trí khi cậu ngẫm lại ý định hỏi về học bổng của gia đình mình. </p><p id="89">“Chả là… em có chút thắc mắc…” cậu dợm hỏi, nhưng vì không muốn công khai đem vấn đề kia lên nên cậu đổi qua cách khác. “... em sẽ nhắn lại cho cô sau ạ.”</p><p id="90">Cô Sano gật đầu với nét mặt như thấu hiểu cho nỗi lòng cậu lúc này. “Ừm… nhớ nhắn cô là được.”</p><p id="91">Khi cô Sano biến mất khỏi màn hình, ánh nhìn của Yukihisa chuyển qua phía Minami. Phía sau chiếc laptop kia, cô đang nằm ườn ra đầy vẻ mệt mỏi, dường như không để ý là cậu đang nhìn cô.</p><p id="92">Tiết học đầu tiên của buổi nay là Tiếng Anh. Tiến trình cả tiết chẳng khác gì học trên trường bình thường và việc cần làm của học sinh vẫn thế, duy chỉ khác ở chỗ giờ đây giáo viên chuyển qua dạy học online. Và sự chuyển đổi này dường như không gây ra trắc trở gì cho học sinh cả. Bài giảng bỗng trở nên dễ nắm bắt hơn hẳn, khi thay vì những dòng chữ phấn nguệch ngoạc trên bảng thì nội dung giờ đây được truyền đạt qua hàng chữ ngay ngắn trên màn hình của học sinh.</p><p id="93">Trái ngược với tiết đầu tiên, tiết thứ hai trong ngày - môn Lịch sử thế giới được dạy bởi thầy Yaguchi, người vốn được biết đến là một giáo viên mù công nghệ - đã có một cách tiếp cận khác đến lớp Yukihisa. Thay vì tổ chức một buổi giảng dạy online như tiết đầu, ông lại chọn cách gửi một video bài giảng quay sẵn cho học sinh. Bối cảnh video đặt tại một phòng học trống với thầy Yaguchi đứng một mình trong đó, giảng giải bằng giọng điệu vang vọng một cách khó chịu cùng điệu bộ có phần gượng gạo và cứng nhắc.</p><p id="94">Trong suốt khoảng thời gian đó, Minami càng lúc càng trở nên buông thả hơn. Cô đang nằm ườn trên giường, tay chống vào một bên má trong lúc mắt dõi theo bài giảng trên màn hình. Yukihisa thì dựa lưng vào thành giường, rồi quay mặt nhìn về phía cô.</p><p id="95">“Thái độ học tập của cậu có vẻ không mấy nghiêm túc nhỉ.” Cậu trêu cô.</p><p id="96">“Trông tớ giống đang lơi là việc học à?” Minami khẽ nhếch môi cười và đáp lại. Thế rồi, cô thở dài và nằm ngửa ra. “Nằm chống tay thế này còn mệt hơn cả việc ngồi học nghiêm chỉnh nữa...”</p><p id="97">Yukihisa mỉm cười mỉa mai khi nhìn thấy dáng vẻ lười biếng đó của Minami. Bên tai cậu văng vẳng lời giảng như tụng kinh của thầy Yaguchi, câu từ trong đó cứ đi từ tai này qua tai kia mà không đọng lại gì trong cậu cả. Giọng điệu một màu của thầy, đi cùng với một video đơn điệu không kém, khiến cậu cảm thấy khó mà tiếp thu được nội dung bài giảng hôm nay. </p><p id="98">“Học kiểu này thì có ích gì cơ chứ?” Yukihisa lẩm bẩm thành tiếng, trong lòng cảm thấy lạc lõng một cách kì lạ. Minami bò lại gần cậu, làm phần đệm lún xuống một tí.</p><p id="99">“Sao đó? Tới kì nổi loạn rồi à?” Minami nói với giọng đùa giỡn.</p><p id="100">“Nếu cứ học online kiểu này thì tớ nghĩ là mình sẽ trượt đại học mất…” Yukihisa than thở trong lúc nhìn chằm chằm vào bàn tay mình như thể cậu sẽ kiếm được câu trả lời từ đó.</p><p id="101">“Tụi mình cứ làm việc cần làm là được mà. Mấy chuyện như này, năm ngoái làm gì có đâu…” Minami đảo mắt hướng lên trần và đáp lại.</p><p id="102">Yukihisa khẽ lắc đầu.</p><p id="103">“... Tớ thấy tụi mình chả khác gì một đám chuột bạch hết. Mấy khóa sau có lẽ sẽ ổn hơn thôi… nhưng còn tụi mình thì sao?”</p><p id="104">Thay vì lên tiếng trả lời luôn câu hỏi đó của Yukihisa, Minami lại đáp lại bằng cách chầm chậm đan những ngón tay mịn màng với bộ móng có phần long lanh kia vào những ngón tay thô ráp của cậu. Thế rồi, cô bỗng nhiên cúi người và dịu dàng vòng tay ôm lấy cậu từ phía sau mà không báo trước một lời. Cậu có thể cảm thấy người cô áp sát vào lưng mình, kéo theo hơi ấm từ cô lan tỏa ra khắp thân thể cậu, cũng như hơi thở phả nhẹ nhàng qua cổ cậu từ cô. </p><p id="105">Hơi ấm từ vòng tay cô đem đến một cảm giác thanh bình kì lạ cho tâm trí Yukihisa. Nhưng dường như, cũng chính cảm giác ấm áp và thư thái ấy lại đang đánh lạc hướng tâm trí cậu khỏi thứ gì đó quan trọng mà cậu đang chưa thể diễn tả thành lời. Vướng mắc ấy cứ âm ỉ trong sâu thẳm tâm hồn cậu kể từ khi “mùa đông” dị thường này bắt đầu, trở thành trạng thái bình thường mới trong cuộc sống của cậu. Cái lạnh lẽo của không khí ngoài kia, cái ấm áp mà cậu đang có được nhờ Minami hiện tại - tất cả đan lẫn vào nhau, tạo thành một lớp sương mù che phủ trí nhớ của cậu, khiến cho kí ức về cuộc đời cậu trước khi gặp cô trở nên xa xăm và mơ hồ.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23802-defy-winter/c247333-mo-dau" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23802-defy-winter" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23802-defy-winter" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'iCiJIWnVtxN8m692BcsCu37iVTVOvV9Lt8rpaIGh';
        var comment_type = 'chapter';
        var comment_typeid = '279488';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'iCiJIWnVtxN8m692BcsCu37iVTVOvV9Lt8rpaIGh';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23802');
    chapter_id = parseInt('279488');

    readingObject = {
        series_id: series_id,
        series_title: 'Defy Winter',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="iCiJIWnVtxN8m692BcsCu37iVTVOvV9Lt8rpaIGh" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

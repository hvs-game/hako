<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đại Pháp Sư Toàn Năng - Chương 291: Muôn vàn biến số (5) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Siêu tân tinh bùng nổ, lao đi nhanh như ánh sáng! Con người ôm giấc mơ vô tận giữa vũ trụ mênh mông. Shirone, đứa trẻ bị bỏ lại trong chuồng ngựa, quấn tã đơn sơ, Tự học, say mê sách đến mức sinh tử chẳng màng, Dẫu là con...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="kdANufRvMvXAaqJ4WLadDgvFvZJNZWOKEWSIqN9G">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c286262-chuong-291-muon-van-bien-so-5">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24443-dai-phap-su-toan-nang/c286254-chuong-290-muon-van-bien-so-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24443-dai-phap-su-toan-nang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24443-dai-phap-su-toan-nang/c286265-chuong-292-muon-van-bien-so-6-bi-mat-khong-lo-1"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24443-dai-phap-su-toan-nang/c286262-chuong-291-muon-van-bien-so-5" style="background: url('https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24443-dai-phap-su-toan-nang">Đại Pháp Sư Toàn Năng</a></h5>
                    <small><i class="fas fa-pen"></i>Kim Chi Woo / 김치우</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=" disabled "><a href="/truyen/24443-dai-phap-su-toan-nang">Tập 9</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c280999-chuong-221-ky-uc-ve-galliant-1">Tập 10</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283189-chuong-248-he-thong-van-hanh-1">Tập 11</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24443-dai-phap-su-toan-nang/t35438-tap-12">Tập 12</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283743-chuong-272-moi-quan-he-huu-nghi-day-thu-dich-1">
                                                                        Chương 272: Mối quan hệ hữu nghị đầy thù địch (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283836-chuong-273-moi-quan-he-huu-nghi-day-thu-dich-2">
                                                                        Chương 273: Mối quan hệ hữu nghị đầy thù địch (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283842-chuong-274-moi-quan-he-huu-nghi-day-thu-dich-3">
                                                                        Chương 274: Mối quan hệ hữu nghị đầy thù địch (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283925-chuong-275-moi-quan-he-huu-nghi-day-thu-dich-4">
                                                                        Chương 275: Mối quan hệ hữu nghị đầy thù địch (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5">
                                                                        Chương 276: Mối quan hệ hữu nghị đầy thù địch (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1">
                                                                        Chương 277: Mối quan hệ hữu nghị đầy thù địch (6) / Cái bẫy của sự lựa chọn một trong hai (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2">
                                                                        Chương 278: Cái bẫy của sự lựa chọn một trong hai (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285877-chuong-279-cai-bay-cua-su-lua-chon-mot-trong-hai-3">
                                                                        Chương 279: Cái bẫy của sự lựa chọn một trong hai (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285878-chuong-280-cai-bay-cua-su-lua-chon-mot-trong-hai-4">
                                                                        Chương 280: Cái bẫy của sự lựa chọn một trong hai (4) /Vũ hội đêm khuya (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285897-chuong-281-vu-hoi-dem-khuya-2">
                                                                        Chương 281: Vũ hội đêm khuya (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285906-chuong-282-vu-hoi-dem-khuya-3">
                                                                        Chương 282: Vũ hội đêm khuya (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285913-chuong-283-vu-hoi-dem-khuya-4">
                                                                        Chương 283: Vũ hội đêm khuya (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285950-chuong-284-vu-hoi-dem-khuya-5-loi-de-nghi-cua-teraze-1">
                                                                        Chương 284: Vũ hội đêm khuya (5) / Lời đề nghị của Teraze (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285958-chuong-285-loi-de-nghi-cua-teraze-2">
                                                                        Chương 285: Lời đề nghị của Teraze (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286206-chuong-286-loi-de-nghi-cua-teraze-3">
                                                                        Chương 286: Lời đề nghị của Teraze (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286244-chuong-287-loi-de-nghi-cua-teraze-4-muon-van-bien-so-1">
                                                                        Chương 287: Lời đề nghị của Teraze (4) / Muôn vàn biến số (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286248-chuong-288-muon-van-bien-so-2">
                                                                        Chương 288: Muôn vàn biến số (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286251-chuong-289-muon-van-bien-so-3">
                                                                        Chương 289: Muôn vàn biến số (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286254-chuong-290-muon-van-bien-so-4">
                                                                        Chương 290: Muôn vàn biến số (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286262-chuong-291-muon-van-bien-so-5">
                                                                        Chương 291: Muôn vàn biến số (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286265-chuong-292-muon-van-bien-so-6-bi-mat-khong-lo-1">
                                                                        Chương 292: Muôn vàn biến số (6) / Bí mật khổng lồ (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286283-chuong-293-bi-mat-khong-lo-2">
                                                                        Chương 293: Bí mật khổng lồ (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286286-chuong-294-bi-mat-khong-lo-3">
                                                                        Chương 294: Bí mật khổng lồ (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286293-chuong-295-bi-mat-khong-lo-4">
                                                                        Chương 295: Bí mật khổng lồ (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c286295-chuong-296-bi-mat-khong-lo-5">
                                                                        Chương 296: Bí mật khổng lồ (5)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c286316-chuong-297-chu-nhan-cua-y-thuc-1">Tập 13</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 12</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 291: Muôn vàn biến số (5)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c286262-chuong-291-muon-van-bien-so-5#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,695 từ - Cập nhật: 
                        <time class="topic-time timeago" title="06-01-2026 15:32:01" datetime="2026-01-06T15:32:01+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 291: Muôn vàn biến số (5)</p>
                    <p id="1"><strong>Muôn vàn biến số (5)</strong></p><p id="2">Zion nhìn Amy với ánh mắt đầy vẻ chế nhạo.</p><p id="3">“Hừ, đáng đời lắm. Đã bảo là phải biết chọn người mà chọc chứ.”</p><p id="4">“Đồ hèn hạ! Mau thả ta ra!”</p><p id="5">“Đừng lo. Ta sẽ thả thôi. Nhưng trước đó, cứ tận hưởng màn trình diễn hay ho này đi.”</p><p id="6">Zion hơi xoay người, ra lệnh cho Zenoger.</p><p id="7">“Mang đầu của Shirone lại đây cho ta.”</p><p id="8">Ngay lập tức, Zenoger nở nụ cười tanh tưởi, leo lên mạng nhện nơi Shirone đang bị trói.</p><p id="9">Nhờ năng lực Nguỵ Hình Nhện để điều chỉnh trọng tâm, hắn có thể di chuyển tự do trên những sợi dây thép sắc lẹm mà không hề chịu lấy một vết xước.</p><p id="10">“Amy! Amy!”</p><p id="11">Ngay cả trong tình thế tính mạng ngàn cân treo sợi tóc, Shirone vẫn gọi tên Amy.</p><p id="12">Chứng kiến cảnh đó, Zion càng thêm khoái chí. Hắn rất muốn hành hạ Amy ngay trước mắt cậu, nhưng khao khát nhanh chóng sở hữu Vô Niệm cũng mãnh liệt không kém.</p><p id="13">‘Khoan đã, còn Arius thì sao?’</p><p id="14">Mọi thứ đã được sắp đặt hoàn hảo, đáng lẽ hắn phải xuất hiện rồi mới đúng.</p><p id="15">Dù có chút bất an, nhưng một ma pháp sư Thang Giới điều khiển thời gian và không gian lại đến muộn tại điểm hẹn thì thật vô lý. Có lẽ hắn định đợi đến phút chót mới xuất hiện thật hoành tráng.</p><p id="16">‘Chậc, lại bày đặt diễn trò vô ích. Đúng là lũ chỉ được cái mã ngoài.’</p><p id="17">Dù sao thì ngay từ đầu hắn cũng chẳng lạ gì tính cách đó. Arius dù sao cũng có lòng tự trọng của một kẻ chuyên nghiệp, nên dù thế nào hắn cũng sẽ hoàn thành tốt công việc.</p><p id="18">Zion liếc nhìn xung quanh một lượt cuối cùng rồi ra hiệu bằng hành động cứa cổ.</p><p id="19">Zenoger, kẻ đang đè nén Shirone, thò lưỡi ra liếm mép như muốn liếm lấy khuôn mặt cậu. Thế nhưng Shirone chẳng thèm nhìn hắn, cậu dùng chút sức tàn cuối cùng hét lớn về phía Amy.</p><p id="20">“Amy! Chạy đi!”</p><p id="21">“Khà khà khà, thật đáng thương. Nhưng dù sao thì ngươi cũng phải chết.”</p><p id="22">Zenoger dang rộng tay chân, chọn vị trí như muốn đè bẹp Shirone. Từ mạn sườn hắn vang lên một tiếng "phập", hai cánh tay mới từ bên trong lớp áo lộ ra.</p><p id="23">Gương mặt Shirone tái mét khi nhìn thấy cảnh tượng đó.</p><p id="24">“Khì khì, sao thế? Thấy ghê tởm à? Nhưng ta có thể tạo ra tới tận 6 cánh tay cơ đấy.”</p><p id="25">Zenoger dùng hai cánh tay mới rút ra một sợi dây thép từ miệng. Với kỹ năng điêu luyện, hắn quấn một vòng quanh cổ Shirone.</p><p id="26">“Sẽ không đau đớn đâu. Vì đây là tay nghề hàng đầu trong giới mà.”</p><p id="27">Shirone cảm nhận được cái chết đã cận kề và nhắm mắt lại. Cuộc đời ngắn ngủi 18 năm có lẽ sẽ kết thúc tại đây. Thế nhưng cậu không thể chết như thế này được. Cậu dốc hết sức hét lớn:</p><p id="28">“Amy! Cái...!”</p><p id="29">“Xoẹt!”</p><p id="30">Trước khi Shirone kịp dứt lời, Zenoger cười một cách quái dị rồi dùng hai tay siết chặt sợi dây thép. Sợi tơ nhện lún sâu vào da thịt Shirone, tạo thành một vệt đỏ quanh cổ như một chiếc vòng.</p><p id="31">Cùng lúc đó, từ phía sau Zenoger vang lên tiếng điện xẹt "xèo xèo". Đó là tiếng động đặc trưng của ma pháp <strong>Hoán Ảnh</strong>, chiêu thức độc quyền của ma pháp sư <strong>Thang Giới</strong>.</p><p id="32">‘Quả nhiên là vậy.’</p><p id="33">Zion tặc lưỡi trước sự phô trương của Arius. Dù sao thì căn thời gian cũng rất tuyệt vời, nên cũng không có gì phải tức giận.</p><p id="34">“Hử?”</p><p id="35">Ánh mắt Zion thoáng hiện lên vẻ nghi hoặc.</p><p id="36">Đó không phải là Arius. Hay là Arius? Kẻ đó che kín mặt bằng mặt nạ, không thể nhận ra danh tính.</p><p id="37">“Cái bộ dạng gì thế kia?”</p><p id="38">Kẻ bịt mặt không đáp lời, lộn một vòng trên mặt đất rồi chặn đứng vị trí trọng yếu dẫn đến chỗ Reina và Amy. Chỉ cần nhìn vào vị trí chiếm giữ ngay khi vừa xuất hiện cũng đủ biết đó không phải đồng minh.</p><p id="39">‘Không phải Arius? Vậy tên khốn đó đang ở đâu? Shirone đã chết rồi sao...’</p><p id="40">Zion vội vàng quay đầu về phía Zenoger. Hắn vẫn đang nở nụ cười quái dị thường lệ, nhưng biểu cảm đó lại vặn vẹo một cách tinh vi, một vẻ mặt không bao giờ thấy được ở người thật.</p><p id="41">Shirone cũng đang mở to mắt nhìn về phía Amy. Và quan trọng nhất, sợi dây thép... vẫn đang lún sâu vào da thịt Shirone nhưng lại đứng im như bị đóng băng.</p><p id="42">Ngay khoảnh khắc đó, tiếng ma pháp Hoán Ảnh lại vang lên lần nữa.</p><p id="43">Arius vừa xuất hiện trong không gian đã lộn nhào trên sàn rồi dừng lại ngay sát cạnh Zion. Mồ hôi đầm đìa trên người hắn như thể vừa trải qua một hành trình cực kỳ gian khổ.</p><p id="44">“Chết tiệt! Đã muộn rồi sao?”</p><p id="45">Zion không kiềm chế được cơn thịnh nộ, hét lớn:</p><p id="46">“Cái gì thế này! Chuyện này là sao? Tên khốn kia là ai?”</p><p id="47">“Tôi không biết. Chắc chắn hắn là một <strong>Unlocker</strong> hệ thời gian. Tôi đã cố gắng cắt đuôi nhưng hắn liên tục làm nhiễu tọa độ của tôi...”</p><p id="48">Trong nghịch trường không - thời gian, hai người họ đã thực hiện hơn 700 lần <strong>Hoán Ảnh</strong>. Kẻ bịt mặt kia cũng gặp không ít khó khăn, nhưng kết quả là bản thân hắn đã đến muộn.</p><p id="49">‘Khốn kiếp. Khắc tinh lớn nhất đây rồi.’</p><p id="50">Đối với một kẻ chuyên về không gian thì kẻ chuyên về thời gian giống như thiên địch vậy. Ngược lại cũng thế.</p><p id="51">Họ giống như lửa và nước, luôn kỵ rơ nhau.</p><p id="52">Tuy nhiên, việc kẻ đó đến trước mình chứng tỏ trình độ của kẻ bịt mặt thuộc hàng thượng thừa ngay cả trong số các ma pháp sư Thang Giới.</p><p id="53">‘Rốt cuộc là ai chứ? Với thực lực cỡ đó thì chắc chắn phải là ma pháp sư mà mình biết.’</p><p id="54">Chính vì vậy kẻ đó mới bịt mặt.</p><p id="55">Việc che kín toàn bộ khuôn mặt hẳn là để che giấu danh tính một cách hoàn hảo. Dù sao thì khi đạt đến cấp độ đó, thị giác hoàn toàn có thể được thay thế bằng Linh Vực.</p><p id="56">Trong đầu Arius hiện ra vài cái tên nghi vấn. Thế nhưng không một ai trong số họ có lý do gì để đứng ra cản đường hắn trong tình huống này.</p><p id="57">Zion không kìm được, vung lưỡi kiếm trên găng tay tiến về phía Shirone.</p><p id="58">“Chậc! Được rồi! Để ta tự xử lý!”</p><p id="59">“Đừng có tiếp cận!”</p><p id="60">Zion giật mình khựng bước.</p><p id="61">Với bản tính ngạo mạn từ trong xương tủy, thay vì nghĩ mình vừa thoát khỏi nguy hiểm, hắn lại thấy khó chịu vì bị quát mắng.</p><p id="62">“Gì thế? Đằng nào hắn cũng chẳng cử động được mà.”</p><p id="63">“Đó là Nghịch trường thời gian, tuyệt kỹ của các <strong>Unlocker</strong> hệ thời gian. Nói một cách dễ hiểu, đó là ma pháp làm chậm được biến đổi sang dạng ly khai.”</p><p id="64">“Dạng ly khai? Nói tiếng người đi cho ta nhờ.”</p><p id="65">Arius thấy Zion thật chán ngán nhưng không còn cách nào khác.</p><p id="66">Cân nhắc đến việc trận chiến sắp nổ ra, hắn phải giải thích những điểm trọng yếu trong khi đang đối đầu với kẻ bịt mặt.</p><p id="67">Hắn không kỳ vọng vào sức chiến đấu của Zion, nhưng Armand tùy theo cách sử dụng vẫn có thể giúp ích được phần nào.</p><p id="68">“Nếu bước vào nghịch trường, Vương tử cũng sẽ rơi vào tình cảnh đó.”</p><p id="69">Zion quan sát Shirone và Zenoger đang bị đóng băng trong thời gian.</p><p id="70">Trong tình huống kẻ địch ở ngay trước mắt mà rơi vào trạng thái như thế, quả thực là cơn ác mộng.</p><p id="71">“Chỉ cần đừng lại gần là được. Ngay khi chạm vào, bất cứ ai cũng sẽ lâm vào cảnh tương tự.”</p><p id="72">“Vậy nếu tên khốn đó ra tay trước thì sao?”</p><p id="73">“Chuyện đó cũng không thể. Khi người thi triển bước vào <strong>Linh Vực</strong> dạng ly khai, trạng thái ly khai sẽ bị giải trừ. Tức là thời gian sẽ quay trở lại. Kẻ bịt mặt kia cũng chỉ có thể duy trì trạng thái này mà thôi.”</p><p id="74">Arius không rời mắt khỏi kẻ bịt mặt, lén lút quan sát nghịch trường.</p><p id="75">Bán kính của nó không lớn như hắn nghĩ. Nhưng vì đối phương chắc chắn là một chuyên gia về thời gian nên sự vặn xoắn thời gian hẳn là cực kỳ khủng khiếp.</p><p id="76">‘Ơ kìa?’</p><p id="77">Arius cảm thấy có gì đó lạ lùng, hắn nhìn chằm chằm vào nghịch trường thời gian. Chính xác là nhìn vào Zenoger và Shirone đang bị mắc kẹt bên trong.</p><p id="78">‘Họ đang cử động sao...?’</p><p id="79">Cánh tay của Zenoger đang chuyển động.</p><p id="80">Tất nhiên, ngay cả với một kẻ có giác quan cực kỳ tinh tế như hắn cũng không thể xác nhận bằng mắt thường, nhưng "cảm giác" về việc họ đang chuyển động là hoàn toàn chắc chắn.</p><p id="81">‘Rốt cuộc là chuyện gì thế này?’</p><p id="82">Với thực lực của đối thủ mà hắn nhận ra trong cuộc truy đuổi bằng Hoán Ảnh, đáng lẽ sự vặn xoắn thời gian phải cực kỳ khủng khiếp mới đúng.</p><p id="83">Thế nhưng với mức độ này, chỉ cần qua khoảng 1 tiếng đồng hồ là có thể xác nhận được những chuyển động bằng mắt thường.</p><p id="84">‘Nếu tính toán thời gian lặn xuống tận Ý thức bào thai giai đoạn 1 thì...’</p><p id="85">Arius nuốt nước bọt khan.</p><p id="86">Mọi chuyện vẫn chưa kết thúc.</p><p id="87">Vì não bộ chưa hoàn toàn tách khỏi cơ thể nên sẽ có áp lực từ tiềm thức, nhưng dù sao Shirone cũng đã phải chịu một cú sốc cận kề cái chết.</p><p id="88">Hơn nữa, khi đạt đến giai đoạn 1, tình trạng của Shirone sẽ còn tệ hơn nữa, nên nếu chiếm được ưu thế, hắn vẫn hoàn toàn có cơ hội chiến thắng.</p><p id="89">“Vương tử, tôi sẽ mở Cổng.”</p><p id="90">“Cái gì? Ngay bây giờ sao?”</p><p id="91">“Vẫn còn khả năng. Nhưng trớ trêu thay, tôi cần mượn chút sức lực. Ngay khi tôi bước vào, xin ngài hãy đi theo ngay lập tức.”</p><p id="92">Arius triển khai ma pháp Cổng ở bên ngoài nghịch trường. Linh Vực thực thể hóa tạo thành một khối cầu hình bầu dục cao 2 mét.</p><p id="93">Khi Arius lao vào, Zion nghiến chặt răng đầy vẻ khó xử.</p><p id="94">Nhưng không còn thời gian để do dự nữa. Đằng nào hắn cũng không muốn phải đối đầu với kẻ bịt mặt ở đây.</p><p id="95">“Chết tiệt! Thật phiền phức!”</p><p id="96">Zion thu hồi các xúc tu rồi lao mình vào bên trong Cổng.</p><p id="97">Lúc này kẻ bịt mặt mới thả lỏng tư thế cúi người và đứng dậy. Sau khi suy nghĩ một lát, người đó chạy thẳng về phía Cổng mà không thèm ngoái đầu lại.</p><p id="98">“Chờ đã!”</p><p id="99">Kẻ bịt mặt dừng lại trước Cổng, quay đầu nhìn Amy.</p><p id="100">“Làm ơn hãy mang tôi theo! Đó là cánh cổng dẫn đến Thiên Quốc đúng không? Tôi cũng từng đến đó rồi. Tôi sẽ giúp được anh trong việc cứu Shirone.”</p><p id="101">Kẻ bịt mặt lần đầu tiên cất tiếng nói.</p><p id="102">“Với tình trạng đó cô định vào bằng cách nào?”</p><p id="103">“Chuyện... chuyện đó... nếu anh có thể tháo thứ này ra giúp tôi...”</p><p id="104">“Hoả Thiêu.”</p><p id="105">“Dạ?”</p><p id="106">Amy tròn mắt nhìn kẻ bịt mặt.</p><p id="107">“Cô không biết Hoả Thiêu sao? Không phải cô là hỏa ma pháp sư à? Tơ nhện có độ kết dính cao rất sợ lửa. Nếu cô dùng hỏa ma pháp đốt nó đi thì đã có thể thoát ra rồi.”</p><p id="108">“À...”</p><p id="109">Amy ngẩn người ra. Cô không hiểu nổi tại sao mình lại không nghĩ ra điều đó.</p><p id="110">Vì tình thế quá cấp bách sao?</p><p id="111">Tất nhiên điều đó cũng đúng. Nhưng chính xác mà nói, cô đã không thể lôi nó ra từ trong tiềm thức của mình.</p><p id="112">Ngọn lửa của Linh Vực không thiêu đốt ma pháp sư, nhưng ngọn lửa phát ra khi đốt tơ nhện thì có.</p><p id="113">Sự tính toán thiệt hơn đó đã ức chế ý tưởng của cô. Ngay cả khi Shirone đang dần tiến tới cái chết.</p><p id="114">‘Tại sao mình lại...’</p><p id="115">Nước mắt Amy rưng rưng, cô cúi gầm mặt xuống.</p><p id="116">“Không cần phải tự trách mình. Tình huống này nếu không được huấn luyện thì rất khó để ứng phó. Kinh nghiệm của cô còn quá ít. Theo tôi sẽ rất nguy hiểm. Sẽ không mất quá nhiều thời gian đâu. Hãy đợi ở đây.”</p><p id="117">“Không! Tôi sẽ đi cùng!”</p><p id="118">Amy hét lên với đôi mắt đầy vẻ kiên định. Nếu cứ thế này để kẻ bịt mặt đi mất, cô cảm thấy mình sẽ hối hận suốt đời.</p><p id="119">‘Mình không sợ! Không phải vì sợ lửa hay gì cả!’</p><p id="120">Cô thực sự đã không nghĩ ra. Nhưng nếu là Shirone... chắc chắn cậu ấy sẽ nghĩ ra.</p><p id="121">Biết đâu lời cuối cùng cậu ấy định nói chính là Hoả Thiêu? Ngay cả trong tình cảnh sắp chết, cậu ấy vẫn muốn nói lời đó để cứu mình...</p><p id="122">‘Shirone! Em nhất định sẽ cứu anh!’</p><p id="123">Vừa thi triển Hỏa Sương, ngọn lửa đã bùng lên trên mạng nhện. Đúng như lời kẻ bịt mặt nói, nó bắt lửa cực kỳ tốt. Amy nhắm nghiền mắt lại, mặc kệ việc khuôn mặt mình có thể bị tổn thương.</p><p id="124">Ngay khoảnh khắc đó, hơi nóng đột nhiên biến mất.</p><p id="125">Mở mắt ra, cô thấy người đàn ông bịt mặt đang đứng đó, tay túm lấy mạng nhện ném vào không trung. Mạng nhện bị đốt cháy nhanh chóng và biến mất như những sợi chỉ dùng trong ảo thuật.</p><p id="126">“Ơ... tại sao...?”</p><p id="127">Kẻ bịt mặt thở dài, quỳ một gối xuống trước mặt Amy.</p><p id="128">“Thật ngu ngốc. Cho dù cô có thoát ra được thì kết quả cũng chẳng thay đổi đâu. Trừ khi đối thủ là kẻ ngốc, bằng không cái chết của Shirone sẽ chỉ bị đẩy nhanh hơn thôi.”</p><p id="129">Amy lập tức đứng dậy.</p><p id="130">Người đàn ông này thực sự rất mạnh. Và hiện tại người đó cũng đang không bỏ cuộc mà cố gắng thực hiện một điều gì đó.</p><p id="131">“Làm ơn hãy cho tôi đi. Không, bây giờ dù có một mình tôi cũng sẽ đi.”</p><p id="132">“Amy! Chị nữa, chị cũng sẽ đi! Mau thả chị ra!”</p><p id="133">Reina, người đang bị dính chặt ở trên cao, hét lớn trong khi đôi chân không ngừng vùng vẫy.</p><p id="134">Amy thi triển Hoả Thiêu giữa các ngón tay và hỏi:</p><p id="135">“Chị ổn chứ? Sẽ nóng lắm đấy.”</p><p id="136">“Lòng chị bây giờ còn đang nóng hơn đây này! Nhanh lên đi! Cánh cổng sắp đóng lại rồi đấy.”</p><p id="137">Amy mỉm cười, tăng cường ngọn lửa giữa ngón cái và ngón trỏ.</p><p id="138">Chỉ cần chạm nhẹ vào hơi nóng là lửa sẽ bùng lên ngay lập tức, nhưng nhờ tác động của trọng lực khi rơi xuống, có lẽ chị ấy sẽ không bị bỏng quá nặng.</p><p id="139">Thế nhưng trước khi cô kịp thi triển ma pháp, mạng nhện đã bị xẻ dọc một đường, và Reina rơi xuống.</p><p id="140">Amy nhìn kẻ bịt mặt với vẻ ngỡ ngàng. Người này là ai mà có thể dùng một chiêu Phong Đao đơn giản để cắt đứt chính xác mạng nhện như vậy? Ít nhất là trong số những người cô biết, không có ai có thực lực cỡ này.</p><p id="141">Reina đáp xuống một cách nhanh nhẹn rồi tiến lại gần Amy.</p><p id="142">Cô cũng nhìn kẻ bịt mặt với vẻ nghi hoặc. Dù có vẻ không phải người xấu nhưng vì không rõ danh tính nên cô vẫn không buông lỏng cảnh giác.</p><p id="143">Kẻ bịt mặt quan sát trạng thái của Cổng. Ở rìa không gian, các trường năng lượng đang phát ra mạnh mẽ. Đó là dấu hiệu cho thấy nó sắp biến mất.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c286254-chuong-290-muon-van-bien-so-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c286265-chuong-292-muon-van-bien-so-6-bi-mat-khong-lo-1" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'kdANufRvMvXAaqJ4WLadDgvFvZJNZWOKEWSIqN9G';
        var comment_type = 'chapter';
        var comment_typeid = '286262';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'kdANufRvMvXAaqJ4WLadDgvFvZJNZWOKEWSIqN9G';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24443');
    chapter_id = parseInt('286262');

    readingObject = {
        series_id: series_id,
        series_title: 'Đại Pháp Sư Toàn Năng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="kdANufRvMvXAaqJ4WLadDgvFvZJNZWOKEWSIqN9G" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

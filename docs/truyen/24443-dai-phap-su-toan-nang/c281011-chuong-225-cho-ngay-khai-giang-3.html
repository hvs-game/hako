<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đại Pháp Sư Toàn Năng - Chương 225: Chờ ngày khai giảng (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Siêu tân tinh bùng nổ, lao đi nhanh như ánh sáng! Con người ôm giấc mơ vô tận giữa vũ trụ mênh mông. Shirone, đứa trẻ bị bỏ lại trong chuồng ngựa, quấn tã đơn sơ, Tự học, say mê sách đến mức sinh tử chẳng màng, Dẫu là con...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="gLsLqNc7K2MAHJYWfJq5C6vSktrrqmhT3MbkbbD9">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c281011-chuong-225-cho-ngay-khai-giang-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24443-dai-phap-su-toan-nang/c281009-chuong-224-cho-ngay-khai-giang-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24443-dai-phap-su-toan-nang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24443-dai-phap-su-toan-nang/c281241-chuong-226-cho-ngay-khai-giang-4-shirone-dau-roi-1"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24443-dai-phap-su-toan-nang/c281011-chuong-225-cho-ngay-khai-giang-3" style="background: url('https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24443-dai-phap-su-toan-nang">Đại Pháp Sư Toàn Năng</a></h5>
                    <small><i class="fas fa-pen"></i>Kim Chi Woo / 김치우</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=" disabled "><a href="/truyen/24443-dai-phap-su-toan-nang">Tập 9</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24443-dai-phap-su-toan-nang/t35329-tap-04">Tập 10</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c280999-chuong-221-ky-uc-ve-galliant-1">
                                                                        Chương 221: Ký ức về Galliant (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281007-chuong-222-ky-uc-cua-galliant-2">
                                                                        Chương 222: Ký ức về Galliant (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281008-chuong-223-ky-uc-ve-galliant-3">
                                                                        Chương 223: Ký ức về Galliant (3) / Chờ ngày khai giảng (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281009-chuong-224-cho-ngay-khai-giang-2">
                                                                        Chương 224: Chờ ngày khai giảng (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281011-chuong-225-cho-ngay-khai-giang-3">
                                                                        Chương 225: Chờ ngày khai giảng (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281241-chuong-226-cho-ngay-khai-giang-4-shirone-dau-roi-1">
                                                                        Chương 226: Chờ ngày khai giảng (4) / Shirone đâu rồi? (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281243-chuong-227-shirone-dau-roi-2">
                                                                        Chương 227: Shirone đâu rồi? (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281246-chuong-228-shirone-dau-roi-3">
                                                                        Chương 228: Shirone đâu rồi? (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281247-chuong-229-shirone-dau-roi-4">
                                                                        Chương 229: Shirone đâu rồi? (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281248-chuong-230-shirone-dau-roi-5">
                                                                        Chương 230: Shirone đâu rồi? (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c281253-chuong-231-shirone-dau-roi-6-mo-phong-chien-dau-1">
                                                                        Chương 231: Shirone đâu rồi? (6) / Mô phỏng chiến đấu (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282071-chuong-232-mo-phong-chien-dau-2">
                                                                        Chương 232: Mô phỏng chiến đấu (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282075-chuong-233-mo-phong-chien-dau-3">
                                                                        Chương 233: Mô phỏng chiến đấu (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282198-chuong-234-mo-phong-chien-dau-4">
                                                                        Chương 234: Mô phỏng chiến đấu (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282212-chuong-235-mo-phong-chien-dau-5">
                                                                        Chương 235: Mô phỏng chiến đấu (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282237-chuong-236-mo-phong-chien-dau-6">
                                                                        Chương 236: Mô phỏng chiến đấu (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282337-chuong-237-mo-phong-chien-dau-7">
                                                                        Chương 237: Mô phỏng chiến đấu (7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282347-chuong-238-mo-phong-chien-dau-8">
                                                                        Chương 238: Mô phỏng chiến đấu (8)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282355-chuong-239-mo-phong-chien-dau-9-diem-tran-1">
                                                                        Chương 239: Mô phỏng chiến đấu (9) / Điểm quyết định (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282363-chuong-240-diem-quyet-dinh-2">
                                                                        Chương 240: Điểm quyết định (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282375-chuong-241-diem-quyet-dinh-3-ma-thuat-doi-dau-1">
                                                                        Chương 241: Điểm quyết định (3) / Cuộc đấu ma pháp (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282904-chuong-242-cuoc-dau-ma-phap-2">
                                                                        Chương 242: Cuộc đấu ma pháp (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282947-chuong-243-cuoc-dau-ma-phap-3">
                                                                        Chương 243: Cuộc đấu ma pháp (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282969-chuong-244-ma-phap-giao-phong-4">
                                                                        Chương 244: Cuộc đấu ma pháp (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282998-chuong-246-cuoc-dau-ma-phap-6">
                                                                        Chương 245: Cuộc đấu ma pháp (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c282999-chuong-246-cuoc-dau-ma-phap-6">
                                                                        Chương 246: Cuộc đấu ma pháp (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283026-chuong-246-cuoc-dau-ma-phap-7">
                                                                        Chương 247: Cuộc đấu ma pháp (7)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283189-chuong-248-he-thong-van-hanh-1">Tập 11</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283743-chuong-272-moi-quan-he-huu-nghi-day-thu-dich-1">Tập 12</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 10</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 225: Chờ ngày khai giảng (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c281011-chuong-225-cho-ngay-khai-giang-3#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,619 từ - Cập nhật: 
                        <time class="topic-time timeago" title="02-01-2026 18:41:37" datetime="2026-01-02T18:41:37+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 225: Chờ ngày khai giảng (3)</p>
                    <p id="1"><strong>Chờ ngày khai giảng (3)</strong></p><p id="2">---</p><p id="3">Thủ đô Bashka.</p><p id="4">Gia tộc Jerome là một dòng họ nhà giáo đã nhiều đời đào tạo ra những người thầy xuất sắc, đồng thời cũng là một trong những gia tộc có thế lực lớn nhất vương quốc.</p><p id="5">Người ta vẫn hay đùa rằng, nếu hỏi ai là người đứng trên cả nhà vua, thì câu trả lời chính là thầy của nhà vua - và câu nói ấy cũng không hẳn là sai.</p><p id="6">Chỉ cần tập hợp những môn sinh mà gia tộc Jerome từng đào tạo, cũng đã đủ để vận hành trơn tru cả một quốc gia.</p><p id="7">Alpheas, sau khi tới dinh thự chính của gia tộc Jerome, được quản gia dẫn đi dọc theo hành lang xây theo phong cách cổ xưa.</p><p id="8">Dù đã quen biết nhau suốt ba mươi năm, đây lại là lần đầu tiên hắn bước vào phòng riêng của bà.</p><p id="9">Khi quản gia mở cửa, một khung cảnh xa hoa lập tức hiện ra trước mắt.</p><p id="10">Sàn nhà sạch bóng đến mức có thể soi gương, còn dọc theo các bức tường là những kệ trưng bày chia làm ba tầng, bày kín đủ loại cổ vật.</p><p id="11">Phía bắc căn phòng trải một tấm thảm da hổ khổng lồ, rộng đến mức mười người nằm lên vẫn còn dư chỗ. Với tính cách căm ghét đồ giả của bà ta, chắc chắn đó là hàng thật. Chỉ là không rõ trên đời này liệu có từng tồn tại một con hổ lớn đến mức ấy hay không.</p><p id="12">Người phụ nữ đang ngồi trên ghế sofa đặt trên tấm thảm. Tuổi đã ngoài năm mươi, nhưng nhìn qua nói là ba mươi cũng chẳng ai nghi ngờ.</p><p id="13">Giờ đã đẹp, nhưng thời trẻ thì còn kinh người hơn. Sự kiêu kỳ và gọn gàng của bà khiến đàn ông khi ấy đến nói chuyện cũng chẳng dám mở miệng.</p><p id="14">“Đến rồi thì đóng cửa lại mà ngồi xuống. Đứng ngẩn ra đó làm gì? Đúng là ngu vẫn hoàn ngu.”</p><p id="15">Alpheas không nhịn được cười.</p><p id="16">Cái thói coi thường mọi đàn ông trên đời vẫn y như xưa. Giọng nói lanh lảnh như chim hoàng oanh ấy cũng chẳng đổi, khiến hắn có cảm giác như thời gian đang quay ngược lại.</p><p id="17">“Không, chỉ là thấy lạ thôi. Tò mò không biết bà sống ở nơi thế nào, hóa ra là bê nguyên cả cái tính khí vào đây.”</p><p id="18">“Xông thẳng vào nhà người khác rồi còn trơ trẽn nói nhảm. Một thằng nhà quê như ngươi thì biết giá trị đồ của ta ở chỗ nào chứ?”</p><p id="19">Tấm thảm chắc chắn là hàng thượng hạng. Chính vì vậy, Alpheas cố tình giẫm lên nó bằng đôi giày còn nguyên.</p><p id="20">Với tư cách là kẻ từng khiến người phụ nữ có cái mũi cao ngất thiên hạ này phải níu lấy ống quần van xin, đó là một chút đặc quyền hắn cho phép mình hưởng.</p><p id="21">Bà không trách móc hắn. Trái lại, gương mặt lại lộ rõ vẻ không biết nói sao cho phải.</p><p id="22">“Ngươi đang làm cái trò gì thế? À thôi, bỏ đi. Nói ngắn gọn xem, rốt cuộc có việc gì.”</p><p id="23">Alpheas nhếch mép cười. Ba mươi năm trước hay bây giờ, bà vẫn chẳng khác là bao.</p><p id="24">Jerome Olivia.</p><p id="25">Đại pháp sư cấp hai được công nhận chính thức, hiện là kiểm toán của hội đồng giáo sư. Bốn năm trước, bà còn từng giữ chức hiệu trưởng Học viện Ma pháp Hoàng gia.</p><p id="26">“Có việc gì đâu. Gửi thư không thấy trả lời, nên ta đành đích thân đến.”</p><p id="27">“Ngươi muốn ta làm gì? Tự mình gây chuyện rồi bị đình chỉ giảng dạy, sao lại bắt ta dọn dẹp hậu quả? Hiệu trưởng một trường ma pháp tỉnh lẻ? Lại còn là chức tạm thời sáu tháng?”</p><p id="28">“Cũng đâu có đóng đinh cứng nhắc như thế. Muốn ở lâu hơn thì cứ ở.”</p><p id="29">“Vậy thì vì sao? Ta có lý do gì phải bỏ căn nhà này để xuống vùng quê?”</p><p id="30">“Cùng già đi với nhau, nhàn rỗi uống trà tán gẫu chẳng phải cũng hay sao?”</p><p id="31">Sự phẫn nộ lạnh lẽo hiện lên trong mắt Olivia. Trông bà lúc này càng giống thời trẻ hơn.</p><p id="32">“Ngươi không nhầm chứ? Việc ta từng cảm mến ngươi là chuyện của ba mươi năm trước. Với lại, chắc ngươi chưa quên đã đối xử với ta thế nào đâu nhỉ? Quan trọng hơn cả, ngươi bây giờ chẳng còn gì gọi là hấp dẫn nữa.”</p><p id="33">“Ha ha! Đúng là vậy. Nhưng bà thì vẫn đẹp.”</p><p id="34">Olivia nghiến răng. Đây chính là lý do bà ghét đàn ông. Chỉ vì từng được trao tình cảm mà cứ như thể nắm giữ tất cả, đúng kiểu con nít.</p><p id="35">Một kẻ thất nghiệp bị tước cả chức hiệu trưởng, chẳng còn gì để khoe khoang, vậy mà vẫn dám cười nhởn nhơ, thật chướng mắt.</p><p id="36">“Rốt cuộc ngươi lấy đâu ra sự tự tin đó? Ta từng là hiệu trưởng Học viện Ma pháp Hoàng gia, đại pháp sư cấp hai được công nhận. Còn ngươi? Pháp sư cấp bốn, hiệu trưởng trường quê. Tiền ta kiếm nhiều hơn, sự kính trọng ta nhận cũng nhiều hơn. Vậy mà ngươi dám đến nhờ vả, lại còn trơ trẽn như thế, dựa vào cái gì?”</p><p id="37">“Ừm… chắc là vì bà thích ta chăng?”</p><p id="38">“Đồ… điên…”</p><p id="39">Mặt Olivia đỏ bừng. Già đầu rồi mà còn nói ra mấy lời sởn da gà như vậy. Chẳng lẽ đến tuổi này lại nổi chứng hồi xuân? Những lời mà trước đây hắn chưa từng nói, giờ lại tuôn ra trơn tru đến thế.</p><p id="40">“Thú thật nhé. Lâu ngày gặp lại, ta sợ nếu tỏ ra quá hèn mọn thì bà sẽ buồn.”</p><p id="41">“Ồ, hoàn toàn không đâu? Ta đã tưởng tượng cảnh ngươi quỳ trước mặt ta không biết bao nhiêu lần rồi.”</p><p id="42">Alpheas nở nụ cười chua chát. Nghĩ lại thì, có lẽ người chịu tổn thương nhiều hơn không phải là hắn, mà là bà.</p><p id="43">“Được thôi. Nếu bà nói đến mức đó, ta sẽ thẳng thắn cầu xin. Quỳ xuống ở đây là được chứ gì?”</p><p id="44">Olivia khịt mũi cười khinh. Giờ này rồi, quỳ xuống thì có ý nghĩa gì nữa?</p><p id="45">“Dạo này làm gì? Mất việc rồi. Chẳng lẽ thật sự bị chứng hồi xuân à?”</p><p id="46">“Cũng chẳng có gì. Đọc sách, đi dạo. Thỉnh thoảng trò chuyện đủ thứ với Erina.”</p><p id="47">Trong mắt Olivia lần đầu tiên hiện lên sự chấn động.</p><p id="48">Mối tình đầu và cũng là tình yêu cuối cùng của Alpheas. Trong tim hắn, Erina vẫn còn sống.</p><p id="49">‘Vẫn chưa quên được sao. Đúng là đồ ngốc.’</p><p id="50">Sau khi mất vợ, Alpheas lang bạt mười năm rồi quay về, ôm mộng trở thành giáo viên, bái nhập làm môn sinh của Olivia khi ấy còn trẻ. Là thiên tài hiếm có lập nên học thuyết lượng tử quang, hắn được Olivia tận tình chỉ dạy.</p><p id="51">Tận tình - và đó chính là vấn đề. Lẽ ra bà không nên nhận hắn, người vừa lớn tuổi hơn, vừa tài năng hơn, lại còn điển trai, làm đệ tử.</p><p id="52">Không kìm nén được tình cảm ngày một lớn, cuối cùng Olivia đã thổ lộ tình yêu với Alpheas.</p><p id="53">Nhưng Alpheas, kẻ vẫn không thể quên người vợ đã khuất, đã thẳng thừng từ chối. Kể từ ngày đó, cuộc đời bà rẽ sang hướng hoàn toàn khác.</p><p id="54">Bị tổn thương lòng tự tôn, những đêm khóc đến kiệt sức không phải chỉ một hai lần.</p><p id="55">Điều khiến bà phẫn nộ nhất là việc mình lại thua một người phụ nữ đã không còn trên đời.</p><p id="56">Tình yêu cháy bỏng của tuổi hai mươi khiến người ta mù quáng. Cuối cùng, trước mắt Alpheas, bà còn làm ra chuyện xé nát bức họa của Erina.</p><p id="57">Lần đầu tiên, Olivia cảm nhận được sát khí từ Alpheas. Dù níu lấy ống quần van xin, từ ngày đó trở đi, hắn không còn coi bà là con người nữa.</p><p id="58">Giá mà mọi thứ dừng lại ở đó thì tốt. Nhưng Olivia của khi ấy quá tuyệt vọng, lại quá cuồng nhiệt. Bà không có dũng khí từ bỏ mối tình đầu đời của mình.</p><p id="59">Và đó là sai lầm. Việc tìm đến phòng Alpheas đêm hôm ấy là lỗi lầm lớn nhất cuộc đời bà.</p><p id="60">“Đừng hiểu lầm, Alpheas. Việc ta không kết hôn không phải vì ngươi. Chỉ là ta thấy đàn ông là sinh vật phiền phức mà thôi.”</p><p id="61">“Vậy nên mới sưu tầm mấy thứ kỳ quái này sao? Olivia, không có con người nào không khao khát tình yêu.”</p><p id="62">“Cảm xúc hạ đẳng. Ngày trước ta theo đuổi ngươi cũng chỉ vì lòng tự trọng. Vì ngươi bị một người đàn bà đã chết mê hoặc, đến nhìn ta cũng không thèm.”</p><p id="63">“Chợt… ta nhớ đến chuyện đêm hôm đó.”</p><p id="64">Sắc mặt Olivia tái nhợt.</p><p id="65">“Bà vào phòng ta, cởi quần áo rồi—”</p><p id="66">“Im ngay!”</p><p id="67">Olivia giơ tay hét lớn. Ba mươi năm đã trôi qua, nhưng ký ức ấy vẫn sống động như ngày hôm qua. Khoảnh khắc đầu tiên và cũng là cuối cùng bà để một người đàn ông nhìn thấy thân thể mình.</p><p id="68">Khi đó, bà khao khát có được trái tim Alpheas đến mức nào. Thế nhưng, ngay cả lời cầu xin được ôm một lần, hắn cũng không chấp nhận.</p><p id="69">‘Khốn kiếp…’</p><p id="70">Nghĩ lại vẫn thấy tủi nhục đến rơi nước mắt.</p><p id="71">Chuyện xấu hổ nhất đời lại bị đem ra khoe khoang. Vì sao kẻ chịu tổn thương lúc nào cũng là phụ nữ?</p><p id="72">‘Không thể tha thứ. Nhất định ta sẽ khiến ngươi hối hận.’</p><p id="73">Biết mình đã thất thế, Olivia quyết định đi thẳng vào vấn đề. Bà cầm lấy phong bì tài liệu đặt trên sofa.</p><p id="74">“Được. Để ta xem thử.”</p><p id="75">Trong đó là thông tin về Học viện Ma pháp Alpheas.</p><p id="76">“Học viện Ma pháp Alpheas. Một trong năm danh môn ma pháp, xếp hạng tư. Trong các trường chuyên biệt, đứng thứ mười một. Với một kẻ ngốc thì cũng coi như làm được đấy. Hồi mới thành lập thì đúng là thảm không nỡ nhìn.”</p><p id="77">“May mắn thôi. Ta có nhiều học trò giỏi.”</p><p id="78">Olivia chỉ muốn đập cho cái đầu nhơn nhơn ấy một cái, như hồi còn là quan hệ thầy trò.</p><p id="79">“Ta nghe rồi. Có một đứa trẻ tên Shirone, đúng không?”</p><p id="80">“Điều tra kỹ thật. Ngay từ đầu bà đã định nhận lời rồi sao?”</p><p id="81">“Tự mà nghĩ. Điều ta thắc mắc là chỉ bùng nổ ở giai đoạn đầu. Xét thành tích mười năm gần đây, thì trong năm danh môn cũng chỉ ở mức suýt soát.”</p><p id="82">“Ta đã cố gắng hết sức để học sinh được học trong môi trường tốt. Thế là đủ rồi, không phải sao? Thứ hạng của trường không quan trọng.”</p><p id="83">“Ha ha! Vẫn cổ hủ như xưa.”</p><p id="84">Olivia gỡ chéo chân, nghiêng người về phía trước.</p><p id="85">“Được. Sáu tháng. Ta sẽ nhận. Ta sẽ biến nó thành danh môn hơn bây giờ rất nhiều.”</p><p id="86">“Hửm? Nghe có vẻ chẳng lành chút nào. Nhưng nếu được thế thì ta cũng biết ơn.”</p><p id="87">“Đổi lại, ta có điều kiện.”</p><p id="88">Alpheas nhướng một bên mày, mỉm cười. Ngay từ đầu hắn đã không mong bà giúp mà không đòi hỏi gì.</p><p id="89">“Có vài học trò ta từng dạy khi còn làm hiệu trưởng Học viện Ma pháp Hoàng gia. Hãy cho bọn trẻ đó chuyển sang trường của ngươi. Hồ sơ ở đây.”</p><p id="90">Alpheas chưa trả lời, chỉ nhận lấy hồ sơ.</p><p id="91">Hai thiếu niên và một thiếu nữ mười bảy tuổi, bằng tuổi nhau, đều là những học sinh nổi bật ngay cả trong Học viện Ma pháp Hoàng gia - danh môn số một của vương quốc.</p><p id="92">Lật từng trang hồ sơ, đến trang cuối cùng, mắt Alpheas bỗng mở to.</p><p id="93">“Dante? Là Dante mà ta biết sao?”</p><p id="94">Olivia che miệng cười.</p><p id="95">“Hô hô! Học sinh quá mức xứng đáng cho trường của ngươi đấy. Nhưng giờ ta là hiệu trưởng, nên không sao cả.”</p><p id="96">Alpheas chỉ biết chớp mắt ngây người. Hắn không ngờ Olivia lại dốc toàn lực đến mức này.</p><p id="97">Olivia chỉ thẳng vào Alpheas, tuyên bố:</p><p id="98">“Airhein Dante cùng hai người nữa sẽ chuyển trường. Đó là điều kiện của ta.”</p><p id="99">---</p><p id="100">Năm pháp sư lao nhanh qua vùng núi hiểm trở.</p><p id="101">Họ là một tổ đội trẻ, độ tuổi từ đầu đến giữa hai mươi, tất cả đều đã có chứng chỉ hành nghề chính thức, mỗi người là chuyên gia trong lĩnh vực riêng.</p><p id="102">Mục tiêu đột kích là sào huyệt của một băng sơn tặc đóng tại dãy núi gần thủ đô - một thế lực không thể xem nhẹ với mức truy nã hạng B.</p><p id="103">Tiêu diệt băng sơn tặc không chỉ mang lại danh tiếng mà còn có phần thưởng hậu hĩnh, nhưng lý do hôm nay họ lên núi lại khác.</p><p id="104">“Sao yên ắng thế này? Chết hết rồi à? Dù có hỗn hào thì cũng chỉ là trẻ con thôi mà.”</p><p id="105">“Hừ! Liên quan gì chứ? Có phải chúng ta giết đâu. Ngươi cũng có mặt hôm đó mà. Đám đó coi thường chúng ta đến mức nào. Học viện Ma pháp Hoàng gia thì ghê gớm lắm sao?”</p><p id="106">“Đúng vậy. Dù có non nớt thì cũng không nên coi thường pháp sư đang hành nghề. Trẻ con dạo này quá ngạo mạn. Phải bị một cú đau mới tỉnh.”</p><p id="107">Khi đến nơi, sào huyệt im phăng phắc như chuột chết.</p><p id="108">Mang theo nghi hoặc, họ mở cửa ra và một cảnh tượng kinh ngạc hiện lên.</p><p id="109">Gần bốn mươi tên sơn tặc hạng B nằm la liệt dưới đất.</p><p id="110">Những học sinh đang ngồi quanh bàn tròn ngẩng đầu chào đón họ.</p><p id="111">“Ơ? Muộn vậy sao? Bọn tôi đợi lâu lắm rồi đấy.”</p><p id="112">Các lính đánh thuê câm nín. Họ chỉ xuất phát chậm hơn mười phút. Trong khoảng thời gian đó, việc học sinh tiêu diệt toàn bộ băng sơn tặc hạng B là điều không tưởng.</p><p id="113">“C-các ngươi rốt cuộc là ai?”</p><p id="114">“Chuyện có gì đâu mà căng thế? Người lớn làm vậy không thấy xấu hổ à? Hì hì!”</p><p id="115">Một thiếu niên cao lớn, cơ bắp cuồn cuộn, trông chẳng giống pháp sư chút nào, bật cười.</p><p id="116">Đó là Bonifard Closer, học sinh Học viện Ma pháp Hoàng gia.</p><p id="117">Làn da màu đồng, gương mặt sắc sảo, mái tóc nâu đen hất ngược dựng đứng như lông nhím.</p><p id="118">“Kha kha kha! Vài hôm trước còn mạnh miệng lắm mà. Sợ quá nên cố tình đến trễ à?”</p><p id="119">Cô gái có đôi mắt giống mèo - Victor Sabina - cong mắt cười, mỉa mai các lính đánh thuê. Thân hình nhỏ hơn bạn bè cùng tuổi, nhưng phát triển đầy đặn, vòng eo thon gọn như bị thắt bằng dây.</p><p id="120">Đám lính đánh thuê nghiến răng. Thua dưới tay học sinh là nỗi nhục. Hơn nữa, nếu chuyện này lan ra, họ có thể bị giới lính đánh thuê loại bỏ.</p><p id="121">“Có vẻ đã đến lúc thừa nhận rồi nhỉ? Bọn tôi thắng, đúng chứ?”</p><p id="122">Airhein Dante, kẻ khởi nguồn cho toàn bộ sự việc, lên tiếng. Mái tóc xám như mây giông, dung mạo dữ dằn nhưng toát lên vẻ trí thức của một mỹ nam.</p><p id="123">Các lính đánh thuê cúi đầu. Với pháp sư đang hành nghề, thứ quan trọng nhất là danh tiếng và thành tích. Một pháp sư thua học sinh, liệu còn ai dám bỏ tiền thuê?</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c281009-chuong-224-cho-ngay-khai-giang-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c281241-chuong-226-cho-ngay-khai-giang-4-shirone-dau-roi-1" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'gLsLqNc7K2MAHJYWfJq5C6vSktrrqmhT3MbkbbD9';
        var comment_type = 'chapter';
        var comment_typeid = '281011';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'gLsLqNc7K2MAHJYWfJq5C6vSktrrqmhT3MbkbbD9';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24443');
    chapter_id = parseInt('281011');

    readingObject = {
        series_id: series_id,
        series_title: 'Đại Pháp Sư Toàn Năng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="gLsLqNc7K2MAHJYWfJq5C6vSktrrqmhT3MbkbbD9" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

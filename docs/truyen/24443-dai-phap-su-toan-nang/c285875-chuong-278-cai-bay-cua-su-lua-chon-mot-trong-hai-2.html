<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đại Pháp Sư Toàn Năng - Chương 278: Cái bẫy của sự lựa chọn một trong hai (2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Siêu tân tinh bùng nổ, lao đi nhanh như ánh sáng! Con người ôm giấc mơ vô tận giữa vũ trụ mênh mông. Shirone, đứa trẻ bị bỏ lại trong chuồng ngựa, quấn tã đơn sơ, Tự học, say mê sách đến mức sinh tử chẳng màng, Dẫu là con...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="yDzwz640lbAHCGdcc1nQLRpkPSHgN7WkAl3JPsay">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24443-dai-phap-su-toan-nang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24443-dai-phap-su-toan-nang/c285877-chuong-279-cai-bay-cua-su-lua-chon-mot-trong-hai-3"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2" style="background: url('https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24443-dai-phap-su-toan-nang">Đại Pháp Sư Toàn Năng</a></h5>
                    <small><i class="fas fa-pen"></i>Kim Chi Woo / 김치우</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=" disabled "><a href="/truyen/24443-dai-phap-su-toan-nang">Tập 9</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c280999-chuong-221-ky-uc-ve-galliant-1">Tập 10</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283189-chuong-248-he-thong-van-hanh-1">Tập 11</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24443-dai-phap-su-toan-nang/t35438-tap-12">Tập 12</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283743-chuong-272-moi-quan-he-huu-nghi-day-thu-dich-1">
                                                                        Chương 272: Mối quan hệ hữu nghị đầy thù địch (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283836-chuong-273-moi-quan-he-huu-nghi-day-thu-dich-2">
                                                                        Chương 273: Mối quan hệ hữu nghị đầy thù địch (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283842-chuong-274-moi-quan-he-huu-nghi-day-thu-dich-3">
                                                                        Chương 274: Mối quan hệ hữu nghị đầy thù địch (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283925-chuong-275-moi-quan-he-huu-nghi-day-thu-dich-4">
                                                                        Chương 275: Mối quan hệ hữu nghị đầy thù địch (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5">
                                                                        Chương 276: Mối quan hệ hữu nghị đầy thù địch (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1">
                                                                        Chương 277: Mối quan hệ hữu nghị đầy thù địch (6) / Cái bẫy của sự lựa chọn một trong hai (1)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2">
                                                                        Chương 278: Cái bẫy của sự lựa chọn một trong hai (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285877-chuong-279-cai-bay-cua-su-lua-chon-mot-trong-hai-3">
                                                                        Chương 279: Cái bẫy của sự lựa chọn một trong hai (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285878-chuong-280-cai-bay-cua-su-lua-chon-mot-trong-hai-4">
                                                                        Chương 280: Cái bẫy của sự lựa chọn một trong hai (4) /Vũ hội đêm khuya (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285897-chuong-281-vu-hoi-dem-khuya-2">
                                                                        Chương 281: Vũ hội đêm khuya (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 12</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 278: Cái bẫy của sự lựa chọn một trong hai (2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,929 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-01-2026 16:51:18" datetime="2026-01-05T16:51:18+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 278: Cái bẫy của sự lựa chọn một trong hai (2)</p>
                    <p id="1"><strong>Cái bẫy của sự lựa chọn một trong hai (2)</strong></p><p id="2">“Shirone, ngay cả một con bướm xinh đẹp nếu nhìn quá gần cũng chỉ là một thứ dị hợm mà thôi. Thế gian này ngoài con ra thì chẳng có ai tốt đẹp cả, và việc biểu lộ cảm xúc ra bên ngoài thì lúc nào cũng không tốt. Nhất là khi con muốn bảo vệ những người mình yêu thương.”</p><p id="3">Shirone hít một hơi thật sâu để kìm nén sự kích động. Hiện tại không phải là lúc để nổi giận mà là lúc phải tìm ra đối sách.</p><p id="4">“Vậy… tôi phải làm gì tiếp theo?”</p><p id="5">“Hãy thể hiện sức mạnh của con. Nếu bọn họ muốn có một tiêu chuẩn phán đoán xem nên đứng về phía ai, thì việc cung cấp cho họ một nguồn tin chính xác cũng là một phương pháp.”</p><p id="6">Đến lúc này Orkamp mới nói ra những lời từ tận đáy lòng.</p><p id="7">“Ta sẽ sắp xếp một buổi diện kiến. Hãy trình diễn Vô Niệm. Nếu con thể hiện được sức mạnh của mình ở đó, ít nhất phe ta và phe địch sẽ được phân định rõ ràng. Như vậy, tối thiểu chúng sẽ không đụng đến gia đình con nữa.”</p><p id="8">Ánh mắt Shirone trĩu xuống. Trong khi tâm trí dần bình lặng lại thì một luồng khí nóng bỏng lại trào lên từ thực quản và nghẹn lại nơi cổ họng.</p><p id="9">“Đó mới chính là... lý do thực sự mà ngài gọi tôi đến đây.”</p><p id="10">Orkamp khẽ thở dài. Quả nhiên những lời nói dối không thể qua mắt được Shirone.</p><p id="11">“Con đã nghe nói về Valkyrie chưa? Đó là đội quân do Teraze tổ chức để chuẩn bị cho cuộc chiến cuối cùng. Vương quốc Kazura có thể sống sót về mặt kinh tế là nhờ vào việc nhận đơn đặt hàng vũ khí chiến tranh cho nơi đó. Thế nhưng tình hình không hề lạc quan. Lý do Teraze cài cắm con cái của ả ở đây là để một ngày nào đó sẽ lật đổ ta và nuốt chửng Kazura. Chúng ta cần phải tăng cường tầm ảnh hưởng hơn nữa bên trong Valkyrie. Với Vô Niệm của con, điều đó hoàn toàn khả thi.”</p><p id="12">Shirone cảm thấy sức lực như rút cạn khỏi cơ thể. Dù đã lờ mờ đoán ra nhưng khi nghe chính miệng người được coi là cha đẻ nói ra những lời này, nước mắt cậu không kìm được mà trào ra.</p><p id="13">Cuối cùng thì huyết thống cũng chẳng quan trọng. Thứ họ muốn là Vô Niệm – năng lực của Đại Thiên Sứ.</p><p id="14">“Ta khẩn cầu con. Hãy thực hiện buổi trình diễn. Chỉ riêng việc ra mắt trước mặt các quý tộc thôi cũng đã mang lại sức ảnh hưởng cực kỳ to lớn rồi. Đây là cơ hội để kéo phe trung lập về phía chúng ta.”</p><p id="15">Shirone cố gắng nuốt ngược những giọt nước mắt vào trong. Vì Orkamp không khóc, nên cậu cũng không được phép khóc.</p><p id="16">“Ngài nghĩ rằng nếu nói như vậy thì tôi sẽ ngoan ngoãn tuân theo sao?”</p><p id="17">“Ngược lại mới đúng. Thế nên ta định đưa ra một đề nghị. Trước đây con đã nói rằng con muốn trở về nhà. Ý nghĩ đó hiện tại vẫn còn hiệu lực chứ?”</p><p id="18">“Không, nó không còn hiệu lực nữa. Bởi vì hiện tại tôi còn muốn trở về hơn cả lúc đó.”</p><p id="19">Orkamp không hề tỏ ra khó chịu trước lời mỉa mai của Shirone.</p><p id="20">“Nếu con thực hiện buổi trình diễn, ngay khi việc xác nhận huyết thống kết thúc, ta sẽ cho con về nhà. Con có thể tiếp tục học trường ma pháp, hoặc làm bất cứ điều gì con muốn. Nếu con không muốn đến vương thành nữa, con cũng không cần phải đến. Con thấy sao?”</p><p id="21">Shirone cũng không thể làm ngơ trước đề nghị lần này.</p><p id="22">Thực tế khi đã nếm trải cuộc sống ở vương thành, trái với suy nghĩ ban đầu, việc trở về nhà không hề đơn giản. Trong tình cảnh đó, đề nghị của Orkamp rõ ràng là rất hấp dẫn.</p><p id="23">“Thế nhưng nếu vậy thì ngài sẽ không thể lợi dụng Vô Niệm được nữa. Cuối cùng thì ngài vẫn sẽ cần đến tôi, ngài định thuyết phục các đại thần như thế nào?”</p><p id="24">Orkamp cảm thấy bất an vì dường như tâm tư của mình đã bị nhìn thấu. Lý do ông đề xuất buổi trình diễn còn vì một mục đích lớn lao hơn nhiều so với việc lôi kéo phe trung lập.</p><p id="25">Arius đã nói rằng nếu trực tiếp quan sát Vô Niệm, ông ta có thể tìm ra phương pháp để sao chép nó.</p><p id="26">Một khi việc sao chép thành công, Shirone sẽ không còn cần thiết nữa. Không, trái lại, việc cậu rời khỏi vương thành lại là một điều tốt. Ngay cả vì cuộc đời của Shirone cũng vậy...</p><p id="27">“Vì thế nên mới cần đến một cuộc giao dịch ngầm. Đối với các đại thần, ta sẽ tuyên bố rằng con sẽ trở lại sau khi tốt nghiệp trường ma pháp. Con bảo là còn 1 năm đúng không? Trong thời gian đó, ta sẽ thanh trừng phe cánh Teraze. Sau đó, mỗi người sẽ đi con đường riêng của mình.”</p><p id="28">Nói tóm lại, nếu không thể thanh trừng được phe Teraze thì cuộc giao dịch này sẽ bị vô hiệu hóa.</p><p id="29">Thế nhưng Shirone cũng gật đầu như thể đã chấp nhận rủi ro ở mức độ đó. Chỉ cần đảm bảo được 1 năm này, việc ông ta có giữ lời hứa hay không đối với cậu cũng không còn quan trọng.</p><p id="30">Chỉ cần tốt nghiệp trường ma pháp, cậu vốn đã định chuyển nơi ở. Cứ coi như khoảng cách chuyển nhà xa hơn một chút là được.</p><p id="31">Ít nhất là cho đến khi tích lũy đủ sức mạnh để không bị lung lay bởi vương quyền, cậu sẽ sống như vậy.</p><p id="32">“Tại buổi trình diễn sẽ có những ai tham dự?”</p><p id="33">“Ta đã gửi thông báo rồi. Toàn bộ giới quý tộc cao cấp sẽ tập trung lại. Họ đang kỳ vọng vào một màn trình diễn hào nhoáng.”</p><p id="34">Shirone nhìn Orkamp bằng ánh mắt buồn bã.</p><p id="35">“Ngay từ đầu ngài đã biết là tôi không thể từ chối rồi đúng không.”</p><p id="36">“Shirone, đây là đề nghị mà con đã đưa ra trước vào 3 ngày trước. Ta chỉ tạo ra danh nghĩa để cho phép điều đó mà thôi.”</p><p id="37">Orkamp lạnh lùng cho đến tận phút cuối cùng.</p><p id="38">Nhưng nhờ vậy mà Shirone cũng lấy lại được sự bình tĩnh. Không phải vì Kazura. Cậu định làm điều này vì gia đình mình.</p><p id="39">“Tôi hiểu rồi. Khi chuẩn bị xong hãy gọi tôi. Giờ tôi phải đi gặp ‘cha mẹ’ của mình đây.”</p><p id="40">Tâm trí cậu muốn cứ thế mà bước ra ngoài ngay lập tức. Cậu cũng biết rằng dù cậu có làm vậy, Orkamp cũng sẽ không khiển trách.</p><p id="41">Thế nhưng Shirone vẫn giữ đúng lễ nghi rồi mới rời khỏi phòng.</p><p id="42">Đối với cậu, Orkamp chỉ là vị vua của một nước láng giềng.</p><p id="43">___</p><p id="44">Khi về đến chỗ ở, việc đầu tiên Shirone làm là xem xét tình hình của cha mẹ.</p><p id="45">Có lẽ vì cả đêm không ngủ nên quầng mắt họ thâm quầng. Vì sợ con trai lo lắng nên Olina cố gắng mỉm cười, nhưng khuôn mặt bà tái nhợt như tờ giấy trắng.</p><p id="46">Ngay cả một người học ma pháp như cậu mà tim còn đập thình thịch, huống chi là bà, một người cả đời chưa từng làm hại ai, gánh nặng này đối với bà là quá lớn.</p><p id="47">‘Con xin lỗi, thưa mẹ.’</p><p id="48">Amy đón tiếp Shirone mà không cố tỏ ra tươi tỉnh, cũng chẳng để lộ vẻ căng thẳng. Cô chỉ nở một nụ cười cay đắng và giơ tay chào đón.</p><p id="49">Từ dáng vẻ của cô, Shirone cảm nhận được một tình đồng chí sâu sắc.</p><p id="50">Reina, người đang họp với các tùy tùng ở phòng bên cạnh, hớn hở chào đón cậu.</p><p id="51">“Em đến rồi sao, Shirone. Chị đang đợi em đây.”</p><p id="52">Trong khi mọi người đều tiều tụy thì chỉ riêng Reina là tràn đầy sức sống. Quả nhiên với tư cách là nhạc công cung đình, cô đã quá quen với bầu không khí trong vương thành.</p><p id="53">Dù việc nhìn thấy khía cạnh mới này của cô là một điều thú vị, nhưng vào lúc này, tâm trạng của cậu không hề tốt chút nào.</p><p id="54">Không phải cậu ghét cô. Thế nhưng chắc hẳn không ai hiểu được tâm trạng của cậu khi phải trở thành một kẻ ngốc suốt cả ngày trong khi tính mạng của gia đình đang được giao vào tay kẻ khác.</p><p id="55">“Em vừa gặp Orkamp về.”</p><p id="56">Biểu cảm của Reina đanh lại.</p><p id="57">Không chỉ vì giọng nói lạnh lùng của Shirone, mà việc cậu gọi thẳng tên nhà vua đã khiến cô đoán được cậu đang giận đến nhường nào vì sự việc lần này.</p><p id="58">“Chị xin lỗi vì đã không nói trước cho em biết. Nhưng chị sợ em sẽ lo lắng...”</p><p id="59">“Em hiểu lý do. Nhưng tất cả mọi người đã rơi vào tình cảnh nguy hiểm.”</p><p id="60">Reina nuốt nước bọt. Đó là biểu hiện chỉ xuất hiện khi Shirone thực sự nổi giận, điều mà cô từng thấy một lần ở bản gia.</p><p id="61">Khi chính mình phải đối mặt, cô cảm thấy như trái tim mình đóng băng lại. Liệu lúc đó cha cô cũng có cảm giác như thế này không?</p><p id="62">“Giờ thì ổn rồi. Chị đã tăng cường các quy trình bảo an. Chị đã yêu cầu đội cảnh vệ thắt chặt an ninh hơn nữa...”</p><p id="63">“Lẽ ra chị phải cho em biết.”</p><p id="64">Miệng Reina khép chặt như vỏ sò. Amy, người đứng xem như xem kịch, thở dài.</p><p id="65">‘Đã bảo là phải nói cho cậu ấy rồi mà.’</p><p id="66">Vì cô đã xem nhẹ việc Shirone yêu thương gia đình đến nhường nào nên mới xảy ra cơ sự này.</p><p id="67">Thế nhưng thú thật, Amy cũng không ở vị thế có thể lên tiếng. Dù đã dự đoán rõ phản ứng của Shirone, nhưng cuối cùng cô vẫn tuân theo phán đoán của Reina vì ý nghĩ của chị ấy là đúng.</p><p id="68">Ngay cả bây giờ cậu ấy còn giận dữ như thế này, nếu biết vào lúc đó, sự việc có thể đã bùng phát không thể kiểm soát. Shirone chắc chắn cũng hiểu rõ điều đó. Vì vậy, cuối cùng Reina vẫn là người thắng cuộc.</p><p id="69">Vincent không giấu nổi sự ái ngại, liền khuyên nhủ Shirone.</p><p id="70">“Shirone à, cô Reina cũng ở vào tình thế bắt buộc thôi. Hơn nữa, cô ấy đã nhận được sự đồng ý của ta và mẹ con trước khi quyết định. Thay vào đó, con hãy trút giận lên ta này.”</p><p id="71">Shirone cúi đầu. Ngay từ đầu cậu đã biết rõ điều đó.</p><p id="72">Chỉ là cậu thấy giận.</p><p id="73">Gia đình bị đe dọa ám sát, những người được gọi là cha mẹ đẻ thì phát cuồng vì Vô Niệm, và giờ đến cả Reina cũng bị cho là đang gạt cậu ra rìa, nghĩ đến đó cậu thấy tủi thân đến mức rùng mình.</p><p id="74">“Con xin lỗi. Con biết chị Reina đã cứu tất cả chúng ta. Chỉ là... vì thấy ngột ngạt quá nên con mới lỡ lời như vậy.”</p><p id="75">Reina cảm nhận được sự nức nở yếu ớt trong giọng nói của Shirone. Rốt cuộc cậu đã nghe được gì từ Orkamp mà một đứa trẻ vốn dĩ cứng cỏi thường ngày lại trở nên rệu rã như tấm giẻ rách thế này khi trở về?</p><p id="76">“Không, là chị xin lỗi. Em hoàn toàn có quyền thấy buồn lòng. Việc báo cáo cho em cũng là một trong những nhiệm vụ của chị mà. Từ nay về sau chị sẽ báo cáo không thiếu một chi tiết nào.”</p><p id="77">Khi Shirone cố gắng gượng cười, Reina mới trút bỏ được gánh nặng trong lòng.</p><p id="78">Quả nhiên đứa trẻ này khi cười là đẹp nhất. Vì thế cô càng không muốn nhìn thấy khuôn mặt buồn bã của cậu.</p><p id="79">Để rời khỏi vương thành một cách an toàn, cần phải giữ một cái đầu lạnh. Nếu tình huống tương tự xảy ra, Reina vẫn sẽ đưa ra phán đoán giống hệt như vậy.</p><p id="80">Khi cảm xúc của hai người đã được dàn xếp, Amy liền hỏi:</p><p id="81">“Vậy cậu đến sảnh diện kiến đã nói chuyện gì vậy?”</p><p id="82">“À, cái đó...”</p><p id="83">Shirone kể lại nội dung đề nghị của Orkamp. Amy trầm ngâm suy nghĩ một lúc rồi gật đầu.</p><p id="84">“Hừm, đó là một đề nghị không tồi. Tất nhiên là với điều kiện ông ta giữ lời hứa.”</p><p id="85">“Không sao đâu. Dù sao tốt nghiệp xong chúng ta cũng phải chuyển nhà mà. Những vấn đề sau đó cứ để lúc đó rồi tính. Thế nên tạm thời mình đã chấp nhận đề nghị.”</p><p id="86">“Cũng đúng thôi. Mình cũng vậy.”</p><p id="87">Lý do quý tộc luôn có khái niệm "bản gia" <em>(nhà gốc)</em> là vì họ phải di chuyển nơi ở tùy theo công việc.</p><p id="88">Dian, anh trai của Amy, cũng đang làm đội trưởng đội cung thủ ở vương thành, và đặc biệt là người anh thứ hai Ares, một nhà thám hiểm, đang rong ruổi ở những vùng đất xa xôi đến mức hiện tại không rõ đang ở quốc gia nào.</p><p id="89">Trên toàn thế giới, tỷ lệ có việc làm của ma pháp sư là khoảng 80% và tỷ lệ được thuê dụng lên tới gần 99%. Sở dĩ tỷ lệ có việc làm thấp hơn tỷ lệ được thuê dụng là vì có khá nhiều ma pháp sư từ chối đi làm.</p><p id="90">Thế nhưng bù lại, sự cạnh tranh rất khốc liệt, hầu hết các học sinh sau khi tốt nghiệp đều lên thủ đô Bashka để tìm việc hoặc chuẩn bị cho các kỳ thi công nhận. Nếu cả hai đều không thuận lợi, việc đi du học ở nước khác cũng diễn ra thường xuyên.</p><p id="91">Ở Creas cũng có các cơ quan ma pháp, nhưng Shirone cũng không muốn kết thúc cuộc đời ma pháp của mình ở một thành phố địa phương.</p><p id="92">Trong tương lai, nếu đạt đến cấp bậc Công nhận cấp 5, cậu có thể được bổ nhiệm làm phó trưởng chi nhánh Hiệp hội Ma pháp Creas, nhưng hiện tại có rất nhiều điều cậu muốn làm.</p><p id="93">Học viện Ma pháp Alpheas là một cơ quan do nhà nước chỉ định, sau khi tốt nghiệp sẽ được cấp chứng chỉ Ma pháp sư không công nhận cấp 10. Chỉ cần có chứng chỉ, các công hội sẽ giao việc, nên cậu cũng có thể sống cuộc đời của một lính đánh thuê. Như vậy thì không cần thiết phải mua nhà, di chuyển cũng sẽ thuận tiện hơn.</p><p id="94">Cậu nghĩ rằng cứ sống như vậy, cho đến khi gặp được một nhân duyên tốt đẹp thì có thể dừng chân định cư ở đâu đó.</p><p id="95">Amy vỗ tay khích lệ như thể ủng hộ ý định của Shirone.</p><p id="96">“Được rồi! Đã làm thì hãy làm cho tới nơi tới chốn!”</p><p id="97">___</p><p id="98">Colosseum <em>(Đấu trường La Mã)</em> nằm trong một vùng thung lũng cách vương thành Kazura 2 km về phía Bắc. Trước đây, nơi này từng là một sới bạc khổng lồ, nơi các võ sĩ quyết chiến với thú dữ và các quý tộc đặt cược tiền bạc, nhưng hiện tại đang trong trạng thái nghỉ kinh doanh vô thời hạn vì lý do tài chính của vương thành.</p><p id="99">Trên nền cát chưa được dọn dẹp vẫn còn vương lại những vết máu. Dù các công nhân có quét dọn bằng chổi đến đâu, những vết máu đỏ vẫn không tài nào xóa sạch được.</p><p id="100">Các quý tộc cùng các hộ vệ tiến vào, Amy và Reina cũng đã ổn định chỗ ngồi tại khán đài tầng 3.</p><p id="101">Orkamp vì nể tình cảm của Shirone nên đã cho phép cha mẹ cậu tham gia chứng kiến, nhưng vì thể trạng và tinh thần của Olina đang suy yếu, nên họ đã quyết định ở lại chỗ nghỉ cùng với Vincent.</p><p id="102">Shirone đang đợi đến giờ trong phòng chờ dưới hầm Colosseum.</p><p id="103">Xung quanh vương vãi những dụng cụ tập luyện và bao cát mà các quán quân từng sử dụng, trên kệ xếp đầy các loại vũ khí khác nhau.</p><p id="104">Cánh cửa sắt của phòng chờ mở ra, Zion và Uorin bước vào. Có vẻ như đây là lần đầu tiên đến phòng chờ dưới hầm nên Uorin nhìn dáo dác xung quanh.</p><p id="105">Shirone không còn chào đón bất cứ ai nữa. Sau khi biết chuyện đêm qua, trong mắt cậu tất cả đều là kẻ thù.</p><p id="106">Zion bước tới với dáng đi nghênh ngang và nói:</p><p id="107">“Đúng là một nơi tĩnh mịch. Không biết các chiến binh chờ đợi ở đây đã nghĩ gì nhỉ? Cầu xin đừng bị sư tử ăn thịt? Hay là đang âm mưu phá cửa bỏ chạy?”</p><p id="108">“Không, chắc chắn họ đã hạ quyết tâm nhất định phải giết chết kẻ thù. Bởi đối với một chiến binh, đó là con đường duy nhất còn lại.”</p><p id="109">Zion nở một nụ cười vặn vẹo. Quả nhiên về khoản đối đáp thì hắn không phải là đối thủ của ma pháp sư.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c285877-chuong-279-cai-bay-cua-su-lua-chon-mot-trong-hai-3" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'yDzwz640lbAHCGdcc1nQLRpkPSHgN7WkAl3JPsay';
        var comment_type = 'chapter';
        var comment_typeid = '285875';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'yDzwz640lbAHCGdcc1nQLRpkPSHgN7WkAl3JPsay';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24443');
    chapter_id = parseInt('285875');

    readingObject = {
        series_id: series_id,
        series_title: 'Đại Pháp Sư Toàn Năng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="yDzwz640lbAHCGdcc1nQLRpkPSHgN7WkAl3JPsay" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

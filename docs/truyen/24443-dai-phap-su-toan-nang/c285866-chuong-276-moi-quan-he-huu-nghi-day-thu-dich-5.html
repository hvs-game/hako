<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đại Pháp Sư Toàn Năng - Chương 276: Mối quan hệ hữu nghị đầy thù địch (5) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Siêu tân tinh bùng nổ, lao đi nhanh như ánh sáng! Con người ôm giấc mơ vô tận giữa vũ trụ mênh mông. Shirone, đứa trẻ bị bỏ lại trong chuồng ngựa, quấn tã đơn sơ, Tự học, say mê sách đến mức sinh tử chẳng màng, Dẫu là con...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ZA2f6NPhe8yI8rYpCZ4iYP2URrH28ae43YSIGGNT">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24443-dai-phap-su-toan-nang/c283925-chuong-275-moi-quan-he-huu-nghi-day-thu-dich-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24443-dai-phap-su-toan-nang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5" style="background: url('https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24443-dai-phap-su-toan-nang">Đại Pháp Sư Toàn Năng</a></h5>
                    <small><i class="fas fa-pen"></i>Kim Chi Woo / 김치우</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=" disabled "><a href="/truyen/24443-dai-phap-su-toan-nang">Tập 9</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c280999-chuong-221-ky-uc-ve-galliant-1">Tập 10</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283189-chuong-248-he-thong-van-hanh-1">Tập 11</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24443-dai-phap-su-toan-nang/t35438-tap-12">Tập 12</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283743-chuong-272-moi-quan-he-huu-nghi-day-thu-dich-1">
                                                                        Chương 272: Mối quan hệ hữu nghị đầy thù địch (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283836-chuong-273-moi-quan-he-huu-nghi-day-thu-dich-2">
                                                                        Chương 273: Mối quan hệ hữu nghị đầy thù địch (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283842-chuong-274-moi-quan-he-huu-nghi-day-thu-dich-3">
                                                                        Chương 274: Mối quan hệ hữu nghị đầy thù địch (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283925-chuong-275-moi-quan-he-huu-nghi-day-thu-dich-4">
                                                                        Chương 275: Mối quan hệ hữu nghị đầy thù địch (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5">
                                                                        Chương 276: Mối quan hệ hữu nghị đầy thù địch (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1">
                                                                        Chương 277: Mối quan hệ hữu nghị đầy thù địch (6) / Cái bẫy của sự lựa chọn một trong hai (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285875-chuong-278-cai-bay-cua-su-lua-chon-mot-trong-hai-2">
                                                                        Chương 278: Cái bẫy của sự lựa chọn một trong hai (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285877-chuong-279-cai-bay-cua-su-lua-chon-mot-trong-hai-3">
                                                                        Chương 279: Cái bẫy của sự lựa chọn một trong hai (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285878-chuong-280-cai-bay-cua-su-lua-chon-mot-trong-hai-4">
                                                                        Chương 280: Cái bẫy của sự lựa chọn một trong hai (4) /Vũ hội đêm khuya (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c285897-chuong-281-vu-hoi-dem-khuya-2">
                                                                        Chương 281: Vũ hội đêm khuya (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 12</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 276: Mối quan hệ hữu nghị đầy thù địch (5)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c285866-chuong-276-moi-quan-he-huu-nghi-day-thu-dich-5#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,998 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-01-2026 16:10:50" datetime="2026-01-05T16:10:50+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 276: Mối quan hệ hữu nghị đầy thù địch (5)</p>
                    <p id="1"><strong>Mối quan hệ hữu nghị đầy thù địch (5)</strong></p><p id="2">“Trao đổi đồng giá giữa may mắn và bất hạnh sao?”</p><p id="3">“Không. Vấn đề không nằm ở vật thể, mà là ở con người. Chủ nhân đầu tiên của &lt;Mỗi Ngày Một Món Quà&gt; là một người thợ đóng giày sống ở tầng lớp hạ lưu. Có lẽ ông ta đã kiếm được một khoản tiền lớn. Nhưng ông ta không thắng nổi sự ám ảnh. Những ngày nhận được món quà tầm thường, ông ta rơi vào trạng thái u uất cực độ. Trong 100 ngày thì có đến 75 ngày như vậy. Cuối cùng mắc bệnh tâm thần, suốt ngày chỉ xoay vòng xoay, rồi phát điên.”</p><p id="4">Đó là hiện tượng xảy ra khi con người chìm đắm vào xác suất.</p><p id="5">Thực tế, những kẻ nghiện cờ bạc đến mức rơi xuống đáy xã hội không đánh bạc để kiếm tiền. Thứ họ muốn là khoái cảm khi chiến thắng trong cuộc chiến xác suất, và tiền bạc chỉ là công cụ để đạt được điều đó.</p><p id="6">“Năm tháng trôi qua, &lt;Mỗi Ngày Một Món Quà&gt; rơi vào tay một quý tộc. Có thể coi đó không phải là hạng người vì thiếu tiền mà chỉ biết nhìn chằm chằm vào vòng quay. Thế rồi một ngày nọ, ông ta đã trúng được kỳ tích. Và rồi...”</p><p id="7">“Và rồi sao?”</p><p id="8">Uorin vểnh môi lên khi tưởng tượng về tình huống lúc bấy giờ.</p><p id="9">“Gia tộc đã lụi bại.”</p><p id="10">“Lụi bại? Tại sao chứ?”</p><p id="11">“Nếu trúng kỳ tích, nó sẽ ban cho một Vật Thể. Vật Thể mà vị quý tộc đó nhận được là một viên đá nhỏ gọi là &lt;Nemesis&gt;, khi tiếp xúc với nó, những gì người dùng tưởng tượng sẽ xuất hiện thành hiện thực trong bán kính 20 mét. Sau khi có Nemesis, hắn ngày nào cũng chìm đắm trong tưởng tượng. Anh cũng biết mà. Cái gọi là dục vọng của con người ấy…….”</p><p id="12">Có vẻ ngại ngùng khi nói ra thành lời, Uorin vung vẩy ngón trỏ rồi tặc lưỡi.</p><p id="13">Shirone hiểu ra ngay lập tức. Đồng thời, cậu không nghĩ điều đó nhất định là xấu.</p><p id="14">Đã là con người, ai cũng sống với dục vọng và thông qua tưởng tượng để đạt được sự cân bằng với hiện thực.</p><p id="15">Vấn đề là khi những tưởng tượng đó biến thành hiện thực.</p><p id="16">“Dù sao thì, vì thế mà gia tộc đã lụi bại. Và &lt;Nemesis&gt; đã rời đi để tìm kiếm chủ nhân mới. Ngay cả bây giờ, nó vẫn cực kỳ nổi tiếng trong giới mộ điệu. Tuy nhiên, có vẻ như không ai trụ lại được lâu. Có trường hợp nó quay trở lại sàn đấu giá chỉ sau một tháng. Tất nhiên việc Vật Thể nguy hiểm là sự thật. Thế nhưng đó là vấn đề của con người chứ không phải vấn đề của Vật Thể. Thực tế là hầu hết những người sở hữu &lt;Mỗi Ngày Một Món Quà&gt; đều đã có một cuộc sống an nhàn.”</p><p id="17">Nếu vậy thì Shirone cũng không còn gì để nói. Tuy nhiên, cảm giác lại càng trở nên kỳ lạ hơn.</p><p id="18">Nếu không đặc biệt nguy hiểm thì rốt cuộc Vật Thể là cái gì? Tại sao những thứ như thế này lại trôi nổi trên thế gian?</p><p id="19">Shirone dời mắt sang &lt;Mỗi Ngày Một Món Quà&gt;.</p><p id="20">Việc Vật Thể đẻ ra Vật Thể, đứng từ lập trường của một nhà sưu tập, chẳng khác nào con ngỗng đẻ trứng vàng.</p><p id="21">Nhưng mặt khác, cậu lại cảm thấy nó mang tính phá hoại khủng khiếp. Nếu việc sản xuất Vật Thể không có giới hạn, thì dù không phải ngay bây giờ, nhưng một ngày nào đó thế giới chắc chắn sẽ diệt vong.</p><p id="22">Khi cậu bày tỏ suy nghĩ đó, Uorin cũng đồng ý một phần.</p><p id="23">“Cũng có khả năng đó. Dù không phải ở thế hệ chúng ta. Nhưng sẽ ổn thôi. Dù là Vật Thể đi nữa thì độ bền của chúng cũng chẳng cứng cáp hơn các vật phẩm khác là bao. Theo thời gian, chúng buộc phải hư hỏng thôi. Trong số những vật phẩm thoát ra từ kỳ tích cho đến nay, thứ nguy hiểm nhất là &lt;Nemesis&gt;. Sàn đấu giá Curia phân loại &lt;Nemesis&gt; là hạng A. &lt;Mỗi Ngày Một Món Quà&gt; cũng hạng A. Có vẻ như nó không thể ban tặng món quà vượt quá cấp bậc của chính mình.”</p><p id="24">Curia là một công ty đấu giá tầm cỡ thế giới, cậu đã từng nghe Neid nhắc đến trước đây.</p><p id="25">Thế nhưng Shirone lại chú ý đến lời nói khác hơn là điều đó.</p><p id="26">&lt;Mỗi Ngày Một Món Quà&gt; không thể đưa ra món quà vượt quá cấp bậc của bản thân. Nghe qua thì có vẻ hợp lý, nhưng đó là một câu chuyện phi lý.</p><p id="27">“Làm sao chuyện đó có thể xảy ra được? Cấp bậc là do công ty đấu giá định ra, Vật Thể làm sao có thể biết được tiêu chuẩn đó chứ. Chẳng lẽ là trùng hợp ngẫu nhiên sao? Đã 240 năm trôi qua nhưng tần suất trúng kỳ tích rất thấp. Nếu tính cả xác suất xuất hiện hạng A trong đó nữa, thì sự thật là dữ liệu không đủ để đưa ra thống kê.”</p><p id="28">“Cũng có thể là vậy, nhưng...”</p><p id="29">Uorin không khẳng định cũng chẳng phủ định, chỉ nói lửng lơ. Suy nghĩ của Shirone rõ ràng là hợp lẽ thường, nhưng khi sở hữu cá nhân tới hơn 40 Vật Thể, người ta sẽ có được những thông tin mới mà người bình thường không thể chạm tới.</p><p id="30">Một trong số đó là thẻ Hội viên VIP do công ty đấu giá Curia cấp. Mặt sau của thẻ có ghi các mục lưu ý, trong đó điều thứ nhất có viết dòng chữ này:</p><p id="31">Vật Thể không đảm bảo an toàn tuyệt đối cho người sử dụng.</p><p id="32">Các thành viên khi nhìn thấy điều thứ nhất thường yêu cầu người giám tuyển giải thích. Khi đó, giám tuyển sẽ cho biết một vài ví dụ có thể suy đoán được nguyên lý phát sinh của Vật Thể, và nếu nghe câu chuyện đó, người ta sẽ nhận ra cảnh báo ở điều thứ nhất không đơn thuần là một lời đe dọa.</p><p id="33">Thế nhưng Uorin lại kiệm lời về phương diện này.</p><p id="34">Hội viên VIP của Curia không phải cứ có nhiều tiền là có thể gia nhập. Phải có ý thức mang tính đồng minh đối với Vật Thể.</p><p id="35">Lạm dụng đặc quyền với những người không phải Hội viên VIP là hành động tự làm giảm giá trị của Vật Thể.</p><p id="36">Tuy nhiên, lòng tự trọng của nhà Teraze không cho phép cô dừng cuộc chơi lại, vì vậy Uorin đã cho Shirone cơ hội để tự mình nhận ra.</p><p id="37">“Lại đây đi. Em sẽ cho anh xem các Vật Thể khác nữa.”</p><p id="38">Uorin dẫn Shirone đến kệ sách. Thứ đầu tiên cô giới thiệu là một chiếc kính lúp có thể tìm thấy ở bất cứ đâu.</p><p id="39">“Đây là Vật Thể mang tên &lt;Chỉ Một Lần!&gt;. Nó cho thấy làn da trần của con người.”</p><p id="40">“Ý em là nhìn xuyên thấu quần áo sao?”</p><p id="41">“Vâng. Nhưng hiệu quả chỉ xuất hiện trong khoảng cách 5 centimet.”</p><p id="42">Uorin vừa nói "Hế" một tiếng vừa soi về phía phần thân dưới của Shirone.</p><p id="43">Dù đã nghe qua &lt;Chỉ dẫn&gt;, Shirone vẫn vô thức vắt tréo chân. Thấy vậy, Uorin lè lưỡi ra rồi đưa chiếc kính lúp cho cậu.</p><p id="44">“Hì hì, anh làm thử một lần đi.”</p><p id="45">Shirone dùng kính lúp soi vào cánh tay mình.</p><p id="46">Ban đầu chỉ thấy sớ vải được phóng đại lên, nhưng khi đưa lại gần, làn da trần liền lộ ra.</p><p id="47">“Kỳ lạ thật đấy. Nhưng nếu theo cách này thì thà nhìn trực diện còn hơn.”</p><p id="48">“Đúng vậy! Nếu nhìn trộm phụ nữ thì sẽ bị bắt ngay lập tức. Chẳng phải vì thế mà nó có tên là &lt;Chỉ Một Lần!&gt; sao?”</p><p id="49">“Haha! Có thể là vậy. Nhưng cái này tùy vào cách dùng mà sẽ rất hữu ích đấy. Anh nghĩ nó cũng có thể nhìn xuyên cả áo giáp, vậy thì có thể dùng khi kiểm vấn nữa.”</p><p id="50">Shirone trả lại chiếc &lt;Chỉ Một Lần!&gt;.</p><p id="51">“Nguyên lý gì nhỉ? Nhìn xuyên thấu ấy.”</p><p id="52">“Em vẫn chưa xác nhận lại. Năng lực của Vật Thể không nhất thiết phải đi theo chức năng của vật phẩm, nên có thể đó là năng lực của phần tay cầm hoặc cái gọng. Thực tế thì đây không phải là Vật Thể hạng cao. Em tình cờ mua được nên giữ lại cho đủ số lượng thôi.”</p><p id="53">Shirone cũng nghĩ rằng so với &lt;Mỗi Ngày Một Món Quà&gt; thì thứ này kém cấp bậc hơn hẳn.</p><p id="54">Vật Thể tiếp theo mà Uorin giới thiệu là một kệ sách. Trên đó xếp đầy các tác phẩm của những học giả lừng danh.</p><p id="55">“Cái này là của anh Zion. Là Vật Thể mang tên &lt;Triết gia&gt;. Nếu xếp sách vào kệ này, dù không đọc thì nội dung cũng tự chui vào đầu. Với bản in Kazura, có thể xếp được khoảng 124 cuốn sách. Tuy nhiên, lưu ý là nếu lấy sách ra khỏi kệ thì ký ức cũng biến mất.”</p><p id="56">Shirone sững sờ. Việc chỉ cần xếp sách vào là nội dung chui vào đầu mang lại một cú sốc khác hẳn với &lt;Mỗi Ngày Một Món Quà&gt;.</p><p id="57">“Làm sao một cái kệ sách có thể kết nối với bộ não con người được chứ?”</p><p id="58">“Ưm, chuyện đó đơn giản đến không ngờ. Trong số các Vật Thể, có những thứ mang đặc tính quy thuộc vào người dùng. Trong đấu giá, người ta gọi đây là &lt;Kiểu Khế ước&gt;. Nói tóm lại, &lt;Triết gia&gt; là một Vật Thể &lt;Kiểu Khế ước&gt; nên nó đang ở trạng thái quy thuộc về anh Zion. Thứ này đạt hạng B theo tiêu chuẩn đấu giá Curia.”</p><p id="59">Shirone ngắm nhìn chiếc kệ &lt;Triết gia&gt; một cách say đắm.</p><p id="60">Dù những thứ khác không nói tới, nhưng riêng chiếc kệ &lt;Triết gia&gt; này thì cậu thực sự muốn có. Cậu dường như đã hiểu ra phần nào lý do tại sao các nhà sưu tập lại đắm chìm vào Vật Thể đến thế.</p><p id="61">Uorin còn giới thiệu thêm nhiều Vật Thể khác nữa, chẳng hạn như chiếc băng đô tên là &lt;Mỹ nhân&gt;, nếu đeo vào thì người dùng sẽ vận động trong vòng 1 giờ đồng hồ trong trạng thái mất ý thức.</p><p id="62">Có thể giảm cân mà không thấy mệt mỏi, nhưng &lt;Chỉ dẫn&gt; nói rằng vì thường làm ra những động tác khó coi nên tốt nhất là hãy khóa cửa phòng lại.</p><p id="63">Còn có một Vật Thể tên là &lt;Xoa bóp Không Linh hồn&gt;. Đó là một cặp đá có màu đỏ và xanh, nếu nắm vào hai tay thì những chỗ đau nhức sẽ co thắt lại để giải tỏa cơ bắp.</p><p id="64">Khi Shirone đích thân trải nghiệm, cậu thấy cực kỳ sảng khoái. Khi các vị trí cánh tay, chân, vai, cổ chân đến tận lòng bàn chân đồng thời được xoa bóp, cậu thấy dễ chịu đến mức gần như mất đi tỉnh táo. Dù không cảm nhận được hơi ấm của con người nhưng hiệu quả là tuyệt nhất.</p><p id="65">‘Vì thế nên mới gọi là &lt;Xoa bóp Không Linh hồn&gt; sao? Thứ này chắc khoảng hạng D nhỉ.’</p><p id="66">Suy nghĩ đến đó, mắt Shirone bỗng sáng rực lên.</p><p id="67">Tên của các Vật Thể đã tiếp xúc từ nãy đến giờ. Thêm vào đó là cấp bậc mà ngay cả một kẻ ngoại đạo như cậu cũng có thể phán đoán được. Hai sự thật này đang nói lên bí mật của Vật Thể.</p><p id="68">‘Ra là vậy. Vật Thể chính là...’</p><p id="69">&lt;Mỗi Ngày Một Món Quà&gt; không ban tặng Vật Thể vượt quá hạng A. Thế nhưng để &lt;Chỉ dẫn&gt; đó được thiết lập, phải tuân theo một trong hai giả thuyết.</p><p id="70">Hoặc là Vật Thể biết được tiêu chuẩn của công ty đấu giá, hoặc là giá trị đã được định sẵn bên trong chính Vật Thể đó.</p><p id="71">Câu trả lời là vế sau.</p><p id="72">Vật Thể ngay từ khi sinh ra đã mang trong mình giá trị riêng biệt. Bởi lẽ mọi chức năng của chúng đều trực tiếp liên quan đến dục vọng của con người.</p><p id="73">Để coi chúng là những vật phẩm phát sinh tự nhiên thì tính mục đích lại quá rõ ràng, điều đó có nghĩa chúng là sản phẩm nhân tạo của những thực thể có trí tuệ.</p><p id="74">Dục vọng muốn trở nên xinh đẹp, dục vọng muốn có kiến thức, dục vọng muốn nhận quà mỗi ngày, dục vọng muốn biến tưởng tượng thành hiện thực.</p><p id="75">Theo nghĩa đó, &lt;Nemesis&gt; giúp thực hiện dục vọng ở cấp cao nhất, dù ai nói gì đi nữa cũng xứng đáng nhận phán quyết hạng A.</p><p id="76">‘Vậy thì hạng S là gì nhỉ?’</p><p id="77">Nếu suy nghĩ ngược lại lời nói rằng &lt;Mỗi Ngày Một Món Quà&gt; không ban tặng thứ gì vượt quá hạng A, điều đó có nghĩa là hạng S tồn tại.</p><p id="78">Shirone cũng nghĩ khả năng đó rất cao. Bởi con người không chỉ có những dục vọng mang tính bản năng động vật mà còn tồn tại cả những khát khao ở tầng bậc cao hơn.</p><p id="79">Nếu &lt;Nemesis&gt;, đỉnh cao của dục vọng bản năng, là hạng A, thì hạng S khả năng cao là một Vật Thể chứa đựng khát khao mang tính lý trí.</p><p id="80">‘Hừm. Có vẻ như đã nắm bắt được chút ít rồi nhỉ.’</p><p id="81">Thấy Shirone chìm đắm trong suy nghĩ hồi lâu, Uorin nở một nụ cười mãn nguyện. Chính vì cảm giác này mà người ta mới sưu tập Vật Thể.</p><p id="82">Trái lại, ruột gan Zion như thiêu như đốt.</p><p id="83">Đây là lần đầu tiên Uorin giữ chân một ai đó không phải Hội viên VIP của đấu giá Curia ở lại phòng trưng bày lâu như thế này.</p><p id="84">‘Tên khốn đó dám...’</p><p id="85">Đối với Zion, Uorin còn hơn cả một đứa em gái. Bởi cô là vũ khí mạnh mẽ nhất mà hắn sở hữu. Còn hơn cả dòng máu hoàng tộc đang chảy trong huyết quản của hắn.</p><p id="86">‘Tại sao chứ? Cái loại con hoang đó là cái thá gì mà em ấy lại bao bọc như thế?’</p><p id="87">Không hề biết đến cảm xúc đang sục sôi của Zion, Shirone nhanh chóng xem xét những vật phẩm khác.</p><p id="88">Nhìn kỹ lại thì đây quả là một tiềm lực tài chính khổng lồ. Các Vật Thể xếp hàng dài dọc theo kệ sách hầu hết là hạng C hoặc hạng B, nhưng thỉnh thoảng cũng bắt gặp hạng A.</p><p id="89">Đó là sự xa xỉ mà ngay cả vua của một nước cũng không thể phô trương. Có thể đoán được quyền lực của Uorin, dòng dõi trực hệ nhà Teraze, hùng mạnh đến nhường nào.</p><p id="90">Sau khi xem hết kệ phía Đông, Shirone chuyển ánh nhìn sang phía Bắc. Thế nhưng nơi đó trống trải tiêu điều, chỉ trưng bày duy nhất một thanh kiếm.</p><p id="91">“Hử? Uorin, thanh kiếm kia là gì vậy?”</p><p id="92">“Đó là &lt;Ma kiếm Armand&gt;. Là Vật Thể mà anh Zion trân quý nhất.”</p><p id="93">Một thứ mà ngay cả Zion, kẻ coi vàng bạc như cỏ rác, cũng trân quý nhất sao. Vậy mà bề ngoài lại chẳng hề hoa mỹ.</p><p id="94">Nó không được đính đầy trân bảo ngũ sắc, thậm chí còn không có cả bao kiếm. Tuy nhiên, nó lại mang đến một cảm giác mê hoặc lòng người một cách kỳ lạ. Dường như có một sự khác biệt tinh tế trong thiết kế mà cảm giác của người bình thường không thể phân biệt được.</p><p id="95">Thế nhưng mọi đánh giá đó đều tan biến ngay khoảnh khắc nhìn thấy viên bảo thạch đính ở trung tâm chuôi kiếm. Một sự hiện diện áp đảo truyền đến khiến người ta không thể rời mắt.</p><p id="96">Giống như Armand đang mời gọi, đôi chân cậu tự động bước đi. Khi bừng tỉnh, cậu đã đứng trước bức tường phía Bắc từ lúc nào không hay.</p><p id="97">Ngay khoảnh khắc cậu chậm rãi đưa tay ra định nắm lấy chuôi kiếm, Zion đã quát lớn.</p><p id="98">“Đó là đồ của ta! Đừng chạm vào.”</p><p id="99">Ngay cả sau khi Shirone giật mình lùi lại, biểu cảm vặn vẹo trên khuôn mặt Zion vẫn không có dấu hiệu giãn ra.</p><p id="100">&lt;Ma kiếm Armand&gt; là một Vật Thể &lt;Kiểu Khế ước&gt; quy thuộc về người dùng. Tuy nhiên, vì sự hiện diện của nó quá mạnh mẽ nên đôi khi nó cũng đưa tay ra với những người dùng khác.</p><p id="101">&lt;Chỉ dẫn&gt; chính xác về tiêu chuẩn chọn người dùng vẫn chưa được làm sáng tỏ, nhưng việc nó quyến rũ kẻ khác ngay trước mặt chủ nhân là một điều cực kỳ khó chịu.</p><p id="102">Shirone lấy lại bình tĩnh rồi hỏi Zion.</p><p id="103">“A, xin lỗi nhé. Tôi vô ý quá. Nhưng cái này là hạng S đúng không?”</p><p id="104">“Biết điều đó để làm gì? Loại người đến cả hạng phế thải cũng không mua nổi như ngươi. Mau rời xa thanh kiếm của ta đi. Cái hạng con hoang từ đâu tới mà dám bén mảng đến món đồ danh giá của hoàng tộc hả?”</p><p id="105">Shirone cau mày rồi quay lưng đi. Dù &lt;Ma kiếm Armand&gt; có là Vật Thể hạng S đi chăng nữa, cậu cũng không thiếu tự trọng đến mức bị nghe những lời này mà vẫn còn giữ sự quan tâm.</p><p id="106">Chứng kiến cảnh đó, Zion thay đổi ý định. Chẳng phải như vậy lại hay hơn sao? Nhân cơ hội này, cho cậu ta thấy sự cách biệt giữa hoàng tộc và một kẻ sơn phu cũng tốt.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c283925-chuong-275-moi-quan-he-huu-nghi-day-thu-dich-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c285871-chuong-277-moi-quan-he-huu-nghi-day-thu-dich-6-cai-bay-cua-su-lua-chon-mot-trong-hai-1" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ZA2f6NPhe8yI8rYpCZ4iYP2URrH28ae43YSIGGNT';
        var comment_type = 'chapter';
        var comment_typeid = '285866';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ZA2f6NPhe8yI8rYpCZ4iYP2URrH28ae43YSIGGNT';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24443');
    chapter_id = parseInt('285866');

    readingObject = {
        series_id: series_id,
        series_title: 'Đại Pháp Sư Toàn Năng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ZA2f6NPhe8yI8rYpCZ4iYP2URrH28ae43YSIGGNT" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

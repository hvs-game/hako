<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đại Pháp Sư Toàn Năng - Chương 250: Hệ Thống Vận Hành (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Siêu tân tinh bùng nổ, lao đi nhanh như ánh sáng! Con người ôm giấc mơ vô tận giữa vũ trụ mênh mông. Shirone, đứa trẻ bị bỏ lại trong chuồng ngựa, quấn tã đơn sơ, Tự học, say mê sách đến mức sinh tử chẳng màng, Dẫu là con...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="IadqSxpYwt78UCn8yO28bNiITvg7mJdhmZm13Do6">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c283203-chuong-250-he-thong-van-hanh-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24443-dai-phap-su-toan-nang/c283190-chuong-249-he-thong-van-hanh-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24443-dai-phap-su-toan-nang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24443-dai-phap-su-toan-nang/c283213-chuong-251-he-thong-van-hanh-4"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24443-dai-phap-su-toan-nang/c283203-chuong-250-he-thong-van-hanh-3" style="background: url('https://i.hako.vn/ln/series/covers/s24443-cf3f3167-f7a1-4c54-8b01-64f5b4739bb8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24443-dai-phap-su-toan-nang">Đại Pháp Sư Toàn Năng</a></h5>
                    <small><i class="fas fa-pen"></i>Kim Chi Woo / 김치우</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=" disabled "><a href="/truyen/24443-dai-phap-su-toan-nang">Tập 9</a></li>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c280999-chuong-221-ky-uc-ve-galliant-1">Tập 10</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24443-dai-phap-su-toan-nang/t35413-tap-11">Tập 11</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283189-chuong-248-he-thong-van-hanh-1">
                                                                        Chương 248: Hệ Thống Vận Hành (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283190-chuong-249-he-thong-van-hanh-2">
                                                                        Chương 249: Hệ Thống Vận Hành (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283203-chuong-250-he-thong-van-hanh-3">
                                                                        Chương 250: Hệ Thống Vận Hành (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283213-chuong-251-he-thong-van-hanh-4">
                                                                        Chương 251: Hệ Thống Vận Hành (4) / Bầu Trời Khác (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283220-chuong-252-bau-troi-khac-2">
                                                                        Chương 252: Bầu Trời Khác (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283339-chuong-253-bau-troi-khac-3">
                                                                        Chương 253: Bầu Trời Khác (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283352-chuong-254-bau-troi-khac-4">
                                                                        Chương 254: Bầu Trời Khác (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283358-chuong-255-bau-troi-khac-5">
                                                                        Chương 255: Bầu Trời Khác (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283378-chuong-256-bau-troi-khac-6">
                                                                        Chương 256: Bầu Trời Khác (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283379-chuong-256-bau-troi-khac-6">
                                                                        Chương 256: Bầu Trời Khác (6) / Sự thật được phơi bày (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283381-chuong-257-su-that-duoc-phoi-bay-2">
                                                                        Chương 257: Sự thật được phơi bày (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283437-chuong-258-su-that-duoc-phoi-bay-3">
                                                                        Chương 258: Sự thật được phơi bày (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283447-chuong-259-su-that-duoc-phoi-bay-4">
                                                                        Chương 259: Sự thật được phơi bày (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283453-chuong-260-su-that-duoc-phoi-bay-5">
                                                                        Chương 260: Sự thật được phơi bày (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283525-chuong-261-su-that-duoc-phoi-bay-6">
                                                                        Chương 261: Sự thật được phơi bày (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283526-chuong-262-su-that-duoc-phoi-bay-7">
                                                                        Chương 262: Sự thật được phơi bày (7) / Sự tình của gia tộc Ogent (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283543-chuong-263-su-tinh-cua-gia-toc-ogent-2">
                                                                        Chương 263: Sự tình của gia tộc Ogent (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283571-chuong-264-su-tinh-cua-gia-toc-ogent-3-vuong-quoc-kazura-1">
                                                                        Chương 264: Sự tình của gia tộc Ogent (3) / Vương quốc Kazura (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283709-chuong-265-vuong-quoc-kazura-2">
                                                                        Chương 265: Vương quốc Kazura (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283712-chuong-266-vuong-quoc-kazura-3">
                                                                        Chương 266: Vương quốc Kazura (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283724-chuong-267-vuong-quoc-kazura-4">
                                                                        Chương 267: Vương quốc Kazura (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283726-chuong-268-vuong-quoc-kazura-5-huyet-thong-cua-teraze-1">
                                                                        Chương 268: Vương quốc Kazura (5) / Huyết thống của Teraze (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283730-chuong-269-huyet-thong-cua-teraze-2">
                                                                        Chương 269: Huyết thống của Teraze (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283739-chuong-270-huyet-thong-cua-teraze-3">
                                                                        Chương 270: Huyết thống của Teraze (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24443-dai-phap-su-toan-nang/c283741-chuong-271-huyet-thong-teraze-4">
                                                                        Chương 271: Huyết thống của Teraze (4)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24443-dai-phap-su-toan-nang/c283743-chuong-272-moi-quan-he-huu-nghi-day-thu-dich-1">Tập 12</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 11</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 250: Hệ Thống Vận Hành (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24443-dai-phap-su-toan-nang/c283203-chuong-250-he-thong-van-hanh-3#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,605 từ - Cập nhật: 
                        <time class="topic-time timeago" title="01-01-2026 09:57:54" datetime="2026-01-01T09:57:54+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 250: Hệ Thống Vận Hành (3)</p>
                    <p id="1"><strong>Hệ Thống Vận Hành (3)</strong></p><p id="2">Cuối cùng Shirone cũng dừng công kích. Chỉ dùng mạch song song thì uy lực sẽ suy giảm, nhưng nếu gom chúng lại để cấu thành một Mạn Trận thì có thể tạo ra lực khuếch đại mạnh mẽ đến mức không thể so sánh với mạch nối tiếp.</p><p id="3">Hơn nữa, do đặc tính của mạch ba chiều, tùy theo điểm quan sát mà mô hình phân bố sẽ hiện ra khác nhau. Vì vậy, không thể xác định được sáu ma pháp trận cấu thành một Mạn Trận cụ thể là những ma pháp trận nào.</p><p id="4">Giống như việc chấm vài điểm trên mặt giấy rồi vẽ thành hình vuông thì rất dễ nhận ra, nhưng khi dựng chúng thành hình khối ba chiều thì lại không thể phân biệt được bất cứ thứ gì.</p><p id="5">“Thế nào, Shirone? Cái này cũng né được chứ?”</p><p id="6">Ngay khi lời Dante dứt, sáu ma pháp trận hệ khí chuyển động, giam Shirone vào Áp Suất Mạn Trận.</p><p id="7">“Khự!”</p><p id="8">Khoảnh khắc Shirone cảm nhận được áp lực dồn lên cột sống, ở trung tâm Điện Mạn Trận đang lơ lửng trên đầu Dante, một luồng sét xanh lam bắt đầu được nạp điện.</p><p id="9">Khi tia điện cực mạnh bắn ra, kèm theo âm thanh rít buốt của các điện tích va chạm, toàn bộ không khí trên đường đi của dòng điện đều bị thiêu đốt.</p><p id="10">Dù Shirone né sang đâu, đòn tấn công vẫn bám theo. Bởi Quang Tử Thâu Xuất bắn ra từ Quang Tử Mạn Trận đang theo dõi tọa độ của Shirone theo thời gian thực.</p><p id="11">“A….”</p><p id="12">Đầu óc Shirone trở nên mơ hồ. Cảm giác này không còn giống như đang chiến đấu với con người. Tựa như đang đối đầu với một chiến hạm vũ trang hạng nặng, được trang bị vô số vũ khí.</p><p id="13">Shirone lăn người né Hàn Băng Thương đang cắm thẳng từ trên xuống. Trong khi thế giới quay cuồng, anh nghe thấy âm thanh cháy xém ngay sát mặt đất. Vừa kích hoạt ma pháp quang tử hóa và bật người lên thì gần như đồng thời, Bom Nguyên Tử phát nổ.</p><p id="14">Trước hỏa lực hung bạo của Dante, đám học sinh hoàn toàn sững sờ.</p><p id="15">“Trời ơi… rốt cuộc đó là ma pháp gì vậy?”</p><p id="16">Mark cũng cảm thấy vô lý. Dù Pascal có xử lý song song thì kẻ kiểm soát toàn bộ vẫn là bộ não con người. Quản lý hàng trăm ma pháp trận là việc vượt ngoài khả năng của nhân loại.</p><p id="17">Iruki quay sang Neid. Thấy vẻ mặt nghiêm trọng hiếm có của cậu ta, dường như Neid đã nhận ra điều gì đó.</p><p id="18">“Neid, nói gì đi. Thành thật mà nói tớ không hiểu nổi.”</p><p id="19">“Đó là… Tự Động Cơ.”</p><p id="20">“Tự Động Cơ?”</p><p id="21">“Hệ thống cơ giới tự động. Gài nhiều bánh răng vào nhau, rồi chỉ cần xoay bánh răng đầu tiên. Khi đó bánh răng cuối cùng sẽ cho ra kết quả cố định. Cơ chế thì đơn giản, nhưng nếu chuỗi quá trình này được mở rộng đến quy mô khổng lồ, thì ngay cả những việc trông cực kỳ phức tạp cũng trở nên khả thi. Ví dụ như Quang Tử Thâu Xuất truy vết tọa độ của Shirone, hay việc chuyển đổi Mạn Trận với tốc độ cao.”</p><p id="22">Uy lực của Tự Động Cơ, Shirone đang trực tiếp cảm nhận bằng chính cơ thể mình. Dù phản ứng theo cách nào, Tự Động Cơ vẫn tự động tính toán và đối phó. Đó là một pháo đài bất khả xâm phạm.</p><p id="23">Ma pháp cơ bản, nhưng khi được gia cường bằng Mạn Trận thì uy lực tuyệt đối không còn là ma pháp cơ bản nữa. Shirone lăn người né pháo kích, vội vàng tìm Dante, nhưng bị vùi lấp giữa hàng trăm ma pháp trận nên thậm chí không thể nhìn thấy.</p><p id="24">Những ma pháp trận lơ lửng khắp nơi khiến anh có cảm giác như đang bị một con quái vật với hàng trăm con mắt dõi theo.</p><p id="25">“Ư… ư ư ư!”</p><p id="26">Cảm giác rợn người ập tới, Shirone điên cuồng xả Pháo Quang Tử. Tự Động Cơ lập tức phản ứng. Khi Pháo Điện Quang đã nạp xong tại Lôi Mạn Trận bắn ra, nguồn điện làm mù mắt khắc một vệt sáng thẳng tắp trong không gian, thổi bay Pháo Quang Tử như bong bóng.</p><p id="27">Pháo Điện Quang sượt qua bên hông Shirone, chỉ vậy thôi cũng đủ kích hoạt phản ma pháp. Trong lúc Shirone loạng choạng, Tự Động Cơ trút xuống toàn bộ các ma pháp có thể sử dụng. Vô số ma pháp không thể đếm xuể cày nát toàn bộ khu vực.</p><p id="28">Pascal, sau khi tiêu hao toàn bộ năng lượng khả dụng, phát ra âm thanh quái dị rồi ngừng hoạt động. Khi làn khói tan đi, hiện ra hình ảnh Shirone đang ôm chặt một bên vai. Một lúc sau, đầu gối anh khuỵu xuống, cuối cùng đập mạnh xuống mặt đất.</p><p id="29">“L-lần này thì Shirone ngã rồi.”</p><p id="30">Không chỉ là một lần hạ. Việc phản ma pháp trúng đòn trực diện đồng nghĩa với việc độ bền của Shirone đã xuất hiện vết nứt, và điều đó cũng đồng nghĩa với hồi kết của Chức năng bất tử.</p><p id="31">“Thật đáng kinh ngạc.”</p><p id="32">Ngay cả Alpheas lần này cũng không thể không thốt lên cảm thán. Pascal – ma pháp trận song song, Mạn Trận ba chiều gia cường uy lực, lại còn tích hợp chức năng tự động hóa bằng Tự Động Cơ. Hệ thống Dante có thể ví như một tác phẩm nghệ thuật đạt tới cực hạn của chức năng.</p><p id="33">Kết hợp Tự Động Cơ vào ma pháp thông tin. Đó là một thử thách mà ngay cả pháp sư chuyên nghiệp cũng khó lòng thực hiện. Không, cho dù Dante có là thiên tài hàng đầu, thì ở trình độ học sinh, đó vẫn là cảnh giới bất khả thi.</p><p id="34">Nếu có thể, thì chỉ có một giả định duy nhất là đúng.</p><p id="35">“Cậu ta dùng hệ nhị phân sao?”</p><p id="36">Olivia im lặng. Nhưng chỉ thế thôi cũng đủ để Alpheas hiểu ra. Chắc chắn là nhị phân. Trong đầu ông hiện lên chủng tộc duy nhất sử dụng hệ ma pháp được cấu thành từ 1 và 0.</p><p id="37">“Từ bao giờ… Dante đã học được ngôn ngữ của rồng vậy?”</p><p id="38">Khóe miệng Olivia cong lên thành một nụ cười. Nếu đã chắc chắn, thì cũng không cần che giấu nữa.</p><p id="39">“Thì sao chứ? Ma pháp Long Ngữ dùng hệ nhị phân, nhưng đâu phải là độc quyền của loài rồng.”</p><p id="40">“Con người có thể hiểu nhị phân. Nhưng sử dụng nhị phân ở cấp độ ngôn ngữ thì là chuyện hoàn toàn khác.”</p><p id="41">Alpheas chợt bừng tỉnh.</p><p id="42">“Chẳng lẽ… là bẩm sinh sao?”</p><p id="43">“Ban đầu tôi cũng không tin. Nhưng đó là sự thật. Giống như khả năng thấu thị của Shirone hay hội chứng Servant của Iruki, Dante cũng sinh ra đã có năng lực xử lý thông tin.”</p><p id="44">Olivia nhớ lại chuyện xảy ra mười năm trước, lần đầu bà gặp Dante.</p><p id="45">Khi ấy, bà đang giữ chức hiệu trưởng Học viện Ma pháp Hoàng gia, thì nhận được thiệp mời dự tiệc trà tại một buổi giao tế của Bashka.</p><p id="46">Chủ trì là Bianca, phu nhân gia tộc Airhein. Tổng cộng có sáu người tham dự, và ngoại trừ Olivia, tất cả đều là phụ nữ đã có gia đình.</p><p id="47">Các quý phu nhân vừa thưởng thức loại trà du nhập từ bên kia đại dương, vừa trò chuyện rôm rả.</p><p id="48">Olivia cũng tham gia trao đổi khi gặp chủ đề mình quan tâm, nhưng những cuộc tán gẫu của các quý phu nhân rốt cuộc cũng xoay về chuyện con cái.</p><p id="49">Bianca thở dài nói.</p><p id="50">“Thật sự là rắc rối lớn. Thằng út nhà tôi lần này nộp đơn xin nghỉ học rồi trở về nhà.”</p><p id="51">“Ơ, Dante chẳng phải là học sinh gương mẫu nổi tiếng sao? Ở trường có chuyện gì à?”</p><p id="52">Bianca lắc đầu, gương mặt u ám.</p><p id="53">“Tôi cũng không biết. Dạo này nó chẳng nói lời nào. Nó bảo là đánh nhau với bạn bè ở trường, rồi về nhà với gương mặt đầy vết bầm. Nghe kể thì có vẻ như bị nhiều đứa đánh.”</p><p id="54">Gương mặt các quý phu nhân đỏ bừng. Nghĩ đến cảnh con mình gặp chuyện như vậy thì ai cũng nghiến răng, tay run lên vì tức giận.</p><p id="55">“Trời đất, bà để yên như vậy sao? Phải lập tức đến trường tố cáo chứ.”</p><p id="56">“Tôi cũng đã đến trường. Nhưng rồi nghe được một chuyện còn sốc hơn. Họ nói Dante không hề nói một lời nào với bạn bè. Dù có ai bắt chuyện cũng không thèm nhìn. Giáo viên chủ nhiệm ban đầu còn tưởng nó bị câm tạm thời.”</p><p id="57">“Trời ơi… có khi nào có ẩn tình gì không?”</p><p id="58">“Hỏi thế nào nó cũng không nói. Dù sao thì tôi cũng chẳng còn tâm trạng truy cứu nữa, cảm giác như trời sập xuống vậy, nên chỉ đưa Dante về nhà.”</p><p id="59">Olivia đang nghiêng tách trà thì khựng lại. Với thân phận người không có con, bà vốn không định xen vào, nhưng trong đầu chợt lóe lên một khả năng.</p><p id="60">Bianca chống cằm, nói tiếp.</p><p id="61">“Thở dài… nên cuối cùng tôi cho nó nghỉ học luôn và giữ ở nhà. Nhưng điều đáng lo là suốt ngày nó chỉ ngồi trong vườn, nhìn chằm chằm xuống đất. Hỏi vì sao thì tuyệt nhiên không trả lời. Đành bất lực mà quan sát thôi.”</p><p id="62">Người phụ nữ ngồi bên cạnh nắm lấy tay Bianca.</p><p id="63">“Đừng lo quá. Dante mới mười tuổi thôi mà. Đó là độ tuổi bắt đầu suy nghĩ nhiều. Người ta bảo con cái quý tộc thì dậy thì sớm hơn thường dân mà.”</p><p id="64">“Nếu đúng là vậy thì tốt quá…”</p><p id="65">Bianca không biết làm sao để xoa dịu nỗi lòng mình.</p><p id="66">Dante từ nhỏ đã là đứa trẻ thông minh, gánh trên vai kỳ vọng của cả gia tộc. Không ngờ đứa con quý giá ấy lại khiến bà phiền lòng theo cách này.</p><p id="67">Các quý phu nhân lần lượt an ủi Bianca. Dù không phải lời nào cũng xuất phát từ tận đáy lòng, nhưng với tư cách những người mẹ, họ có thể thấu hiểu trọn vẹn nỗi khổ tâm ấy.</p><p id="68">Olivia đặt tách trà xuống, lẩm bẩm.</p><p id="69">“Tràn Tải….”</p><p id="70">Bianca quay sang Olivia.</p><p id="71">“Hả? Vừa rồi cô nói gì vậy?”</p><p id="72">Olivia giật mình hoàn hồn. Là giáo viên, bà hiểu rõ việc đánh giá con cái trước mặt phụ huynh nguy hiểm đến mức nào.</p><p id="73">Nhưng khi ánh mắt của mọi người đều dồn về phía mình, việc rút lời lại trở nên khó khăn. Nhất là trước các quý phu nhân có tò mò thì không chịu nổi.</p><p id="74">Olivia nói với giọng như thể không có gì nghiêm trọng.</p><p id="75">“À, tôi chỉ nghĩ là có khả năng Tràn Tải thôi.”</p><p id="76">“Tràn Tải? Đó là gì vậy?”</p><p id="77">Một luồng mồ hôi lạnh chảy dọc sống lưng Olivia. Nếu trả lời sai ở đây, không chỉ bị đóng dấu trong giới giao tế mà còn phải chịu điều tiếng suốt thời gian dài.</p><p id="78">“Không phải bệnh. Tuy hiếm gặp, nhưng đó là hiện tượng xảy ra khi thức tỉnh từ quá sớm. À, nói là hiện tượng thì đúng hơn là yếu tố tâm lý. Khi những tri thức vốn có sụp đổ, người ta sẽ nhìn thấy một thế giới khác với thế giới ban đầu. Thường thì sẽ phải chịu đựng nỗi sợ hãi cực độ.”</p><p id="79">“Vậy là con trai tôi bị bệnh sao?”</p><p id="80">Olivia toát mồ hôi lạnh.</p><p id="81">“Không. Không phải bệnh. Có thể nói là thường gặp ở các thiên tài. Ở học viện ma pháp cũng có không ít trường hợp như vậy.”</p><p id="82">Bất đắc dĩ, Olivia đã dùng đến một từ ngữ mang tính ma thuật mà bất kỳ bậc cha mẹ nào cũng khó lòng cưỡng lại.</p><p id="83">Quả nhiên, Bianca lập tức trao đổi ánh mắt với các quý phu nhân, như thể vừa nghe được điều chấn động.</p><p id="84">Đối với phụ huynh, còn chuyện gì khiến họ phấn khích hơn việc con mình là thiên tài?</p><p id="85">Nhờ vậy Olivia tránh được một phen bẽ mặt, nhưng cái giá phải trả thì không hề nhỏ.</p><p id="86">Gạt các quý phu nhân khác sang một bên, Bianca gần như độc chiếm Olivia, hỏi dồn đủ thứ.</p><p id="87">Liệu Dante có thật sự là thiên tài không, nếu là thiên tài thì ở lĩnh vực nào, và nên giáo dục như thế nào, vân vân.</p><p id="88">Olivia trả lời qua loa đủ kiểu, nhưng thực chất chẳng có điều gì chắc chắn.</p><p id="89">Nếu dễ dàng xác định như vậy, thì những thiên tài từng chịu đựng Tràn Tải đã không phải trải qua những năm tháng cuối đời bất hạnh.</p><p id="90">“Thật sao, thật sao? Con trai tôi thật sự là thiên tài à? Ừm… nghĩ lại thì đúng là có vẻ như vậy. Từ nhỏ nó đã có điểm khác thường. Mà thiên tài thì dễ bị cô lập trong tập thể lắm. Nên Dante mới không hòa nhập với bạn bè.”</p><p id="91">Olivia chỉ muốn về nhà. Trước mặt Bianca, bà không thể thốt ra câu “chỉ là khả năng mà thôi”.</p><p id="92">Chưa kịp tìm cớ thoái thác, Bianca đã chủ động lên tiếng trước.</p><p id="93">“Có thể… cô giúp tôi phỏng vấn Dante được không?”</p><p id="94">“Hả? Ngay bây giờ sao?”</p><p id="95">Lần này, Olivia cũng lộ rõ vẻ khó xử. Bà không muốn ngay cả trong buổi giao tế cũng phải đóng vai giáo viên.</p><p id="96">Nếu phỏng vấn xong mà hóa ra chỉ là một đứa trẻ bình thường thì hậu quả sẽ ra sao?</p><p id="97">Bianca, người được mệnh danh là con cáo của giới giao tế, sao có thể không hiểu tâm trạng của Olivia.</p><p id="98">Bà đứng dậy, như đã quyết tâm, rồi cúi đầu khẩn cầu thêm lần nữa.</p><p id="99">Trong bối cảnh có các quý phu nhân khác chứng kiến, đó đã là sự lễ độ tối đa của bà.</p><p id="100">“Xin cô. Olivia, cô là hiệu trưởng Học viện Ma pháp Hoàng gia. Chắc chắn cô sẽ phát hiện ra tài năng tiềm ẩn của Dante. Thằng bé đang ở khu vườn của biệt viện.”</p><p id="101">Tình thế đến nước này, Olivia cũng không thể từ chối. Cuối cùng bà thở dài rồi đứng dậy. Tuy vậy, bà cũng không quên mua sẵn bảo hiểm cho tình huống xấu nhất.</p><p id="102">“Được rồi. Tôi sẽ thử phỏng vấn. Nhưng xin đừng vội vàng kết luận. Nếu thật sự là Tràn Tải, thì đó là vấn đề cần thời gian dài để hướng dẫn.”</p><p id="103">“Vâng vâng, xin nhờ cả vào cô.”</p><p id="104">Olivia hướng về biệt viện để phỏng vấn một học sinh mà bà còn chưa từng gặp mặt.</p><p id="105">Xứng danh gia tộc đứng hạng 20 trong giới tài phiệt Tormia, biệt viện rộng lớn chẳng kém gì dinh thự của một quý tộc thực thụ.</p><p id="106">Bãi cỏ tràn ngập hương xuân trải dài như một sân vận động, phía xa là khu rừng rậm rạp.</p><p id="107">Dante đang ngồi ở rìa khu rừng. Olivia đứng từ xa nhìn đứa trẻ, rồi lại thở dài.</p><p id="108">Có lẽ đúng như lời quý phu nhân kia nói, chỉ là dậy thì sớm. Nhưng bà vẫn tin chắc đó là Tràn Tải. Đó là trực giác tích lũy từ hai mươi năm làm giáo viên.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c283190-chuong-249-he-thong-van-hanh-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24443-dai-phap-su-toan-nang/c283213-chuong-251-he-thong-van-hanh-4" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'IadqSxpYwt78UCn8yO28bNiITvg7mJdhmZm13Do6';
        var comment_type = 'chapter';
        var comment_typeid = '283203';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'IadqSxpYwt78UCn8yO28bNiITvg7mJdhmZm13Do6';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24443');
    chapter_id = parseInt('283203');

    readingObject = {
        series_id: series_id,
        series_title: 'Đại Pháp Sư Toàn Năng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="IadqSxpYwt78UCn8yO28bNiITvg7mJdhmZm13Do6" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

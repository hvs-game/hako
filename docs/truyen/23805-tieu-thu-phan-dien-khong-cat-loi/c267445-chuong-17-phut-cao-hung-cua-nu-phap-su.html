<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tiểu Thư Phản Diện Không Cất Lời - Chương 17: Phút cao hứng của nữ pháp sư - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="&quot;Cô Gái Với Trí Tuệ Vượt Trội!&quot; Liliana, con gái công tước và là ứng viên hàng đầu cho hôn thê của thái tử, nhận ra mình đã chuyển sinh thành nữ phản diện trong một tựa game otome mà cô từng chơi ở kiếp trước. Cô liên tục trở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="P224vX6yUrYLUIzPPcLKyp3DA12m9ino5lpna6PC">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23805-d5631abc-d9e0-4e65-a334-37df38adc940.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c268900-chuong-18-chuyen-tro-ve-lanh-dia-4"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su" style="background: url('https://i.hako.vn/ln/series/covers/s23805-d5631abc-d9e0-4e65-a334-37df38adc940.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi">Tiểu Thư Phản Diện Không...</a></h5>
                    <small><i class="fas fa-pen"></i>Yose Kei</small>
                    <small><i class="fas fa-paint-brush"></i>Miyuki Ruria</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247575-chuong-01">Minh họa light novel</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/t33993-web-novel">Tập 1: Thiên Tài Thức Tỉnh và Quân Cờ Lẽ Ra Đã Mất</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247570-chuong-01-thuc-tinh-1">
                                                                        Chương 01: Tỉnh dậy (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247571-chuong-02-tinh-day-2">
                                                                        Chương 02: Tỉnh dậy (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247572-chuong-03-ma-thuat">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 03: Ma thuật
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247772-chuong-4-tam-tinh-cua-marianne">
                                                                        Chương 04: Tâm tình của Marianne
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c248072-chuong-03-hoang-cung-1">
                                                                        Chương 05: Hoàng cung (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c251843-chuong-03-hoang-cung-2">
                                                                        Chương 06: Hoàng cung (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c254489-chuong-03-hoang-cung-3">
                                                                        Chương 07: Hoàng cung (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c256122-chuong-03-hoang-cung-4">
                                                                        Chương 08: Hoàng cung (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c257366-chuong-03-hoang-cung-5">
                                                                        Chương 09: Hoàng cung (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c260686-chuong-10-cuoc-tan-cong-1">
                                                                        Chương 10: Cuộc tấn công (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c261069-chuong-11-cuoc-tan-cong-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 11: Cuộc tấn công (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c262302-chuong-12-cuoc-tan-cong-3">
                                                                        Chương 12: Cuộc tấn công (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c263541-chuong-13-suy-tu-cua-austin">
                                                                        Chương 13: Suy tư của Austin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c264418-chuong-14-chuyen-tro-ve-lanh-dia-1">
                                                                        Chương 14: Chuyến trở về lãnh địa (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2">
                                                                        Chương 15: Chuyến trở về lãnh địa (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 16: Chuyến trở về lãnh địa (3)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su">
                                                                        Chương 17: Phút cao hứng của nữ pháp sư
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c268900-chuong-18-chuyen-tro-ve-lanh-dia-4">
                                                                        Chương 18: Chuyến trở về lãnh địa (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270548-chuong-19-chuyen-tro-ve-lanh-dia-5">
                                                                        Chương 19: Chuyến trở về lãnh địa (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270575-chuong-20-dinh-thu-fortia-1">
                                                                        Chương 20: Dinh thự Fortia (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270599-chuong-21-dinh-thu-fortia-2">
                                                                        Chương 21: Dinh thự Fortia (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c272385-chuong-22-noi-an-han-cua-clyde">
                                                                        Chương 22: Nỗi ân hận của Clyde
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273206-chuong-23-dinh-thu-fortia-3">
                                                                        Chương 23: Dinh thự Fortia (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273408-chuong-24-dinh-thu-fortia-4">
                                                                        Chương 24: Dinh thự Fortia (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273768-chuong-25-dinh-thu-fortia-5">
                                                                        Chương 25: Dinh thự Fortia (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c274103-chuong-26-uu-tu-cua-riley">
                                                                        Chương 26: Ưu tư của Riley
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c274799-chuong-27-buoi-tiec-va-nhung-am-muu-1">
                                                                        Chương 27: Buổi tiệc, và những âm mưu (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c281551-chuong-28-buoi-tiec-va-nhung-am-muu-2">
                                                                        Chương 28: Buổi tiệc, và những âm mưu (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1: Thiên Tài Thức Tỉnh và Quân Cờ Lẽ Ra Đã Mất</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 17: Phút cao hứng của nữ pháp sư</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,204 từ - Cập nhật: 
                        <time class="topic-time timeago" title="30-11-2025 23:43:57" datetime="2025-11-30T23:43:57+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 17: Phút cao hứng của nữ pháp sư</p>
                    <p id="1">Vương quốc Slibegrad, Bộ Ma thuật.</p><p id="2">Nói trắng ra thì, đó là cái ổ của những kẻ không đâu vào đâu. Mà chẳng riêng gì Bộ Ma thuật, cứ hễ dính dáng đến quý tộc là y như rằng chỉ có phiền phức.</p><p id="3">Trong cái Bộ này, không phải ai cũng có tước hiệu, nhưng kẻ nào cũng mang cái vẻ trịch thượng, tự cho mình là quan trọng chỉ vì cái danh pháp sư. Thật khiến người ta phát ngấy.</p><p id="4">Dưới con mắt của tôi, phần lớn đều là những kẻ nửa mùa—ví như lũ gà con chưa sạch vỏ trứng. Vậy mà chúng vẫn đường hoàng trở thành pháp sư của Vương quốc Slibegrad; vậy mới thấy cái xứ sở này khan hiếm nhân tài đến mức nào. Chúng cười nhạo tôi là kẻ ngoại lai, nhưng nhìn đi nhìn lại, chẳng có mống nào mạnh hơn tôi cả—à, trừ một người.</p><p id="5">Nhưng người đó không coi thường tôi. Thực ra là hắn ta chẳng quan tâm đến bất kỳ ai. Khi nói chuyện với tôi, hắn luôn cộc lốc và đi thẳng vào trọng tâm.</p><p id="6">"Có việc đây, Muirulainen. Đi trong hôm nay."</p><p id="7">Cái công việc mà hắn ném cho tôi lần này là hộ tống một quý tộc. Một nhiệm vụ hiếm hoi đến tay tôi, kẻ vốn không được lòng đám vương tôn công tử nước này là bao.</p><p id="8">Tôi xem qua chi tiết nhiệm vụ. Có vẻ như họ muốn tôi hộ tống họ từ dinh thự ở ngoại ô thủ đô về lại lãnh địa. Cả chuyến đi sẽ mất chừng một tháng. Thù lao thì cao ngất ngưởng.</p><p id="9">Rõ ràng đây là cách Bộ Ma thuật tống khứ tôi đi cho khuất mắt, được gói ghém đẹp đẽ dưới cái mác công việc.</p><p id="10">Dù dạo gần đây ma thú xuất hiện ngày càng nhiều và nhân lực đang thiếu hụt trầm trọng, vậy mà tôi—pháp sư mạnh nhất thực chiến—lại bị gạt ra rìa ngồi chơi xơi nước. Khi mà lũ ngốc kia cứ tranh giành công việc chỉ để thỏa mãn cái tôi cao ngạo, thì không chỉ cấp trên của chúng chịu khổ mà ngân khố quốc gia cũng bị bòn rút. Mà thôi, chuyện ngân khố thì liên quan gì đến tôi đâu.</p><p id="11">Nhận được địa điểm tập kết, tôi liền sửa soạn lên đường.</p><p id="12">—Người đời thường bảo phụ nữ chuẩn bị hành lý rườm rà, mất cả ngày trời. Kẻ nào có ý kiến thì cứ ra chỗ khác mà kêu ca. Ra đường thì trùm mũ vào, nắng nôi chói chang quá thể. Tôi, Petra này, hành lý gọn nhẹ, và không giống như đám người các người, không cần mang theo lọ thuốc mọc tóc nào đâu.</p><p id="13">Rời khỏi Bộ, tôi ghé qua chỗ trọ. Tất cả những gì cần thiết đều nằm gọn trong một chiếc túi. Chuyến đi kéo dài một tháng, tính cả thời gian di chuyển và lưu trú. Kể cũng hợp cho một kỳ nghỉ ngắn hạn. Dù chẳng mấy hứng thú khi phải quanh quẩn bên đám tai to mặt lớn, nhưng với tư cách là hộ vệ, chắc không đến lượt phải giao thiệp.</p><p id="14">Tự hỏi liệu có rượu ngon không nhỉ—nếu là đặc sản địa phương thì càng tốt. Theo kinh nghiệm của tôi, rượu ngon nhất là thứ rượu được uống khi tán gẫu với những người xa lạ trong một quán rượu rẻ tiền nào đó.</p><p id="15">Tôi đã đến điểm hẹn. Trong đầu tôi hình dung về một đoàn gồm ba xe ngựa - hoặc ít nhất là hai. Lũ quý tộc tôi từng gặp trước đây, ai cũng đi ít nhất hai xe—một cho người, một cho hành lý. Tôi luôn tự hỏi sao họ cần lắm quần áo giày dép đến thế, nhưng có vẻ đó là lẽ thường tình. Có khi lại thêm một xe nữa cho đám hộ vệ.</p><p id="16">Thế nhưng, vị quý tộc thuê tôi lần này lại chỉ có một cỗ xe duy nhất.</p><p id="17">"Khoan đã, hành lý chỉ có thế này thôi sao? Họ nghiêm túc đấy à?"</p><p id="18">Họ còn định ngồi chung xe với tôi sao? Khỏe không vậy công nương?</p><p id="19">Tôi không khỏi sửng sốt. Không chỉ với người của Bộ, mà cả với quý tộc nước này nữa. Thế nên, tôi quyết định thử họ ngay lập tức. Nếu không ổn, tôi tính sẽ ném một gã hộ vệ vào trong xe, còn mình thì chiếm lấy ghế đánh xe cho rảnh nợ.</p><p id="20">Liệu tôi có bỏ dở nhiệm vụ giữa chừng không? Dĩ nhiên là không—tiền đã trao cháo đã múc rồi.</p><p id="21">Tôi nhận được bảy phần thù lao, ba phần còn lại chảy về túi Bộ. Cũng may người xử lý vụ này là gã cuồng nghiên cứu kia. Chứ gặp phải kẻ khác, chắc đất không có để cạp ăn.</p><p id="22">"Chào, cô chắc là tiểu thư Liliana Alexandra Clark, con gái công tước nhỉ? Tôi là Petra Muirulainen, pháp sư. Cứ gọi là Petra."</p><p id="23">Vừa dứt lời, người phụ nữ có vẻ là hầu gái liền nhìn tôi với ánh mắt sắc lẹm như dao. Nhưng vị tiểu thư kia chỉ mỉm cười rạng rỡ, hoàn toàn chẳng chút bận tâm.</p><p id="24">Phản ứng của cô hầu gái là thứ tôi đã quá quen thuộc ở giới quý tộc. Nhưng phản ứng của vị tiểu thư này thì quả là lần đầu tiên tôi thấy.</p><p id="25">(Đầu óc cô ta có vấn đề à? Hay là ngốc thật?)</p><p id="26">Thoạt đầu tôi đã nghĩ thế, nhưng những dự đoán của tôi đã bị đập tan một cách thú vị. Vị tiểu thư đưa cho tôi một mảnh giấy. Nét chữ thanh thoát, bay bướm, dễ đọc—rõ ràng là người có học thức.</p><p id="27">Nhưng điều thu hút sự chú ý của tôi không phải là nét chữ hay câu cú. Mà là dòng cuối cùng—đó là ma thuật.</p><p id="28">Câu kết đã được cố định lại bằng phép thuật. Tôi liếc nhìn tiểu thư Liliana. Có điều gì đó không ổn quanh vùng miệng và cổ họng cô ấy. Có lẽ là một lời nguyền. Nhưng nó toát ra cái mùi... là lạ. Một loại lời nguyền tôi chưa từng gặp bao giờ sao? Hầu hết các lời nguyền chỉ là biến thể của các kỹ thuật cơ bản, và tôi tự tin mình có thể nhìn thấu chúng. Nhưng cái này, tôi chịu.</p><p id="29">(Thú vị đấy. Muốn phân tích thử xem sao, nhưng liệu cô ta có cho phép không nhỉ?)</p><p id="30">Có ba điều khơi dậy sự tò mò trong tôi.</p><p id="31">Một quý tộc không hề nao núng trước sự hiện diện của tôi—hàng hiếm đấy.</p><p id="32">Một tiểu thư đài các bị nguyền rủa mất đi giọng nói.</p><p id="33">Và dòng chữ: &lt;Đêm nay tôi sẽ đến phòng cô&gt;, được cố định bằng ma thuật để tôi có thể đọc được. Nếu giải thuật, dòng chữ đó sẽ biến mất khỏi tầm mắt.</p><p id="34">Cần phải có một trình độ ma lực nhất định mới có thể phát hiện ra phép thuật này. Và vị tiểu thư này đã kích hoạt nó ngay khi nhìn thấy tôi—để xác định xem liệu tôi có phải là người cô ấy có thể tin tưởng, một người có đủ năng lực pháp thuật để dựa vào hay không.</p><p id="35">(Vụ này xem ra sẽ vui đây.)</p><p id="36">Tôi thầm nghĩ.</p><p id="37">Cái công việc ngỡ là nhàm chán kéo dài cả tháng trời này có khi lại trở thành một chuyến đi thú vị. Tôi không giấu nổi cái nhếch mép thích thú.</p><p id="38">Để giết thời gian trong lúc chờ đợi vị tiểu thư đã gửi thông điệp đầy ẩn ý, tôi tranh thủ ra ngoài sau khi đến quán trọ. Tôi mua chút rượu và thịt cho mình, tiện thể mua thêm ít nước chanh và trái cây cho cô ấy, phòng hờ thôi. Hiếm khi tôi lại chu đáo với người khác thế này. Thú thật, tôi còn tự hỏi liệu trời có sập không. Tôi vừa miên man suy nghĩ vừa nhấm nháp ly rượu và chút thịt nướng.</p><p id="39">Chẳng bao lâu sau, vị tiểu thư ấy đến—đi một mình, và bằng phép &lt;Dịch Chuyển&gt;. Nghiêm túc đấy à?</p><p id="40">Chuyện này hoàn toàn nằm ngoài lẽ thường. Nhưng tôi cho rằng tôi và cô ấy cùng một giuộc, và một cảm giác đồng điệu thoáng qua trong tôi. Tuy nhiên, cảm giác ấy nhanh chóng tan biến. Người đứng trước mặt tôi không chỉ là một kẻ dị biệt giống tôi; cô ấy là thứ gì đó kỳ lạ hơn nhiều, một sự tồn tại vượt xa khái niệm "quái vật".</p><p id="41">"Chào buổi tối. Cảm ơn cô đã tiếp đón tôi dù đường đột thế này."</p><p id="42">Khoan đã, cái gì cơ? Tôi chớp mắt kinh ngạc, nhưng nhận ra không phải là tôi đang tưởng tượng.</p><p id="43">Một giọng nói lạ lẫm vang lên trực tiếp trong tâm trí, không qua tai, nhưng tôi biết chắc đó là của cô ấy. Đôi môi cô hoàn toàn không mấp máy, điều đó chỉ có thể giải thích bằng một khả năng duy nhất—&lt;Thần Giao Cách Cảm&gt;.</p><p id="44">"Tôi nghĩ không cần giải thích về chuyện này với một người như cô, phải không?"</p><p id="45">Cái gì? Không thể nào! Chính tôi đã từng từ bỏ việc học phép thuật này!</p><p id="46">&lt;Thần Giao Cách Cảm&gt; được xem là phép thuật bất khả thi, chỉ có ma thú hoặc tinh linh mới làm được. Có hai lý do cho việc này.</p><p id="47">Thứ nhất, đây là một dạng cấm thuật can thiệp trực tiếp vào tâm trí người khác, và về mặt lý thuyết, nó vẫn là một phép thuật chưa hoàn thiện. Không phải chưa từng có ai thử, nhưng mọi nỗ lực, dù lý thuyết có vẻ vững chắc đến đâu, đều thất bại. Bản thân tôi cũng đã bỏ không ít công sức nghiên cứu, chỉ để đâm đầu vào ngõ cụt.</p><p id="48">Và lý do thứ hai là lượng ma lực khổng lồ đến vô lí. Ngay cả khi phép thuật được hoàn thiện, &lt;Thần Giao Cách Cảm&gt; đòi hỏi một nguồn năng lượng kinh khủng. Đó là lý do người ta nói chỉ có ma thú hoặc tinh linh mới dùng được. Dù con người có nhiều ma lực đến đâu cũng không thể sánh bằng những thực thể ấy. Tất nhiên, ma thú hay tinh linh cấp thấp không đủ trí tuệ hay ma lực để dùng, nhưng ta đang nói đến những thực thể cấp cao dư sức thổi bay cả thế giới. Thần giao cách cảm chỉ là một phần nhỏ trong sức mạnh áp đảo đó.</p><p id="49">"Cô có... thực sự là con người không đấy?"</p><p id="50">Câu hỏi của tôi chẳng hề quá đáng chút nào. Cỡ tôi đã bị gọi là quái vật rồi, nhưng vị tiểu thư này đã vượt qua tôi một cách nhẹ nhàng như không. Tôi chỉ còn biết cười trừ.</p><p id="51">Thường thì tôi sẽ nổi điên khi gặp kẻ nào giỏi ma thuật hơn mình, nhưng cô gái này ở một đẳng cấp xa vời đến mức tôi chẳng buồn ghen tị nữa. Chỉ còn lại sự tò mò thuần túy—rốt cuộc cô ấy đã làm thế nào?</p><p id="52">Nhưng dĩ nhiên, sự phi thường của vị tiểu thư này chưa dừng lại ở đó. Cô ấy thản nhiên buông thêm một lời chấn động.</p><p id="53">"Cốt lõi của ma thuật nằm ở trí tưởng tượng, phải không? Thần chú suy cho cùng cũng chỉ là một phương thức được hệ thống hóa để giúp mọi người tiếp cận ma thuật, bằng cách bắc cầu nối giữa 'tưởng tượng' và 'hiện tượng'."</p><p id="54">Cô ấy nói đúng quá! Giá mà tôi có thể bắt mấy lão già bụng bự đầu hói ở Bộ Ma thuật nghe được những lời này. Chắc họ sẽ tức đến nỗi rụng nốt mấy cọng tóc còn lại mất thôi.</p><p id="55">Tất nhiên là tôi đồng ý với cô ấy. Dù nghiên cứu câu chú là sở thích của tôi, nhưng nếu ai hỏi liệu nó có cần thiết để dùng ma thuật không, câu trả lời của tôi chắc chắn là "Không".</p><p id="56">Vị tiểu thư tiếp tục đưa ra những nhận định khác xa với những gì người ta thường mong đợi ở một quý tộc.</p><p id="57">"Nhưng tôi là tôi. Tôi không thể là ai khác được."</p><p id="58">Chà, cô bé này cá tính thật đấy.</p><p id="59">Một tiểu thư không hề nao núng trước tôi, người dám thẳng thừng bác bỏ những quy tắc cứng nhắc của đám già trong Bộ, người am hiểu ma thuật đến mức gần như phi nhân loại. Và dù xuất thân từ một gia đình danh giá, cô ấy không đòi hỏi được dạy miễn phí. Ngược lại, cô ấy đưa ra một khoản thù lao hậu hĩnh. Có thể đó là cách tiêu tiền của quý tộc, nhưng tôi cũng được lợi nên không ý kiến.</p><p id="60">—Liliana Alexandra Clark.</p><p id="61">Tôi khẽ cười. Lần đầu tiên, tôi cảm thấy việc làm một điều gì đó cho vị tiểu thư này cũng không phải là ý tồi, một cảm giác thật lạ lẫm.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c268900-chuong-18-chuyen-tro-ve-lanh-dia-4" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3108946"
    class="ln-comment-item mt-3 clear"
    data-comment="3108946" 
    data-parent="3108946" 
    data-type="chapter" 
    data-typeid="267445">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u120875-3805bd34-1198-48ca-a808-b1fc59768c98.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/120875">Thích tự kỉ</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Hôm nay 2 chap luôn ngon
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su?comment_id=3108946#ln-comment-3108946"
                            class="text-slate-500">
                            <time class="timeago" title="30-11-2025 23:49:05"
                                datetime="2025-11-30T23:49:05+07:00">
                                30-11-2025 23:49:05
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'P224vX6yUrYLUIzPPcLKyp3DA12m9ino5lpna6PC';
        var comment_type = 'chapter';
        var comment_typeid = '267445';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'P224vX6yUrYLUIzPPcLKyp3DA12m9ino5lpna6PC';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23805');
    chapter_id = parseInt('267445');

    readingObject = {
        series_id: series_id,
        series_title: 'Tiểu Thư Phản Diện Không Cất Lời',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="P224vX6yUrYLUIzPPcLKyp3DA12m9ino5lpna6PC" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

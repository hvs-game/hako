<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tiểu Thư Phản Diện Không Cất Lời - Chương 15: Chuyến trở về lãnh địa (2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="&quot;Cô Gái Với Trí Tuệ Vượt Trội!&quot; Liliana, con gái công tước và là ứng viên hàng đầu cho hôn thê của thái tử, nhận ra mình đã chuyển sinh thành nữ phản diện trong một tựa game otome mà cô từng chơi ở kiếp trước. Cô liên tục trở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="nyAyrT8XSgTIrRdBBvZFLbmbAH0SQ4jWR0oAGNNK">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23805-d5631abc-d9e0-4e65-a334-37df38adc940.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c264418-chuong-14-chuyen-tro-ve-lanh-dia-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2" style="background: url('https://i.hako.vn/ln/series/covers/s23805-d5631abc-d9e0-4e65-a334-37df38adc940.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi">Tiểu Thư Phản Diện Không...</a></h5>
                    <small><i class="fas fa-pen"></i>Yose Kei</small>
                    <small><i class="fas fa-paint-brush"></i>Miyuki Ruria</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247575-chuong-01">Minh họa light novel</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/t33993-web-novel">Tập 1: Thiên Tài Thức Tỉnh và Quân Cờ Lẽ Ra Đã Mất</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247570-chuong-01-thuc-tinh-1">
                                                                        Chương 01: Tỉnh dậy (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247571-chuong-02-tinh-day-2">
                                                                        Chương 02: Tỉnh dậy (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247572-chuong-03-ma-thuat">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 03: Ma thuật
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c247772-chuong-4-tam-tinh-cua-marianne">
                                                                        Chương 04: Tâm tình của Marianne
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c248072-chuong-03-hoang-cung-1">
                                                                        Chương 05: Hoàng cung (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c251843-chuong-03-hoang-cung-2">
                                                                        Chương 06: Hoàng cung (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c254489-chuong-03-hoang-cung-3">
                                                                        Chương 07: Hoàng cung (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c256122-chuong-03-hoang-cung-4">
                                                                        Chương 08: Hoàng cung (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c257366-chuong-03-hoang-cung-5">
                                                                        Chương 09: Hoàng cung (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c260686-chuong-10-cuoc-tan-cong-1">
                                                                        Chương 10: Cuộc tấn công (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c261069-chuong-11-cuoc-tan-cong-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 11: Cuộc tấn công (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c262302-chuong-12-cuoc-tan-cong-3">
                                                                        Chương 12: Cuộc tấn công (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c263541-chuong-13-suy-tu-cua-austin">
                                                                        Chương 13: Suy tư của Austin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c264418-chuong-14-chuyen-tro-ve-lanh-dia-1">
                                                                        Chương 14: Chuyến trở về lãnh địa (1)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2">
                                                                        Chương 15: Chuyến trở về lãnh địa (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 16: Chuyến trở về lãnh địa (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267445-chuong-17-phut-cao-hung-cua-nu-phap-su">
                                                                        Chương 17: Phút cao hứng của nữ pháp sư
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c268900-chuong-18-chuyen-tro-ve-lanh-dia-4">
                                                                        Chương 18: Chuyến trở về lãnh địa (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270548-chuong-19-chuyen-tro-ve-lanh-dia-5">
                                                                        Chương 19: Chuyến trở về lãnh địa (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270575-chuong-20-dinh-thu-fortia-1">
                                                                        Chương 20: Dinh thự Fortia (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c270599-chuong-21-dinh-thu-fortia-2">
                                                                        Chương 21: Dinh thự Fortia (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c272385-chuong-22-noi-an-han-cua-clyde">
                                                                        Chương 22: Nỗi ân hận của Clyde
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273206-chuong-23-dinh-thu-fortia-3">
                                                                        Chương 23: Dinh thự Fortia (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273408-chuong-24-dinh-thu-fortia-4">
                                                                        Chương 24: Dinh thự Fortia (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c273768-chuong-25-dinh-thu-fortia-5">
                                                                        Chương 25: Dinh thự Fortia (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c274103-chuong-26-uu-tu-cua-riley">
                                                                        Chương 26: Ưu tư của Riley
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c274799-chuong-27-buoi-tiec-va-nhung-am-muu-1">
                                                                        Chương 27: Buổi tiệc, và những âm mưu (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c281551-chuong-28-buoi-tiec-va-nhung-am-muu-2">
                                                                        Chương 28: Buổi tiệc, và những âm mưu (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1: Thiên Tài Thức Tỉnh và Quân Cờ Lẽ Ra Đã Mất</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 15: Chuyến trở về lãnh địa (2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2#chapter-comments" style="text-decoration: underline">6 Bình luận</a> -
                        Độ dài: 2,207 từ - Cập nhật: 
                        <time class="topic-time timeago" title="27-11-2025 22:48:12" datetime="2025-11-27T22:48:12+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 15: Chuyến trở về lãnh địa (2)</p>
                    <p id="1">Người pháp sư được cử đến là một cô gái trẻ độ chừng ngoài hai mươi.</p><p id="2">"Chào, cô chắc là tiểu thư Liliana Alexandra Clark nhỉ? Tôi là Petra Muirulainen, pháp sư. Cứ gọi là Petra."</p><p id="3">Dù khoác trên mình chiếc áo choàng rộng thùng thình, người ta vẫn có thể nhận ra thân hình quyến rũ của cô ấy. Đôi mắt màu tím ẩn hiện dưới vành mũ trùm đầu, cùng mái tóc đỏ tía lấp ló. Nhưng cái đáng nói hơn là thái độ hoàn toàn không chút kiêng nể, không có lễ nghi gì trước một tiểu thư công tước, nếu là ai khác thì sẽ nghe một tràng chỉ trích rồi.</p><p id="4">Gương mặt Marianne đanh lại, nhưng Liliana vẫn giữ vẻ điềm nhiên, mỉm cười nồng hậu khi trao cho cô ta một mẩu giấy. Trên đó là lời xin lỗi vì cô không thể nói chuyện, cùng lời cảm ơn vì sự chăm sóc trong suốt chuyến hành trình sắp tới.</p><p id="5">Liếc qua mảnh giấy, Petra nhoẻn miệng cười đầy thích thú. Cô ta nhét tờ giấy vào túi, rồi bắt đầu quan sát khuôn miệng của Liliana với vẻ tò mò không giấu giếm.</p><p id="6">"Cô kì lạ thật đấy."</p><p id="7">Chẳng biết từ lúc nào, danh xưng "Tiểu thư" đã bị Petra lược bỏ, thay bằng cách gọi trống không. Nét mặt Marianne càng trở nên nghiêm nghị, nhưng Petra còn không để ý đến. Liliana phải cố gắng lắm mới giữ được nụ cười xã giao của mình.</p><p id="8">(Chà, nếu là Liliana trong game, hẳn cô ấy đã nổi trận lôi đình rồi.)</p><p id="9">Dù Petra không phải là nhân vật xuất hiện trong game, Liliana vẫn không khỏi suy nghĩ như vậy.</p><p id="10">Trong game, Liliana được khắc họa là người có lòng kiêu hãnh cao ngút trời. Là con gái của một công tước—địa vị chỉ đứng sau hoàng tộc—cô ấy sẽ phát điên lên nếu một quý tộc cấp thấp như nữ chính tỏ ra bất kính với bề trên. Liliana trong game mang nặng tư tưởng về trật tự đẳng cấp của giới quý tộc. Hẳn cô ấy sẽ gay gắt lên án Petra vì sự vô lễ này.</p><p id="11">Tuy nhiên, cô hiện tại chỉ lặng lẽ quan sát người phụ nữ trước mặt.</p><p id="12">(Kiểu người này càng chỉ trích nặng thì càng không nghe thôi.)</p><p id="13">Nghe cái tên Petra, có thể đoán cô ta không phải người Vương quốc Slibegrad. Người nước ngoài muốn gia nhập Bộ Ma thuật là điều cực kỳ khó khăn. Điều này đồng nghĩa với việc Petra phải sở hữu tài năng xuất chúng mới có thể làm cho đám trong bộ cắn răng chấp nhận—lại còn trong một bộ máy mang nặng tư tưởng trọng nam khinh nữ. Nữ pháp sư này chắc chắn không phải là một kẻ tầm thường.</p><p id="14">Cỗ xe ngựa chở Liliana, Marianne, Petra và hai người hộ vệ tiếp tục lăn bánh trên con đường dài.</p><p id="15">Marianne dường như chẳng buồn mở lời với kẻ vô lễ như Petra. Và vì Liliana không thể nói nên cũng không có ai bắt chuyện. Petra, người dường như không thấy phiền lòng bởi sự im lặng, tỏ ra thích thú khi ngắm nhìn phong cảnh trôi qua khung cửa sổ.</p><p id="16">   </p><p id="17">Thị trấn được chọn để nghỉ lại đêm đầu không quá lớn. Nơi đây đóng vai trò như một trạm kiểm soát các tuyến đường, với những dãy nhà trọ và quán ăn san sát. Có vài cửa tiệm bán đồ lưu niệm đơn sơ, không có gì đặc sắc để tham quan. Tuy nhiên, nhờ vị trí nằm ở giao điểm của nhiều tuyến đường nên nhìn chung vẫn khá sầm uất. Thị trấn lấy nhà thờ làm trung tâm, từng là một thành phố pháo đài, được bao quanh bởi hào nước lớn và những bức tường thành cao vút.</p><p id="18">Nhà trọ nơi nhóm Liliana tá túc nằm ngay sau trạm kiểm soát. Đó là một cơ sở thượng hạng, chuyên phục vụ giới quý tộc cấp cao. Marianne, người chăm sóc Liliana, cùng hai hộ vệ và pháp sư Petra đều ở cùng một nhà trọ. Vì họ được thuê để bảo vệ Liliana, sẽ rất phiền phức nếu họ ở nơi khác trong trường hợp khẩn cấp xảy ra.</p><p id="19">Phòng của Petra, vốn dành cho tùy tùng và người hầu, có hạng thấp hơn phòng của Liliana. Nói vậy chứ vẫn tốt hơn hầu hết các phòng trọ khác.</p><p id="20">Sau bữa tối, Liliana tắm rửa và chuẩn bị đi ngủ. Vì Marianne nghỉ ở phòng kế bên thông qua một cánh cửa, cô ấy sẽ nhận ra ngay nếu có bất kỳ điều gì bất thường.</p><p id="21">Tuy nhiên, Liliana chẳng hề bận tâm đến điều đó. Để đảm bảo Marianne chìm vào giấc ngủ nhanh chóng, cô thi triển một phép ru ngủ và dựng kết giới ở cả phòng mình lẫn phòng Marianne. Phòng Marianne được bao bọc bởi kết giới phòng thủ, còn phòng Liliana là kết giới cách âm. Một lát sau, khi nghe tiếng thở đều đều của Marianne, Liliana sử dụng phép &lt;Dịch chuyển&gt;—</p><p id="22">"—Đến thật đấy à."</p><p id="23">Nhìn thấy Liliana, người trong phòng nhướng mày đầy thích thú.</p><p id="24">"Dùng được &lt;Dịch chuyển&gt; ở tuổi này quả là ấn tượng. Đó giờ tôi chỉ biết có hai người sử dụng được là tôi và cô thôi."</p><p id="25">Chủ nhân căn phòng—Petra Muirulainen—có vẻ đang rất cao hứng. Cô ta khui một chai rượu vừa mua bên ngoài và nhấm nháp mấy xiên thịt nướng.</p><p id="26">Liliana không kìm được một nụ cười chân thành. Rồi, với vẻ mặt rạng rỡ, cô cất tiếng nói với Petra.</p><p id="27"><em>"Chào buổi tối. Cảm ơn cô đã tiếp đón tôi dù đường đột thế này."</em></p><p id="28">Lần này, đôi mắt Petra mở to kinh ngạc. Cô ta trân trân nhìn Liliana với vẻ không thể tin nổi, khuôn mặt lộ rõ sự bàng hoàng.</p><p id="29"><em>“Tôi nghĩ không cần giải thích về chuyện này?”</em></p><p id="30">"—C-Cái gì?"</p><p id="31">Petra không thể tin vào những gì trước mắt. Nhìn chằm chằm vào Liliana, cô ta thấy đôi môi Liliana hoàn toàn không hề mấp máy, dù rõ ràng cô đang "nói".</p><p id="32">"—Thần giao cách cảm...?"</p><p id="33">Petra lẩm bẩm bằng giọng khàn đặc. Liliana gật đầu với một nụ cười.</p><p id="34">Thần giao cách cảm—một kỹ thuật tác động trực tiếp vào tâm trí người nhận để truyền tải ngôn từ—được xem là nằm ngoài phạm vi của ma thuật thông thường. Sách vở ghi rằng chỉ những thực thể không phải con người, như ma thú hay tinh linh mới có thể sử dụng. Petra sững sờ khi thấy Liliana thực hiện một cách thản nhiên, nhất thời không biết phải nói gì.</p><p id="35">Tuy nhiên, phản ứng như thế này là có thể đoán được.</p><p id="36">Dù ban đầu có chút ngỡ ngàng, Petra nhanh chóng nở một nụ cười bất đắc dĩ và chỉ tay về phía chiếc ghế sofa đối diện. Lấy lại vẻ điềm nhiên, cô ta hỏi: "Cô có thực sự là con người không đấy?"</p><p id="37"><em>"Vâng, tôi chắc chắn là con người. Tuy nhiên, nếu việc tôi có thể dùng thần giao cách cảm bị lộ ra, sự an nguy của tôi sẽ bị đe dọa. Cô là người duy nhất biết điều này."</em></p><p id="38">Bình thường thì không nên sử dụng phép thuật này bừa bãi, nhưng lúc này cần thiết thì vẫn phải dùng. Đêm nay, Liliana đến phòng Petra là vì một lý do quan trọng.</p><p id="39">"Chà, vinh hạnh thật đấy," Petra nói, hít một hơi sâu rồi uống thêm ngụm rượu. Sau khi hoàn hồn, cô ta có vẻ tò mò về cách thức hoạt động. Cô rướn người về phía trước đầy hứng thú, hỏi: "Nhân tiện, cô dùng kỹ thuật gì để thần giao cách cảm vậy?"</p><p id="40"><em>"Kỹ thuật gì à. Giải thích ra thì dài dòng lắm,"</em> Liliana đáp.</p><p id="41">"Thật sao?"</p><p id="42"><em>"Cốt lõi của ma thuật nằm ở trí tưởng tượng, phải không? Thần chú suy cho cùng cũng chỉ là một phương thức được hệ thống hóa để giúp mọi người tiếp cận ma thuật, bằng cách bắc cầu nối giữa 'tưởng tượng' và 'hiện tượng'."</em></p><p id="43">Mắt Petra mở to trước lời giải thích của Liliana. Vài giây sau, cô ta phá lên cười sằng sặc.</p><p id="44">"Cái đó! Cô thử nói câu đó với mấy lão ở Bộ Ma thuật xem. Họ chắc chắn sẽ nổ đom đóm mắt và phát điên lên cho xem!"</p><p id="45"><em>"Thất lễ quá,"</em> Liliana cười.</p><p id="46">Một trong những nhiệm vụ của Bộ Ma thuật là hệ thống hóa và phát triển các kỹ thuật. Lời giải thích của Liliana về cơ bản đã tuyên bố những kỹ thuật từ xưa đến nay trong sách vở là vô nghĩa. Mặc cho Liliana xin lỗi, Petra vẫn cười không ngớt, xua xua tay.</p><p id="47">"Không sao. Khác với mấy gã đó, tôi là 'kẻ dị giáo'. Tôi đồng ý với cô. Phụ thuộc vào niệm chú chỉ làm ma thuật trì trệ và ngăn cản sự tiến bộ mà thôi."</p><p id="48">Liliana thở phào nhẹ nhõm. Cô đến gặp Petra để thảo luận một việc, và sẽ thật vô ích nếu chọc giận cô ta trước khi đi vào vấn đề chính. Khi Petra giục cô nói tiếp, Liliana giải thích—</p><p id="49"><em>"Cứ tưởng tượng thôi. Khi lắng nghe ai đó, người nghe tiếp nhận giọng nói của người nói qua tai. Giọng nói này đi qua những kênh rất hẹp để đến được bộ phận xử lý sự hiểu biết. Phương pháp tôi dùng trong thần giao cách cảm gửi những từ ngữ tôi tạo ra trong tâm trí trực tiếp vào những kênh mỏng manh đó trong cơ thể cô."</em></p><p id="50">Petra cau mày. Biểu cảm của cô ta nói lên rõ ràng rằng cô ta chẳng hiểu gì sất.</p><p id="51">Liliana thầm thở dài. Thực tế, kỹ thuật này được phát triển bằng cách áp dụng giả thuyết về sự vướng víu lượng tử và đồng bộ hóa sóng não. Giải thích khái niệm này, chưa nói đến việc phân tích nó, là một thử thách trong thế giới thiếu vắng kiến thức về vật lý lượng tử hay khoa học thần kinh cơ bản.</p><p id="52">(Dù sao thì ngay cả một lời giải thích về vướng víu lượng tử cũng tốn cả cuốn sách—làm sao có thể giải thích cho người không có nền tảng kiến thức được...)</p><p id="53">Petra tiếp tục nhìn Liliana với vẻ bối rối, nhưng rồi cô ta cũng bỏ cuộc việc cố gắng hiểu. Thay vào đó, cô thở hắt ra một hơi dài và ngả người ra sau ghế.</p><p id="54">"Cô lập khế ước với tinh linh hay ác quỷ gì đó à?"</p><p id="55">Một lời giải thích như vậy có lẽ là cách duy nhất để hợp lý hóa khả năng thần giao cách cảm của Liliana, vì nghe quá phi thực tế. Tuy nhiên, khế ước với tinh linh là không thể, vì tinh linh chỉ được biết đến qua truyền thuyết và không được công nhận là thực thể có thật. Người ta tin rằng tinh linh hoặc đã biến mất hoặc đã cắt đứt mối liên hệ với con người. Tương tự, khế ước với ác quỷ cũng khó xảy ra vì nghe nói chúng không bao giờ ban sức mạnh cho con người, chỉ hợp tác mà không ban cho những khả năng như thần giao cách cảm.</p><p id="56">Liliana lắc đầu, quan sát phản ứng của Petra. Petra, người nãy giờ nhìn chằm chằm vào cô với ánh mắt dò xét, cuối cùng cũng có vẻ chịu thua và thở dài thườn thượt.</p><p id="57">"Thôi được rồi, có vẻ cô không nói dối. Chắc là cô ngẫu nhiên làm được thôi."</p><p id="58"><em>"Ừm, thôi thì giải thích vậy đi."</em></p><p id="59">Xin lỗi vì không đáp ứng được kỳ vọng của Petra, Liliana cúi đầu. Petra lắc đầu, rồi cầm lên một mảnh giấy từ trên bàn.</p><p id="60">"Cả cái này nữa—cô biết khi đó tôi đã ngạc nhiên thế nào không. Dòng cuối cùng, là ma thuật phải không?"</p><p id="61"><em>"Vâng. Tôi muốn nói chuyện với cô vì cô là pháp sư, nhưng—tôi không thể xác định liệu cô có đáng tin hay không nếu chưa gặp trực tiếp."</em></p><p id="62">Liliana mỉm cười rạng rỡ.</p><p id="63">Câu cuối cùng của mảnh giấy viết: &lt;Đêm nay tôi sẽ đến phòng cô.&gt; Vì dòng chữ được viết bằng ma thuật, Liliana có thể xóa đi bằng phép &lt;Giải thuật&gt;. Nhưng Liliana đã dùng phép &lt;Cố định&gt; để giữ dòng chữ lại trước khi đưa cho Petra. Dĩ nhiên, với khả năng của Petra thì đã nhận ra toàn bộ chuỗi hành động đó.</p><p id="64">Với điều đó đã đủ cho Liliana đánh giá rằng Petra là một pháp sư đáng tin cậy.</p><p id="65">"Tôi có chuyện muốn thảo luận với cô đêm nay," Liliana nói, giữ nụ cười tươi tắn và đi thẳng vào vấn đề. Petra, nhanh chóng hồi phục sau cú sốc, cười nhếch mép đầy tự tin.</p><p id="66">"Tôi thích những người thẳng thắn."</p><p id="67">Petra mời Liliana ly nước chanh cô ta đã chuẩn bị sẵn, Liliana vui vẻ đón nhận. Sau khi nhấp một ngụm, Liliana bắt đầu cất lời.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c264418-chuong-14-chuyen-tro-ve-lanh-dia-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c267347-chuong-16-chuyen-tro-ve-lanh-dia-3" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(6)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">6 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3105219"
    class="ln-comment-item mt-3 clear"
    data-comment="3105219" 
    data-parent="3105219" 
    data-type="chapter" 
    data-typeid="265753">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/111319">ShelterT</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tới đây mà là yuri thì +1 vợ rồi 🥀
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2?comment_id=3105219#ln-comment-3105219"
                            class="text-slate-500">
                            <time class="timeago" title="27-11-2025 23:58:13"
                                datetime="2025-11-27T23:58:13+07:00">
                                27-11-2025 23:58:13
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

        <div class="ln-comment-reply">
            <div id="ln-comment-3110710"
    class="ln-comment-item mt-3 clear"
    data-comment="3110710" 
    data-parent="3105219" 
    data-type="chapter" 
    data-typeid="265753">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u39544-d3c89810-d46e-4387-958f-fb3a31072a72.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/39544">Mara Papiyas • Hajun</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Bộ này có Yuri ko bạn
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2?comment_id=3105219&amp;reply_id=3110710#ln-comment-3110710"
                            class="text-slate-500">
                            <time class="timeago" title="02-12-2025 11:09:30"
                                datetime="2025-12-02T11:09:30+07:00">
                                02-12-2025 11:09:30
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
            <div id="ln-comment-3112835"
    class="ln-comment-item mt-3 clear"
    data-comment="3112835" 
    data-parent="3105219" 
    data-type="chapter" 
    data-typeid="265753">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/111319">ShelterT</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        <a href="/thanh-vien/39544">@Mara Papiyas • Hajun:</a> ko bạn ơi, tag romance mà
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23805-tieu-thu-phan-dien-khong-cat-loi/c265753-chuong-15-chuyen-tro-ve-lanh-dia-2?comment_id=3105219&amp;reply_id=3112835#ln-comment-3112835"
                            class="text-slate-500">
                            <time class="timeago" title="04-12-2025 13:16:25"
                                datetime="2025-12-04T13:16:25+07:00">
                                04-12-2025 13:16:25
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
    
                <div class="fetch_reply" data-parent="3105219">
            Xem thêm 3 trả lời <i class="fas fa-chevron-down" style="margin-left: 4px;"></i>
        </div>
        <img class="loading" src="/img/loading.svg" style="width: auto; height: 15px; margin-left: 10px; display: none">
                
    </div>
    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'nyAyrT8XSgTIrRdBBvZFLbmbAH0SQ4jWR0oAGNNK';
        var comment_type = 'chapter';
        var comment_typeid = '265753';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'nyAyrT8XSgTIrRdBBvZFLbmbAH0SQ4jWR0oAGNNK';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23805');
    chapter_id = parseInt('265753');

    readingObject = {
        series_id: series_id,
        series_title: 'Tiểu Thư Phản Diện Không Cất Lời',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="nyAyrT8XSgTIrRdBBvZFLbmbAH0SQ4jWR0oAGNNK" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

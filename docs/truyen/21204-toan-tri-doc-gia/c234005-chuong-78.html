<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Toàn Tri Độc Giả - Chương 78 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi là người duy nhất biết được kết cục của thế giới này.” Một ngày nọ, thế giới của Kim Dokja sụp đổ. Không phải theo nghĩa bóng, mà theo đúng những gì đã xảy ra trong cuốn tiểu thuyết mà anh là độc giả duy nhất theo dõi đến...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="wsNdUrTuZYSbGowJ2A6TkXSd6rVNHuBZ6LtzixCQ">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21204-toan-tri-doc-gia/c234005-chuong-78">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21204-toan-tri-doc-gia/c230893-chuong-77"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21204-toan-tri-doc-gia"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/21204-toan-tri-doc-gia/c235373-chuong-79"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21204-toan-tri-doc-gia/c234005-chuong-78" style="background: url('https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21204-toan-tri-doc-gia">Toàn Tri Độc Giả</a></h5>
                    <small><i class="fas fa-pen"></i>Sing Shong</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163126-mo-dau-ba-cach-song-sot-trong-the-gioi-do-nat">Mở đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163127-chuong-01">Hồi 1 – Bắt đầu dịch vụ tính phí</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07">Hồi 2 – Nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163164-chuong-11">Hồi 3 – Hợp đồng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163170-chuong-15">Hồi 4 – Đạo đức giả cũng là đạo đức</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163486-chuong-19">Hồi 5 – Cảnh Vệ Bóng Đêm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c166297-chuong-23">Hồi 6 – Giờ Phán Quyết</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c167129-chuong-27">Hồi 7 – Địa chủ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c168524-chuong-32">Hồi 8 – Phòng thủ khẩn cấp</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c170483-chuong-36">Hồi 9 - Mola toàn tri</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c175135-chuong-42">Hồi 10 - Trận chiến tương lai</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c184714-chuong-49">Hồi 11 - Đêm hội Giáo Đồ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c193080-chuong-54">Hồi 12 - Góc nhìn thứ nhất của nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c202672-chuong-59">Hồi 13 - Đại chiến vương vị</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c211824-chuong-64">Hồi 14 - Chủ nhân ngai vàng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c219703-chuong-70">Hồi 15 - Thế giới không vua</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21204-toan-tri-doc-gia/t33059-hoi-16-kich-ban-thu-nam">Hồi 16 - Kịch bản thứ năm</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c229563-chuong-76">
                                                                        Chương 76
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c230893-chuong-77">
                                                                        Chương 77
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21204-toan-tri-doc-gia/c234005-chuong-78">
                                                                        Chương 78
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c235373-chuong-79">
                                                                        Chương 79
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c236868-chuong-80">
                                                                        Chương 80
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c238574-chuong-81">Hồi 17 - Tài năng cấp SSS</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c248074-chuong-87">Hồi 18 - Cuộc chiến của độc giả</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c254505-chuong-92">Hồi 19 - Dị điểm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">Hồi 20 - Tai ương Hồng Thủy</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c274603-chuong-102">Hồi 21 - Những thứ không thể thay đổi</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Hồi 16 - Kịch bản thứ năm</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 78</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21204-toan-tri-doc-gia/c234005-chuong-78#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,008 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-09-2025 22:09:37" datetime="2025-09-22T22:09:37+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 78</p>
                    <p id="1">Những mảnh vỡ của nguyệt thạch rơi xuống đất. Một sinh thể với bờm bạc lấp lánh đang phá kén mà ra. Nếu nó chỉ là một con non, tôi có thể kiểm soát nó bằng tập tính in vết[note80780]. Nhưng mà kẻ này đâu phải hạng ngây thơ như thế.</p><p id="2">[Đây là lần đầu bạn chạm trán một sinh vật đến từ dị giới trong kịch bản này.]</p><p id="3">[Độ thiện cảm với sinh vật dị giới đã tăng lên.]</p><p id="4">[Bạn nhận được 2,000 xu phần thưởng.]</p><p id="5">[Bạn nhận được một kỹ năng bổ sung để giao tiếp thuận lợi với sinh vật dị giới.]</p><p id="6">[Đã nhận được kỹ năng 'Thông Dịch Dị Ngữ Lv. 1'.]</p><p id="7">Tôi nghe thấy tiếng Han Sooyoung nuốt nước bọt ừng ực ngay bên cạnh.</p><p id="8">Căng thẳng là phải rồi, vì việc chạm trán với chủng tộc từ thế giới khác chính là khúc dạo đầu cho kịch bản thứ năm mà.</p><p id="9">Nó khác hoàn toàn với mấy kịch bản trước. Sơ sẩy một li trong kịch bản thứ năm thôi là cả Seoul bay màu đấy.</p><p id="10">[Kỹ năng độc quyền 'Thông Dịch Dị Ngữ Lv. 1' được kích hoạt.]</p><p id="11">[Hiệu ứng của vật phẩm ‘Ký Hiệu Bảo Hộ Của Bộ Tộc Imyuntar' đã tăng cường khả năng thấu hiểu ngôn ngữ.]</p><p id="12">Xem ra cái vật phẩm tôi lấy được từ hỏa long cuối cùng cũng có đất dụng võ rồi.</p><p id="13">[Quá trình phiên dịch tự động bắt đầu.]</p><p id="14">Tôi nghe thấy một giọng nói từ viên nguyệt thạch đang tỏa sáng.</p><p id="15">"#%#$... chết tiệt, đã đến lúc rồi à?"</p><p id="16">Sinh vật cuộn tròn bên trong viên nguyệt thạch càu nhàu rồi đứng dậy. Bộ bờm bạc thoạt nhìn làm tôi liên tưởng đến một con sói, nhưng tôi biết hắn không phải loài sói bình thường. Và tôi cũng biết rõ hắn là ai.</p><p id="17">「 Cao ba mét. Là chủng tộc thống trị của thế giới 'Chronos', có khả năng biến hình vào ban đêm nhờ nguyệt thạch. Họ là những chiến binh có sức mạnh thể chất kinh hoàng, nắm giữ quyền năng sức mạnh của gió.」</p><p id="18">Một trong năm chủng tộc thống trị Chronos.</p><p id="19">"Ta là sói đầu đàn vĩ đại."</p><p id="20">「 Ở Chronos, họ gọi sói đầu đàn là 'Imyuntar'. 」</p><p id="21">"Ta là Lycaon của tộc Imyuntar."</p><p id="22">Âm thanh hô hấp rùng rợn vang vọng trong bóng đêm khiến không gian trở nên tĩnh lặng. Tôi chạm mắt với gã, trong khi Han Sooyoung trốn sau lưng tôi. Dĩ nhiên là tôi không lùi bước.</p><p id="23">[Kỹ năng độc quyền, ‘Danh Sách Nhân Vật’ được kích hoạt.]</p><p id="24">[Tóm Tắt Nhân Vật]</p><p id="25">Tên: Lycaon Isparang</p><p id="26">Tuổi: 371</p><p id="27">Nhà tài trợ: Bóng Ma Của Một Thế Giới Đã Bị Hủy Diệt</p><p id="28">Thuộc tính độc quyền: Imyuntar Cao Quý (Anh Hùng), Kẻ Sống Sót Nhục Nhã (Hiếm)</p><p id="29">Kỹ năng độc quyền: Phong Chi Đạo Lv. 9, Huấn Luyện Vũ Khí Cao Cấp Lv. 9, Tiếng Gầm Nơi Chiến Trường Lv. 8, Cái Nhìn Của Hiền Nhân Lv. 4, Thân Thể Thép Lv. 8, Diễn Xuất Lv. 4…</p><p id="30">Tinh ấn: Kẻ Gieo Rắc Sự Hủy Diệt Lv. 1</p><p id="31">Chỉ số tổng thể: Thể lực Lv. 75, Sức mạnh Lv. 75, Nhanh nhẹn Lv. 75, Ma thuật Lv. 75.</p><p id="32">Đánh giá chung: Một trong năm chủng tộc thống trị thế giới Chronos đã bị hủy diệt. Sau khi mất đi thế giới của mình, gã đã hợp tác với Stream Tinh và trở thành một người dẫn đường trong kịch bản. Đặc trưng của gã là luôn nhìn thế giới bằng đôi mắt đầy hối tiếc.</p><p id="33">Đúng như dự đoán, anh hùng của thế giới khác có bộ kỹ năng và chỉ số ngon thật. Chỉ số trung bình tận cấp 75. Gã đã vượt qua giới hạn hiện tại của kịch bản. Một mục tiêu mà bao nhiêu hóa thân đều thèm muốn.</p><p id="34">Đôi mắt xanh của Lycaon nhìn xuống tôi như thể tôi là một thứ gì đó thú vị lắm.</p><p id="35">"Các ngươi là những kẻ đã đánh thức ta?"</p><p id="36">Tôi gật đầu.</p><p id="37">"Ta hiểu rồi... Cuối cùng cũng đến lúc rồi sao? Chúc mừng các ngươi đã hoàn thành các kịch bản hướng dẫn, hỡi những chiến binh của thế giới này."</p><p id="38">Nghe cứ như phần hướng dẫn ấy nhỉ. Cái kiểu bắt chước bọn Dokkaebi để tỏ ra kịch tính này trông buồn cười thật.</p><p id="39">Thế giới này làm gì có hướng dẫn nào. Mọi kịch bản đều là thực chiến, và người chết thì không thể sống lại. Hướng dẫn cái nỗi gì chứ?</p><p id="40">"Hỡi những kẻ đang đối mặt với sự diệt vong. Trước hết, ta vô cùng lấy làm tiếc vì ‘tai ương' đã giáng xuống thế giới của các ngươi."</p><p id="41">Lycaon vừa nói vừa ngước nhìn lên bầu trời.</p><p id="42">Gã đang nhìn vào Vực Thẳm phía trên Seoul, Hàn Quốc.</p><p id="43">Một xoáy nước khổng lồ trông như lỗ đen đang dần phình to ra từng khoảnh khắc. Chắc hẳn Lycaon cũng đã nhìn thấy cảnh tượng giống vậy vào cái ngày thế giới của gã bị hủy diệt.</p><p id="44">Tất cả những người dẫn đường trong các kịch bản đều là những kẻ đã mất đi quê hương của mình vì chính những kịch bản đó.</p><p id="45">“Nhưng từ giờ, hãy yên tâm. Bởi vì ta chính là ‘người dẫn đường’ ngăn chặn sự hủy diệt này. Ta sẽ huấn luyện các ngươi chuẩn bị cho tai ương, và trao cho các ngươi những chỉ dẫn cần thiết. Và…”</p><p id="46">Dù đọc vội vàng, gã lại rất thuần thục, cũng thuộc bài phết nhỉ. Chắc là nhận được cẩm nang từ một con Dokkaebi nào đó rồi.</p><p id="47">Lycaon đột ngột ngừng nói.</p><p id="48">"...Nhân tiện, chỉ có các ngươi đánh thức ta thôi sao?"</p><p id="49">"Chỉ có chúng tôi thôi."</p><p id="50">"Lạ thật. Kịch bản thứ tư vẫn chưa được hoàn thành à? Nếu nó được hoàn thành đúng cách, cả năm người dẫn đường, bao gồm cả ta, đã phải nở ra cùng một chỗ rồi... Chủ nhân của Ngai Vàng Tối Cao đâu?”</p><p id="51">Gã nói đúng. Vốn dĩ, năm người dẫn đường, bao gồm cả Lycaon, sẽ tập hợp lại ngay khi chủ nhân của Ngai Vàng Tối Cao ra đời.</p><p id="52">Tôi nói với Lycaon. </p><p id="53">"Chúng tôi không có vua."</p><p id="54">"Không có vua… chủ nhân của Ngai Vàng Tối Cao đã chết rồi sao? Không thể nào. Hiện tại, không có cách nào để giết được chủ nhân của Ngai Vàng Tối Cao cả."</p><p id="55">Lycaon bày tỏ sự hoài nghi của mình một cách đầy đe dọa.</p><p id="56">"Ngay từ đầu đã không có chủ nhân của Ngai Vàng Tối Cao rồi."</p><p id="57">"Ý ngươi là gì?"</p><p id="58">“Bọn tôi đã vượt qua kịch bản thứ tư mà không cần Ngai Vàng Tối Cao.”</p><p id="59">Lửa giận bùng lên trong mắt Lycaon.</p><p id="60">"Ngươi đang lừa ta sao? Không thể có chuyện đó được! Kịch bản thứ tư sẽ không kết thúc cho đến khi có người ngồi lên ngai vàng."</p><p id="61">"Vẫn còn một cách khác, chính là phá hủy Ngai Vàng Tối Cao."</p><p id="62">Vẻ mặt của Lycaon cứng đờ. Gã dường như đã hiểu được lời tôi nói và đôi mắt mở to.</p><p id="63">"…Lẽ nào?"</p><p id="64">Vẻ bối rối của một vị anh hùng cao quý như vậy thật đáng để chiêm ngưỡng. Bờm lông màu bạc khẽ run rẩy khi gã nhìn chằm chằm vào tôi.</p><p id="65">“Đừng nói là… các ngươi đã phá hủy ngai vàng…?”</p><p id="66">"Đúng vậy."</p><p id="67">"Sao các ngươi có thể làm chuyện tày trời như vậy?"</p><p id="68">Lycaon gầm rống, văng ra cả rổ chửi mà tôi nghe loáng thoáng chả rõ câu nào. Han Sooyoung nhìn Lycaon đang gầm gừ và thì thầm với tôi, </p><p id="69">"Này, chuyện đó nghiêm trọng đến vậy à? Đối với anh…”</p><p id="70">Han Sooyoung cũng nhận được kỹ năng Thông Dịch Dị Ngữ và nghe thấy cuộc trò chuyện. Lycaon gào lên trước khi tôi kịp trả lời.</p><p id="71">“Tại sao ngươi lại làm thế?! Giờ thì chẳng còn ai được che chở bởi vị thần vĩ đại kia nữa sao?”</p><p id="72">"Đúng rồi."</p><p id="73">"Aaa! Các chòm sao của Stream Tinh chẳng còn đoái hoài gì đến Chronos nữa! Giờ thì thế giới này tiêu rồi! Đám thiểu năng trí tuệ còn hơn cả tiểu quái các ngươi phải tự biết vị trí của mình đi chứ!”</p><p id="74">Tôi nhìn gã đang lăn lộn trong tuyệt vọng mà chỉ thấy nực cười.</p><p id="75">Phải, đây mới là bản chất của những kẻ này. Bề ngoài thì tỏ vẻ được cử đến để giúp đỡ thế giới này. Nhưng thực chất, tên nào cũng có một mục đích riêng mà tôi sẽ không bao giờ để nó xảy ra.</p><p id="76">"Hoàng tử của tộc Imyuntar, Lycaon Isparang. Giờ mà thất vọng thì vẫn còn quá sớm đấy."</p><p id="77">Vị hoàng tử kiêu hãnh của tộc Imyuntar ngay lập tức phản ứng khi thấy thái độ của tôi thay đổi.</p><p id="78">Gã gầm gừ tức giận. </p><p id="79">"Loài người hỗn láo. Hãy tỏ lòng kính trọng trước một chủng tộc vĩ đại! Ngươi không biết mình đã gây ra tội lỗi lớn đến mức nào đâu!”</p><p id="80">“Lycaon, khi thế giới của ngươi diệt vong, ngươi không thấy gì sao? Imyuntar vốn là chủng tộc thống trị Chronos, chứ không phải Trái Đất.”</p><p id="81">Vẻ mặt Lycaon cứng lại. Tôi liền thừa thắng xông lên.</p><p id="82">"Có năm tai ương đã hủy diệt thế giới của ngươi."</p><p id="83">"Cái gì…"</p><p id="84">"Lục địa phía nam Chronos nơi ngươi sinh sống đã bị một con rồng phá hủy. Đúng chứ?"</p><p id="85">Đôi mắt Lycaon tràn đầy hoài nghi.</p><p id="86">"Làm sao ngươi biết được chuyện này?"</p><p id="87">"Hỏa Long Igneel. Tai ương Hỏa Ngục. Đó là tên của tai ương đã hủy diệt thế giới của ngươi."</p><p id="88">Con tiểu tai ương mà tôi từng tiêu diệt, Tiểu Long Igneel, vốn dĩ cũng là một ‘tai ương’.</p><p id="89">Chỉ một ngọn lửa đã đủ biến cả thành phố nhỏ thành biển lửa, và chỉ một nhịp vỗ cánh cũng có thể xóa sổ một chủng tộc hạ đẳng.</p><p id="90">Lục địa phía nam của Chronos đã bị con hỏa long thức tỉnh từ khối thiên thạch ấy phá hủy.</p><p id="91">Lycaon nghiến răng. </p><p id="92">"Ngươi nói cứ như thể đó là chuyện của người khác vậy. Ngươi sẽ phải hối hận. Sớm thôi, thế giới của ngươi cũng sẽ bị hỏa ngục thiêu rụi."</p><p id="93">"Đừng lo. Igneel sẽ không giáng xuống thế giới này đâu."</p><p id="94">"Cái gì?"</p><p id="95">"Ta đã giết nó rồi. Sẽ không có tai ương 'Hỏa Ngục' nào ở thế giới này cả."</p><p id="96">Lycaon nhìn tôi với vẻ mặt không thể tin nổi, như thể gã vừa nghe tin quê hương được dựng lại từ tro tàn.</p><p id="97">“Haha… đúng là trò cười hay nhất ta từng nghe. Trên đời có thứ trò đùa nào kiểu vậy sao? Đem chuyện tận thế ra đùa, ngươi thấy vui lắm à?”</p><p id="98">Chà… dĩ nhiên là không rồi. Tôi lôi ra một cái phù hiệu màu xanh lam. Và rồi như bị hóa phép, tiếng cười của Lycaon dần tắt lịm.</p><p id="99">Ký Hiệu Bảo Hộ Của Bộ Tộc Imyuntar. Đôi tay run rẩy của Lycaon vươn ra để nhận lấy phù hiệu.</p><p id="100">"T-Tại sao… ngươi lại có thứ này…?"</p><p id="101">Ký Hiệu Bảo Hộ Của Bộ Tộc Imyuntar chính là minh chứng cho việc một người đã săn giết được một con rồng tai ương.</p><p id="102">"Lycaon của tộc Imyuntar. Hãy bày tỏ lòng kính trọng trước phù chủ đi."</p><p id="103">Cơ thể Lycaon từ từ khuỵu xuống. Đầu gối chạm đất trước, rồi đến đầu gã cúi dần theo sau. Ánh mắt gã chấn động dữ dội như không thể thừa nhận sự thật.</p><p id="104">"Làm cho đàng hoàng vào."</p><p id="105">Chẳng mấy chốc, đầu gã đã chạm đất. Gã cao hơn ba mét nên phải đến khi gã cúi rạp xuống thì tầm mắt gã mới thấp hơn tôi. Tôi nhìn xuống Lycaon.</p><p id="106">Đây chính là cái lợi của việc bắt được hỏa long.</p><p id="107">Han Sooyoung vẫn chưa nắm bắt được tình hình và nhìn Lycaon với ánh mắt bối rối. Tôi suýt nữa thì toi đời vì sự tàn bạo của Han Sooyoung, nhưng rốt cuộc cô ta lại khiến mọi chuyện dễ dàng hơn.</p><p id="108">Lycaon nói bằng giọng run rẩy. </p><p id="109">"Thợ săn rồng vĩ đại... ta xin muộn màng thỉnh cầu ngài tha thứ cho sự vô lễ của ta."</p><p id="110">"Tên ta là Kim Dokja.”</p><p id="111">Lại một lần nữa, tôi lại thấy cái tên của mình cũng chẳng hay ho gì. Cảnh này mà nói “Tên ta là Yoo Junghyuk” thì ngầu biết mấy. Thôi thì đành chêm thêm một câu cho đỡ ngượng.</p><p id="112">"Lycaon, ta cần ngươi làm một việc."</p><p id="113">Lycaon cẩn trọng ngước nhìn lên.</p><p id="114">"Hãy dạy cho ta Phong Chi Đạo, bí kỹ của tộc các ngươi."</p><p id="115">Đôi mắt của Lycaon từ từ mở to. Đây chính là mục đích của tôi khi dụ Lycaon ra.</p><p id="116">Tai ương hỏa long ở phía nam đã biến mất, nên tai ương đầu tiên xuất hiện trong kịch bản thứ năm chắc chắn sẽ là ‘tai ương phía đông'.</p><p id="117">Để ngăn chặn tai ương ở phía đông, tôi cần phải học được bí kỹ của tộc Imyuntar.</p><p id="118">Phong Chi Đạo. Đó là chìa khóa duy nhất để đối phó với tai ương phía đông, ‘Tai Ương Truy Vấn'.</p><p id="119">__________________________________</p><p id="120">Một giờ sau, tôi giải thích tình hình cho Han Sooyoung, người từ nãy vẫn không theo kịp câu chuyện.</p><p id="121">"Thế thì cái phù hiệu mà anh có được từ việc giết con hỏa long là bảo vật của bọn họ à?"</p><p id="122">"Ừ."</p><p id="123">"Tôi vẫn không hiểu… con hỏa long mà anh giết lúc đó là một trong những tai ương sao?"</p><p id="124">"Đúng thế."</p><p id="125">"…Thế tức là kịch bản thứ năm chỉ còn bốn tai ương thay vì năm?"</p><p id="126">"Nghe thì như hiểu mà vẫn chưa hiểu hả?"</p><p id="127">Han Sooyoung cau mày.</p><p id="128">"Tôi vẫn không hiểu. Chẳng phải anh đã giết 'Tiểu Long Igneel' sao? Nó chỉ là một con rồng thứ cấp, làm sao mà là tai ương được? Hay đây cũng là một tình tiết trong ‘Cách Sống Sót’?"</p><p id="129">"…Bất cứ thứ gì nở ra từ thiên thạch tai ương thì đều là tai ương cả. Thứ đó xuất hiện thay cho Igneel, nên Igneel sẽ không có mặt trong kịch bản này. Thực ra trong nguyên tác, Igneel vốn cũng chẳng hề xuất hiện. Chỉ có ấu long của nó được sinh ra thôi. Dù gì thì mới chỉ đến kịch bản thứ năm, làm sao một thứ như vậy đã có thể thức tỉnh được chứ?"</p><p id="130">"...Anh nói nghe hay ghê nhỉ. Bộ là phát ngôn viên của ‘Cách Sống Sót' à? Hay thực ra anh chính là tác giả?"</p><p id="131">Độ khó của kịch bản quả thực quá mức phi lý, nhưng nó đã được điều chỉnh để mọi người có thể hoàn thành, nếu có người dám liều mạng.</p><p id="132">...Tất nhiên, sự điều chỉnh đó được kiểm soát một cách cẩn thận.</p><p id="133">Tiểu Long Igneel, phiên bản thứ cấp của ấu long, đã quét sạch các Giáo Đồ, những người có thể được coi là đội quân tinh nhuệ lúc bấy giờ. Chỉ vậy thôi sao? Chính tôi cũng đã từng bị con rồng đó giết một lần. Nếu không có thuộc tính ‘Bất Sát Vương’, e rằng tôi đã không còn đứng ở đây.</p><p id="134">Nếu Tiểu Long Igneel được thả vào Seoul và tiếp tục tăng cấp, Seoul có lẽ đã chịu chung số phận với quê hương của Lycaon.</p><p id="135">Đương nhiên, Han Sooyoung chẳng hay biết gì về chuyện này, cô ta chỉ mải than phiền.</p><p id="136">“Dù sao thì, mấy tai ương này còn nghiêm trọng hơn tôi tưởng. Do cách miêu tả trong ‘Cách Sống Sót’ nên tôi khó mà hình dung hết được quy mô…”</p><p id="137">"Chuyện con hỏa long chỉ là ăn may thôi. Những tai ương sắp tới sẽ xuất hiện ở hình thái nguyên bản của chúng. Những sinh vật khủng khiếp sẽ xuất hiện."</p><p id="138">Thấy mặt cái tên đạo văn kia cứng lại khi nghe chữ ‘nguyên bản’, phải nói là sướng cả người.</p><p id="139">“Vậy giờ làm sao?”</p><p id="140">"Chúng ta phải tận dụng gã đó."</p><p id="141">Tôi nhìn về phía Lycaon đang chuẩn bị huấn luyện ở đằng xa.</p><p id="142">Han Sooyoung hỏi, </p><p id="143">“Anh muốn gã chiến đấu à? Trông có vẻ mạnh đấy.”</p><p id="144">"Tên đó là một kẻ hèn nhát. Hơn nữa, những người dẫn đường không được phép chiến đấu chống lại tai ương của thế giới khác. Chuyện của chúng ta, chúng ta phải tự giải quyết.”</p><p id="145">Tôi nghe thấy Lycaon gọi mình.</p><p id="146">"Thưa phù chủ, ta đã sẵn sàng."</p><p id="147">Phù chủ là danh hiệu dành cho chủ nhân của phù hiệu. Tôi đã bảo gã gọi thằng tên tôi mấy lần rồi nhưng Lycaon không chịu.</p><p id="148">“Từ giờ, ta sẽ truyền thụ cho ngài bí kỹ của tộc ta, Phong Chi Đạo."</p><p id="149">Phong Chi Đạo. Đó là một kỹ năng ẩn cho phép người dùng điều khiển ngọn gió như chính tay chân của mình.</p><p id="150">Trong số tất cả các chủng loài, chỉ những người có Ký Hiệu Bảo Hộ Của Bộ Tộc Imyuntar mới có thể học được kỹ năng này.</p><p id="151">Vốn dĩ Yoo Junghyuk mới là người nhận được thứ này, nhưng lần này thì không. Tôi không thể để cho cái tên mạnh nhất đó gom hết kỹ năng tốt đi được.</p><p id="152">“Được rồi, bắt đầu thôi.”</p><p id="153">Trong ba giờ tiếp theo, tôi đã đổ mồ hôi sôi nước mắt để học kỹ năng này.</p><p id="154">Giá mà hệ thống hiện lên một tin nhắn kiểu như 'Bạn có muốn học kỹ năng này không?' thì đỡ biết mấy. Nhưng đáng tiếc, chuyện đó là không thể. Chỉ có thể tự mình học cho đến khi lĩnh hội.</p><p id="155">Vì đã đọc tiểu thuyết nên tôi có thể theo được một chút chuyển động của Lycaon. Chính xác hơn là, chỉ có tôi tưởng thế.</p><p id="156">Khoảng một giờ nữa trôi qua. Lycaon ngập ngừng một lúc rồi mới mở miệng. </p><p id="157">"Thưa phù chủ. Tôi rất tiếc phải nói điều này, nhưng…”</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note80780"><a href="#anchor-note80780" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note80780" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">In vết (hay imprinting) là một hình thức học tập mà các con non của loài động vật, đặc biệt là chim, ngay sau khi sinh ra sẽ bám theo đối tượng đầu tiên mà chúng nhìn thấy. Đối tượng này thường là mẹ của chúng, nhưng trong một số trường hợp có thể là bất kỳ vật thể nào mà con non tiếp xúc đầu tiên.</span></div><span class="note-content_real long-text">In vết (hay imprinting) là một hình thức học tập mà các con non của loài động vật, đặc biệt là chim, ngay sau khi sinh ra sẽ bám theo đối tượng đầu tiên mà chúng nhìn thấy. Đối tượng này thường là mẹ của chúng, nhưng trong một số trường hợp có thể là bất kỳ vật thể nào mà con non tiếp xúc đầu tiên.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21204-toan-tri-doc-gia/c230893-chuong-77" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia/c235373-chuong-79" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'wsNdUrTuZYSbGowJ2A6TkXSd6rVNHuBZ6LtzixCQ';
        var comment_type = 'chapter';
        var comment_typeid = '234005';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'wsNdUrTuZYSbGowJ2A6TkXSd6rVNHuBZ6LtzixCQ';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21204');
    chapter_id = parseInt('234005');

    readingObject = {
        series_id: series_id,
        series_title: 'Toàn Tri Độc Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="wsNdUrTuZYSbGowJ2A6TkXSd6rVNHuBZ6LtzixCQ" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Toàn Tri Độc Giả - Chương 05 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi là người duy nhất biết được kết cục của thế giới này.” Một ngày nọ, thế giới của Kim Dokja sụp đổ. Không phải theo nghĩa bóng, mà theo đúng những gì đã xảy ra trong cuốn tiểu thuyết mà anh là độc giả duy nhất theo dõi đến...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="fNtXBxEvqPGSRaZaCOERLPgzneBTc5bO5LcI22Wn">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21204-toan-tri-doc-gia/c163133-chuong-06">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21204-toan-tri-doc-gia/c163131-chuong-05"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21204-toan-tri-doc-gia"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21204-toan-tri-doc-gia/c163133-chuong-06" style="background: url('https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21204-toan-tri-doc-gia">Toàn Tri Độc Giả</a></h5>
                    <small><i class="fas fa-pen"></i>Sing Shong</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163126-mo-dau-ba-cach-song-sot-trong-the-gioi-do-nat">Mở đầu</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21204-toan-tri-doc-gia/t28633-hoi-1">Hồi 1 – Bắt đầu dịch vụ tính phí</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c163127-chuong-01">
                                                                        Chương 01
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c163128-chuong-03">
                                                                        Chương 02
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c163130-chuong-04">
                                                                        Chương 03
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c163131-chuong-05">
                                                                        Chương 04
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21204-toan-tri-doc-gia/c163133-chuong-06">
                                                                        Chương 05
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07">Hồi 2 – Nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163164-chuong-11">Hồi 3 – Hợp đồng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163170-chuong-15">Hồi 4 – Đạo đức giả cũng là đạo đức</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163486-chuong-19">Hồi 5 – Cảnh Vệ Bóng Đêm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c166297-chuong-23">Hồi 6 – Giờ Phán Quyết</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c167129-chuong-27">Hồi 7 – Địa chủ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c168524-chuong-32">Hồi 8 – Phòng thủ khẩn cấp</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c170483-chuong-36">Hồi 9 - Mola toàn tri</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c175135-chuong-42">Hồi 10 - Trận chiến tương lai</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c184714-chuong-49">Hồi 11 - Đêm hội Giáo Đồ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c193080-chuong-54">Hồi 12 - Góc nhìn thứ nhất của nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c202672-chuong-59">Hồi 13 - Đại chiến vương vị</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c211824-chuong-64">Hồi 14 - Chủ nhân ngai vàng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c219703-chuong-70">Hồi 15 - Thế giới không vua</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c229563-chuong-76">Hồi 16 - Kịch bản thứ năm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c238574-chuong-81">Hồi 17 - Tài năng cấp SSS</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c248074-chuong-87">Hồi 18 - Cuộc chiến của độc giả</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c254505-chuong-92">Hồi 19 - Dị điểm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">Hồi 20 - Tai ương Hồng Thủy</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c274603-chuong-102">Hồi 21 - Những thứ không thể thay đổi</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Hồi 1 – Bắt đầu dịch vụ tính phí</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 05</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21204-toan-tri-doc-gia/c163133-chuong-06#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,828 từ - Cập nhật: 
                        <time class="topic-time timeago" title="30-03-2025 11:42:47" datetime="2025-03-30T11:42:47+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 05</p>
                    <p id="1">Tất cả đều cuống cuồng lên tìm kiếm đám côn trùng vừa được thả ra. </p><p id="2">“N-Này! Sao mày lại làm vậy hả?!”</p><p id="3">Trong khi những người khác ngơ ngác nhìn vào khoảng không, tên nhanh nhảu lúc nãy tiến về phía tôi.</p><p id="4">“Thằng khốn nạn.”</p><p id="5">“…Nhanh tìm đi. Mấy người chỉ còn ba phút nữa thôi.”</p><p id="6">Nghe thấy lời đó, tên kia nhanh chóng mò tìm khắp xung quanh như con thú dữ mất trí.</p><p id="7">“Thấy rồi! Ặc!!”</p><p id="8">Niềm vui của những người may mắn bắt được côn trùng cùng với những cuộc tấn công hiểm độc nhằm vào họ ngay sau đó, tất cả tạo nên một khung cảnh đầy hỗn loạn.</p><p id="9">“Này, sao ông anh lại làm vậy? Sao không đưa đống côn trùng đó cho chúng luôn?”</p><p id="10">Tôi quay đầu lại và nhìn thấy Kim Namwoon đang từ từ đứng dậy. Thằng nhóc đang giãn cơ cổ. Tôi dè dặt trả lời, </p><p id="11">“Hiện giờ trong toa còn 12 người.”</p><p id="12">“…Hả?”</p><p id="13">“Trong lưới chỉ có ba con côn trùng.”</p><p id="14">Kim Namwoon cau mày lại một lúc rồi cười lớn. </p><p id="15">“Ba con côn trùng cho 12 người à? Hahahaha! Đúng rồi. Không có chuyện tất cả đều sống sót mà ha? Vậy nên anh mới ném nó đi sao?”</p><p id="16">“Đúng vậy.”</p><p id="17">“Đừng có chọc cười tôi.”</p><p id="18">“…?”</p><p id="19">“Một người lý trí sẽ không làm chuyện như vậy.” </p><p id="20">Kim Namwoon ngoác miệng ra cười. </p><p id="21">“Nói thật đi. Anh chỉ muốn nhìn thấy cảnh này thôi đúng không?”</p><p id="22">Tôi nhớ lại Kim Namwoon mà tôi biết trong "Cách Sống Sót". Ngay lúc này, tôi nghe thấy một thông báo truyền vào tai mình, </p><p id="23">[Kỹ năng độc quyền, ‘Danh Sách Nhân Vật’ được kích hoạt!]</p><p id="24">Tiếp đó, một cửa sổ hiện lên trước mắt tôi. Tôi không biết thuộc tính của mình là gì, nhưng tôi vẫn đọc thông tin hiện trên cửa sổ.</p><p id="25">[Tóm tắt nhân vật.]</p><p id="26">Tên: Kim Namwoon</p><p id="27">Tuổi: 19 </p><p id="28">Nhà tài trợ: Không có (Hai chòm sao đang thể hiện sự hứng thú với người này.)</p><p id="29">Thuộc tính độc quyền: Chuunibyou[note70924](Thường)</p><p id="30">Kỹ năng độc quyền: Khả Năng Thích Nghi Vượt Trội Lv. 3, Chiến Đấu Bằng Dao Lv. 1, Tha Hóa Lv. 1</p><p id="31">Chỉ số tổng thể: Thể lực Lv. 3, Sức mạnh Lv. 4, Nhanh nhẹn Lv. 6, Ma thuật Lv. 4</p><p id="32">Đánh giá chung: Một Chuunibyou bị tha hóa thông qua một sự kiện đặc biệt. Không khuyến khích dính líu tới người này.</p><p id="33">Hầu hết những Chuuni xuất hiện trong "Cách Sống Sót" đều đã tự sát vì không thể chịu nổi việc cơn ác mộng của họ trở thành hiện thực. Tuy nhiên, Chuuni trước mặt tôi đây – Kim Namwoon – là một trường hợp đặc biệt.</p><p id="34">Cậu ta là Ác Ma Hoang Tưởng, Kim Namwoon. Chàng trai trẻ với tên tuổi sẽ vang danh sau này không phải là một Chuunibyou bình thường. Cậu ta đã luôn chờ đợi sự diệt vong của thế giới này và nhanh chóng thích nghi với thế giới mới với ‘tốc độ phi thường’.</p><p id="35">“Hợp tác với tôi đi. Anh thấy sao?” </p><p id="36">Thằng nhóc đề nghị với tôi.</p><p id="37">[Nhân vật ‘Kim Namwoon’ bày tỏ thiện cảm với bạn.]</p><p id="38">[Sự hiểu biết của bạn đối với nhân vật ‘Kim Namwoon’ đã tăng lên.]</p><p id="39">Nếu bắt tay với Kim Namwoon thì tôi sẽ có thể dễ dàng hoàn thành kịch bản đầu tiên này. Nếu không đọc "Cách Sống Sót", có lẽ lựa chọn của tôi sẽ khác.</p><p id="40">“Xin lỗi nhưng tôi thích hành động một mình hơn.”</p><p id="41">“Thật sao? Hừm, thật là đáng tiếc.”</p><p id="42">Kim Namwoon liếm nhẹ môi và tiến gần đến chỗ tôi. </p><p id="43">“Vậy thì tránh qua một bên nhé? Tôi phải xử lí bà già đằng sau anh rồi.”</p><p id="44">Nghe những lời này, tôi quay đầu nhìn về phía bà lão nằm gục hấp hối trên bãi máu. </p><p id="45">“Cậu muốn làm gì?”</p><p id="46">“Còn phải hỏi à?”</p><p id="47">“Cậu không đi bắt côn trùng sao?”</p><p id="48">“Côn trùng à? Tôi bắt chúng làm gì?” </p><p id="49">Kim Namwoon cười. </p><p id="50">“Con côn trùng tôi cần giết đang nằm ngay phía trước rồi mà.”</p><p id="51">Tôi có thể cảm nhận được sát khí của Kim Namwoon. Nhân vật chỉ tồn tại trong tiểu thuyết hiện đang đứng đối diện tôi mà điên cuồng. Vì vậy, tôi cảm thấy hơi kinh ngạc. Kim Namwoon giống y hệt như trong tưởng tượng của tôi.</p><p id="52">[Thiện cảm của nhân vật ‘Kim Namwoon’ đối với bạn đã giảm nhẹ.]</p><p id="53">“Nhìn cái gì? Tránh qua một bên nhanh đi.”</p><p id="54">“Khó đấy.”</p><p id="55">“Sao?”</p><p id="56">“Tôi không tránh đâu.”</p><p id="57">“Haha, giờ anh đang làm anh hùng đấy à? Anh bị đa nhân cách hay sao vậy?”</p><p id="58">Tôi không trả lời. Khuôn mặt Kim Namwoon tối sầm lại, và đôi mắt của cậu ta trở nên lạnh lùng. </p><p id="59">“Không, chờ chút. Ngay từ đầu anh ném cái lưới đi là vì mục đích này à? Thật sao?”</p><p id="60">“…”</p><p id="61">“Anh muốn cứu bà già này sao? Hahaha! Tuyệt vời quá nhỉ! Phải không?”</p><p id="62">Tôi vẫn không trả lời. Khi nhìn vào cậu ta, vài kí ức xưa chợt hiện về.</p><p id="63">“A, anh chính là loại người mà tôi ghét nhất. Đúng là người lớn đều như nhau cả.”</p><p id="64">Đó là kí ức về những lần tôi tức điên lên vì thằng oắt này khi đọc "Cách Sống Sót".</p><p id="65">[Nhân vật ‘Kim Namwoon’ xem thường bạn.]</p><p id="66">“Cậu nói gì cơ?”</p><p id="67">Tôi canh thời gian mà cúi đầu xuống, tránh được cú đấm được tung ra khi tôi vừa dứt lời. </p><p id="68">“Ái chà, không tệ?” </p><p id="69">Kim Namwoon lẩm bẩm.</p><p id="70">Mặc dù đã né được đòn tấn công, tôi vẫn có thể cảm nhận được hơi nóng trên đỉnh đầu mình. Cú đấm đó không phải dạng vừa đâu.</p><p id="71">[Tha Hóa Lv. 1]</p><p id="72">Một luồng khí hắc ám bao phủ khắp người Kim Namwoon. Đây chính là kỹ năng của thuộc tính ‘Chuunibyou’. Việc sử dụng được kỹ năng trong kịch bản đầu tiên là rất hiếm, nhưng Kim Namwoon đã làm được. Đây cũng là một trong những lí do mà nhân vật chính thu nạp cậu ta, bất kể bản tính điên cuồng có thể bộc phát bất cứ lúc nào kia.</p><p id="73">Bốp!</p><p id="74">Sau khi bị đánh trúng, vai phải của tôi run lên. Nếu cứ đánh kiểu này thì tôi sẽ không có đường thắng. </p><p id="75">…Có nên sử dụng ‘thứ đó’ không? Trong khi tôi đang tính toán thời gian thì lại có một thông báo vang lên.</p><p id="76">[Sự hiểu biết của bạn đối với nhân vật ‘Kim Namwoon’ đã tăng lên.]</p><p id="77">[Bạn đã đạt gần đủ điều kiện để sử dụng kỹ năng độc quyền ‘Góc Nhìn Của Độc Giả Toàn Tri’ Lv. 1.]</p><p id="78">Góc nhìn của độc giả toàn tri? Là cái gì?</p><p id="79">[Đã đạt đủ điều kiện sử dụng kỹ năng độc quyền ‘Góc Nhìn Của Độc Giả Toàn Tri’ Lv. 1!]</p><p id="80">Nắm đấm của Kim Namwoon sượt qua tôi, đập vào sàn tàu.</p><p id="81">“Haha, gì vậy? Mình mạnh hơn rồi sao?”</p><p id="82">Một dấu nắm đấm mờ nhạt hiện lên trên mặt sàn. Kim Namwoon dần nhận ra sức mạnh thật sự của cậu ta. Liên tiếp những cú đấm có thể đánh gãy xương của một người trưởng thành nện vào sàn. Kim Namwoon bực tức rít lên. </p><p id="83">“A, sao cứ không trúng vậy?”</p><p id="84">Đương nhiên, cậu ta không thể đánh trúng tôi được. Tất cả là nhờ vào kỹ năng thứ hai của tôi.</p><p id="85">[Kỹ năng độc quyền, ‘Góc Nhìn Của Độc Giả Toàn Tri’ Lv. 1 được kích hoạt!]</p><p id="86">Ngay khi kỹ năng này hoạt động, tôi có thể đọc được hướng tấn công của Kim Namwoon giống như đang đọc suy nghĩ của cậu ta. Ví dụ, như này…</p><p id="87">｢Vai phải.」</p><p id="88">Tôi nhanh chóng tránh đi.</p><p id="89">｢Mắt phải.」</p><p id="90">Tôi vội khuỵu người xuống và tránh được nắm đấm của cậu ta. </p><p id="91">“Anh cũng giỏi né đòn ghê nhỉ!”</p><p id="92">Phản công lại là không thể vì tôi không giỏi thể thao, nhưng ít nhất tôi có thể tránh được hầu hết đòn tấn công.</p><p id="93">｢Đùi trái.」</p><p id="94">Như vậy là đủ. Việc quan trọng lúc này là kéo dài thời gian. Tôi lại tránh đi nắm đấm của Kim Namwoon và chỉ vào đồng hồ đếm ngược lơ lửng trên không.</p><p id="95">“Nhóc à, cậu chỉ còn hai phút thôi đó.”</p><p id="96">Kim Namwoon hoảng lên, hết nhìn tôi lại nhìn sang bà lão. </p><p id="97">“Chết tiệt!”</p><p id="98">Trong khoảnh khắc lựa chọn, ánh mắt của Kim Namwoon dính lên người bà lão. Tôi buộc phải túm lấy bà ấy và lăn bà đi chỗ khác. Nếu bà lão này chết, Kim Namwoon sẽ hoàn thành kịch bản. Tôi tuyệt đối sẽ không để cho cậu ta thông qua kịch bản này bằng bất cứ giá nào.</p><p id="99">“Haha, tôi biết anh sẽ làm vậy mà.” </p><p id="100">Tôi có cảm giác không lành khi nhìn thấy cậu ta lấy ra thứ gì đó từ trong cặp sách. Một lưỡi dao sáng bóng dưới ánh đèn huỳnh quang. Đó là một con dao đa năng bỏ túi của MacGyver. Tôi quên mất. Thằng nhóc này là một tên otaku quân đội chính hiệu.</p><p id="101">Kỹ năng kỹ thuật ‘Chiến Đấu Bằng Dao’ và kỹ năng cường hóa ‘Tha Hóa’ được kết hợp với nhau. Mục tiêu lưỡi dao đang hướng tới quá rõ ràng.</p><p id="102">｢Tim.」</p><p id="103">Đó là đòn đánh không thể tránh khỏi dù tôi đã biết trước hướng tấn công. Vì vậy, tôi nhanh chóng quyết định. Nếu đã không tránh được, bị trúng đòn ở vùng ít gây sát thương nhất sẽ tốt hơn.</p><p id="104">Xoẹt!</p><p id="105">Lưỡi dao sượt qua ngực và đâm một nhát sâu hoắm vào vai tôi.</p><p id="106">Đau. Đau quá. Da tôi đau rát, hai mắt tôi hoa lên, cảm giác như cái chết đang đến gần vậy. </p><p id="107">“Haha, chết đi!”</p><p id="108">Thời gian còn lại của kịch bản là 1 phút 30 giây. Tôi nhìn sang bà cụ. Tôi cảm thấy rất tiếc cho bà, nhưng tôi đành phải sử dụng ‘thứ đó’.</p><p id="109">“Kim Namwoon, học sinh năm Hai trường cấp ba Chungil. Tôi có câu hỏi cho cậu đây.”</p><p id="110">“…Cái gì?”</p><p id="111">“Theo cậu thì trứng côn trùng có phải sinh vật sống không?”</p><p id="112">Tôi lấy con châu chấu mình giết lúc nãy ra khỏi túi áo. Trong cơ thể của nó đầy ắp trứng. Âm thanh ‘bụp bụp’ như tiếng bóng nổ vang lên, và chất nhầy chảy ra. Cảm giác kinh tởm lan ra khắp lòng bàn tay tôi khi thông báo vang lên.</p><p id="113">…</p><p id="114">[Bạn đã giết một sinh vật sống.]</p><p id="115">[Bạn nhận được 100 xu phần thưởng.]</p><p id="116">[Bạn đã giết một sinh vật sống.]</p><p id="117">[Bạn nhận được 100 xu phần thưởng.]</p><p id="118">…</p><p id="119">Hàng loạt thông báo vang lên bên tai. Kim Namwoon cau mày. </p><p id="120">“Trứng côn trùng sao? Ý anh là gì? Anh đang cố câu giờ đấy à?”</p><p id="121">“Chắc vậy.”</p><p id="122">“Sao tôi biết được? Tôi thường ngủ trong tiết Sinh mà.” </p><p id="123">Kim Namwoon nhìn sang một bên vai đẫm máu của tôi và cười vui vẻ. </p><p id="124">“Nhưng có một thứ tôi có thể chắc chắn. Anh biết là gì không?”</p><p id="125">“Là gì?”</p><p id="126">“Ông anh chết chắc rồi!” </p><p id="127">Kim Namwoon vung dao lên trước khi tôi kịp trả lời. Lần này cũng là một đòn không thể tránh được.</p><p id="128">[Bạn đã nhận được một số lượng lớn xu! Bạn có muốn xem qua hướng dẫn sử dụng xu không?]</p><p id="129">Tôi bỏ qua lời giải thích lọt vào tai mình. Không cần thiết phải nghe vì tôi đã biết rõ nội dung. </p><p id="130">“Không. Cậu mới là đứa phải chết.” </p><p id="131">Tôi đáp lại lời cậu ta trong lúc lẩm nhẩm vài điều khác.</p><p id="132">[Bạn đã đầu tư 2,700 xu vào Thể lực.]</p><p id="133">[Thể lực Lv. 1 ➝ Thể lực Lv. 10]</p><p id="134">[Thể lực của bạn đã tăng lên đáng kể!]</p><p id="135">[Sức chịu đựng của cơ thể bạn tăng mạnh!]</p><p id="136">Con dao của Kim Namwoon đâm thẳng vào trái tim tôi. Nói chính xác thì, nó đã bị ngăn lại trước ngực. Da thịt tôi cứng như đá, chỉ có vài vết xước để lại do mũi dao. Kim Namwoon trợn to mắt. </p><p id="137">“Sao có thể?”</p><p id="138">“Tôi sẽ trả lời cho câu hỏi lúc nãy của mình. Đáp án chính là: trứng cũng là sinh vật sống.”</p><p id="139">“C-Cái gì chứ?”</p><p id="140">“Và trong mùa sinh sản, châu chấu có thể sinh hơn 100 trứng một lần.”</p><p id="141">Trứng, sinh vật sống, 100…</p><p id="142">Thật không may, thời gian còn lại quá ngắn để cậu học sinh yếu kém đó hiểu được thông tin vừa rồi.</p><p id="143">“Anh đang nói cái quái gì vậy?”</p><p id="144">“Cậu có hiểu hay không cũng không quan trọng. Chỉ còn một phút nữa thôi.”</p><p id="145">Giờ thì nỗi sợ đã bao phủ gương mặt của Kim Namwoon. </p><p id="146">“Aaa! Chết đi! Chết đi!”</p><p id="147">Con dao dịch lên phía cổ của tôi. Tôi không buồn chống trả.</p><p id="148">Keng!</p><p id="149">Không biết có phải vì chỗ đó da mỏng hơn ngực hay không mà vết xước trông rõ hơn nhiều, nhưng vẫn không đau mấy.</p><p id="150">“Kim Namwoon.” </p><p id="151">Phía sau Kim Namwoon, đám người kia vẫn đang loay hoay tìm côn trùng, cũng có mấy kẻ tấn công nhau để sống sót. </p><p id="152">“Cậu nói đúng. Tôi với cậu là cùng một loại người.”</p><p id="153">Lẽ ra tôi đã có thể cứu nhiều người hơn.</p><p id="154">“Chết tiệt! Sao mày không chết đi! Sao mày lại không chết!”</p><p id="155">55 giây…50 giây…45 giây…</p><p id="156">Mọi nơi con dao lướt qua đều chỉ để lại vết xước. Máu tuôn ra nhưng lưỡi dao vẫn chưa thể chạm đến lớp thịt. Chỉ còn lại 30 giây, Kim Namwoon buông dao ra và quỳ sụp xuống trước mặt tôi.</p><p id="157">“C-Cứu tôi với.”</p><p id="158">25 giây.</p><p id="159">“Cứu tôi! Làm ơn! Giúp tôi đi!”</p><p id="160">“Tại sao tôi phải cứu cậu?”</p><p id="161">20 giây.</p><p id="162">“Vì đó là điều nên làm mà! Đương nhiên anh phải giúp tôi!”</p><p id="163">“Đó là quy luật của thế giới cũ. Như cậu nói đó. Nhập gia tùy tục, nhập giang tùy khúc.”</p><p id="164">10 giây.</p><p id="165">“Tôi không muốn, không được! Tôi không muốn chết! Aaaaaaa!”</p><p id="166">5 giây. </p><p id="167">Kim Namwoon vừa hét lớn vừa xông tới nhắm thẳng vào mắt tôi. Ngay lúc mũi dao sắp đâm vào võng mạc…</p><p id="168">[Thời gian giới hạn đã hết.]</p><p id="169">Bùm! </p><p id="170">Đầu của Kim Namwoon nổ tung.</p><p id="171">[Bắt đầu tính phí.]</p><p id="172">Đầu tiên là Kim Namwoon, sau đó, đầu của những người khác cũng lần lượt nổ.</p><p id="173">Một, hai, ba, bốn… </p><p id="174">Những cái đầu nổ như bắn pháo hoa thông báo sự ra đời của một thời đại mới. Tôi nhìn cảnh trước mắt với cảm xúc lẫn lộn, một chút vui, một chút tội lỗi, và một chút cảm xúc bí ẩn không tên. </p><p id="175">Tại sao? Sao tôi lại có thể bình thản như vậy trước cảnh này? Giống như tôi đang đọc một cuốn tiểu thuyết vậy.</p><p id="176">[Bạn đã giết 124 sinh vật sống.]</p><p id="177">[Số liệu cụ thể: 1 châu chấu, 123 trứng châu chấu.]</p><p id="178">[Bạn nhận được 6,200 xu.]</p><p id="179">[Số xu được dùng để nâng cấp sẽ tự động bị khấu trừ.]</p><p id="180">[Bạn có tổng cộng 3,500 xu.]</p><p id="181">[Bạn đạt được thành tựu ‘Sát Nhân Hàng Loạt’ thông qua việc giết một số lượng lớn sinh vật sống.]</p><p id="182">Gương mặt của tôi được phản chiếu rõ ràng trên cửa kính của toa tàu.</p><p id="183">Đó là một gương mặt mà tôi chưa bao giờ thấy, mặc dù tôi đã từng ngắm mình trong gương vô số lần trước đây. Tôi quệt đi vết máu trên má. Không chùi được. Thì ra đó là vết máu dính trên ô cửa.</p><p id="184">Kíttt.</p><p id="185">Người tôi hơi chao đảo, đoàn tàu đã hoạt động trở lại. Âm thanh tàu chạy thật quen thuộc.</p><p id="186">Sau đó, ánh sáng chiếu vào và bóng tối biến mất sau khung cửa sổ. Chúng tôi đã đến khu vực đường ray số 3 giữa hai ga Apgujeong và Oksu.</p><p id="187">Bên ngoài cửa sổ, dòng sông Hàn và thành phố Seoul dần hiện ra. </p><p id="188">“A…”</p><p id="189">Ai đó than nhẹ một tiếng. Tiếng thở hắt đó chứa đựng sự nhẹ nhõm vì đã sống sót.</p><p id="190">Tuy nhiên, không qua bao lâu thì sắc thái của âm thanh đó nhanh chóng thay đổi. </p><p id="191">“A, a…”</p><p id="192">Khung cảnh ngoài kia không còn là Seoul mà họ từng biết. Khói bụi bay mịt mù bao phủ cả thành phố hoang tàn.</p><p id="193">Cây cầu bắc qua sông Hàn đã đổ sập. Sông Hàn bị nhuộm đỏ bởi máu và xác của những người lính, và giữa những tòa nhà đổ nát, một con quái vật đang dẫm lên chiếc xe tăng K1 như thể nó chỉ là một món đồ chơi.</p><p id="194">[Kịch bản chính #1 – Chứng Minh Giá Trị đã kết thúc.]</p><p id="195">[Phần thưởng cơ bản nhận được khi hoàn thành kịch bản là 300 xu.]</p><p id="196">[Đã trừ 100 xu phí sử dụng kênh.]</p><p id="197">[Bắt đầu tổng hợp phần thưởng bổ sung.]</p><p id="198">Một thế giới bị phá hủy, một thế giới khác lại được sinh ra.</p><p id="199">…Và tôi là người duy nhất biết được kết cục của thế giới này.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note70924"><a href="#anchor-note70924" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note70924" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Tên đầy đủ là Chuugakkou Ninen Byou – căn bệnh của tuổi vị thành niên. Từ này mang nghĩa chỉ những người tự xem mình như người đặc biệt, có siêu năng lực; dịch ra tiếng Việt là Hội chứng tuổi vị thành niên hay Ảo tưởng sức mạnh.</span></div><span class="note-content_real long-text">Tên đầy đủ là Chuugakkou Ninen Byou – căn bệnh của tuổi vị thành niên. Từ này mang nghĩa chỉ những người tự xem mình như người đặc biệt, có siêu năng lực; dịch ra tiếng Việt là Hội chứng tuổi vị thành niên hay Ảo tưởng sức mạnh.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21204-toan-tri-doc-gia/c163131-chuong-05" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-2862062"
    class="ln-comment-item mt-3 clear"
    data-comment="2862062" 
    data-parent="2862062" 
    data-type="chapter" 
    data-typeid="163133">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua30843-b14ad21f-3202-4a8d-bc87-a3871a2202b9.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/30843">Hảo Ngọt</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Phải là "sát châu chấu hàng loạt" chứ @@
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/21204-toan-tri-doc-gia/c163133-chuong-06?comment_id=2862062#ln-comment-2862062"
                            class="text-slate-500">
                            <time class="timeago" title="19-05-2025 09:39:49"
                                datetime="2025-05-19T09:39:49+07:00">
                                19-05-2025 09:39:49
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-2836751"
    class="ln-comment-item mt-3 clear"
    data-comment="2836751" 
    data-parent="2836751" 
    data-type="chapter" 
    data-typeid="163133">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u88497-06f0ab64-61d0-4ab0-b3a8-9f648e903762.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/88497">ThíchMaNữ</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        vậy là ngoài vị "độc giả" của chúng ta thì con cá mặt trời cũng đạt được danh hiệu sát nhân hàng loạt này.
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/21204-toan-tri-doc-gia/c163133-chuong-06?comment_id=2836751#ln-comment-2836751"
                            class="text-slate-500">
                            <time class="timeago" title="27-04-2025 21:40:22"
                                datetime="2025-04-27T21:40:22+07:00">
                                27-04-2025 21:40:22
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'fNtXBxEvqPGSRaZaCOERLPgzneBTc5bO5LcI22Wn';
        var comment_type = 'chapter';
        var comment_typeid = '163133';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'fNtXBxEvqPGSRaZaCOERLPgzneBTc5bO5LcI22Wn';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21204');
    chapter_id = parseInt('163133');

    readingObject = {
        series_id: series_id,
        series_title: 'Toàn Tri Độc Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="fNtXBxEvqPGSRaZaCOERLPgzneBTc5bO5LcI22Wn" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

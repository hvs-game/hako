<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Toàn Tri Độc Giả - Chương 97 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi là người duy nhất biết được kết cục của thế giới này.” Một ngày nọ, thế giới của Kim Dokja sụp đổ. Không phải theo nghĩa bóng, mà theo đúng những gì đã xảy ra trong cuốn tiểu thuyết mà anh là độc giả duy nhất theo dõi đến...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ny2JAes6wLWTX7GLEYO37aniS8sWpNkg5VZCqUF6">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21204-toan-tri-doc-gia/c262166-chuong-96"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21204-toan-tri-doc-gia"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/21204-toan-tri-doc-gia/c269389-chuong-98"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97" style="background: url('https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21204-toan-tri-doc-gia">Toàn Tri Độc Giả</a></h5>
                    <small><i class="fas fa-pen"></i>Sing Shong</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163126-mo-dau-ba-cach-song-sot-trong-the-gioi-do-nat">Mở đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163127-chuong-01">Hồi 1 – Bắt đầu dịch vụ tính phí</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07">Hồi 2 – Nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163164-chuong-11">Hồi 3 – Hợp đồng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163170-chuong-15">Hồi 4 – Đạo đức giả cũng là đạo đức</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163486-chuong-19">Hồi 5 – Cảnh Vệ Bóng Đêm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c166297-chuong-23">Hồi 6 – Giờ Phán Quyết</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c167129-chuong-27">Hồi 7 – Địa chủ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c168524-chuong-32">Hồi 8 – Phòng thủ khẩn cấp</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c170483-chuong-36">Hồi 9 - Mola toàn tri</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c175135-chuong-42">Hồi 10 - Trận chiến tương lai</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c184714-chuong-49">Hồi 11 - Đêm hội Giáo Đồ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c193080-chuong-54">Hồi 12 - Góc nhìn thứ nhất của nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c202672-chuong-59">Hồi 13 - Đại chiến vương vị</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c211824-chuong-64">Hồi 14 - Chủ nhân ngai vàng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c219703-chuong-70">Hồi 15 - Thế giới không vua</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c229563-chuong-76">Hồi 16 - Kịch bản thứ năm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c238574-chuong-81">Hồi 17 - Tài năng cấp SSS</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c248074-chuong-87">Hồi 18 - Cuộc chiến của độc giả</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c254505-chuong-92">Hồi 19 - Dị điểm</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21204-toan-tri-doc-gia/t34625-hoi-20-tai-uong-hong-thuy">Hồi 20 - Tai ương Hồng Thủy</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">
                                                                        Chương 97
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c269389-chuong-98">
                                                                        Chương 98
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c270723-chuong-99">
                                                                        Chương 99
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c271915-chuong-100">
                                                                        Chương 100
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c273231-chuong-101">
                                                                        Chương 101
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c274603-chuong-102">Hồi 21 - Những thứ không thể thay đổi</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Hồi 20 - Tai ương Hồng Thủy</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 97</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21204-toan-tri-doc-gia/c263455-chuong-97#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,137 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-11-2025 22:10:44" datetime="2025-11-22T22:10:44+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 97</p>
                    <p id="1">Tim tôi chùng xuống ngay khi tôi kiểm tra mạch của Han Sooyoung. Cái chết của Han Sooyoung khiến tôi sốc đến mức ngây người. Một lúc sau lý trí của tôi mới quay trở lại.</p><p id="2">"...Anh Dokja?" </p><p id="3">Yoo Sangah nhận ra điều bất thường và đứng dậy. Cả hai chúng tôi kiểm tra thi thể của Han Sooyoung.</p><p id="4">"Không có vết thương."</p><p id="5">Tình hình đi vào bế tắc. Không có vết thương. Vậy là trúng độc sao? Nếu có một loại độc có thể giết Han Sooyoung mà không để lại bất kỳ dấu vết nào thì đó phải là một chất độc cực kỳ khủng khiếp.</p><p id="6">Tuy nhiên, loại độc như vậy không thể xuất hiện ở thời điểm này. Và đó không phải vấn đề duy nhất. Tại sao chỉ mình Han Sooyoung trúng độc còn tất cả chúng tôi đều an toàn? Dù có kẻ sở hữu loại độc đó, chẳng có lý do gì để hắn chỉ đầu độc một mình Han Sooyoung.</p><p id="7">Ngay từ đầu, việc tôi đột nhiên ngủ thiếp đi đã rất kỳ lạ rồi.</p><p id="8">…Khoan đã, tôi đã ngủ sao?</p><p id="9">"Ơ, cháu xin lỗi. Cháu ngủ quên mất." </p><p id="10">Shin Yoosung cuối cùng cũng mở mắt.</p><p id="11">Tôi đột ngột nhìn lại Yoo Sangah. </p><p id="12">"Cô Sangah, cô cũng đã ngủ suốt đêm sao?"</p><p id="13">"…Vâng."</p><p id="14">Cô Yoo Sangah xấu hổ đỏ mặt. Nếu cô ấy không thức canh thì nghĩa là đêm qua không có ai đứng gác cả. Tôi là ca gác cuối cùng, và một khi tôi ngủ, cả nhóm đều chìm vào giấc ngủ.</p><p id="15">Tôi đúng là ngu mà. Đáng lẽ phải bắt đầu nghi ngờ từ 'Tại sao tôi lại ngủ?' thay vì 'Ai đã giết Han Sooyoung?'</p><p id="16">Là ma thuật ru ngủ? Không, chỉ quy hoàn giả mới dùng được loại ma thuật đó. Điểm Huyệt? Kẻ đó phải đánh lừa được giác quan của tôi thì mới sử dụng được nó.</p><p id="17">Cuối cùng, chỉ còn lại một khả năng duy nhất. Tôi tiến lại đống lửa nơi bộ xương con groll bị treo từ tối qua.</p><p id="18">Đây là khả năng duy nhất khiến mọi người đều ngủ thiếp đi. Tôi dọn dẹp đống xương đã bị ăn sạch thịt, và một ít bột màu xanh rơi xuống đất.</p><p id="19">'Đó là thân của yanaspleta'.</p><p id="20">Đúng như dự đoán. Chỉ có một lý do khiến nó xuất hiện ở đây. Ai đó đã trộn bột thân cây vào thịt groll. Thân của yanaspleta có tác dụng gây ngủ cực mạnh nếu không dùng chung với nước ép. Nó không độc nên Đông Y Bảo Giám không giải được. Vì vậy tôi luôn phải nấu cùng nước ép của nó.</p><p id="21">"Ai đã nấu thịt groll ngày hôm qua?"</p><p id="22">"Là cô Sooyoung…"</p><p id="23">Tôi thầm thở dài. Thịt tôi ăn hôm qua là con groll non mà Shin Yoosung không thuần hóa được. Người đã giết con groll đó chính là Han Sooyoung.</p><p id="24">"Chỉ bằng một đòn."</p><p id="25">Tôi tiến đến thi thể tái nhợt của Han Sooyoung. Tôi đã quá hoang mang đến nỗi quên mất một điều. Một Avatar sẽ không biến mất trừ khi phần đầu bị phá hủy.</p><p id="26">Tuy nhiên, tại sao cô ta lại dựng nên vở kịch này? Cô ta bị ràng buộc bởi 'Hợp Đồng Tạm Thời' và không thể trốn thoát. Ngay khoảnh khắc đó, một luồng sáng xanh hiện lên từ tim của Han Sooyoung. Đây là?</p><p id="27">"Đợi một chút."</p><p id="28">Tôi mặc kệ phản ứng của những người khác và giẫm nát đầu Han Sooyoung. Luồng sáng xanh lam bùng nổ và Avatar bị phá hủy.</p><p id="29">[Avatar của nhân vật 'Han Sooyoung' đã nhận hình phạt vì vi phạm hợp đồng.]</p><p id="30">[Nhân vật 'Han Sooyoung' đã hiến tế Avatar của mình để bù đắp phần lớn hình phạt của Hợp Đồng Tạm Thời.]</p><p id="31">"A…"</p><p id="32">Yoo Sangah khẽ kêu lên như đã hiểu ra. Tôi không biết Avatar còn có thể dùng kiểu đó. Tôi từng thấy nó chịu sát thương thay cho bản thể, nhưng không ngờ cả hình phạt của hợp đồng cũng có thể chuyển sang cho Avatar. Dường như chỉ một phần hình phạt bị triệt tiêu, nhưng như vậy Han Sooyoung sẽ không chết.</p><p id="33">Shin Yoosung hỏi, </p><p id="34">"Chị đó đi rồi sao ạ?"</p><p id="35">"Có vẻ là vậy."</p><p id="36">Câu hỏi “tại sao” bây giờ đã vô nghĩa. Nghĩ kỹ thì Han Sooyoung vốn chẳng có liên hệ gì quá sâu với tôi.</p><p id="37">—Tiền tài trợ từ các chòm sao của tôi đã giảm vì ở cùng anh đấy.</p><p id="38">Tôi sớm sẽ gặp những người ở Chungmuro, và họ cũng sẽ tỏ thái độ thù địch với Han Sooyoung chẳng khác gì Yoo Sangah.</p><p id="39">Chậc. Kẻ không đáng tin thì chỉ có thể sống trong khốn khổ. Han Sooyoung sẽ cô độ và bị bao vây bởi toàn kẻ thù. Trong một thoáng, tôi đã lầm tưởng cô ta là đồng đội.</p><p id="40">Chỗ Avatar biến thành bụi trắng chỉ còn vài đồng xu và một mảnh giấy.</p><p id="41">–Tiền cơm.</p><p id="42">Đây là cách cô ta nói lời tạm biệt. Như thể muốn phủ nhận hoàn toàn quãng thời gian chúng tôi đi cùng nhau, Avatar của cô ta bị gió sông Hàn cuốn đi không còn dấu vết.</p><p id="43">Tuy nhiên, tôi vẫn tò mò tại sao Han Sooyoung lại ở bên tôi lâu như vậy dù có thể sử dụng ‘Thế Mạng' thông qua Avatar.</p><p id="44">Tôi không biết. Tôi không thể đọc được suy nghĩ của Yoo Sangah hay Han Sooyoung. Ngay cả 'Cách Sống Sót', thứ giải thích cho mọi chuyện, cũng không cho tôi biết điều này.</p><p id="45">"Chúng ta nên đi thôi."</p><p id="46">Sau đó, một cảm giác kỳ lạ ập đến. Là ‘Góc Nhìn Của Độc Giả Toàn Tri’ sao? Tôi lập tức nhìn về hướng mình cảm nhận được, nhưng chẳng thấy gì.</p><p id="47">…Tôi nhầm sao?</p><p id="48">_______________________________________</p><p id="49">"Đồ ngốc."</p><p id="50">Han Sooyoung nhìn tòa nhà bỏ hoang từ một cao ốc xa xa. Gió sông Hàn luồn qua chiếc quần jeans rách khiến cô lạnh buốt. Cô cắn môi và lẩm bẩm,</p><p id="51">“…Lẽ ra anh phải giả vờ cảm động chút chứ?”</p><p id="52">Nhưng cô biết anh không thể. Đó là điều hiển nhiên. Anh cũng là một ‘độc giả’, giống như cô.</p><p id="53">Han Sooyoung mở ứng dụng ghi chú và bắt đầu gõ. Khi cảm hứng đến, tác giả luôn phải viết lại.</p><p id="54">「 Đọc một cuốn sách không có nghĩa với việc hiểu được con người. 」</p><p id="55">‘Chúng ta sẽ còn gặp lại.’</p><p id="56">Cô không biết cái kết mà Kim Dokja hướng đến là gì. Nhưng miễn là cả hai còn tiến về phía cuối con đường, họ chắc chắn sẽ gặp lại.</p><p id="57">「 Cô cũng chẳng biết lần gặp tới họ sẽ còn là đồng minh, hay là kẻ thù. 」</p><p id="58">Han Sooyoung tắt điện thoại và rời đi.</p><p id="59">_______________________________________</p><p id="60">Buổi sáng trôi qua nhanh chóng.</p><p id="61">Chiều hôm đó, chỉ số nhanh nhẹn và ma thuật của Shin Yoosung đã đạt đến giới hạn kịch bản là cấp 60. Tôi cho rằng đã đến lúc và mua Hợp Đồng Nhà Tài Trợ từ Bihyung. Dù càu nhàu không ngừng, Bihyung vẫn đưa hợp đồng cho tôi.</p><p id="62">[…Ngươi biết rằng điều này sẽ không thay đổi tai ương, đúng không?]</p><p id="63">'…'</p><p id="64">[Hiện tại cô bé này không liên quan trực tiếp đến tai họa của tương lai. Tai ương đến từ một thế giới bắt nguồn từ dòng thời gian của 'thế giới đầu tiên'. Dù cho sự tồn tại của họ được kết nối với nhau, lịch sử…]</p><p id="65">‘Đừng nói nhảm. Đưa hợp đồng đây.’</p><p id="66">Tôi hoàn thành hợp đồng và đưa nó cho Shin Yoosung. </p><p id="67">"Hiện tại chú không có tinh ấn và không thể cho cháu mượn sức mạnh như các chòm sao khác. Chú chỉ có nhiều xu thôi."</p><p id="68">"…"</p><p id="69">“Cháu không muốn ký cũng được. Nhưng nếu ký với chú, cháu sẽ không hối hận đâu.”</p><p id="70">"Mẹ cháu bảo không nên dây vào mấy thứ này…"</p><p id="71">"Không sao đâu. Chú đâu có định làm một nhà tài trợ kiểu truyền thống.”</p><p id="72">"Nếu cháu ký cái này, cháu sẽ không thể ký hợp đồng với chòm sao khác nữa sao?"</p><p id="73">"Phải."</p><p id="74">Shin Yoosung gật đầu với sự quyết tâm. </p><p id="75">"Được ạ. Cháu tin chú."</p><p id="76">[Hợp Đồng Nhà Tài Trợ đã được ký kết.]</p><p id="77">[Bạn đã trở thành nhà tài trợ của hóa thân 'Shin Yoosung'.]</p><p id="78">Một ánh sáng rực rỡ dâng lên, bao bọc lấy tôi và Shin Yoosung. Không giống như ánh sáng rực rỡ đó, một thông báo súc tích hiện lên.</p><p id="79">[Bạn không phải chòm sao. Bạn không thể sử dụng hầu hết các chức năng của nhà tài trợ.]</p><p id="80">[Danh sách các chức năng khả dụng]</p><p id="81">[1. Tài trợ cho hiện thân.]</p><p id="82">[2. Khuyến khích hiện thân.]</p><p id="83">Tôi biết mà. Hiện giờ chỉ có thế thôi.</p><p id="84">[Chòm sao 'Tù Nhân Của Vòng Kim Cô' cười khẩy.]</p><p id="85">[Chòm sao 'Mưu Lược Gia Thần Bí' chúc mừng hợp đồng đầu tiên của bạn.]</p><p id="86">[Bạn đã được tài trợ 5,000 xu.]</p><p id="87">[Một số chòm sao muốn trở thành nhà tài trợ của bạn.]</p><p id="88">Phản ứng của các chòm sao rất mãnh liệt. Khác hẳn so với lúc ký với Gong Pildu. Shin Yoosung bây giờ là hóa thân trực tiếp của tôi. Do đó, nhóm 'tìm kiếm hóa thân' đang phát cuồng vì tôi.</p><p id="89">Tôi không phải là chòm sao, tôi là một 'hóa thân' có 'hóa thân'. Ai ký được hợp đồng với tôi sẽ đồng thời ôm được cả Shin Yoosung. Khi tôi tăng số lượng hóa thân của mình, số lượng chòm sao muốn tôi cũng sẽ tăng nhanh.</p><p id="90">[Kênh đang bùng nổ…!]</p><p id="91">Bihyung hú hét như trúng số, còn tôi quay sang mọi người.</p><p id="92">"Đến lúc đi rồi. Chúng ta sẽ vượt sông Hàn."</p><p id="93">"Chúng ta vẫn chưa tìm thấy cây cầu nào. Sẽ ổn chứ?"</p><p id="94">"Chúng ta sẽ bơi qua."</p><p id="95">"Hả?"</p><p id="96">"Cô không biết bơi sao?"</p><p id="97">"Tôi biết nhưng…" </p><p id="98">Cô Yoo Sangah lo lắng nhìn ra sông.</p><p id="99">Tôi biết cô ấy đang lo lắng điều gì. Mực nước sông Hàn đã dâng cao.Số lượng ngư long còn nhiều hơn hôm qua, và chúng liên tục gầm rống. Tất cả đều là cấp 7. Shin Yoosung lẩm bẩm, </p><p id="100">"Cháu không biết bơi…"</p><p id="101">“Bám lấy cái này rồi vượt qua.”</p><p id="102">Tôi kéo ra một hộp xốp mà tôi đã kiếm được từ trước đó và nhờ Yoo Sangah nối chiếc hộp với tôi bằng Tơ Nhện Arachne[note84155].</p><p id="103">"Đi thôi."</p><p id="104">Tôi nhảy xuống sông Hàn không chút do dự, và cô Yoo Sangah ngay lập tức theo sau. Shin Yoosung dù sợ hãi nhưng vẫn ôm lấy thùng xốp, thò chân vào làn nước lạnh buốt.</p><p id="105">Nhiệt độ lạnh lẽo của sông Hàn bao bọc lấy cơ thể tôi. Mùi dị thú nồng nặc trong không khí. Động thái của đám ngư long bắt đầu thay đổi. Yoo Sangah hỏi,</p><p id="106">–Việc này thật sự ổn chứ?</p><p id="107">Tất nhiên là không. Nhưng với thời gian còn lại, đây là cách duy nhất.</p><p id="108">–Nếu thực sự nguy hiểm thì hãy thoát ra càng sớm càng tốt.</p><p id="109">–…Vâng.</p><p id="110">–Và vì vậy, hãy giả vờ như cô đang gặp nguy hiểm trước khi tình hình thực sự trở nên nguy hiểm.</p><p id="111">–Hả?</p><p id="112">–Tôi đang cố ý tạo ra nguy cơ để Yoosung thức tỉnh nhanh hơn. Hiểu chứ?</p><p id="113">Tôi kéo theo thùng xốp và bắt đầu bơi. Đây chính là lý do tôi không ngần ngại tăng cấp kỹ năng cho Shin Yoosung. Dù không hiển thị trong cửa sổ thuộc tính nhưng cô bé có năng lực thích ứng bẩm sinh.</p><p id="114">Một đứa trẻ bình thường không bao giờ có thể sống sót cho đến kịch bản thứ năm. Shin Yoosung trông có vẻ ngoan, nhưng nội tâm của cô bé không đơn giản như vậy.</p><p id="115">Một đứa trẻ đã giết con chó của mình, lừa dối người lớn và ngụy trang để lấy lòng kẻ mạnh. Shin Yoosung là một đứa trẻ như vậy. Ngay từ lần gặp đầu tiên, trong đầu cô bé đã có vô số tính toán.</p><p id="116">Tôi nói với Shin Yoosung đang nhìn xung quanh. </p><p id="117">"Yoosung."</p><p id="118">"V-Vâng!"</p><p id="119">"Đừng chạy trốn."</p><p id="120">"…"</p><p id="121">"Nếu chạy trốn khỏi đây, cháu không thể quay đầu nữa đâu." </p><p id="122">Miệng Yoosung khép lại lập tức. Con bé thuộc kiểu đầu óc hơn là sức mạnh.</p><p id="123">"Hãy làm những gì có thể."</p><p id="124">Mọi thủ đoạn đều vô dụng với cô bé. Tôi cũng không thể bảo vệ một đứa trẻ chỉ vì nó là trẻ con.</p><p id="125">"Cháu hiểu rồi."</p><p id="126">Sợ hãi là sợ hãi, nhưng sợ hãi cũng là quyết tâm.</p><p id="127">[Nhân vật 'Shin Yoosung' đã sử dụng 'Giao Tiếp Đa Loài Cao Cấp Lv. 3'.]</p><p id="128">Sát ý bao phủ khắp nơi. Những kẻ săn mồi ngày càng tăng. Tôi có thể thấy 10 con ngư long đang nổi trên mặt nước. Đối đầu trực diện với số lượng đó là không thể.  Nhưng nếu bỏ chạy, tôi có thể sống sót. Đám ngư long sẽ không thể đuổi theo ngay khi tôi rời sông Hàn.</p><p id="129">"Anh Dokja!"</p><p id="130">Yoo Sangah hét lên cảnh báo. Cuộc tấn công của đám ngư long bắt đầu. Những chiếc nanh sắc nhọn bay đến từ mọi hướng.</p><p id="131">[Thanh Kiếm Đức Tin được kích hoạt!]</p><p id="132">Tôi vung kiếm và ngay lập tức đâm xuyên qua một con ngư long. Thân hình dài ngoằn của nó đập xuống mặt nước.</p><p id="133">Con ngư long quằn quại làm sông Hàn dậy sóng. Cả dòng nước lẫn tôi đều bị hất văng lên không trung. Khi ngoái lại, Shin Yoosung đã buông hộp xốp và cũng đang bị cuốn lên theo dòng nước.</p><p id="134">Một thứ gì đó đột ngột lao vụt lên trời, và ‘Tơ Nhện Arachne’ của Yoo Sangah lập tức quấn lấy Shin Yoosung. Đó là sự kết hợp giữa ‘Bước Chân Hermes’ và ‘Tơ Nhện Arachne’.</p><p id="135">Yoo Sangah kịp thời kéo Shin Yoosung về an toàn, còn tôi giẫm lên con ngư long đã chết và bắt đầu vung kiếm vào đám ngư long đang lao đến.</p><p id="136">"Lũ khốn khiếp chúng mày, lại đây!"</p><p id="137">Hơn chục con ngư long lao về phía tôi. Những con sóng lớn làm rung chuyển dòng sông và cơ thể của con ngư long tôi đang đứng cũng bắt đầu mất thăng bằng. Tôi hít một hơi thật sâu và điều chỉnh lại tư thế.</p><p id="138">Nếu dùng ‘Phong Chi Đạo’ thì thế cục trước mắt sẽ được giải quyết một cách dễ dàng, nhưng giờ vẫn chưa phải lúc.</p><p id="139">"Chú ơi!"</p><p id="140">Khuôn mặt Shin Yoosung tái đi trong vòng tay Yoo Sangah. Những chiếc răng sắc nhọn đồng loạt nhằm vào tôi khi tôi vung lưỡi kiếm. Vài con ngư long trúng đòn chí mạng và chìm xuống. Máu loang ra trong làn nước lạnh, và khu vực này ngày càng trở nên náo nhiệt hơn. Tuy nhiên, tôi mỉm cười</p><p id="141">Khẩn trương hơn đi.</p><p id="142">Lo lắng hơn nữa.</p><p id="143">Tuyệt vọng hơn nữa.</p><p id="144">Đó là cách duy nhất.</p><p id="145">Một vết cắt sâu rạch ngang nơi lưỡi răng quét qua da tôi. Máu bắt đầu tuôn ra từ vết thương.</p><p id="146">「 Không—!」</p><p id="147">Tiếng hét vang vào màng nhĩ tôi.</p><p id="148">[Nhân vật 'Shin Yoosung' sắp tiến hóa.]</p><p id="149">[Hóa thân 'Shin Yoosung' đã tiến vào trạng thái xuất thần.]</p><p id="150">Đôi mắt Shin Yoosung chuyển sang màu trắng. Giống hệt như khi Lee Gilyoung kích hoạt sức mạnh của mình. Đúng như dự đoán. Tất cả đều được dàn dựng cho sự thức tỉnh của Shin Yoosung.</p><p id="151">[Nhân vật 'Shin Yoosung' đã sử dụng 'Thuần Hóa Lv. 9'.]</p><p id="152">Luồng ma lực cấp 60 bắt đầu lan tỏa khắp sông Hàn, tuôn ra như thác nước.</p><p id="153">Nhịp độ tấn công của bầy ngư long chậm lại. Chúng run rẩy, rên rỉ trước áp lực tinh thần khổng lồ.</p><p id="154">Số lượng ngư long nổi lên mặt nước tăng dần. Từ mười, rồi hơn hai mươi. Điều đó có nghĩa là gấp đôi số đó đang tụ tập dưới lòng sông.</p><p id="155">Rồi chúng lại đồng loạt quay mũi về phía tôi. Đám ngư long bối rối tỏa ra sát ý sắc bén và trở nên hung bạo hơn.</p><p id="156">Chết tiệt, thất bại rồi sao? </p><p id="157">"Cô Sangah!"</p><p id="158">Không còn cách nào khác. Tốt nhất là sử dụng tinh ấn của cô ấy để nhanh chóng rút lui. Yoo Sangah gật đầu, thoát khỏi vòng vây và thả tơ. Tôi gọi Shin Yoosung.</p><p id="159">"Yoosung! Ngừng lại được rồi. Shin Yoosung!"</p><p id="160">Nhưng Shin Yoosung không đáp. Sóng nước xung quanh cô bé cuộn lên, và một nguồn sáng xanh mờ bao lấy cơ thể.</p><p id="161">Tôi bị nước cuốn đi, </p><p id="162">Ngay lúc này, một xoáy nước khổng lồ xuất hiện giữa sông Hàn. Tôi không bám được vào bất cứ thứ gì và cứ thế bị cuốn đi bởi dòng nước. Đám ngư long xung quanh gào ầm lên. Tôi chỉ kịp bám vào vảy một con ngư long để giữ mình khỏi bị xoáy nước hất văng đi.</p><p id="163">Khoảnh khắc tiếp theo, âm thanh nước bắn tung tóe vang lên. Sau đó, một con ngư long lớn gấp năm sáu lần những con ngư long khác từ từ trồi lên.</p><p id="164">Thứ đó lớn đến mức không còn giống ngư long nữa. Nó còn to hơn cả con ngư long đầu đàn mà tôi đã giết trước đó. Nó có một bộ râu dài uy nghiêm và đôi mắt kiêu ngạo áp chế chủng loài của mình.</p><p id="165">Tất cả những con ngư long xung quanh nó đều cúi đầu xuống mặt nước.</p><p id="166">[Thủy quái cấp 5, 'Nữ Hoàng Mirabad' đã xuất hiện!]</p><p id="167">…Khốn thật, cô bé lại gọi con quái vật này lên sao? Tôi biết Shin Yoosung có tài năng, nhưng không ngờ con bé có thể triệu hồi cả ‘nữ hoàng’. Đây là sinh vật có thể sánh ngang một tai ương.</p><p id="168">Tôi mở ‘Thẻ Đánh Dấu’ và định kích hoạt ‘Phong Chi Đạo’ thì nghe thấy giọng Yoo Sangah.</p><p id="169">"…Anh Dokja?"</p><p id="170">Tôi nhìn lại, cả cơ thể Shin Yoosung đang lơ lửng trên không.</p><p id="171">Cô bé đi theo con đường của luồng khí trải dài đến Nữ Hoàng Mirabad, và Shin Yoosung từ từ bước đến. Nữ hoàng nhìn cô bé, và cô bé đáp lại. Sau đó, bàn tay nhỏ bé của Shin Yoosung lặng lẽ chạm vào mũi nữ hoàng.</p><p id="172">Dòng sông lặng sóng, đám ngư long cũng lặng lẽ biến mất. Tôi nhìn qua và thấy Shin Yoosung đang cưỡi trên đầu nữ hoàng. Và đó là khoảnh khắc tôi nghiệm ra danh xưng thực sự của cô bé.</p><p id="173">Thú Vương. Kẻ thống trị tất cả quái vật.</p><p id="174">Màu sắc từ từ trở lại trong mắt Shin Yoosung khi cô bé nhìn tôi. Shin Yoosung ngoẹt mũi, lau vệt máu như chẳng có gì, rồi nói, </p><p id="175">"Đi thôi, chú."</p><p id="176">Tôi gật đầu.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note84155"><a href="#anchor-note84155" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note84155" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Arachne (Tiếng Hy Lạp: ἀράχνη) là tên một cô thợ dệt tài hoa trong thần thoại Hy Lạp - La Mã, người đã dám thách thức nữ thần trí tuệ Athena đọ tài thêu dệt và cuối cùng bị biến thành một con nhện, đời đời đi giăng tơ.</span></div><span class="note-content_real long-text">Arachne (Tiếng Hy Lạp: ἀράχνη) là tên một cô thợ dệt tài hoa trong thần thoại Hy Lạp - La Mã, người đã dám thách thức nữ thần trí tuệ Athena đọ tài thêu dệt và cuối cùng bị biến thành một con nhện, đời đời đi giăng tơ.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21204-toan-tri-doc-gia/c262166-chuong-96" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia/c269389-chuong-98" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ny2JAes6wLWTX7GLEYO37aniS8sWpNkg5VZCqUF6';
        var comment_type = 'chapter';
        var comment_typeid = '263455';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ny2JAes6wLWTX7GLEYO37aniS8sWpNkg5VZCqUF6';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21204');
    chapter_id = parseInt('263455');

    readingObject = {
        series_id: series_id,
        series_title: 'Toàn Tri Độc Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ny2JAes6wLWTX7GLEYO37aniS8sWpNkg5VZCqUF6" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

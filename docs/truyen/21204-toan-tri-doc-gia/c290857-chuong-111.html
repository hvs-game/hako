<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Toàn Tri Độc Giả - Chương 111 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi là người duy nhất biết được kết cục của thế giới này.” Một ngày nọ, thế giới của Kim Dokja sụp đổ. Không phải theo nghĩa bóng, mà theo đúng những gì đã xảy ra trong cuốn tiểu thuyết mà anh là độc giả duy nhất theo dõi đến...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="8zYxLs5nVmX3n7s5U69rKghmwx37jk2WdPl22lRT">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21204-toan-tri-doc-gia/c290857-chuong-111">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21204-toan-tri-doc-gia/c288093-chuong-110"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21204-toan-tri-doc-gia"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21204-toan-tri-doc-gia/c290857-chuong-111" style="background: url('https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21204-toan-tri-doc-gia">Toàn Tri Độc Giả</a></h5>
                    <small><i class="fas fa-pen"></i>Sing Shong</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163126-mo-dau-ba-cach-song-sot-trong-the-gioi-do-nat">Mở đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163127-chuong-01">Hồi 1 – Bắt đầu dịch vụ tính phí</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07">Hồi 2 – Nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163164-chuong-11">Hồi 3 – Hợp đồng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163170-chuong-15">Hồi 4 – Đạo đức giả cũng là đạo đức</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163486-chuong-19">Hồi 5 – Cảnh Vệ Bóng Đêm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c166297-chuong-23">Hồi 6 – Giờ Phán Quyết</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c167129-chuong-27">Hồi 7 – Địa chủ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c168524-chuong-32">Hồi 8 – Phòng thủ khẩn cấp</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c170483-chuong-36">Hồi 9 - Mola toàn tri</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c175135-chuong-42">Hồi 10 - Trận chiến tương lai</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c184714-chuong-49">Hồi 11 - Đêm hội Giáo Đồ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c193080-chuong-54">Hồi 12 - Góc nhìn thứ nhất của nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c202672-chuong-59">Hồi 13 - Đại chiến vương vị</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c211824-chuong-64">Hồi 14 - Chủ nhân ngai vàng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c219703-chuong-70">Hồi 15 - Thế giới không vua</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c229563-chuong-76">Hồi 16 - Kịch bản thứ năm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c238574-chuong-81">Hồi 17 - Tài năng cấp SSS</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c248074-chuong-87">Hồi 18 - Cuộc chiến của độc giả</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c254505-chuong-92">Hồi 19 - Dị điểm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">Hồi 20 - Tai ương Hồng Thủy</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c274603-chuong-102">Hồi 21 - Những thứ không thể thay đổi</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21204-toan-tri-doc-gia/t35462-hoi-22-ba-loi-hua">Hồi 22 - Ba lời hứa</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c284408-chuong-108">
                                                                        Chương 108
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c286506-chuong-109">
                                                                        Chương 109
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c288093-chuong-110">
                                                                        Chương 110
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21204-toan-tri-doc-gia/c290857-chuong-111">
                                                                        Chương 111
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Hồi 22 - Ba lời hứa</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 111</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21204-toan-tri-doc-gia/c290857-chuong-111#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,447 từ - Cập nhật: 
                        <time class="topic-time timeago" title="15-01-2026 22:41:21" datetime="2026-01-15T22:41:21+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 111</p>
                    <p id="1">Thần Rượu Và Hoan Lạc. </p><p id="2">Danh xưng này chỉ có thể thuộc về Dionysus[note87079], một trong mười hai vị thần Olympus.</p><p id="3">[Chòm sao 'Thần Rượu Và Hoan Lạc' đang ngân nga.]</p><p id="4">Tôi không nghe thấy khúc hát, nhưng tôi có thể thấy những giọt rượu đang nhảy múa theo một giai điệu không tên. Những bọt rượu chuyển động như có sinh mệnh, kết thành vô số nốt nhạc trên mặt đất. Các nốt nhạc di chuyển qua lại giữa tôi và Yoo Sangah.</p><p id="5">Yoo Sangah chăm chú nhìn những nốt nhạc rồi lên tiếng.</p><p id="6">“Là Puppy Waltz.”[note87080]</p><p id="7">"Cô đọc được nốt nhạc sao?"</p><p id="8">"Một chút thôi."</p><p id="9"> Yoo Sangah nghiêng đầu và tiếp tục nói.</p><p id="10">“Sao tự nhiên Chopin lại xuất hiện ở đây?”</p><p id="11">Tôi chịu. Thật kỳ lạ khi Dionysus biết về Chopin ngay từ đầu. Không. Theo nguyên tác, hắn là kẻ đặc biệt hứng thú với văn hóa nghệ thuật của hậu thế. Cũng không lạ lắm.</p><p id="12">Những nốt nhạc kết thành một vòng tròn, rồi hóa thành mũi tên chỉ về phía mấy chai soju còn lại. Yoo Sangah ngập ngừng.</p><p id="13">“…Ngài ấy đang bảo chúng ta uống tiếp sao?”</p><p id="14">"Uống thôi." </p><p id="15">Không còn cách giải thích nào khác. </p><p id="16">"Cô Yoo Sangah, uống ít thôi nhé. Ít nhất nên có một người tỉnh táo”</p><p id="17">Nếu tôi say, cần có người bảo vệ mọi người. Lee Gilyoung và Shin Yoosung chỉ uống nước ngọt, có thể đánh thức cũng được, nhưng tôi muốn để bọn trẻ ngủ yên.</p><p id="18"> "Anh Dokja không uống được nhiều sao?"</p><p id="19">"Tửu lượng của tôi không tốt lắm."</p><p id="20">Tôi khẽ chạm ly với cô ấy rồi uống cạn soju. Rượu đi vào cơ thể và làm tôi thấy nóng. Rượu trôi xuống cổ họng, cơ thể bắt đầu nóng lên. Nhưng những nốt nhạc vẫn chưa dừng lại.</p><p id="21">“…Có lẽ tôi nên uống thêm.”</p><p id="22">Tôi liên tục uống vài ly. Hơi nóng bốc lên từ bên trong, mặt tôi chắc hẳn đã đỏ bừng. Chuyển động của các nốt nhạc trở nên sôi động hơn. Không, hay là do tôi say rồi nhỉ?</p><p id="23">Yoo Sangah mỉm cười. </p><p id="24">"Thật vui khi được uống cùng anh. Tôi đã khá cô đơn."</p><p id="25">Thế là tôi lại uống thêm vài ly nữa. Hương rượu dịu lan tỏa khiến tâm trạng dễ chịu hơn. Khi quay đầu lại, tôi nhận ra mình đang ở rất gần Yoo Sangah. Rõ ràng lúc nãy còn cách xa…</p><p id="26">Không, không phải vậy. Hơi thở trở nên nặng nề. Tôi không biết đó là hơi thở của mình hay của Yoo Sangah. Vai cô ấy khẽ chạm vào vai tôi.</p><p id="27">"Anh Dokja."</p><p id="28">"Ừm."</p><p id="29">Rõ ràng là gương mặt không trang điểm, nhưng không tìm thấy chút khuyết điểm nào. Yoo Sangah từ từ nghiêng người về phía tôi.  Khuôn mặt cô ấy ngày càng gần hơn.</p><p id="30">Những nốt móc đơn và móc kép xoay cuồng xung quanh. Tim tôi đập nhanh theo từng cái chạm nơi bờ vai.</p><p id="31">…Khoan đã, có gì đó lạ lắm.</p><p id="32">[Kỹ năng độc quyền 'Bức Tường Thứ Tư' đã giảm bớt một phần cơn say.]</p><p id="33">Thông báo hiện lên, và đầu óc tôi lập tức tỉnh táo. Đúng rồi, chuyện này không thể xảy ra trong thực tế. Yoo Sangah không phải người như vậy. Điều này chỉ có thể xảy ra vì đây là 'Cách Sống Sót'. Tôi giữ chặt vai Yoo Sangah và nhắc nhở cô.</p><p id="34">"Cô Yoo Sangah, tỉnh táo lại đi."</p><p id="35">"Hả? A… à?" </p><p id="36">Yoo Sangah giật mình, chớp mắt liên tục. Gương mặt cô đỏ bừng.</p><p id="37">"T-Tôi, tôi vừa… làm gì vậy?"</p><p id="38">Quả nhiên, không phải ý muốn của Yoo Sangah. Tôi cảm thấy bản thân hơi thảm hại, rồi quay sang những nốt nhạc lơ lửng trên mặt đất.</p><p id="39">“Đừng chơi đùa nữa. Nói thẳng vào vấn đề đi.”</p><p id="40">Tất cả nốt nhạc đồng loạt dừng lại. Sự tĩnh lặng bao trùm, như thể lễ hội nửa đêm đột ngột bị cắt ngang. Những bọt rượu rơi xuống, tóe ra tia lửa, rồi kết thành một hàng chữ.</p><p id="41">–Ngươi chán ngắt.</p><p id="42">Tôi hơi bất ngờ trước dòng chữ hiện trên mặt đất. Vài từ viết bằng bọt rượu trên đất có vẻ không ghê gớm lắm, nhưng việc các chòm sao giao tiếp với hóa thân trong ‘Cách Sống Sót’ là cực kỳ khó khăn. Đó là lý do tại sao các chòm sao sử dụng kênh dokkaebi để truyền tải 'tin nhắn gián tiếp'.</p><p id="43">Ngay từ đầu, việc truyền tin nhắn đến Trái Đất mà không thông qua dokkaebi chỉ khả thi đối với các chòm sao cao cấp nhất, và cái giá xác suất phải trả là cực lớn. Xác suất của thế giới rất nhạy cảm với 'ngôn ngữ'.</p><p id="44">Tôi nghe thấy một tiếng gầm khe khẽ vọng xuống từ Vực Thẳm trên bầu trời. Vị thần của thế giới này đã nhận ra sự hiện diện của Dionysus. Việc ông ta gửi tin nhắn trực tiếp mà không thông qua hóa thân có nghĩa là ông ta tự tin vào chỗ dựa của mình… Quả nhiên, mười hai vị thần Olympus thật khác biệt.</p><p id="45">Tôi cố tình mở miệng khiêu khích.</p><p id="46">“Nếu tự tin như vậy thì xuống đây nói chuyện trực tiếp với tôi đi.”</p><p id="47">Dòng chữ di chuyển.</p><p id="48">—Ta không thích mấy thứ có xúc tu. Đánh nhau với chúng rất phiền. Nếu ta đích thân xuống đó, tất cả các ngươi sẽ chết.</p><p id="49">Thực ra tôi cũng không trông đợi gì. Nếu mười hai vị thần Olympus thật sự giáng lâm, Seoul sẽ bị nghiền thành bụi ngay lập tức.</p><p id="50">—Mẹ ta đã chết như thế, vì cha ta.</p><p id="51">Yoo Sangah nhìn thấy câu này và thì thầm với tôi. </p><p id="52">"…Thế nghĩa là sao?"</p><p id="53">"Có lẽ ông ta đang nói đến thần thoại về sự ra đời của mình."</p><p id="54">Theo những gì tôi biết, cha mẹ của Dionysus là Zeus và Semele, công chúa xứ Thebes. Hera ghen tị với Zeus và Semele nên đã cải trang thành nhũ mẫu của Semele, rồi xúi giục Semele rằng: 'Zeus có thể là kẻ mạo danh. Hãy yêu cầu ngài ấy cho cô thấy hình dáng thật khi ở Olympus'.</p><p id="55">Semele bị lừa và yêu cầu Zeus làm vậy. Kết quả là nàng chết vì ánh sáng thần thánh của Zeus.</p><p id="56">Yoo Sangah nghe câu chuyện và nghiêng đầu. </p><p id="57">“Ơ… nhưng hình như khác với câu chuyện tôi biết? Theo tôi nhớ thì mẹ ngài ấy không phải công chúa Thebes…”</p><p id="58">Tôi hơi ngạc nhiên trước kiến thức của Yoo Sangah. Không biết cô ấy có học thêm thần thoại hay không, chứ tôi thì không có bằng cấp gì cả.</p><p id="59">Chuỗi chữ thay đổi, như thể đang thích thú.</p><p id="60">—Hừm. Loài người các ngươi biết về ta khá rõ.</p><p id="61">Đúng như Yoo Sangah nói, thần thoại về sự ra đời của Dionysus có hai phiên bản. Một phiên bản cho rằng mẹ của ông ta là công chúa Semele của Thebes. Phiên bản còn lại thì nói rằng mẹ của ông ta là Persephone, vợ của Hades.</p><p id="62">Tôi hỏi Dionysus.</p><p id="63">“Tôi tò mò đấy. Phiên bản nào là thật?”</p><p id="64">–Có quan trọng không?</p><p id="65">“Quan trọng chứ. Tôi cần nó là phiên bản sau.”</p><p id="66">Thực ra, đề nghị uống rượu của Jung Heewon ngay từ đầu đã là cái bẫy nhắm vào Dionysus.</p><p id="67">Dionysus là con trai của Persephone. Nếu thần thoại này đúng, Dionysus có thể liên lạc với Persephone, vợ của Hades.</p><p id="68">–Tên con người thô lỗ. </p><p id="69">Dòng chữ rung lên.</p><p id="70">–Nhưng ta lại thích mấy kẻ thô lỗ.</p><p id="71">Thực ra, tôi đã biết đáp án từ trước. Câu chuyện của Dionysus đã được đề cập trong 'Cách Sống Sót'.</p><p id="72">–Đã từng có một con người ngu ngốc nhưng dũng cảm như ngươi. Hắn chơi đàn lia[note87081] rất giỏi. Kết cục thì không đẹp đẽ gì.</p><p id="73">"Tôi sẽ khác."</p><p id="74">–Ta có thể mở lối vào Địa Phủ. Cha Của Đêm Đen Trù Phú không thích ta nhưng Nữ Thần Địa Phủ sẽ nghe ta. Tuy nhiên, chuyện này cực kỳ nguy hiểm, và không có gì đảm bảo ngươi sẽ sống sót trở về.</p><p id="75">"Không sao."</p><p id="76">–Tốt. Ta thích mấy kẻ liều mạng.</p><p id="77">Bầu không khí tốt đến mức khiến tôi bất an. Dionysus là một chòm sao mà tôi không bao giờ đoán được suy nghĩ.</p><p id="78">–Nhớ kỹ điều này. Ta chỉ cho ngươi 12 tiếng. Nếu không quay lại trong thời gian đó, ngươi sẽ không bao giờ có thể trở lại các kịch bản.</p><p id="79">Đầu tôi choáng váng, rồi mí mắt trĩu xuống. Tôi lập tức hiểu ra. Khốn thật, thì ra đây là lý do ông ta bắt tôi uống rượu.</p><p id="80">Tôi vội vàng nói.</p><p id="81">"Cô Yoo Sangah, đánh thức bọn trẻ dậy."</p><p id="82">Có lẽ đây là những lời cuối cùng của tôi.</p><p id="83">[Kịch bản ẩn đã xuất hiện!]</p><p id="84">Khoảnh khắc tôi nhắm mắt lại, những giọt rượu dường như đang cười.</p><p id="85">–Hy vọng Cha Của Đêm Đen Trù Phú sẽ lắng nghe ngươi.</p><p id="86">_______________________________________</p><p id="87">[Chòm sao 'Thần Rượu Và Hoan Lạc' đang dẫn dắt linh hồn bạn.]</p><p id="88">[Bạn được giải phóng khỏi những ràng buộc thể xác.]</p><p id="89">Vô số màu sắc lướt qua tâm trí tôi, như thể đang trúng thuốc. Một cơn đau nhói truyền đến từ trán, rồi sau đó một giọng nói yếu ớt vang lên.</p><p id="90">[Ai kia?]</p><p id="91">[Linh hồn của một hóa thân đang đi trong thế giới của chòm sao?]</p><p id="92">[Ngươi sẽ hối hận.]</p><p id="93">Giọng nói ấy vang lên những lời mang đầy ác ý. Có lẽ là kẻ nào đó đến từ Olympus.</p><p id="94">[Kỹ năng độc quyền, 'Bức Tường Thứ Tư' được kích hoạt.]</p><p id="95">Những âm thanh ồn ào lập tức biến mất, như thể vừa bị tắt tiếng.</p><p id="96">[Linh hồn của một người còn sống đã tiến vào Địa Phủ.]</p><p id="97">[Các thẩm phán của Địa Phủ đã chú ý đến sự hiện diện của bạn.]</p><p id="98">Ngay khi thông báo cuối cùng vang lên, vô số dấu vết xung quanh tôi biến mất. Thế giới xoay tròn dữ dội, cơ thể tôi nặng trĩu rồi chìm xuống. Một lúc sau, tôi có cảm giác như đã chạm tới một nơi nào đó. Cơ thể khó cử động, nhưng tôi có thể đoán được cảnh tượng sẽ thấy khi mở mắt.</p><p id="99">Không khí của Địa Phủ dính đặc. Lớp cát dưới đầu ngón tay lạnh buốt. Có lẽ tôi đang ở bên dòng sông do Hades cai quản. Dòng Acheron[note87082] chảy về phía cung điện của Hades và người lái đò Địa Phủ Charon sẽ đợi tôi ở đâu đó. Và rồi…</p><p id="100">"“Ê! Dậy đi! Mày làm gì ở đây vậy?”</p><p id="101">Một vật gì đó cùn đập vào đầu tôi, cảm giác như bị dội dầu lên người. Tôi hít sâu, chống tay ngồi dậy. Có kẻ thô bạo lục lọi trên người tôi, túm lấy cổ tôi và nhấc bổng lên.</p><p id="102">“Ma mới à? Chưa thấy cái mặt này bao giờ.”</p><p id="103">Tôi cũng chưa từng thấy khuôn mặt này. Một gã đàn ông mặt mũi thô kệch, cơ bắp cuồn cuộn. Những linh hồn xung quanh đều đang nhìn về phía chúng tôi.</p><p id="104">“Trông hắn ổn đấy? Kiểm tra kỹ đi. Biết đâu hắn mang theo thứ gì đó.”</p><p id="105">“Ê, đừng đụng vào. Rơi xuống đây mà còn nguyên thế này thì chắc chắn có vấn đề. Mày quên thằng điên đến đây dạo trước rồi à?”</p><p id="106">“Thằng đó đặc biệt thôi. Loại như nó có phổ biến đâu?"</p><p id="107">Tôi mặc kệ bọn họ bàn tán, đưa mắt quan sát xung quanh. Đây là một không gian rộng lớn, có thể cảm nhận được sức nóng thiêu đốt. Đánh giá qua sự tràn ngập của các hồn ma, có thể chắc chắn đây là Địa Phủ.</p><p id="108">Những khung kim loại đen sẫm rải rác khắp nơi, bên cạnh là các lò nung kim loại. Cả nơi này mang bầu không khí như một nhà máy. Những linh hồn chết bị bắt làm nô lệ trong Địa Phủ đang chế tạo thứ gì đó. Thoạt nhìn, nó giống như… một con robot khổng lồ.</p><p id="109">Đây là chỗ quái gì vậy?</p><p id="110">“Này! Tao đang nói chuyện với mày đấy, mày coi thường tao à?”</p><p id="111">Tôi phớt lờ hắn, chậm rãi xoay mạnh cánh tay đang giữ lấy mình.</p><p id="112">"C-Cái gì? Sức mạnh này…!"</p><p id="113">Tôi không có thời gian dây dưa với đám tép riu này. Tôi mở bảng kịch bản ẩn vừa nhận được.</p><p id="114">[Kịch bản ẩn – Tản Bộ Ngắm Cảnh]</p><p id="115">Danh mục: Ẩn</p><p id="116">Độ khó: A+</p><p id="117">Điều kiện: Tránh sự giám sát của các thẩm phán và an toàn trở lại mặt đất</p><p id="118">Giới hạn thời gian: 12 giờ</p><p id="119">Phần thưởng: 10,000 xu</p><p id="120">Thất bại: Bị buộc trở thành người của Địa Phủ</p><p id="121">Kịch bản xuất hiện rồi. Thời gian Dionysus nói không sai. Nhưng nếu vậy thì tại sao tôi lại ở đây? Lẽ ra tôi phải rơi xuống sông Acheron mới đúng.</p><p id="122">“T-Thằng khốn! Dám coi thường bọn tao…!”</p><p id="123">Gã to con vừa giơ nắm đấm lên thì một giọng nói vang lên từ phía sau.</p><p id="124">“Bên kia có chuyện gì vui thế?”</p><p id="125">“Ưaaa!”</p><p id="126">"Haha, cho tôi tham gia với. Tôi chán chết đi được, ngày nào cũng phải lắp Gundam."</p><p id="127">"Chạy đi! Chạy mau!"</p><p id="128">Những linh hồn xung quanh lập tức lùi lại, như thú ăn cỏ gặp phải kẻ săn mồi. Tôi quay sang nhìn nơi phát ra giọng nói. Một chàng trai trẻ, thân hình mảnh khảnh, mái tóc mái che kín trán. Cậu ta nhìn thấy tôi thì tiến lại gần, cúi sát quan sát rồi lẩm bẩm với vẻ không thể tin nổi.</p><p id="129">"…Tại sao ông chú lại ở đây?"</p><p id="130">Tôi sững người. Cậu ta quen tôi sao?</p><p id="131">"Gì cơ? Không nhận ra tôi à? Chú quên thật rồi sao?"</p><p id="132">Chàng trai trẻ vén tóc mái lên. Tôi nhận ra cậu ta.</p><p id="133">…Chết tiệt. Nghĩ lại thì, Địa Phủ  là nơi dành cho người chết. Tôi thậm chí còn chưa từng nghĩ tới chuyện đó. Dĩ nhiên, những kẻ tôi đã giết sau khi chết đều sẽ tới đây.</p><p id="134">“À, đừng có cảnh giác như vậy. Chẳng phải chúng ta đều đã chết rồi sao?”</p><p id="135">Ánh mắt tò mò của chàng trai trẻ áp sát lại gần. Trong đó lộ rõ một vẻ độc ác và tàn nhẫn. Tôi chỉ nhìn cậu ta trong thoáng chốc, nhưng đó là một ấn tượng không thể nào quên.</p><p id="136">Cậu ta mỉm cười. </p><p id="137">"Vậy thì, thằng nào đã giết chú thế? Nói nghe coi. Hả?”</p><p id="138">Người đã chết trong kịch bản đầu tiên, Ác Ma Hoang Tưởng Kim Namwoon đang ở trong lãnh địa của Hades.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note87079"><a href="#anchor-note87079" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87079" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Dionysus là một trong những vị thần cổ xưa nhất của Hy Lạp, với gốc tích được ghi nhận từ tận thế kỷ XVI TCN và từng xuất hiện trong sử thi Iliad của Homer. Là một hình tượng tối quan trọng trong hệ thống thần thoại, dấu ấn của Dionysus trải rộng khắp nơi trên đất Hy Lạp: từ những đồng bằng phì nhiêu, biển cả bao la cho đến những cánh đồng cỏ xanh ngát. Kế thừa vị thế của các bậc tiền nhân, Dionysus được tôn vinh như một vị thần đầy quyền năng và sức ảnh hưởng. Ngài được người dân Hy Lạp thờ phụng dưới nhiều hình thức khác nhau. Dionysus đại diện cho men say của rượu nho, sự thăng hoa của âm nhạc và vũ điệu, niềm hoan lạc, sự hoang dã của thiên nhiên, và cả những trạng thái cuồng nộ mang tính tôn giáo.</span></div><span class="note-content_real long-text">Dionysus là một trong những vị thần cổ xưa nhất của Hy Lạp, với gốc tích được ghi nhận từ tận thế kỷ XVI TCN và từng xuất hiện trong sử thi Iliad của Homer. Là một hình tượng tối quan trọng trong hệ thống thần thoại, dấu ấn của Dionysus trải rộng khắp nơi trên đất Hy Lạp: từ những đồng bằng phì nhiêu, biển cả bao la cho đến những cánh đồng cỏ xanh ngát. Kế thừa vị thế của các bậc tiền nhân, Dionysus được tôn vinh như một vị thần đầy quyền năng và sức ảnh hưởng. Ngài được người dân Hy Lạp thờ phụng dưới nhiều hình thức khác nhau. Dionysus đại diện cho men say của rượu nho, sự thăng hoa của âm nhạc và vũ điệu, niềm hoan lạc, sự hoang dã của thiên nhiên, và cả những trạng thái cuồng nộ mang tính tôn giáo.</span></div>
                                                    <div style="margin-bottom: 20px;" id="note87080"><a href="#anchor-note87080" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87080" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Đôi khi còn được nhắc đến với cái tên "Valse du petit chien" (Khúc Valse chú chó nhỏ), nhưng quen thuộc nhất với đại chúng qua danh xưng "Minute Waltz". Đây là bản waltz dành cho piano của thiên tài âm nhạc kiêm nghệ sĩ dương cầm lỗi lạc người Ba Lan – Frédéric Chopin. Tác phẩm được ông đề tặng riêng cho Nữ bá tước Delfina Potocka.</span></div><span class="note-content_real long-text">Đôi khi còn được nhắc đến với cái tên "Valse du petit chien" (Khúc Valse chú chó nhỏ), nhưng quen thuộc nhất với đại chúng qua danh xưng "Minute Waltz". Đây là bản waltz dành cho piano của thiên tài âm nhạc kiêm nghệ sĩ dương cầm lỗi lạc người Ba Lan – Frédéric Chopin. Tác phẩm được ông đề tặng riêng cho Nữ bá tước Delfina Potocka.</span></div>
                                                    <div style="margin-bottom: 20px;" id="note87081"><a href="#anchor-note87081" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87081" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Đàn lia (Lyre) là một loại nhạc cụ dây cổ đại, thường có hình dạng giống như một chiếc đàn hạc nhỏ. Nó được sử dụng phổ biến trong âm nhạc cổ điển của các nền văn hóa như Hy Lạp và Ai Cập. Lyre có cấu trúc đặc biệt, gồm một thân đàn cộng hưởng thường được làm bằng gỗ, kết hợp với các dây được gắn vào phần đầu để tạo ra âm thanh khi gảy. Âm thanh của lyre thường được mô tả là êm dịu và thanh thoát, thường xuất hiện trong các nghi lễ tôn giáo và các sự kiện văn hóa.</span></div><span class="note-content_real long-text">Đàn lia (Lyre) là một loại nhạc cụ dây cổ đại, thường có hình dạng giống như một chiếc đàn hạc nhỏ. Nó được sử dụng phổ biến trong âm nhạc cổ điển của các nền văn hóa như Hy Lạp và Ai Cập. Lyre có cấu trúc đặc biệt, gồm một thân đàn cộng hưởng thường được làm bằng gỗ, kết hợp với các dây được gắn vào phần đầu để tạo ra âm thanh khi gảy. Âm thanh của lyre thường được mô tả là êm dịu và thanh thoát, thường xuất hiện trong các nghi lễ tôn giáo và các sự kiện văn hóa.</span></div>
                                                    <div style="margin-bottom: 20px;" id="note87082"><a href="#anchor-note87082" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87082" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Dòng sông Acheron là một trong những dòng sông huyền bí trong thần thoại Hy Lạp, thường được biết đến như "Dòng sông của đau khổ". Nó chảy dọc theo địa ngục và là nơi mà linh hồn người đã khuất phải băng qua để đến cõi âm phủ. Charon, thần sông của Acheron, là người lái đò đưa linh hồn qua sông này. Sông Acheron không chỉ là một con sông trong thần thoại mà còn là một điểm đến thu hút du khách, nơi họ có thể trải nghiệm cảm giác như đang đi qua thế giới ngầm.</span></div><span class="note-content_real long-text">Dòng sông Acheron là một trong những dòng sông huyền bí trong thần thoại Hy Lạp, thường được biết đến như "Dòng sông của đau khổ". Nó chảy dọc theo địa ngục và là nơi mà linh hồn người đã khuất phải băng qua để đến cõi âm phủ. Charon, thần sông của Acheron, là người lái đò đưa linh hồn qua sông này. Sông Acheron không chỉ là một con sông trong thần thoại mà còn là một điểm đến thu hút du khách, nơi họ có thể trải nghiệm cảm giác như đang đi qua thế giới ngầm.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21204-toan-tri-doc-gia/c288093-chuong-110" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'eLWH47uQWeoomMVjwsFzqRgiUlqiSLYKMFUP4jFn';
        var comment_type = 'chapter';
        var comment_typeid = '290857';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '8zYxLs5nVmX3n7s5U69rKghmwx37jk2WdPl22lRT';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21204');
    chapter_id = parseInt('290857');

    readingObject = {
        series_id: series_id,
        series_title: 'Toàn Tri Độc Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="8zYxLs5nVmX3n7s5U69rKghmwx37jk2WdPl22lRT" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

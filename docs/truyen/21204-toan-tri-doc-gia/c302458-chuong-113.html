<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Toàn Tri Độc Giả - Chương 113 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi là người duy nhất biết được kết cục của thế giới này.” Một ngày nọ, thế giới của Kim Dokja sụp đổ. Không phải theo nghĩa bóng, mà theo đúng những gì đã xảy ra trong cuốn tiểu thuyết mà anh là độc giả duy nhất theo dõi đến...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="wDmFMBW7JMbOpA7FvacgAOSDMcuJRD7Hj9PCRXVH">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21204-toan-tri-doc-gia/c302458-chuong-113">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21204-toan-tri-doc-gia/c292676-chuong-112"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21204-toan-tri-doc-gia"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21204-toan-tri-doc-gia/c302458-chuong-113" style="background: url('https://i.hako.vn/ln/series/covers/s21204-d72dfcb4-37f1-4dce-b357-082b563618f4.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21204-toan-tri-doc-gia">Toàn Tri Độc Giả</a></h5>
                    <small><i class="fas fa-pen"></i>Sing Shong</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163126-mo-dau-ba-cach-song-sot-trong-the-gioi-do-nat">Mở đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163127-chuong-01">Hồi 1 – Bắt đầu dịch vụ tính phí</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163136-chuong-07">Hồi 2 – Nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163164-chuong-11">Hồi 3 – Hợp đồng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163170-chuong-15">Hồi 4 – Đạo đức giả cũng là đạo đức</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c163486-chuong-19">Hồi 5 – Cảnh Vệ Bóng Đêm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c166297-chuong-23">Hồi 6 – Giờ Phán Quyết</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c167129-chuong-27">Hồi 7 – Địa chủ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c168524-chuong-32">Hồi 8 – Phòng thủ khẩn cấp</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c170483-chuong-36">Hồi 9 - Mola toàn tri</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c175135-chuong-42">Hồi 10 - Trận chiến tương lai</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c184714-chuong-49">Hồi 11 - Đêm hội Giáo Đồ</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c193080-chuong-54">Hồi 12 - Góc nhìn thứ nhất của nhân vật chính</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c202672-chuong-59">Hồi 13 - Đại chiến vương vị</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c211824-chuong-64">Hồi 14 - Chủ nhân ngai vàng</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c219703-chuong-70">Hồi 15 - Thế giới không vua</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c229563-chuong-76">Hồi 16 - Kịch bản thứ năm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c238574-chuong-81">Hồi 17 - Tài năng cấp SSS</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c248074-chuong-87">Hồi 18 - Cuộc chiến của độc giả</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c254505-chuong-92">Hồi 19 - Dị điểm</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c263455-chuong-97">Hồi 20 - Tai ương Hồng Thủy</a></li>
                                        
                                                            <li class=""><a href="/truyen/21204-toan-tri-doc-gia/c274603-chuong-102">Hồi 21 - Những thứ không thể thay đổi</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21204-toan-tri-doc-gia/t35462-hoi-22-ba-loi-hua">Hồi 22 - Ba lời hứa</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c284408-chuong-108">
                                                                        Chương 108
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c286506-chuong-109">
                                                                        Chương 109
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c288093-chuong-110">
                                                                        Chương 110
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c290857-chuong-111">
                                                                        Chương 111
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21204-toan-tri-doc-gia/c292676-chuong-112">
                                                                        Chương 112
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21204-toan-tri-doc-gia/c302458-chuong-113">
                                                                        Chương 113
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Hồi 22 - Ba lời hứa</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 113</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21204-toan-tri-doc-gia/c302458-chuong-113#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,389 từ - Cập nhật: 
                        <time class="topic-time timeago" title="01-02-2026 19:39:01" datetime="2026-02-01T19:39:01+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 113</p>
                    <p id="1">Ánh mắt cuối cùng của Kim Namwoon vẫn còn ám trong đầu tôi. Nhưng ngay từ đầu, tôi đâu có đến để cứu cậu ta. Với lại, tại sao tôi phải cứu khi bản thân cậu ta lại thích Địa Ngục đến thế chứ?</p><p id="2">Tên phán quan không chân lặng lẽ đi lên cầu thang, trông chẳng khác gì một bóng ma. Trên đường đi, vài thực thể kỳ lạ nhìn tôi bằng ánh mắt tò mò. Có thể là chòm sao, cũng có thể không. Nơi này đâu chỉ có mỗi chòm sao.</p><p id="3">Có lẽ nhận ra tôi đang mất tập trung, phán quan lên tiếng mà không quay đầu lại.</p><p id="4">[Không theo sát thì sẽ lạc đường.]</p><p id="5">Giọng nói khàn khàn đó khiến tôi khó chịu, nhưng tiếc là hắn nói đúng.</p><p id="6">Tôi liếc nhìn phán quan một cái, rồi ngẩng đầu nhìn lên trần và khẽ thì thầm.</p><p id="7">“Nghe thấy không?” </p><p id="8">Âm lượng rất nhỏ, đủ để phán quan không nghe được.</p><p id="9">“Ta biết là ngươi đang nghe.”</p><p id="10">Đây là Địa Phủ của Hades, không phải Trái Đất. Tôi tự hỏi liệu kênh dokkaebi có còn hoạt động ở đây không.</p><p id="11">Ngay sau đó, một giọng nói yếu ớt vang lên trong tai tôi.</p><p id="12">–…Có. </p><p id="13">Có phản hồi trên kênh Hội Thoại Dokkaebi. Không phải giọng của Bihyung. </p><p id="14">'Dokkaebi mới à?'</p><p id="15">–Vâng. Tôi là Dokkaebi hạ cấp Youngki. Hiện đang tạm thời làm quản lý trong lúc Bihyung vắng mặt.</p><p id="16">Dokkaebi Youngki. Có lẽ đó là dokkaebi đã giải quyết việc thanh toán phần thưởng cho kịch bản thứ năm lúc sáng. Tôi đi thẳng vào vấn đề. </p><p id="17">‘Ngươi làm việc kiểu gì vậy?’</p><p id="18">–Hả? </p><p id="19">‘Kịch bản ẩn đã cập nhật rồi, sao ngươi không thông báo nội dung cho ta?’</p><p id="20">Tôi đã lặn lội đến cái nơi khốn kiếp này, ít nhất cũng phải nhận được phần thưởng chứ.</p><p id="21">–À, c-cái đó…!</p><p id="22">Hóa ra con dokkaebi này là lính mới. Tôi lại càng thấy Bihyung giỏi xử lý công việc đến mức nào. Nó chỉ hơi ngáo thôi… </p><p id="23">Con dokkaebi im lặng rất lâu rồi mới lắp bắp.</p><p id="24">–X-Xin lỗi… </p><p id="25">'Gì nữa đây?' </p><p id="26">–Làm sao để cập nhật kịch bản ạ?</p><p id="27">Tôi cạn lời. </p><p id="28">‘Từ bao giờ dokkaebi lại phải nhờ hóa thân hướng dẫn vậy?’</p><p id="29">–Ngài B-Bihyung bảo nếu không chắc thì cứ hỏi anh…</p><p id="30">Tên khốn đó. Đẩy hết việc sang cho tôi à?</p><p id="31">–X-xin đợi chút! Tôi sẽ hỏi dokkaebi khác. À, với lại—</p><p id="32">‘…Gì nữa?’</p><p id="33">–Tôi xin lỗi, nhưng anh có muốn nhận các tin nhắn gián tiếp đã sao lưu không? Đây là lần đầu tôi gặp tình huống này…</p><p id="34">Tôi miễn cưỡng gật đầu. Tôi chưa từng nghĩ sẽ có ngày mình nhớ Bihyung. Sau đó tin nhắn bùng nổ trong đầu tôi.</p><p id="35">[Chòm sao 'Thần Rượu Và Hoan Lạc' tỏ ra rất thích thú với tình cảnh của bạn.]</p><p id="36">[Chòm sao 'Tù Nhân Của Vòng Kim Cô' hào hứng về cuộc phiêu lưu của bạn.] </p><p id="37">[Chòm sao 'Mưu Lược Gia Thần Bí' đang tò mò xem bạn sẽ thoát thân thế nào.]</p><p id="38">[Chòm sao 'Thẩm Phán Quỷ Diện Hỏa Thiêng' cầu mong bạn trở về an toàn với đồng đội.]</p><p id="39">…</p><p id="40">Quả nhiên, các chòm sao rất thích quan sát tôi. Mặt khác, một số khác lại đang chăm chú ngắm cảnh.</p><p id="41">[Chòm sao 'Độc Nhãn Di Lặc' đang chiêm ngưỡng Địa Phủ.]</p><p id="42">[Chòm sao 'Vệ Binh Chính Nghĩa Hói Đầu' bị sốc trước khung cảnh Địa Phủ.]</p><p id="43">[Chòm sao 'Vệ Binh Chính Nghĩa Hói Đầu' bắt đầu nghi ngờ đức tin của mình.]</p><p id="44">…</p><p id="45">Với một số chòm sao, đây đúng là một cảnh tượng ngoạn mục hiếm có. Không phải chòm sao nào cũng có thể đến lâu đài của Hades.</p><p id="46">[Bạn nhận được 12,000 xu tài trợ.]</p><p id="47">Chỉ cần cho xem cung điện của Hades thôi mà tôi đã nhận được 12,000 xu. Quá lời. Cảm giác chẳng khác nào quay lén khu đất riêng của người khác.</p><p id="48">Một lúc sau, tên phán quan đi phía trước cuối cùng cũng lên tiếng.</p><p id="49">[Đến nơi rồi.]</p><p id="50">Cánh cửa mở ra và một sảnh tiệc khổng lồ xuất hiện. Bên trong tối om, gần như không nhìn rõ gì. Phán quan biến mất, cánh cửa sau lưng tôi khép lại.</p><p id="51">Giữa bóng tối, một đốm sáng nhỏ dần hiện lên. Một chiếc bàn cổ hình bầu dục đang chờ sẵn. Phía sau là một bức tượng lộng lẫy, trông như tượng của một vị vua. Trên bàn bày đầy các món ăn khiến người ta phải nuốt nước bọt.</p><p id="52">Ở đầu bàn, một người phụ nữ đang nhìn tôi.</p><p id="53">[Thú vị thật. Một linh hồn còn sống lại dám bước vào lâu đài này. Hơn nữa còn kéo theo cả những kẻ quan sát khó chịu… Hôm nay đúng là một ngày đặc biệt.]</p><p id="54">Tôi lập tức nhận ra bà là ai. Trong cung điện của Hades, chỉ có một tồn tại có thể ngồi ở vị trí nữ chủ nhân. Tôi cúi chào và mở miệng. </p><p id="55">“Thật vinh dự được gặp ngài, Nữ Vương Của Mùa Xuân Tăm Tối.”</p><p id="56">Nữ Vương Của Mùa Xuân Tăm Tối. Đó là Persephone, vợ của Hades và là nữ hoàng nổi tiếng của Địa Phủ.</p><p id="57">[Ngươi biết danh xưng của ta. Đúng là một hóa thân lịch sự.]</p><p id="58">“Ngài quá khen rồi.”</p><p id="59">[Điều thú vị hơn là linh hồn ngươi không hề dao động khi nghe được giọng nói thật của ta.]</p><p id="60">Ngẫm lại thì đúng là như vậy. Tôi chẳng cảm thấy gì đặc biệt khi nghe giọng thật của các chòm sao.</p><p id="61">Persephone là một chòm sao ít nhất cũng ở cấp giai thoại. Theo lẽ thường, chỉ riêng việc nghe giọng thật của bà thôi cũng đủ khiến linh hồn tôi tan vỡ.</p><p id="62">Hơn nữa, trước đó tôi còn từng nghe giọng thật của Kim Yooshin, một chòm sao cấp vĩ nhân…</p><p id="63">[Kỹ năng độc quyền, 'Bức Tường Thứ Tư' được kích hoạt mạnh mẽ.]</p><p id="64">Đây là lần đầu tiên từ ‘mạnh mẽ’ xuất hiện trong thông báo kỹ năng. Có lẽ tiềm thức của tôi xem cuộc gặp này là điều ‘phi thực tế’.</p><p id="65">[Ngồi xuống đi, hóa thân Kim Dokja.]</p><p id="66">Tôi cảm ơn sự tiếp đãi rồi ngồi xuống đối diện bà. Thú thật, đây là một ân huệ ngoài dự đoán. Mùi thức ăn lan tỏa, khẽ chạm vào khứu giác tôi.</p><p id="67">Tôi nhìn quanh bàn, nhưng chỉ có Persephone.</p><p id="68">"Minh Vương…?" </p><p id="69">[Ngài ấy không thích những chuyến viếng thăm đột ngột. Vì vậy, ta nghĩ để ta nói chuyện với ngươi sẽ hợp hơn.]</p><p id="70">Quả nhiên là vậy. Tôi cũng đã đoán trước. Trước giờ chưa từng có hóa thân nào gặp trực tiếp cả ba đầu não của Olympus. Hơn nữa, tôi đâu có chơi đàn hay như Orpheus.</p><p id="71">“Tôi có thể hỏi một câu được không?”</p><p id="72">[Hỏi đi.]</p><p id="73">“Đây là bản thể của ngài sao?”</p><p id="74">[Dĩ nhiên là phân thân biểu tượng. Bản thể của ta không phải thứ mà một con người như ngươi có thể chịu nổi.]</p><p id="75">Tôi lặng lẽ nhìn phân thân biểu tượng của Persephone. Bà trông giống một bà lão tiều tụy. </p><p id="76">…Gu thẩm mỹ đúng là có vấn đề. Nói thật, tôi chả nghĩ được gì khác ngoài câu này khi thấy dáng vẻ trước mắt. </p><p id="77">Persephone cười nhẹ. </p><p id="78">[Ngươi không thích phụ nữ lớn tuổi à?] </p><p id="79">“Không phải vấn đề đó.”</p><p id="80">Dù là bà hay ông thì cũng chẳng quan trọng. Vấn đề là… bà ấy trông giống hệt ‘bà lão’ trên tàu điện ngầm trong kịch bản đầu tiên.</p><p id="81">[Nếu ngươi thấy không thoải mái, ta có thể đổi hình dạng khác.]</p><p id="82">Ngoại hình của Persephone chậm rãi thay đổi, biến thành Yoo Sangah. Nhưng không phải Yoo Sangah như thường ngày. Cô ấy mặc sườn xám đen, mang dây đeo đùi, trang điểm mắt đầy quyến rũ…</p><p id="83">Chỉ nhìn thôi mà mặt tôi đã nóng bừng. Chết tiệt, bà ấy nhìn trộm giấc mơ của tôi à? </p><p id="84">“Xin hãy… giữ hình dáng bà lão như vừa rồi đi.”</p><p id="85">Dĩ nhiên, Persephone không thèm nghe.</p><p id="86">[Không có nhiều thời gian nên vào thẳng vấn đề đi.] </p><p id="87">“Ngài không biết sao?”</p><p id="88">[Ta có nghe qua từ đứa con của mình. Nhưng nghe trực tiếp từ ngươi sẽ có ý nghĩa hơn.]</p><p id="89">“Đứa con” chắc chắn là Dionysus. Tôi gật đầu, hít sâu một hơi rồi nói.</p><p id="90">“Tôi đang tìm linh hồn của một người phụ nữ. Và tôi sẵn sàng giao dịch nếu cần.”</p><p id="91">[‘Linh hồn’… là một khái niệm đã cũ rồi.]</p><p id="92">Persephone khẽ cụp mắt xuống, như đang suy nghĩ gì đó. Rồi những ngón tay dài của bà động đậy, con dao bắt đầu cắt miếng bít tết trên đĩa.</p><p id="93">Tôi kiên nhẫn chờ đợi. </p><p id="94">Mọi việc diễn ra rất chậm. Cái nĩa ghim chặt miếng thịt, lưỡi dao đều đặn kéo qua kéo lại, cắt từng lát một cách cẩn thận. Nước thịt đỏ sẫm tràn ra khi đường cắt gọn gàng hoàn tất. Miếng thịt bị xiên lên, được nâng khỏi đĩa.</p><p id="95">Persephone nhìn nó, giống như đang phân vân có nên ăn hay không. Trông bà như đã quên hẳn tôi đang ngồi đối diện.</p><p id="96">Tôi vừa định lên tiếng thì bà đã mở miệng trước. Tất nhiên, là để ăn bít tết.</p><p id="97">[Thế giới này không có thứ gọi là ‘linh hồn’.]</p><p id="98">Linh hồn không tồn tại. Đó là vấn đề mà tất cả các nhà vật lý hiện đại đều đồng ý. Nhưng nghe câu này từ miệng một vị thần thì lại là chuyện khác. Lại còn là một vị thần của Olympus, kẻ từng dựa vào ‘linh hồn’ để tồn tại suốt hàng ngàn năm.</p><p id="99">Tôi cười khẩy,</p><p id="100">"Plato và Aristotle mà nghe được chắc sẽ đội mồ sống dậy mất." </p><p id="101">[Hai người đó giờ là chòm sao rồi, đâu còn nằm dưới đất.]</p><p id="102">"Tôi không đến đây để đùa giỡn." </p><p id="103">[Ta không đùa. Hóa thân Kim Dokja. Linh hồn không tồn tại. Đó chỉ là thứ con người bịa ra để tự an ủi, vì họ không chịu nổi việc bản thân biến mất.]</p><p id="104">"Vậy còn những người trong Địa Phủ? Họ không phải linh hồn sao?" </p><p id="105">Persephone chỉ vào miếng bít tết vừa được cắt.</p><p id="106">[Giống như thế này.]</p><p id="107">Miếng bít tết từ từ đi vào miệng Persephone. Bà thong thả nhai miếng thịt, như đang thưởng thức nó. Đôi môi đỏ mọng lấp lánh đầy mê hoặc dưới ánh đèn. </p><p id="108">[Khá đặc biệt đấy. Ngươi không thử một miếng sao?]</p><p id="109">Trước mặt tôi xuất hiện một miếng bít tết y hệt. Tôi nhìn nó một lúc rồi lắc đầu.</p><p id="110">“Tôi không muốn.”</p><p id="111">[Ngươi đang vô lễ đấy.]</p><p id="112">“Vâng. Tôi xin lỗi, nhưng tôi buộc phải vô lễ như vậy thôi.”</p><p id="113">Nếu ăn thì chắc chắn sẽ rất ngon. Trong ‘Cách Sống Sót’, có ít nhất mười mấy trang miêu tả hương vị của nó. Nhưng ở cuối đoạn mô tả dài ngoằng đó lại xuất hiện một câu:</p><p id="114">「 Phải đến cuối vòng hồi quy, Yoo Junghyuk mới hối hận vì đã ăn món ăn đó. 」</p><p id="115">Những người ăn thức ăn của Địa Phủ sẽ không thể trở về Trái Đất. Persephone dường như đọc được suy nghĩ của tôi, bà bật cười.</p><p id="116">[Địa Phủ không đáng sợ như ngươi nghĩ đâu. Phần lớn các giả thuyết mà loài người biết đều sai. Chỉ cần có sự cho phép của nhà vua, ngươi có thể rời khỏi đây bất cứ lúc nào. Nó giống như việc trở thành ‘quân nhân chuyên nghiệp’ trong thế giới của ngươi vậy.]</p><p id="117">"Đời quân ngũ là kỷ niệm khủng khiếp nhất trong cuộc đời tôi." </p><p id="118">[Thật sao? Ta nghe đàn ông ở đất nước ngươi hay nói nên ở lại trong quân đội mà. Ta tưởng chẳng có gì ghê gớm. Có lẽ ta đã hiểu nhầm rồi.]</p><p id="119">Tôi không hiểu tại sao nữ thần của một quốc gia khác lại biết nhiều về Hàn Quốc đến vậy. Persephone tiếp tục nói. </p><p id="120">[Hóa thân Kim Dokja. Ngươi sẽ được đối xử tốt hơn ngươi tưởng tượng.] </p><p id="121">“Người từng dụ tôi ở lại quân đội cũng nói y chang.”</p><p id="122">[Hắn có mời ngươi ăn bít tết không? Như miếng trước mặt ngươi ấy. Ngươi biết ăn vào sẽ được gì không?]</p><p id="123">“Tôi sẽ nếm được vị ngọt của thịt bò.”</p><p id="124">[Ngươi có thể trở thành một 'bậc thầy kiếm thuật' ngay lập tức.]</p><p id="125">Tôi thoáng tưởng mình nghe nhầm. </p><p id="126">Bậc thầy kiếm thuật. Đó là một cảnh giới mà chỉ những quy hoàn giả sau khi đã rời khỏi thế giới này và khổ luyện vô số năm mới đạt được.</p><p id="127">[Món mì ống bên cạnh. Ngươi có thể trở thành một 'đại pháp sư' nếu ăn nó.] </p><p id="128">…Món mì này sao?</p><p id="129">[Còn món súp? Nó có thể biến ngươi thành thợ săn cấp SSS.] </p><p id="130">Đây là Địa Phủ thật à? Hay là xứ sở thần tiên vậy? Tôi không thể không nuốt nước bọt. Chỉ cần ăn miếng thịt này, tôi có thể có được sức mạnh để vượt qua Yoo Junghyuk hiện tại.</p><p id="131">[Ngươi vẫn không ăn?] </p><p id="132">Tôi chậm rãi cầm nĩa, xiên một miếng bít tết. Ngay khoảnh khắc mũi nĩa xuyên qua miếng thịt, những hình ảnh lạ lóe lên trước mắt tôi. </p><p id="133">Đó là ký ức về một người đàn ông đang một mình luyện kiếm.</p><p id="134">「 Mình không thể yếu đuối. Phải học kiếm thuật. 」 </p><p id="135">「 Phải mạnh hơn nữa. 」 </p><p id="136">「 C-Cuối cùng cũng được! Mình làm được rồi! 」</p><p id="137">Chỉ có vài cảnh ngắn ngủi. Tôi giật mình, lập tức buông nĩa. Thứ tôi xiên vào không phải một miếng thịt bò chết.</p><p id="138">"Đây là…?" </p><p id="139">Persephone gật đầu. </p><p id="140">[Đúng vậy. Miếng thịt nhỏ này chính là thứ mà loài người các ngươi gọi là linh hồn.]</p><p id="141">Bà lại ăn thêm một miếng. Tôi muộn màng hiểu tại sao Persephone nói tôi có thể trở thành bậc thầy kiếm thuật nếu ăn thứ này. </p><p id="142">"...Trong đó có ký ức của bậc thầy kiếm thuật." </p><p id="143">[Ký ức? Không. Chính xác hơn thì…] </p><p id="144">Persephone ngừng lại một chút, như đang lựa lời.</p><p id="145">[Đó là một câu chuyện.]</p><p id="146">Cảnh bà liếm nhẹ môi khiến da đầu tôi tê rần.</p><p id="147">[Là món ăn yêu thích nhất của tất cả chòm sao.]</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21204-toan-tri-doc-gia/c292676-chuong-112" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21204-toan-tri-doc-gia" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'wDmFMBW7JMbOpA7FvacgAOSDMcuJRD7Hj9PCRXVH';
        var comment_type = 'chapter';
        var comment_typeid = '302458';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'wDmFMBW7JMbOpA7FvacgAOSDMcuJRD7Hj9PCRXVH';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21204');
    chapter_id = parseInt('302458');

    readingObject = {
        series_id: series_id,
        series_title: 'Toàn Tri Độc Giả',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="wDmFMBW7JMbOpA7FvacgAOSDMcuJRD7Hj9PCRXVH" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c72cb815ac8c798',t:'MTc2OTk2MzAyMw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

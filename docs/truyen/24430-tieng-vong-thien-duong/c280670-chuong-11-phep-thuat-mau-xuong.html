<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tiếng vọng thiên đường - Chương 1.1: Phép thuật màu xương - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Những thanh âm nơi đó vào ngày hôm ấy vẫn còn vang vọng bên tai tôi Chỉ vì một phút ngẫu hứng, tôi đã đăng tải một video âm nhạc trong bộ dạng giả gái, để rồi bất ngờ trở nên nổi tiếng như một hiện tượng mạng – &#039;nữ...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="WkrjbRUsPBbYZfidG3mBKnr8ieOAUvGgKuobe8Zb">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24430-tieng-vong-thien-duong/c280670-chuong-11-phep-thuat-mau-xuong">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24430-8be4b3b3-4f38-4e25-b662-ee618507babb.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24430-tieng-vong-thien-duong/c280676-minh-hoa"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24430-tieng-vong-thien-duong"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24430-tieng-vong-thien-duong/c288521-chuong-12-phep-thuat-mau-xuong"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24430-tieng-vong-thien-duong/c280670-chuong-11-phep-thuat-mau-xuong" style="background: url('https://i.hako.vn/ln/series/covers/s24430-8be4b3b3-4f38-4e25-b662-ee618507babb.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24430-tieng-vong-thien-duong">Tiếng vọng thiên đường</a></h5>
                    <small><i class="fas fa-pen"></i>Hikaru sugii</small>
                    <small><i class="fas fa-paint-brush"></i>Akinashi Yuu</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24430-tieng-vong-thien-duong/t35310-tap-01">Tập 01</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24430-tieng-vong-thien-duong/c280676-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh hoạ
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24430-tieng-vong-thien-duong/c280670-chuong-11-phep-thuat-mau-xuong">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.1: Phép thuật màu xương
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24430-tieng-vong-thien-duong/c288521-chuong-12-phep-thuat-mau-xuong">
                                                                        Chương 1.2: Phép thuật màu xương
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24430-tieng-vong-thien-duong/c297956-chuong-13-phep-thuat-mau-xuong">
                                                                        Chương 1.3: Phép thuật màu xương
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24430-tieng-vong-thien-duong/c298020-minh-hoa">Tập 02</a></li>
                                        
                                                            <li class=""><a href="/truyen/24430-tieng-vong-thien-duong/c298025-minh-hoa">Tập 03</a></li>
                                        
                                                            <li class=""><a href="/truyen/24430-tieng-vong-thien-duong/c298774-minh-hoa">Tập 04</a></li>
                                        
                                                            <li class=""><a href="/truyen/24430-tieng-vong-thien-duong/c298778-minh-hoa">Tập 05</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 01</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1.1: Phép thuật màu xương</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24430-tieng-vong-thien-duong/c280670-chuong-11-phep-thuat-mau-xuong#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 3,179 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-12-2025 11:45:36" datetime="2025-12-28T11:45:36+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1.1: Phép thuật màu xương</p>
                    <p id="1"><strong> </strong></p><p id="2">Nằm dưới bầu trời giông bão, cô ấy cất lên</p><p id="3">Ôi, em biết mặt trời rồi sẽ tỏa ánh dương</p><p id="4">Và đó có thể là thiên đường</p><p id="5">“Paradise” - Coldplay.</p><p id="6"><img src="https://i.hako.vn/ln/chapters/illusts/280670/9802422d-48a4-43c3-849c-f27c8ba1dca1.jpg" alt="1003fb14-5765-451d-b71d-3b2c5d7411d8.jpg"></p><p id="7">Các phím đàn của piano không hoàn toàn là màu trắng, mà đó là màu hơi ngả vàng. Tôi đã nghe được điều này từ một nghệ sĩ piano nổi tiếng nào đó: ”Đó là màu từ xương cốt.”</p><p id="8">Khi bạn chơi đàn, ngón tay sẽ gõ trực tiếp vào phím đàn khiến cả người chơi và cây đàn đều bị đau. Nghệ sĩ piano ấy tiếp tục khẳng định rằng: ”Một cây đàn piano không có giá trị là cây đàn mà không phải chịu đau đớn nào cả.”</p><p id="9">Hay nói cách khác, đó không phải chuyện xấu gì cho lắm. Nhưng điều duy nhất đọng lại trong tâm trí tôi khi ấy là từ “đau”.</p><p id="10">Vì thế, khi lần đầu tiên nghe tiếng đàn của Rinko, cảm giác ấy trong tâm trí tôi lại vang lên lần nữa.</p><p id="11">Đầu tiên, tôi muốn khẳng định chắc chắn rằng việc hóa trang thành con gái hoàn toàn là để các bài nhạc của tôi có nhiều view hơn, chứ không phải là sở thích kì quặc gì hết. Hoàn toàn không.</p><p id="12">Tôi là một học sinh cấp 3 bình thường. Trình độ guitar và keyboard của tôi chỉ là nghiệp dư khi so với vô số người ngoài kia. Tôi đã đăng các bản nhạc tự sáng tác của mình lên trên mạng, nhưng vì chúng hoàn toàn là nhạc không lời, nên hầu như không có một cách nào để chúng trở nên phổ biến cả. Bài nhạc của tôi chỉ cần có số lượt xem đạt được đến 4 chữ số thôi cũng đã khiến tôi mừng rơi nước mắt rồi.</p><p id="13">Mặc dù tôi tự an ủi bản thân rằng: ”Đó chỉ là sở thích của mình thôi, một bài nhạc không nhiều views đâu có nghĩa là nó không hay đâu.”</p><p id="14">Nhưng trong lòng tôi vẫn cảm thấy thật khó chịu và cay cú khi nghĩ về chuyện này.</p><p id="15">Một ngày, dường như đã đọc được nỗi niềm của tôi, chị gái bất ngờ đề nghị tôi thử làm một điều gì đó đặc biệt.</p><p id="16">“Em có thể thu hút sự chú ý cho kênh của mình hơn nếu em thử giả gái khi biểu diễn đấy. Dáng người em khá gầy và hầu như không có lông, vì thế nếu em dùng tóc giả và không lộ mặt thì sẽ chả ai nhận ra đâu. Quần áo thì chị sẽ cho em mượn đồ cũ của chị.”</p><p id="17">“Ý tưởng đáng xấu hổ này của chị không thể giúp tăng lượt xem lên được đâu. Đầu tiên, em chơi electronica, acid house, toàn thể loại kén người nghe á.”</p><p id="18">“Ai quan tâm em chơi nhạc gì đâu, người xem chỉ thấy sung sướng khi được thấy đùi của nữ sinh cấp 3 thôi!”</p><p id="19">Chị nghĩ thể loại khán giả xem kênh em là cái quái gì vậy?</p><p id="20">Tuy vậy, vì tôi có những món nợ với chị gái cả hữu hình lẫn vô hình, chị ấy cuối cùng đã thành công ép tôi quay một đoạn video âm nhạc tôi hóa trang một lần. Khi soi gương sau khi trang điểm xong, tôi gần như không tin vào mắt mình.</p><p id="21">“Ồ, tuyệt ghê, em trông y hệt một cô gái luôn, kĩ năng trang điểm của chị tuyệt nhỉ.“</p><p id="22">Chị tôi đứng bên cạnh trông rất hài lòng về thành quả của mình. Gần như chắc chắn rằng tôi giống y hệt con gái.</p><p id="23">Video không quay mặt tôi, giọng nói của tôi cũng không bị lộ do là nhạc không lời. Những bộ phận nam tính trên cơ thể tôi như là vòng eo hay vai thì đều đã được che đi bởi cổ áo của trang phục thủy thủ và cây đàn guitar.</p><p id="24">Trong tâm trạng hỗn độn, tôi đã đăng video đó lên kênh. Lượt xem đã vượt mốc năm chữ số ngay trong ngày, và dễ dàng đạt đến sáu chữ số trong ngày hôm sau.</p><p id="25">Tổng số views của kênh tôi trước đây chỉ có chưa đến 10 nghìn, vậy những nỗ lực trước kia rốt cuộc để làm gì vậy?</p><p id="26">Vả lại hầu như các bình luận trên video của tôi toàn về đùi và xương quai xanh, rất ít người để ý đến bài nhạc hay phần biểu diễn. Tôi thực sự nghiêm túc lo lắng cho tương lai nền âm nhạc ở đất nước này rồi đấy.</p><p id="27">Trông thấy tôi như vậy, chị gái tôi liền nói: “Tại sao Mako lại không thích vậy? Nếu em hỏi chị, chị cảm thấy rất vui về việc này đấy. Gen của em về cơ bản là giống với chị, bộ đồng phục thủy thủ cũng là của chị, vì thế mọi người khen em cũng như là đang khen chị vậy.”</p><p id="28">“Vậy sao chị không thử làm video đi, Aneki? Trông chị xinh thế kia, em cá rằng chị sẽ nổi tiếng cho mà xem.“</p><p id="29">Hình như tôi đã nói hơi thừa thãi, khiến chị tôi bực mình “Em bị điên rồi phải không?“ rồi đuổi tôi ra khỏi phòng.</p><p id="30">Câu chuyện không dừng lại ở đó. Sự thành công nó như một liều thuốc phiện vậy.</p><p id="31">Chị tôi đã để lại bộ đồng phục đó trong phòng tôi, và lượt xem thì cứ liên tục tăng từng ngày. Số người đăng ký kênh tôi gấp cả trăm lần so với lúc trước.</p><p id="32">Mọi người kỳ vọng vào tôi. Cả đống người đang mong đợi vào video tiếp theo trên kênh.</p><p id="33">Sau một thời gian dài lưỡng lự nhưng cuối cùng, tôi đã quyết định mặc lại bộ đồng phục thủy thủ ấy một lần nữa. Khi xem video tôi giả gái lần thứ hai, trong cảm giác khoan khoái, tôi càng có động lực mạnh mẽ hơn để tiếp tục chuyện này.</p><p id="34">100.000 Lượt xem. Kể cả khi phần lớn trong số họ chỉ quan tâm đến ngoại hình, số người comment muốn nghe nhạc của tôi cũng nhiều hơn nhiều so với trước kia.</p><p id="35">Sau khi đăng thêm 3 videos, tài khoản tôi bắt đầu nhận được những tin nhắn nhạy cảm, quấy rối tình dục khiến tôi cảm thấy thực sự không an toàn. Vì thế tôi quyết định ghi chú ở dưới phần giới thiệu tài khoản mình rằng: ”Tôi là con trai” và đổi tên thành ”Musa”.</p><p id="36">Tôi nghĩ cái tên đó thật tuyệt, nó cũng trông rất nam tính và cũng gợi đến Musa, nữ thần âm nhạc trong thần thoại Hy Lạp.</p><p id="37">Nhưng dường như việc này không đem lại nhiều tác dụng gì cho lắm. Hàng loạt comments và tin nhắn kiểu như “Là con trai thì càng tốt” ập tới khiến tôi cảm thấy thế giới này như đến hồi kết rồi.</p><p id="38">Khi số người xem tăng chóng mặt, những bản nhạc tôi đăng lên trong quá khứ khiến tôi càng cảm thấy xấu hổ. Vì chúng được làm khi tôi còn non kinh nghiệm nên trông thật vụng về ở mọi khía cạnh. Cái suy nghĩ rằng hàng trăm nghìn người sẽ nghe những màn thể hiện nghiệp dư ấy khiến tôi không thể chịu nổi...</p><p id="39">Vì thế tôi đã xóa hết đống bản nhạc đã đăng trong quá khứ trước khi tôi giả gái. Do đó, tất cả những gì bạn nhìn thấy trên danh sách video kênh tôi chỉ là hình ảnh của bộ đồng phục thủy thủ và đùi.</p><p id="40"> Thực sự quá mất mặt mà.</p><p id="41">Tôi muốn dừng việc cải trang trên video lại, nhưng tôi thực sự sợ rằng điều gì sẽ xảy ra nếu dừng lại. Số người thực sự muốn nghe nhạc của tôi mà không quan tâm đến đùi chắc chỉ chưa đến một nghìn.</p><p id="42">May là tôi không dùng tên thật hoặc có dự định tham gia những sự kiện âm nhạc bên ngoài. Thêm vào đó là ngoài chị tôi ra, không ai biết tôi là Musa, vì thế tôi đoán rằng mình không cần phải lo lắng quá nhiều về điều này….</p><p id="43">Ít nhất, đó là những gì tôi tự an ủi bản thân để tiếp tục đăng video. Nhưng trớ trêu thay, trái đất này hẹp hơn tôi tưởng tượng nhiều.</p><p id="44">Điều này xảy ra sau khi tôi vào cao trung. Như một lẽ dĩ nhiên, tôi đã chọn môn Âm nhạc trong các môn nghệ thuật. Nhờ vậy, lần đầu tiên trong đời tôi có cơ hội được chạm vào một cây dương cầm.</p><p id="45">Phòng âm nhạc ở cả tiểu học lẫn trung học của tôi đều chỉ có đàn piano dạng đứng, đơn giản là vì không có đủ diện tích. Tôi dường như không thể kìm nén được khao khát muốn thử chơi cây đàn ấy dù chỉ một lần. Vì thế, vào giờ nghỉ trưa, đợi mọi người trong lớp rời khỏi phòng hết, tôi lén lút ngồi xuống chiếc ghế trước cây đàn.</p><p id="46">Khi trông thấy nó ngay trước mặt, tôi mới thực sự nhận ra dương cầm là một loại nhạc cụ to lớn đến mức nào.</p><p id="47">Những chiếc keyboard tôi có —KRONOS LS của KORG và EOS B500 của YAMAHA — đều khá nhỏ gọn, đủ để mang trên vai. Khi chơi, tôi vẫn có thể nhìn thấy bức tường đối diện phía trước phím đàn. Nhưng cây dương cầm này thì khác. Thân hình to lớn, đen bóng của nó hoàn toàn che khuất tầm nhìn của tôi. Khí thế như muốn nuốt chửng người đối diện ấy khiến tim tôi đập thình thịch. Nếu không cẩn thận, có lẽ tôi sẽ bị nhấn chìm bởi cảm giác này mất.</p><p id="48">Chưa hết, phím đàn còn nặng đến bất ngờ. Nghĩ đến việc các nghệ sĩ dương cầm có thể chơi một cách bình thản, tôi chỉ biết thán phục.</p><p id="49">Tôi bắt đầu chơi một bản nhạc mà chẳng suy nghĩ gì nhiều — một đoạn ngắn trong bản nhạc do chính tôi sáng tác……</p><p id="50">“…Hử? Murase-kun, cái này có phải là…?”</p><p id="51">Giọng nói vang lên từ phía sau khiến tôi giật bắn người. Tôi vội rụt tay lại, suýt chút nữa thì ngón tay đã bị kẹp vào nắp đàn. Quay đầu lại, tôi nhận ra đó là cô Hanazono, giáo viên dạy nhạc.</p><p id="52">“Xin lỗi cô, em đã chạm vào đàn mà chưa được cho phép.”</p><p id="53">“Không, chuyện đó thì cô không để tâm. Nhưng bản nhạc này là…?”</p><p id="54">Cảm giác nguy hiểm lập tức trỗi dậy. Tôi toan chuồn khỏi phòng ngay lập tức, nhưng cổ áo đã bị giữ lại.</p><p id="55">“Đây là đoạn giữa của bài Rococo Flash của Musao, đúng không?”</p><p id="56">Lúc này, tôi chỉ muốn giấu mặt sau cánh tay rồi chui xuống dưới cây đàn cho xong. Mình bị phát hiện rồi…</p><p id="57">Khoan đã. Nếu chỉ là cover thì không sao cả. Tôi có thể nói rằng mình biết bản nhạc này qua Musao. Điều đó cũng chứng tỏ Musao trên mạng nổi tiếng đến mức nào. Việc có người chơi bản này ở trường cũng chẳng có gì lạ. Tôi chỉ cần giả vờ là một trong số họ là được.</p><p id="58">“Ồ, cô cũng biết Musao à? Em xem video đó rồi. Bản nhạc này hay thật, phải không cô?”</p><p id="59">Tôi cố gắng trả lời với giọng bình thường nhất có thể. Thế nhưng cô đáp lại ngay, không chút do dự.</p><p id="60">“Em chính là Musao, đúng không?”</p><p id="61">Cuộc đời tôi coi như chấm hết.</p><p id="62">“C–Không phải đâu ạ! Em chỉ tình cờ nghe thấy trên mạng thôi.” Tôi cố gắng lấp liếm.</p><p id="63">“Cô đã thử đánh theo bản nhạc này nhưng không thể nào đúng được. Vừa rồi em đã chơi nó hoàn hảo đến mức đáng sợ. Hơn nữa, nhìn kỹ thì em rất giống Musao. Quan trọng nhất là phần xương quai xanh, trông y hệt.”</p><p id="64">“Xin cô đừng dùng cái đó để nhận dạng người khác…”</p><p id="65">Ngay sau đó, cổ áo tôi bị kéo mạnh, khiến tôi lùi lại phía sau và bị đập đầu vào bảng đen.</p><p id="66">“Em thực sự là con trai nhỉ, Musao? Cô không ngờ em lại là học sinh của mình đấy.”</p><p id="67">Ánh mắt cô Hanazono rà soát khắp người tôi. Tôi không còn chút dư sức nào để giữ bình tĩnh trong tình huống éo le này nữa.</p><p id="68">“Ờ… cô ơi, chuyện này cô có thể giữ bí mật giúp em được không ạ?”</p><p id="69">“Nếu video đó lan truyền khắp trường, chắc chắn sẽ rất nổi đấy. Em còn có thể trở thành ngôi sao sáng trong cuộc thi giả gái ở lễ hội văn hóa.”</p><p id="70">“Đừng mà cô, em xin cô đấy…”</p><p id="71">“Cô đâu phải ác quỷ. Chuyện này, coi như cô không biết gì đi.”</p><p id="72">“Em cảm ơn cô rất nhiều ạ!”</p><p id="73">“Nhưng với một điều kiện.”</p><p id="74">Không may thay, cô Hanazono thực sự là ác quỷ ở mọi khía cạnh. Để đổi lấy sự im lặng của cô, tôi bị ép phải đệm đàn cho tất cả các tiết nhạc.</p><p id="75">Trong năm nhất, chúng tôi phải học bài ca chính thức của trường. Nhưng bản nhạc này có quá nhiều nốt, đến mức cả khuông nhạc gần như chỉ thấy một màu đen kịt.</p><p id="76">“Sao cái bản nhạc trời đánh này lại giống kiểu được làm bởi một học sinh sơ trung mới tập tành dùng sequencer thế này? Tôi nói, cố để không nhớ về mấy bản nhạc cũ của tôi ba năm trước.</p><p id="77">“Vài năm trước, nhà trường muốn bài hát của trường có thêm phần hợp xướng bốn bè hỗn hợp. Vì thế, họ đã giao cho một cựu học sinh đang theo học học viện âm nhạc với cái giá rẻ mạt. Và kết quả là thế này đây.”</p><p id="78">“Lại còn có chuyện đó à? Người đó là ai vậy cô? Em muốn gặp trực tiếp để phàn nàn.”</p><p id="79">“Là một người phụ nữ. Tên cô ta là Hanazono Misao.”</p><p id="80">“Hóa ra là cô ạ… Ừm…”</p><p id="81">“Em nói là muốn phàn nàn mà? Cô đang nghe đây.”</p><p id="82">“Em xin lỗi cô. Không có chuyện phàn nàn gì hết ạ.”</p><p id="83">“Ngay cả tác giả của nó cũng chẳng bao giờ muốn đệm một bản nhạc phiền phức thế này đâu. Cô chưa từng nghĩ rằng mình chỉ có thể kiếm được việc ở trường cũ. Thôi, tiếp tục tập đi.”</p><p id="84">Với tư cách giáo viên, cô ấy đúng là quá đáng. Chưa dừng lại ở đó, cô còn chọn thêm những tác phẩm hợp xướng khó đệm như The Mouth of the River hay Believe, khiến tôi chỉ muốn khóc.</p><p id="85">“Quả nhiên là Musao. Chỉ sau một tuần mà em đã tiến bộ hơn rất nhiều.”</p><p id="86">Tôi chẳng cảm thấy vui chút nào khi nhận lời khen cho công việc mà mình bị ép làm.</p><p id="87">“Ừm… cô ơi, cô có thể đừng gọi em là Musao không ạ? Ở chỗ đông người như vậy em sợ lộ danh tính lắm.”</p><p id="88">“Không phải Musao là viết tắt của Murase Makoto sao?”</p><p id="89">“Chỉ giống mỗi chữ Mu thôi mà!”</p><p id="90">“Vậy thì… Muraosa.”</p><p id="91">“Cái kiểu trưởng làng gì thế này? Người ta nói mà chẳng bao giờ chịu nghe.”</p><p id="92">“Cô đang nghĩ đến việc dùng Bốn mùa của Haydn làm a cappella cho lớp vào tuần sau.”</p><p id="93">Nói rồi, cô ném cho tôi cả xấp bản nhạc.</p><p id="94">“Hãy sắp xếp lại thành hợp xướng bốn bè.”</p><p id="95">Yêu cầu của cô dường như ngày càng quá quắt hơn thì phải? Cứ cái đà này, đến lúc tốt nghiệp, có khi tôi sẽ bị bắt soạn cả một bản opera mất. </p><p id="96">Chỉ nghĩ đến viễn cảnh đó thôi, mặt tôi đã tái mét.</p><p id="97">“Murase, mày luôn ở lại phòng âm nhạc sau giờ học nhỉ.”</p><p id="98">“Hanazono-sensei dạy kèm riêng piano cho mày à, sướng thế.”</p><p id="99">Việc này khiến bọn con trai trong lớp tôi cực kỳ ghen tị.</p><p id="100">Cô Hanazono là giáo viên trẻ tuổi mới về trường có bốn năm, và với tài sắc vẹn toàn của mình đã khiến bao trái tim của nam sinh năm nhất bị cướp mất. Tuy nhiên, thay vì là trái tim thì thứ cô ấy nắm được của tôi là điểm yếu. Thật lòng thì tôi muốn nói với họ rằng: “Chúng mày thích thì đổi chỗ cho tao đi.”</p><p id="101">“Tao không được dạy bất cứ cái gì đâu,” tôi đáp lại họ bằng sự thực thà hết mức. “Tao chỉ tự tập trong khi cô ấy làm việc ở phòng chuẩn bị ngay bên cạnh thôi.”</p><p id="102">Sự thật là, phần lớn thời gian cô Hanazono chỉ dành để đọc manga chứ không có chuyện làm việc gì hết.</p><p id="103">Bỗng nhiên, một đứa bạn cùng lớp hỏi tôi: “Mày có luyện tập với cô gái đệm đàn lớp chẵn không?”</p><p id="104">“Ồ, có phải là cô bạn rất đáng yêu không? Tao chỉ mới nghe về cô ấy thôi.”</p><p id="105">“Cô ấy học lớp nào nhỉ?”</p><p id="106">“Hình như là lớp 4.”</p><p id="107">“Mày thật là may mắn khi chọn học âm nhạc đấy. Tao thấy hối hận khi chọn hội họa rồi.”</p><p id="108">Họ đang bàn luận ngày càng sôi nổi hơn, nhưng tôi không hiểu họ đang nói về cái gì.</p><p id="109">“Ừm, có phải là lớp chẵn cũng có một cô bạn tội nghiệp bị bắt phải đệm đàn hộ cô Hanazono như tao không?”</p><p id="110">“Hình như thế.”</p><p id="111">“Sao mày lại nói là 'ép', mày phải cảm thấy sung sướng vì công việc đó là đặc ân chứ!”</p><p id="112">“Cô Hanazono đã dùng điều gì đó để ép mày à?”</p><p id="113">“Nói nhảm gì thế, thích thì đổi chỗ với tao đi.”</p><p id="114">Cuộc trò chuyện dường như đã đi lệch sang chủ đề khác, do đó tôi không để ý nữa và bắt đầu im lặng tự sắp xếp những gì tôi đã biết.</p><p id="115">Trường tôi có tám lớp mỗi khối và mỗi học sinh bắt buộc phải chọn một trong ba môn nghệ thuật gồm: Hội họa, âm nhạc và thư pháp. Việc tổ chức lớp nghệ thuật tự chọn riêng cho mỗi lớp học là điều không khả thi do có quá ít học sinh, do đó nhà trường đã chia thành các lớp lẻ và chẵn. Hai nhóm lớp này sẽ học riêng các môn nghệ thuật.</p><p id="116">Nếu như suy nghĩ của tôi là đúng, thì có vẻ cô Hanazono đã không chỉ bắt mỗi tôi đệm đàn cho các lớp lẻ, một cô bạn đáng thương khác phải làm việc đó cho các lớp chẵn.</p><p id="117">“Tao chưa bao giờ gặp cô ấy cả.” Tôi đáp lại. “Cô bạn đệm đàn đó chắc có piano ở nhà nên không cần phải đến trường để luyện như tao.”</p><p id="118">“Nghe chán thế.”</p><p id="119">“Ước gì tao được học lớp chẵn và nghe bạn ấy đệm đàn thôi là tao đã có hứng học âm nhạc hơn rồi.”</p><p id="120">“Hay hơn Murase là cái chắc.”</p><p id="121">Có phải tôi làm vì thích đâu.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24430-tieng-vong-thien-duong/c280676-minh-hoa" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24430-tieng-vong-thien-duong" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24430-tieng-vong-thien-duong/c288521-chuong-12-phep-thuat-mau-xuong" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3143627"
    class="ln-comment-item mt-3 clear"
    data-comment="3143627" 
    data-parent="3143627" 
    data-type="chapter" 
    data-typeid="280670">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u225103-e1e7662f-ffc1-4efb-bf25-d35d729c7c54.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/225103">Baotran9g</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tem
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24430-tieng-vong-thien-duong/c280670-chuong-11-phep-thuat-mau-xuong?comment_id=3143627#ln-comment-3143627"
                            class="text-slate-500">
                            <time class="timeago" title="30-12-2025 11:53:28"
                                datetime="2025-12-30T11:53:28+07:00">
                                30-12-2025 11:53:28
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'WkrjbRUsPBbYZfidG3mBKnr8ieOAUvGgKuobe8Zb';
        var comment_type = 'chapter';
        var comment_typeid = '280670';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'WkrjbRUsPBbYZfidG3mBKnr8ieOAUvGgKuobe8Zb';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24430');
    chapter_id = parseInt('280670');

    readingObject = {
        series_id: series_id,
        series_title: 'Tiếng vọng thiên đường',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="WkrjbRUsPBbYZfidG3mBKnr8ieOAUvGgKuobe8Zb" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c54d8df1d437e0e',t:'MTc2OTY0ODk5OA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

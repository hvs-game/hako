<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Làm ma pháp thiếu nữ là nghĩa vụ của người lớn - Chương 11: Trường hợp của Kazamidori Koromo — Ma pháp thiếu nữ nổi tiếng &quot;hệ&quot; xấc xược - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một ma pháp thiếu nữ mà lại đi giải cứu ma pháp thiếu nữ khác đã ra mắt công chúng! Nhưng sự can thiệp của &quot;anh ấy&quot; hình như có hơi kích thích với những cô bé đơn phương chiến đấu kia thì phải. Tại một thế giới nơi ma...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="7bMPakQEV3myRCQ6rqhS77NFvf6QRt4i86Z2kHR5">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291534-chuong-11-truong-hop-cua-kazamidori-koromo-streamer-noi-tieng-he-xac-xuoc">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24599-575fc8c3-bf77-45b0-b64e-5094c457c921.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291264-chuong-10-phuong-an-cua-nguoi-lon"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291541-chuong-12-chu-nghia-co-hoi-tai-xuat"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291534-chuong-11-truong-hop-cua-kazamidori-koromo-streamer-noi-tieng-he-xac-xuoc" style="background: url('https://i.hako.vn/ln/series/covers/s24599-575fc8c3-bf77-45b0-b64e-5094c457c921.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon">Làm ma pháp thiếu nữ là n...</a></h5>
                    <small><i class="fas fa-pen"></i>多部キャノン</small>
                    <small><i class="fas fa-paint-brush"></i>間明田</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/t35649-vol-1">Vol 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c289519-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c289521-chuong-01-quyet-dinh-cua-nguoi-lon">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 01: Quyết định của người lớn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c289819-chuong-02-thao-luan-ve-ma-phap-thieu-nu-ts">
                                                                        Chương 02: Thảo luận về Ma pháp thiếu nữ TS
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c289952-chuong-03-nghia-vu-cua-nguoi-lon">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 03: Nghĩa vụ của người lớn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290245-chuong-04-truong-hop-cua-ma-phap-thieu-nu-yeu-duoi-yuuki-sena">
                                                                        Chương 04: Trường hợp của Ma pháp thiếu nữ yếu đuối - Yuuki Sena
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290383-chuong-05-nguoc-ve-phia-bau-troi">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 05: Ngước về phía bầu trời
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290899-chuong-06-thien-thach-va-huy-diet">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 06: Thiên thạch và huỷ diệt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290911-chuong-07-tam-biet-toi-cu-don-chao-tuong-lai-moi">
                                                                        Chương 07: Tạm biệt tôi cũ, đón chào tương lai mới
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290945-chuong-08-thao-luan-ve-ma-phap-thieu-nu-ts-2">
                                                                        Chương 08: Thảo luận về Ma pháp thiếu nữ TS - 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c290953-chuong-09-thu-thach-cua-nguoi-lon">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 09: Thử thách của người lớn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291264-chuong-10-phuong-an-cua-nguoi-lon">
                                                                        Chương 10: Phương án của người lớn
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291534-chuong-11-truong-hop-cua-kazamidori-koromo-streamer-noi-tieng-he-xac-xuoc">
                                                                        Chương 11: Trường hợp của Kazamidori Koromo — Ma pháp thiếu nữ nổi tiếng &quot;hệ&quot; xấc xược
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291541-chuong-12-chu-nghia-co-hoi-tai-xuat">
                                                                        Chương 12: ‘Chủ nghĩa cơ hội’, tái xuất!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291548-chuong-13-uoc-nguyen-cua-mot-thieu-nu">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 13: Ước nguyện của một thiếu nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291561-chuong-14-va-thieu-nu-ay-cat-canh">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 14: Và thiếu nữ ấy cất cánh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291566-chuong-15-thao-luan-ve-ma-phap-thieu-nu-ts-3">
                                                                        Chương 15: Thảo luận về Ma pháp thiếu nữ TS - 3
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 11: Trường hợp của Kazamidori Koromo — Ma pháp thiếu nữ nổi tiếng &quot;hệ&quot; xấc xược</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291534-chuong-11-truong-hop-cua-kazamidori-koromo-streamer-noi-tieng-he-xac-xuoc#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,991 từ - Cập nhật: 
                        <time class="topic-time timeago" title="17-01-2026 12:04:35" datetime="2026-01-17T12:04:35+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 11: Trường hợp của Kazamidori Koromo — Ma pháp thiếu nữ nổi tiếng &quot;hệ&quot; xấc xược</p>
                    <p id="1">Mẹ của em đã mất khi em còn rất nhỏ. </p><p id="2">Vì thế, em đang sống rất hạnh phúc cùng với bố. </p><p id="3">Ước mơ trong tương lai của em là kiếm thật nhiều tiền để bố được nhàn hạ hơn! </p><p id="4">Lớp 1-1, Kazamidori Koromo!</p><p id="5">~*~</p><p id="6">"...Ưm~~...!"</p><p id="7">Tắt livestream và giải trừ biến thân ma pháp thiếu nữ, tôi đưa hai tay lên cao và vươn vai một cái. </p><p id="8">Kết thúc những bước thường lệ, tôi quay sang hỏi Anton, linh vật đồng hành, một câu hỏi cũng "thường lệ" không kém.</p><p id="9">"──Phù. ...Thế nào Anton? Mọi người có vẻ hài lòng chứ?" </p><p id="10">"Tất nhiên rồi! Thính giả vẫn tận hưởng như mọi khi buu! Hôm nay Flovert cũng rất 'chuyên nghiệp' buu!"</p><p id="11">"Cảm ơn nhé," tôi khẽ mỉm cười với người cộng sự có cái thói quen đệm từ kỳ quặc đã ngấm vào máu này.</p><p id="12">Ban đầu cậu ấy nói năng bình thường thôi, nhưng vì lời đề nghị... hay đúng hơn là lời cầu xin của tôi rằng "như thế có lẽ sẽ hợp với hình tượng livestream của em hơn", mà ngay cả lúc không live cậu ấy cũng giữ luôn cách nói đó.</p><p id="13">Có lẽ đây chính là thứ gọi là ‘tính nhất quán’ mà tôi từng đọc trong sách.</p><p id="14">Dù sao thì, sự kết hợp giữa một tôi xấc xược và một linh vật giống chú lợn có lẽ là một bộ ‘thuộc tính’ rất dễ hiểu đối với thính giả... có vẻ là vậy.</p><p id="15">"...Livestream đi dạo trên không... nhắc mới nhớ, dạo này mình không làm vậy nhỉ. ...Mà cũng bởi, mình không còn bay tốt như trước nữa đâu chứ."</p><p id="16">Chợt nhớ lại một bình luận lướt qua lúc nãy khiến tôi suýt nghẹn lời và phải vờ như không thấy, tôi khẽ lẩm bẩm. </p><p id="17">Kể từ khi thức tỉnh năng lực bay với tư cách ma pháp thiếu nữ, tôi từng đi dạo trên nền trời đêm đầy trăng mỗi ngày, nhưng rồi tần suất cứ thế giảm dần.</p><p id="18">Không biết có phải do vấn đề tâm lý hay không, nhưng khi những nỗi lo toan tăng lên, cơ thể tôi cũng trở nên nặng nề, cảm giác bay lượn tự do như trước kia biến mất. </p><p id="19">Một tôi đang diễn vai "nhân vật xấc xược vô địch" không cho phép mình để lộ điểm yếu đó cho thính giả biết.</p><p id="20">"Mà thôi, chuyện đi dạo thì để lúc khác tính, khi nào mọi chuyện ổn định đã. ...Mà nhắc mới nhớ, nhân vật xấc xược à..."</p><p id="21">Càng nghĩ kỹ về chuyện đó. Tôi nhận ra rằng nếu nói với tôi của thời chưa làm ma pháp thiếu nữ rằng tôi có thể đi xa đến nhường này khi đóng vai một nhân vật có tính cách như vậy thì có khuya tôi mới tin cho nổi.</p><p id="22">~*~</p><p id="23">Vốn dĩ tôi đã rất thích manga và anime, và cũng đã nhiều lần ước mình có thể trở thành một nhân vật chính ngầu lòi như thế. </p><p id="24">Thế nhưng, khi lần đầu được công nhận là có tố chất ma pháp thiếu nữ, tôi đã không thể... vui vẻ thức tỉnh ngay lập tức được.</p><p id="25"><em>Liệu có ổn không? Mình có làm được không? Chẳng phải việc này dành cho những người cá tính và tỏa sáng hơn sao?</em></p><p id="26">Những suy nghĩ hiện lên trong đầu đứa trẻ ‘tôi’ lúc đó toàn là những thứ thực tế đến mức quên hết cả ước mơ của mình.</p><p id="27">Là một đứa trẻ bình thường, thỉnh thoảng có được khen là "có vẻ già dặn hơn tuổi" như tôi, thì làm sao có thể nổi tiếng rồi đi chiến đấu được chứ, không thể nào.</p><p id="28">Thế nhưng.</p><p id="29">Tôi có nghe nói rằng những gia đình có trẻ em hoạt động như ma pháp thiếu nữ sẽ nhận được rất nhiều tiền trợ cấp từ nơi làm việc của họ.</p><p id="30">Trong lòng tôi luôn ấp ủ ý muốn được giúp đỡ bố, người đang nỗ lực hết mình một mình gánh vác kinh tế gia đình.</p><p id="31"><em>Rất muốn làm, nhưng phải làm sao đây... </em>Giữa lúc đang ôm nỗi trăn trở đó. Ngồi một mình đọc sách trong lớp, tôi vô tình nghe thấy cuộc trò chuyện này.</p><p id="32">"Này Yuuka, nghe tớ nói này! Hôm qua tớ vào phòng anh trai đọc truyện tranh, tự nhiên thấy cái gì mà 'Mesugaki' lạ lắm, cậu biết không?" </p><p id="33">"Mesu...? Gaki là chỉ trẻ con hả? Tớ không biết, cái đó là gì thế Aya-chan?" </p><p id="34">"Đại loại là... người ta gọi những đứa con gái nhỏ như bọn mình là Mesugaki ấy, rồi họ thấy vui khi bị những đứa đó mắng mỏ! Những người bằng tuổi bố bọn mình cơ đấy!" </p><p id="35">"Hể... k-kinh quá vậy......"</p><p id="36">(...Mesu, gaki...)</p><p id="37">Tôi không thấy kinh tởm như mấy bạn đó, nhưng vào thời điểm ấy tôi cũng chưa hiểu rõ khái niệm về ‘thuộc tính’. Chỉ là, cụm từ ‘thấy vui’ cứ lởn vởn trong tai tôi, nên sau khi về nhà tôi đã lên mạng tìm hiểu thử.</p><p id="38">"A, cô bé này... giống y hệt mình. ...Vậy ra, nếu mình nói chuyện kiểu này, mọi người sẽ thấy vui sao...?"</p><p id="39">Thứ tôi thấy lúc đó là một cô bé có mái tóc vàng buộc hai bím giống hệt mình, đang nheo mắt đầy xấc xược để trêu chọc người lớn. </p><p id="40">Có vẻ kiểu tóc này cực kỳ hợp với dạng nhân vật đó. </p><p id="41">Và tôi cũng biết được rằng cái hình tượng "Mesugaki" này đã xác lập được một vị thế nổi tiếng nhất định.</p><p id="42">─Bất chợt, tôi nảy ra suy nghĩ. </p><p id="43">Nếu có một ma pháp thiếu nữ vừa mạnh miệng trêu chọc, vừa thực sự tiêu diệt được Hư Thú... chẳng phải đó sẽ là một sự tồn tại mang cá tính cực mạnh mà tôi vốn không có sao? </p><p id="44">Trên hết, nếu điều đó làm mọi người thấy vui... thì tôi sẽ nhận được ma lực, mọi người thì được giải trí, còn bố thì sẽ được nhàn hạ... chẳng phải đó là một kết quả tuyệt vời nhất sao?</p><p id="45">...Tôi nuốt nước bọt cái ực.</p><p id="46">"...Ừ-Ừm... thì, cứ thử xem sao... dù sao chắc cũng không được đâu, nếu thất bại thì coi như kết thúc ngay lần đầu là xong... hì hì..."</p><p id="47">Cứ như vậy, bị đẩy đi bởi một dòng chảy nhỏ nhoi, Ma pháp thiếu nữ hệ xấc xược, Flovert, đã âm thầm ra đời.</p><p id="48">──Kết quả là, nó đã thành công vang dội.</p><p id="49">Có lẽ vì chưa có ma pháp thiếu nữ nào tương tự, hoặc có lẽ các ma pháp thiếu nữ khác không hề nghĩ đến mấy chuyện như này.</p><p id="50">Tôi, người tiếp tục chiến đấu với một nhân vật đồng bộ nhất quán, đã được rất nhiều người biết đến và trở nên mạnh mẽ nhanh hơn tưởng tượng rất nhiều.</p><p id="51">Điều nằm ngoài dự tính nhất chính là khái niệm về "chất lượng ma lực" của người xem.</p><p id="52">Nghe nói trước đây từng có một cuộc thử nghiệm: điều gì sẽ xảy ra nếu ép buộc người xem phải theo dõi livestream của một ma pháp thiếu nữ có ít lượt xem. </p><p id="53">Dù mục tiêu là để thúc đẩy những bé có ít ma lực lên, giúp các em chiến đấu an toàn hơn, nhưng kết quả không hề suôn sẻ.</p><p id="54">Những người bị ép buộc phải xem một ma pháp thiếu nữ không phải "bias" của họ, thì cảm xúc không hề lay động... nói cách khác, sức mạnh linh hồn hoàn toàn không hoạt động. </p><p id="55">Dù lượt xem hiển thị có vẻ bằng nhau, nhưng tổng lượng ma lực thu được lại thấp đến thảm hại.</p><p id="56">...Tôi nghĩ, chuyện đó là tất nhiên rồi. </p><p id="57">Nếu bạn của tôi trở thành ma pháp thiếu nữ và tôi bật stream để ủng hộ cậu ấy liều mạng chiến đấu, nhưng lại bị chuyển sang một người hoàn toàn xa lạ.</p><p id="58">Thì dù người đó có nỗ lực đến đâu, tôi cũng chẳng thể có đủ tự tin để ủng hộ họ với cùng một tâm thế được.</p><p id="59">Và ngược lại, điều này cũng có nghĩa là. </p><p id="60">Dù lượng người xem không quá nhiều, nhưng nếu buổi livestream có thể để tác động mạnh đến cảm xúc của mọi người, bạn có thể trở nên mạnh mẽ hơn cả những con số hiển thị.</p><p id="61">Dù là thế mạnh có được gần như do tình cờ, nhưng một khi đã nhận thức rõ ràng bằng ngôn từ. </p><p id="62">Từ đó về sau, tôi tiếp tục vừa livestream vừa suy nghĩ làm sao để không khiến nhân vật của mình bị thay đổi quá nhiều.</p><p id="63">"...Đúng như mình nghĩ. Nếu chỉ toàn livestream chiến đấu liên tục, cả lượng đăng ký lẫn ma lực đều sẽ chững lại. Thỉnh thoảng nên bắt lấy những bình luận trong buổi tâm sự, rồi đưa ra những phản ứng 'đúng kiểu' đó thì sẽ tốt hơn."</p><p id="64">Suy nghĩ.</p><p id="65">"Xem lại bản lưu, mình cảm thấy... mọi người hào hứng hơn khi mình né đòn một cách tài tình hơn là lúc mình liên tục tấn công. Ừm, nó cũng hợp với hình tượng bộ trang phục kỵ sĩ nữa, hãy thử đổi sang cách chiến đấu đó xem sao."</p><p id="66">Suy nghĩ, suy nghĩ và suy nghĩ.</p><p id="67">Bằng việc không ngừng suy nghĩ về ‘Một tôi mà thính giả mong muốn’, tôi đã trở nên mạnh mẽ.</p><p id="68">Kể từ khi học được khái niệm về ‘nhu cầu’, tôi bắt đầu mang trong mình một chút niềm kiêu hãnh khác xưa, cho rằng: trong số các ma pháp thiếu nữ, mình là người suy nghĩ nhiều nhất và nỗ lực nhất.</p><p id="69">Thế rồi, vào một ngày nọ.</p><p id="70">"A... Ừm... Koromo-chan... t-tớ cũng được bảo là có thể trở thành ma pháp thiếu nữ... C-Cậu thấy sao... tớ cũng làm chung với Koromo-chan... đại loại thế... a ha ha... chắc là không được đâu nhỉ...?"</p><p id="71">Kirishima Luna, một cô bạn rụt rè cùng lớp, ngập ngừng bắt chuyện với tôi.</p><p id="72">...Ở trường, tôi cũng đã bắt đầu giữ hình tượng là một đứa trẻ xấc xược và mạnh mẽ. </p><p id="73">Thực lòng tôi muốn ở trường mình được sống tự nhiên, không mệt mỏi hơn, nhưng tôi không thể tin rằng những bạn cùng lứa sẽ không tiết lộ bí mật nếu thấy được dáng vẻ thực sự của mình.</p><p id="74">Để bắt chuyện được với một tôi ‘khó gần’ như thế, chắc hẳn cậu ấy đã phải cực kỳ dũng cảm. Vừa cảm phục điều đó, tôi vừa suy nghĩ.</p><p id="75">──Nếu một kiểu người như cậu ấy xuất hiện trong livestream của mình... ví dụ như ở vị trí đệ tử hay em gái ma pháp thiếu nữ. </p><p id="76">Có lẽ sẽ càng phù hợp với nhu cầu của người xem hơn, và ngăn chặn được việc nội dung livestream bị đi vào lối mòn. </p><p id="77">Về phần cậu ấy, thay vì bắt đầu từ con số không khi ra mắt, cậu ấy sẽ được người xem của mình biết đến và có được những trải nghiệm tốt... Ừm, lần này cũng sẽ là một kết quả tuyệt vời nhất.</p><p id="78">"Hể? Không phải tốt sao? Tớ còn làm được thì cậu cứ thử làm xem. Nếu cậu thực sự muốn thì tớ sẽ cân nhắc chuyện collab cho?"</p><p id="79">Trước những lời đáp lại của một tôi đã tính toán xong xuôi trong đầu chỉ trong nháy mắt, khuôn mặt cậu ấy bừng sáng lên. </p><p id="80">Cái vẫy tay nhẹ trước nụ cười hồn nhiên đó như muốn nói ‘cứ cố gắng lên nhé’, tôi thầm hài lòng và gật đầu.</p><p id="81">...Thế rồi, vào đêm hôm đó, bất chợt... tôi nhận ra.</p><p id="82">"Ơ... kìa... mình… về chuyện của cậu ấy... của Luna-san... mình chưa hề lo lắng cho cậu ấy lấy một lần sao...?"</p><p id="83">Tất cả những gì tôi nghĩ lúc đó chỉ là việc cậu ấy hữu dụng thế nào cho buổi livestream của mình, và liệu cậu ấy có nhận được lợi ích gì không.</p><p id="84">Và vấn đề cốt lõi nhất... một cô bạn nhìn qua đã thấy là một người nhút nhát và không có tố chất chiến đấu như cậu ấy, liệu có thể làm ma pháp thiếu nữ không.</p><p id="85">Những chuyện như vậy, tôi chưa hề nghĩ tới.</p><p id="86">Thế này thì chẳng giống nhân vật chính trong manga mà tôi hằng ngưỡng mộ chút nào. </p><p id="87">Hơn thế nữa, chẳng phải tôi đang giống như một ‘người lớn xấu xa và gian xảo’, kẻ lợi dụng người khác để rồi bị nhân vật chính đánh bại sao?</p><p id="88">Hỏng rồi, phải làm sao đây, phải dừng lại và nói chuyện với cậu ấy ngay, nhưng tôi vừa định với lấy chiếc điện thoại thì tiếng chuông bỗng vang lên.</p><p id="89">Đón chờ tôi ở đầu dây bên kia chính là tin báo cáo đầy hạnh phúc từ tận đáy lòng của Kirishima Luna... hay 'Ma pháp thiếu nữ Luna Silva'. </p><p id="90">Cậu ấy bảo rằng nhờ lời khuyên buổi trưa mà ngay trong ngày hôm nay, cậu ấy đã nhanh chóng biến thân và hoàn thành xong buổi livestream đầu tiên.</p><p id="91">"Koromo-chan... không, Flovert-chan, nhờ cậu mà tớ đã có thêm dũng khí đấy! Lần tới chúng mình nhất định phải collab nhé, nhé!"</p><p id="92">-------</p><p id="93">(Luna Silva-san... với một người đang vui vẻ đến thế, mình không thể bảo cậu ấy bỏ cuộc được... nhưng cậu ấy vẫn còn thiếu thực lực, mình phải hỗ trợ mới được)</p><p id="94">Suy nghĩ.</p><p id="95">(Thay vì luôn chiến đấu cùng lúc, hãy để cậu ấy livestream vào lúc stream của mình sắp kết thúc, rồi dùng tính năng Raid để chuyển người xem qua...)</p><p id="96">Suy nghĩ.</p><p id="97">(Lượng người xem của mình cũng đang hơi chững lại... có lẽ là vì sự chú ý đang đổ dồn vào ma pháp thiếu nữ tân binh vừa xuất hiện... phải nghĩ ra sự kiện gì đó thôi...)</p><p id="98">Không ngừng suy nghĩ.</p><p id="99">"──Hả...?"</p><p id="100">Ngày hôm đó, tôi nhận được tin báo rằng Luna Silva đã thất bại trước Hư Thú.</p><p id="101">"A... Koromo-chan, cảm ơn cậu đã cất công đến thăm nhé. Như cậu thấy đấy, tớ hoàn toàn ổn mà."</p><p id="102">Đón tiếp tôi, người đang lao đến thăm với tâm trí trống rỗng, vẫn là sự niềm nở như mọi khi của cậu ấy, thậm chí còn có vẻ rạng rỡ hơn cả lần đầu chúng tôi trò chuyện. </p><p id="103">Đúng như lời cậu ấy nói, trên người không hề thấy vết thương nào, trông có vẻ vẫn rất khỏe mạnh và không có vấn đề gì, thế nhưng.</p><p id="104">“Ừm, thì... tớ nghe nói cậu đã thua Hư Thú──" </p><p id="105">"──... A, ừm... tớ cũng không biết rõ lắm... xin lỗi cậu nhé."</p><p id="106">Những chủ đề liên quan đến ma pháp thiếu nữ vốn là thứ mà cậu ấy từng hào hứng kể nhất. </p><p id="107">Theo lời Anton, cậu ấy có vẻ đã trúng một 'đòn tấn công hệ can thiệp tinh thần', nên hễ cứ chạm đến chủ đề này là cậu ấy đột ngột trở nên thẫn thờ.</p><p id="108">(...Là lỗi tại mình)</p><p id="109">Điểm đáng ghét của triệu chứng này là hiện tại nó không gây ảnh hưởng đến cuộc sống hằng ngày. </p><p id="110">Vì nó chỉ dừng lại ở việc khiến năng lực ma pháp thiếu nữ trở nên bất ổn, nên dù muốn tìm kiếm sự giúp đỡ thì mức độ ưu tiên xử lý vẫn thấp hơn so với những con Hư Thú nguy hiểm khác.</p><p id="111">Nghe nói loại Hư Thú này nếu bị tiêu diệt thì khả năng cao nạn nhân sẽ trở lại bình thường. </p><p id="112">Tuy nhiên, buổi livestream trận chiến mà cậu ấy thua đã kết thúc giữa chừng, bản lưu cũng đã bị chính tay cậu ấy xóa sạch, nên không thể đưa ra một biện pháp đối phó cụ thể nào. </p><p id="113">Tôi vốn là người luôn chiến đấu thận trọng, vậy mà giờ đây chỉ thấy lòng bồn chồn muốn đi tiêu diệt nó thật nhanh vì Luna Silva.</p><p id="114">(...Đau đầu quá)</p><p id="115">"...Flovert."</p><p id="116">Linh vật Anton cất giọng lo lắng khi thấy tôi ôm đầu bên bàn học. Tôi cảm thấy sợ hãi trước cảm giác mình đang dần không còn là chính mình nữa, và cũng lờ mờ nhận ra rằng những gì mình đang gánh vác đã bắt đầu vượt quá khả năng chịu đựng.</p><p id="117">Nhưng, dù thế tôi cũng không thể bàn bạc với ai được. </p><p id="118">Bố tôi là một người bình thường, và ngay từ đầu tôi đã bắt bố hứa thật chắc chắn rằng dù có chuyện gì cũng tuyệt đối không được xem livestream của mình. </p><p id="119">Ban đầu là vì xấu hổ, không muốn bị bố thấy cảnh mình đang diễn vai Mesugaki, nhưng giờ đây nỗi sợ làm bố lo lắng đang chiếm phần lớn hơn theo nhiều nghĩa.</p><p id="120">Các ma pháp thiếu nữ khác là đối thủ cạnh tranh thính giả. </p><p id="121">Luna Silva là người tôi phải hỗ trợ. </p><p id="122">Còn với đám bạn ở trường vốn ‘mồm năm miệng mười’, tôi tuyệt đối không thể để lộ sự yếu đuối.</p><p id="123">Vì vậy, tôi nghĩ rằng mình chỉ còn cách tiếp tục nỗ lực thế này mà thôi.</p><p id="124">『──Rất vui được làm quen. Tôi là một ma pháp thiếu nữ vừa mới ra mắt, tên là Shirahael.』</p><p id="125">Một "người lớn" có sự thấu hiểu về ma pháp thiếu nữ, có thể cùng chiến đấu, và có lẽ còn có thể giữ kín bí mật... </p><p id="126">Giữa lúc đó, tôi biết đến sự tồn tại quá đỗi thuận tiện với tôi mà đáng lẽ không thể tồn tại. </p><p id="127">Một ma pháp thiếu nữ cũng có tóc vàng và bay lượn trên trời giống như tôi.</p><p id="128">Đang há hốc mồm theo dõi buổi livestream của người đó, tôi nhận được một tin nhắn trực tiếp.</p><p id="129">Người gửi là văn phòng của Ma pháp thiếu nữ Shirahael.</p><p id="130">Nội dung là... một lời đề nghị collab.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291264-chuong-10-phuong-an-cua-nguoi-lon" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291541-chuong-12-chu-nghia-co-hoi-tai-xuat" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3167223"
    class="ln-comment-item mt-3 clear"
    data-comment="3167223" 
    data-parent="3167223" 
    data-type="chapter" 
    data-typeid="291534">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u206472-08da9d6f-09f5-4a3b-abcf-a8e86b027afd.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/206472">Schweinorg</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24599-lam-ma-phap-thieu-nu-la-nghia-vu-cua-nguoi-lon/c291534-chuong-11-truong-hop-cua-kazamidori-koromo-streamer-noi-tieng-he-xac-xuoc?comment_id=3167223#ln-comment-3167223"
                            class="text-slate-500">
                            <time class="timeago" title="17-01-2026 12:22:03"
                                datetime="2026-01-17T12:22:03+07:00">
                                17-01-2026 12:22:03
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '7bMPakQEV3myRCQ6rqhS77NFvf6QRt4i86Z2kHR5';
        var comment_type = 'chapter';
        var comment_typeid = '291534';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '7bMPakQEV3myRCQ6rqhS77NFvf6QRt4i86Z2kHR5';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24599');
    chapter_id = parseInt('291534');

    readingObject = {
        series_id: series_id,
        series_title: 'Làm ma pháp thiếu nữ là nghĩa vụ của người lớn',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="7bMPakQEV3myRCQ6rqhS77NFvf6QRt4i86Z2kHR5" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

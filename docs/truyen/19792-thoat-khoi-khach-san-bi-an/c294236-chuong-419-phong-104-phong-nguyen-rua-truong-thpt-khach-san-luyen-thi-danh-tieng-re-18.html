<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Thoát Khỏi Khách Sạn Bí Ẩn - Chương 419: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (18) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Khi Han Kain tỉnh lại, cậu và vài người khác đang ở một khách sạn bí ẩn với những luật lệ và mục tiêu khác nhau. Tiến vào từng căn phòng của khách sạn, họ sẽ lạc vào những thế giới và bối cảnh khác, nơi mà đôi khi họ...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="4qXSocGtUIo6rOOLQqxkUqxt138ouokfT5QOyTfK">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/19792-thoat-khoi-khach-san-bi-an/c294236-chuong-419-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-18">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s19792-f42d9dda-5755-4186-b614-3ff37c00a052.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294235-chuong-418-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-17"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/19792-thoat-khoi-khach-san-bi-an"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294237-chuong-420-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-19-fin"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294236-chuong-419-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-18" style="background: url('https://i.hako.vn/ln/series/covers/s19792-f42d9dda-5755-4186-b614-3ff37c00a052.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/19792-thoat-khoi-khach-san-bi-an">Thoát Khỏi Khách Sạn Bí Ẩ...</a></h5>
                    <small><i class="fas fa-pen"></i>쿠크루</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c154525-minh-hoa-mot-vai-nhan-vat">Web Novel (Chương 1-100)</a></li>
                                        
                                                            <li class=""><a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c182847-chuong-101-thoi-gian-tiec-tung-3-quai-dan-thao-luan">Chương 101-200</a></li>
                                        
                                                            <li class=""><a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c225862-chuong-200-thoi-gian-tiec-tung-dong-doi-thu-9-2">Chương 201-300</a></li>
                                        
                                                            <li class=""><a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c266184-chuong-301-phong-204-phong-nhiem-vu-hotel-cinema-23">Chương 301-400</a></li>
                                        
                                                            <li class="current"><a href="/truyen/19792-thoat-khoi-khach-san-bi-an/t35829-chuong-401-500">Chương 401-500</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c292756-chuong-401-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-3">
                                                                        Chương 401: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c292757-chuong-402-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-4">
                                                                        Chương 402: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c292766-chuong-403-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-5">
                                                                        Chương 403: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293485-chuong-404-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-6">
                                                                        Chương 404: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293509-chuong-05">
                                                                        Chương 405: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (7)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293510-chuong-406-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-8">
                                                                        Chương 406: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (8)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293514-chuong-407-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-9">
                                                                        Chương 407: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (9)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293556-chuong-408-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-10">
                                                                        Chương 408: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (10)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293557-chuong-409-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-11">
                                                                        Chương 409: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (11)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293558-chuong-410-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-12">
                                                                        Chương 410: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (12)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293559-chuong-411-phong-206-phong-nguyen-rua-ma-vuong-hoi-sinh-sau-100-ngay-13">
                                                                        Chương 411: Phòng 206, Phòng Nguyền Rủa – ‘Ma Vương Hồi Sinh Sau 100 Ngày’ (13)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293560-chuong-412-vinh-quang-va-sieu-viet-1">
                                                                        Chương 412: Vinh Quang Và Siêu Việt (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293561-chuong-413-vinh-quang-va-sieu-viet-2-fin">
                                                                        Chương 413: Vinh Quang Và Siêu Việt (2) Fin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293589-chuong-414-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-13">
                                                                        Chương 414: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (13)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c293590-chuong-415-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-14">
                                                                        Chương 415: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (14)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294233-chuong-416-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-15">
                                                                        Chương 416: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (15)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294234-chuong-417-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-16">
                                                                        Chương 417: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (16)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294235-chuong-418-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-17">
                                                                        Chương 418: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (17)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294236-chuong-419-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-18">
                                                                        Chương 419: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (18)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294237-chuong-420-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-19-fin">
                                                                        Chương 420: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (19) Fin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294238-chuong-421-thoi-gian-tiec-tung-1-thai-duong-than-thanh">
                                                                        Chương 421: Thời Gian Tiệc Tùng (1) - Thái Dương Thần Thánh
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 401-500</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 419: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (18)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/19792-thoat-khoi-khach-san-bi-an/c294236-chuong-419-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-18#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,643 từ - Cập nhật: 
                        <time class="topic-time timeago" title="21-01-2026 05:03:17" datetime="2026-01-21T05:03:17+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 419: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (18)</p>
                    <p id="1"><strong>Chương 419: Phòng 104, Phòng Nguyền Rủa – ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’ Re (18)</strong></p><p id="2"><strong>User: Han Kain (Trí Tuệ)</strong></p><p id="3"><strong>Date: Ngày 282</strong></p><p id="4"><strong>Địa Điểm Hiện Tại: Tầng 1, Phòng 104 – Phòng Nguyền Rủa: ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’</strong></p><p id="5"><strong>Lời Khuyên Hiền Triết: X </strong></p><p id="6">-         <strong>Han Kain</strong></p><p id="7">…</p><p id="8">Tôi tỉnh lại trên cầu thang tối om.</p><p id="9">Dòng ngày tháng trên Cửa Sổ Trạng Thái lướt qua, trước mắt là Miro đang nhìn tôi với vẻ sợ hãi.</p><p id="10">Có vẻ là Thời Gian Vay Mượn.</p><p id="11">“Có vẻ hiện tại chưa phải tình huống chiến đấu?”</p><p id="12">“Ừ! Không phải đâu.”</p><p id="13">“Nói cho tớ tình hình đi.”</p><p id="14">Miro vội vàng giải thích.</p><p id="15">Chúng tôi đã vào Phòng 104 được một thời gian, Ahri và Miro cùng nhau xâm nhập vào thánh địa.</p><p id="16">Vấn đề nằm ở chỗ Aurelia, có vẻ là đã hấp thụ Arima, lại yêu cầu chỉ một mình Miro được đi xuống.</p><p id="17">Đánh nhau với Thánh Nữ dưới lòng đất thì rủi ro quá lớn.</p><p id="18">Vì vậy, Miro đã giả vờ nghe theo lời Thánh Nữ, đi xuống một mình, rồi gọi tôi ra.</p><p id="19">“Rốt cuộc là sao? Tại sao Ahri không được mà chỉ có mình tớ—”</p><p id="20">“Im lặng chút đi. Để tớ nghĩ đã.”</p><p id="21">“Ừ.”</p><p id="22"><em>Thứ nằm dưới lòng đất rất có thể là Thái Dương Thần Thánh, hóa thân của Đấng.</em></p><p id="23">“Lý do cậu được phép đi xuống mà không phải Ahri chắc là do Phước Lành của cậu, Bất Biến. Có vẻ nó mang lại sức kháng cự rất mạnh trước các thế lực siêu nhiên.”</p><p id="24">“V, vậy là tớ phải đi tiếp một mình sao?”</p><p id="25">“Khoan đã.”</p><p id="26">Mọi vấn đề của Phòng 104 đều quy về một câu hỏi: rốt cuộc Thái Dương Thần Thánh là cái thứ quái quỷ gì.</p><p id="27">Vì thế, dù phải chấp nhận rủi ro, cũng cần có người phải trực tiếp đối mặt với nó.</p><p id="28">Nhưng liệu có nên là ‘Miro’ không?</p><p id="29">“… Đừng nói là—”</p><p id="30">“Kain! Cậu nghĩ ra gì rồi à? Gì thế—”</p><p id="31">“Ban đầu tớ cũng từng nghĩ vậy. ‘Rằng có lẽ nào Đấng đã chọn cậu thay vì tớ không?’.”</p><p id="32">“Chọn tớ… thay cho Kain?”</p><p id="33">Nghĩ lại xem.</p><p id="34">Lý do ban đầu khiến Đấng chọn tôi là gì?</p><p id="35">Câu hỏi này, thực ra ngay từ đầu, đã là sai.</p><p id="36">Bởi trong lần thử đầu tiên của Phòng 104, Đấng không hề chọn ‘Han Kain’.</p><p id="37">Tôi giết Aurelia dưới lòng đất, thỏa mãn điều kiện để Thái Dương Thần Thánh xuất hiện, và Đấng ban cho tôi Giáng Lâm.</p><p id="38"><em>Ngay từ thời điểm tổ đội Khách Sạn tiến vào phòng 104, Đấng đã dự đoán được rằng ‘Han Kain’ sẽ giết Aurelia?</em></p><p id="39">Cách giải thích này quá mang tính định mệnh luận.</p><p id="40">Khách Sạn, nơi giam giữ Tù Nhân, còn không thể dự đoán chính xác được cách chúng tôi sẽ phá giải Phòng Nguyền Rủa, thì bản thân Tù Nhân lại càng không thể.</p><p id="41">Đấng không chọn ‘Han Kain’, mà là chọn bất kỳ ai, miễn là kẻ đầu tiên triệu hồi được Thái Dương Thần Thánh dưới lòng đất, rồi ban cho kẻ đó Giáng Lâm.</p><p id="42">Việc Đấng hướng đến chiến thắng của Han Kain chỉ bắt đầu từ lần thử thứ hai.</p><p id="43">“Càng nghĩ tớ càng thấy không phải vậy. Sự lựa chọn của hắn đã kết thúc ngay khoảnh khắc ban cho Giáng Lâm. Có lẽ chỉ mình tớ, người từng sử dụng Giáng Lâm, mới có thể sử dụng Thái Dương Thần Thánh một cách trọn vẹn.”</p><p id="44">“V, vậy tại sao hắn lại bảo tớ đi xuống?”</p><p id="45">“Hắn không bảo cậu xuống. Aurelia đã lấy thông tin của chúng ta từ Arima đúng không? Vậy thì chắc chắn cô ta cũng đã chuyển thông tin đó cho Đấng.”</p><p id="46">Mắt Miro mở to.</p><p id="47">“À! Vì hắn giờ đã biết tới sự tồn tại của Thời Gian Vay Mượn!”</p><p id="48">“Cho nên từ giờ, tớ sẽ xuống.”</p><p id="49">Ánh mắt hoang mang, rối loạn của Miro bỗng trở nên trong trẻo, rồi nở nụ cười vui vẻ.</p><p id="50">“Đi mạnh giỏi nhé! Tớ sẽ đợi ở đây!”</p><p id="51">“Ừ.”</p><p id="52">Tôi không nói ra, nhưng thực ra đã từng nghĩ đến khả năng này.</p><p id="53"><em>Liệu có khả năng Đấng thật sự chọn Miro làm chủ nhân mới của Thái Dương Thần Thánh không?</em></p><p id="54">Nhiều giả thuyết lướt qua trong đầu…</p><p id="55">Rồi tôi dừng lại.</p><p id="56"><strong>Tôi phải là người lấy được Di Sản của Phòng 104.</strong></p><p id="57">-         <em>Cạch!</em></p><p id="58">Cánh cửa dẫn tới thánh địa mở ra.</p><p id="59">Tôi đặt chân vào Thiên Đường.</p><p id="60">…</p><p id="61">…</p><p id="62">…</p><p id="63">-          <em>Cạch!</em></p><p id="64">“Kain! Thế nào rồi—”</p><p id="65">“Hự!”</p><p id="66">Đầu tôi đau như muốn nổ tung.</p><p id="67">Một thế giới tràn ngập ánh sáng, vùng đất mà sinh vật sống không thể đặt chân tới!</p><p id="68">Sự ghê tởm do Thiên Đường tạo ra như đang nghiền nát não bộ tôi.</p><p id="69">“Kain?”</p><p id="70">“Chuyện Đ, Đấng là một tên quái dị thì tớ đã biết lâu rồi nhưng—”</p><p id="71">“B, bình tĩnh lại! K, không còn nhiều thời gian đâu!”</p><p id="72"><em>Thời gian… đúng rồi, thời gian!</em></p><p id="73">Tôi chỉ là thực thể được Miro triệu hồi bằng Di Sản, không thể tồn tại quá một giờ.</p><p id="74">“Đã bao lâu rồi?”</p><p id="75">“54 phút!”</p><p id="76">Còn chưa đầy 5 phút, không thể do dự.</p><p id="77">“Nghe tớ—”</p><p id="78">“Xin lỗi, Miro. Chuyện này rất khó giải thích.”</p><p id="79">Tôi đã thấy, đã cảm nhận, đã hiểu.</p><p id="80">Lý do Thái Dương Thần Thánh tồn tại, mục đích thật sự của Đấng!</p><p id="81">Tôi đã hiểu ra toàn bộ Phòng 104.</p><p id="82">Cũng hiểu ra “Giao kèo ai cũng có lợi” mà Đấng vẫn luôn nhấn mạnh rốt cuộc có ý nghĩa gì.</p><p id="83">Thực thể không biết là tà thần, hay quang minh thần đó, đã đưa ra cho tôi một đề nghị không thể từ chối.</p><p id="84"><strong>Giao kèo đã được hoàn tất.</strong></p><p id="85">“Kain…?”</p><p id="86">Tôi cuối cùng cũng hiểu vì sao Cục Quản Trị luôn giữ bí mật.</p><p id="87">Không phải ai cũng cần biết những gì tôi đã biết.</p><p id="88">Có những tri thức kinh hoàng chỉ cần một số người biết là đủ.</p><p id="89">“Đ, đó là… bút à?”</p><p id="90">Tôi viết, rồi viết nữa, về mọi thứ liên quan đến Phòng 104.</p><p id="91">“Rốt cuộc cậu đã thấy cái gì mà thành ra thế này?”</p><p id="92">Bất chợt, một suy nghĩ lóe lên.</p><p id="93">Tôi quay lại phòng này để giành lấy Thái Dương Thần Thánh.</p><p id="94">Nhưng… khi đã biết sự thật kinh tởm ấy, tôi còn có thể sử dụng nó không?</p><p id="95">“Ơ? Xóa đi à? Cậu đã viết sai chỗ nào sao?”</p><p id="96">Những sự thật kinh hoàng, chỉ người cần biết biết là đủ.</p><p id="97">Và trong số “những người cần biết” đó, không nhất thiết phải có “Han Kain”.</p><p id="98">“Miro. Đưa mảnh giấy này cho Aurelia.”</p><p id="99">“Trên đó viết gì vậy?”</p><p id="100">“Cứ đưa nguyên văn vậy. Đừng đọc nó.”</p><p id="101">“… Được rồi.”</p><p id="102">Ngay khoảnh khắc một giờ kết thúc, ý thức mờ dần, tôi nghĩ:</p><p id="103"><em>Cuối cùng mình cũng được giải thoát khỏi ký ức đau đớn đó rồi.</em></p><p id="104">Han Kain ở khu nhà cũ sẽ vĩnh viễn không biết hôm nay tôi đã nhìn thấy điều gì.</p><p id="105">Tôi quyết định ban cho chính mình Thiên Đường của sự vô tri.</p><p id="106">                                                                        ***</p><p id="107"><strong>User: Han Kain (Trí Tuệ)</strong></p><p id="108"><strong>Date: Ngày 282</strong></p><p id="109"><strong>Địa Điểm Hiện Tại: Tầng 1, Phòng 104 – Phòng Nguyền Rủa: ‘Trường THPT Khách Sạn Luyện Thi Danh Tiếng’</strong></p><p id="110"><strong>Lời Khuyên Hiền Triết: X </strong></p><p id="111">-         <strong>Han Kain</strong></p><p id="112">Khi tôi đang nghỉ trong một phòng học trống ở khu nhà cũ—</p><p id="113">“Ơ? Ơ? Gì vậy?”</p><p id="114">Một lượng lớn chữ bắt đầu hiện lên trên Cửa Sổ Trạng Thái.</p><p id="115">Chỉ có “tôi” được Thời Gian Vay Mượn gọi ra mới có thể làm nên chuyện này.</p><p id="116">…</p><p id="117">“…”</p><p id="118">Bản thân nội dung không đến mức quá sốc.</p><p id="119">Thiên đường bất diệt mà Đấng đã hứa với các tín đồ thực sự tồn tại.</p><p id="120">Những kẻ phụng sự Đấng từ thời xa xưa, sau khi chết sẽ chuyển đến thiên đường bên trong Thái Dương Thần Thánh.</p><p id="121">Những tín đồ tràn đầy đức tin, nói cách khác, là những “điểm”.</p><p id="122">Vô số điểm tụ lại, tạo thành phân thân của Đấng, đó chính là Thái Dương Thần Thánh.</p><p id="123">Ngoài việc đó ra, còn rất nhiều thông tin khác.</p><p id="124">“Ha~ đúng là Han Kain! Kain đúng là giỏi thật! Trên đời này làm gì có ai đáng tin hơn tôi chứ?”</p><p id="125">“Giao kèo” cậu ta đã ký kết với Đấng có hơi kỳ quái, nhưng không tệ.</p><p id="126">Ít nhất, không có điều khoản nào gây bất lợi cho tôi.</p><p id="127">Những điều kiện còn lại sẽ tự nhiên được đáp ứng khi tiến hành phòng tiếp theo, Phòng 206.</p><p id="128">Đại khái chúng tôi cũng đã nắm được cách kết thúc phòng 104 rồi, chuẩn bị vào việc thôi.</p><p id="129">-          <em>Tách!</em></p><p id="130">Khi tắt đèn lớp học và chuẩn bị rời đi, một ý nghĩ kỳ lạ thoáng vụt qua.</p><p id="131">“…”</p><p id="132">Chữ viết trong Cửa Sổ Trạng Thái chính là chữ viết của tôi, không phải ai khác.</p><p id="133">Đương nhiên, nếu nhìn cách chọn từ, nét chữ, tôi còn mơ hồ cảm nhận được cảm xúc ẩn trong đó khi viết.</p><p id="134">“… Rốt cuộc là cậu đã sợ cái gì, đến mức như vậy?”</p><p id="135">Không có ai trả lời tôi.</p><p id="136">                                                                        ***</p><p id="137">Sáng sớm hôm sau, các đồng đội tập trung tại khu nhà cũ.</p><p id="138">Sau khi nghe tôi giải thích khá lâu, Ahri gật đầu, tóm tắt lại.</p><p id="139">“Tóm lại, Thái Dương Thần Thánh là một dạng ‘con tàu’ chứa linh hồn của các tín đồ, đúng không?”</p><p id="140">Con tàu. Ví dụ rất chuẩn.</p><p id="141">“Đúng vậy.”</p><p id="142">“Những tín đồ tràn đầy đức tin với Đấng giống như các khối Lego. Vô số khối Lego nhỏ tụ lại, tạo thành Thái Dương Thần Thánh.”</p><p id="143">“Chính xác.”</p><p id="144">“Quá trình Di Sản Thái Dương Thần Thánh rời khỏi Phòng Nguyền Rủa không chỉ là Đấng trốn thoát, mà còn là các tín đồ bị giam trong luyện ngục này được giải thoát.”</p><p id="145">Nghe tới đây, Eunsol khẽ gật đầu, như bị xúc động.</p><p id="146">“Chị suýt khóc luôn rồi.”</p><p id="147">“Hả?”</p><p id="148">“Trước giờ thấy hắn làm loạn suốt, chị cứ tưởng Đấng là tồn tại tà ác cỡ nào… hóa ra không hẳn vậy.”</p><p id="149">“Cũng không phải hắn là tồn tại thiện lương gì cho cam đâu. Hắn đã giết bao nhiêu người rồi?”</p><p id="150">“Nhưng ít nhất… hắn trân trọng tín đồ, đúng không?”</p><p id="151">Theo ghi chép tôi để lại trong Cửa Sổ Trạng Thái, đúng là vậy.</p><p id="152">Lúc này, Songee lên tiếng.</p><p id="153">“Ban đầu thứ chúng ta lo ở phòng này không phải là cách phá giải, mà là phần thưởng quá bất thường, đúng không?”</p><p id="154">“Ừ.”</p><p id="155">“Vậy chuyện đó không sao chứ? Thái Dương Thần Thánh là Di Sản có bản ngã, chúng ta đã từng lo rằng nó sẽ tìm cách tẩy não chủ nhân mà.”</p><p id="156">Tôi khựng lại.</p><p id="157">Phần này đã được thống nhất thông qua “giao kèo” với Đấng, nhưng…</p><p id="158">Tôi không muốn nói rõ giao kèo đó với đồng đội.</p><p id="159"><em>Không phải ai cũng nên biết tất cả những gì tôi biết.</em></p><p id="160"><em>Có những tri thức… chỉ cần người cần biết biết là đủ.</em></p><p id="161">“Phần đó mọi người không cần quá lo đâu. Anh đã xác nhận rồi.”</p><p id="162">Nghe vậy, sắc mặt mọi người sáng hẳn lên.</p><p id="163">Chị Eunsol cười vui vẻ.</p><p id="164">“Vậy thì kết thúc phòng 104 luôn đi!”</p><p id="165">Anh Jinchul bật cười.</p><p id="166">“Noona, chị nói kết thúc ngay lập tức là giết sạch lũ giáo đồ à? Giờ họ cứ gọi Miro là Thánh Nữ suốt đấy.”</p><p id="167">Eunsol hơi bối rối.</p><p id="168">“Em biết là chị không có ý đó mà! Đã có kế hoạch giải quyết Phòng 104 mà không đổ máu, sao lại cứ muốn làm thế.”</p><p id="169">Kế hoạch đó chẳng có gì đặc biệt cả.</p><p id="170">Điều kiện phá giải Phòng 104 là sự sụp đổ của giáo phái.</p><p id="171">Mà sụp đổ đâu nhất thiết phải đánh chết từng người.</p><p id="172">Khiến họ tin vào ‘một tôn giáo khác’, phá hủy đức tin cũ, chẳng phải cũng là một cách sao?</p><p id="173">Thú vị ở chỗ, tôi đã trực tiếp hỏi Đấng về việc này, và hắn nói là có thể.</p><p id="174">Khi mọi kế hoạch hoàn tất, Seungyub giơ tay rụt rè.</p><p id="175">“Hyung, còn Hòm Linh Hồn thì khi nào chúng ta sẽ dùng ạ? Ban đầu em định cùng bác sĩ nhốt Arima trong cơ thể Aurelia mà…”</p><p id="176">Các đồng đội đang suy đoán rằng Arima đã bị Aurelia nuốt mất.</p><p id="177">Vậy có thể nhốt luôn Aurelia vào Hòm Linh Hồn không?</p><p id="178">“Anh nghĩ là nên quan sát thêm vài ngày.”</p><p id="179">Anh Jinchul gật đầu ngay.</p><p id="180">“Anh cũng nghĩ vậy. Hồi Arima chui vào người anh, phải rất lâu cô ta mới thành hình người, trước đó anh chỉ thấy hình bóng mờ thôi.”</p><p id="181">“Vậy ạ?”</p><p id="182">“Nếu coi Arima là virus, thì cần thời gian để quá trình ‘lây nhiễm’ hoàn tất.”</p><p id="183">“Giờ mọi thứ rõ ràng rồi nhỉ? Tiếp tục thôi!”</p><p id="184">                                                                        ***</p><p id="185">Sau đó là chuỗi ngày công việc lặp đi lặp lại, có phần nhàm chán.</p><p id="186">Một số người tiếp tục gieo rắc nỗi sợ ở khu nhà cũ, còn Miro thì ngày càng củng cố vị thế trong giáo đoàn.</p><p id="187">Như chờ sẵn, Ông lợi dụng sức mạnh Tâm Lý Đám Đông để truyền bá giáo lý mới.</p><p id="188">Khoảng ba tháng sau, Aurelia tìm đến tôi.</p><p id="189">“Lâu rồi không gặp.”</p><p id="190">Cô ta trông khá mệt mỏi.</p><p id="191">“Trong giáo đoàn, những người có thể gọi là tín đồ chân chính giờ còn chưa đến mười người.”</p><p id="192">“Căn phòng sắp được phá giải rồi.”</p><p id="193">“Các vị thật sự rất cao tay. Tôi cứ nghĩ những người đã chứng kiến vô số phép màu thì không thể dễ dàng bỏ được đức tin.”</p><p id="194"><em>Không phải tà giáo bình thường, mà là những kẻ đã tận mắt thấy phép màu vô số lần.</em></p><p id="195">Đúng như Aurelia nói, việc này không hề dễ.</p><p id="196">“Bên tôi cũng dùng phép màu không ít.”</p><p id="197">Nhưng khi cả hai bên đều sử dụng thủ đoạn siêu nhiên, kiểu như Tâm Lý Đám Đông, ‘giọng nói’ của Miro, thì chuyện này hoàn toàn khả thi.</p><p id="198">“Ra vậy.”</p><p id="199">Thánh Nữ lộ vẻ trống rỗng.</p><p id="200">Một khoảng im lặng nặng nề bao trùm.</p><p id="201">Tôi quyết định hỏi thẳng.</p><p id="202">“Giờ cô là ai? Arima? Hay Aurelia?”</p><p id="203">Không phải theo kiểu ngây thơ nghĩ rằng cô ta sẽ nói thật.</p><p id="204">Phía sau lưng cô ta, Elena đang kích hoạt ‘Phát Hiện Nói Dối’, quan sát Aurelia.</p><p id="205">“…”</p><p id="206">“Thực ra là ai cũng không quá quan trọng. Quan trọng là cô có hợp tác với chúng tôi hay không.”</p><p id="207">Cô ta đã nhận ra chân tướng của thế giới này.</p><p id="208">Vị thần mà cô ta phụng sự cả đời chỉ là Tù Nhân bị giam trong Khách Sạn.</p><p id="209">Còn bản thân cô ta, cùng các NPC khác, là những tồn tại bị nhốt trong chốn luyện ngục, cũng mang tên Khách Sạn.</p><p id="210">Hòm Linh Hồn chính là lối thoát để kéo cô ta ra khỏi thế giới giả này.</p><p id="211">Aurelia im lặng một lúc rồi mở miệng.</p><p id="212">“Thật ra… tôi từng định tự sát.”</p><p id="213">“…”</p><p id="214">“Vì tôi thấy trống rỗng. Thế giới mờ nhạt, cuộc đời vô nghĩa… tôi chỉ muốn chết, để tới thiên đường.”</p><p id="215">Thiên đường.</p><p id="216">Thái Dương Thần Thánh.</p><p id="217">Thế giới sau cái chết mà Đấng đã chuẩn bị cho các tín đồ.</p><p id="218">“Nhưng rồi, anh lại để lại mảnh giấy này.”</p><p id="219">“Hả?”</p><p id="220"><em>Mình ư? Để lại giấy cho Aurelia?</em></p><p id="221"><em>Chuyện này không được viết trong Cửa Sổ Trạng Thái!</em></p><p id="222">Trong lúc tôi còn bối rối, cô ta đưa mảnh giấy ra.</p><p id="223">Trên đó là dòng chữ, rõ ràng là chữ viết của tôi:</p><p id="224"><strong>“Ta sẽ ban cho ngươi lòng từ bi. Đừng bao giờ tới thiên đường. Hãy vào Hòm Linh Hồn và thoát khỏi căn phòng này. Đây là lương tri cuối cùng, là nhân tính cuối cùng của ta.”</strong></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294235-chuong-418-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-17" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/19792-thoat-khoi-khach-san-bi-an" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/19792-thoat-khoi-khach-san-bi-an/c294237-chuong-420-phong-104-phong-nguyen-rua-truong-thpt-khach-san-luyen-thi-danh-tieng-re-19-fin" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '4qXSocGtUIo6rOOLQqxkUqxt138ouokfT5QOyTfK';
        var comment_type = 'chapter';
        var comment_typeid = '294236';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '4qXSocGtUIo6rOOLQqxkUqxt138ouokfT5QOyTfK';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('19792');
    chapter_id = parseInt('294236');

    readingObject = {
        series_id: series_id,
        series_title: 'Thoát Khỏi Khách Sạn Bí Ẩn',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="4qXSocGtUIo6rOOLQqxkUqxt138ouokfT5QOyTfK" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

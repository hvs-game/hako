<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi bị bạn thuở nhỏ cắm sừng nhưng tôi muốn sống một cách hạnh phúc với dàn hậu cung ở thế giới nơi quan niệm về sự trong trắng bị đảo ngược - Truyện ngắn Halloween: &#039;Cho kẹo hay bị ghẹo&#039; - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tatara Kyousuke, học sinh năm nhất cao trung, đã được Murakami, một người bạn cùng Câu lạc bộ Bơi Lội cho xem một đoạn phim. Đó là đoạn phim làm tình của bạn gái Kyousuke, Himekawa Hina, với một người đàn ông(bạn trai cũ của cô ấy). Kyousuke nghĩ rằng...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="E2wFdxPat9Iamr4YcYzZbqav1GzTuSuZoxhSytfq">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c252952-truyen-ngan-halloween-cho-keo-hay-bi-gheo">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23664-826386c5-1b44-4fa0-a9b5-4dc8f91e88e5.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c300953-chuong-153-chuyen-thi-co-nhieu-that-day-nhung-deu-chi-la-tinh-co-ma-thoi-goc-nhin-cua-hina"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c252952-truyen-ngan-halloween-cho-keo-hay-bi-gheo" style="background: url('https://i.hako.vn/ln/series/covers/s23664-826386c5-1b44-4fa0-a9b5-4dc8f91e88e5.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc">Tôi bị bạn thuở nhỏ cắm s...</a></h5>
                    <small><i class="fas fa-pen"></i>みどりの</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c241892-minh-hoa">Minh Hoạ</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c241869-chuong-1-khong-the-nao-toi-nhin-nham-co-ay-duoc">Phần I Hồi 0: Câu chuyện nói về Himekawa Hina?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c243602-chuong-11-toi-khong-the-de-hina-gap-nguy-hiem-lan-nua">Phần I Hồi 1: Lẽ nào mình đã được hoán đổi tới thế giới mà sự trong trắng bị đảo ngược?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c246016-chuong-24-co-ay-la-mot-nu-sinh-cao-trung-hu-hong-va-dam-dang">Phần I Hồi 2: Hina ở thế giới này là cô gái như thế nào?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c247647-chuong-34-y-cau-la-ten-gorilla-co-bap-do-sao">Phần I Hồi 3: Liệu cuộc sống học đường ở thế giới đảo ngược sự trong trắng có phải là một chuỗi những cuộc gặp gỡ bất tận?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c250975-chuong-48-hina-voi-tu-cach-nhan-chung-duy-nhat">Phần I Hồi 4: Người trưởng thành trong thế giới nơi mà sự trong trắng bị đảo ngược liệu có sự khác biệt?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c254508-chuong-61-hinh-nhu-to-da-lam-phien-luc-hai-cau-dang-ban-roi-nhi">Phần I Hồi 5: Tiến được một bước? Nhưng lại phải lùi tận ba bước?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c261129-chuong-79-khong-hieu-sao-may-co-gai-di-duong-cu-liec-nhin-toi">Phần I Hồi 6: Háo hức vì buổi hẹn hò? Hay lo lắng thót tim vì bị hiểu lầm?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c268009-chuong-104-hiiiiyori-chan-oi-ra-day-choi-voi-to-nao">Phần I Hồi 7: Nữ kiếm sĩ Kogarasu Hiyori chính thức xuất sơn!?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c272352-chuong-115-hinh-nhu-bon-ho-dang-nhin-kogarasu-san-thi-dung-hon">Phần I Hồi 8: Chân tướng đằng sau thân phận thật của cô nàng tiểu thư trong bộ váy trắng là ai?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c276773-chuong-128-kyousuke-lam-cong-su-cua-to-nha">Phần I Hồi 9: Lễ hội Hoa Anh Đào bận rộn không kịp thở!? Phải sống sao với cái lịch trình kín mít từng giờ thế này đây ta?</a></li>
                                        
                                                            <li class=""><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c300953-chuong-153-chuyen-thi-co-nhieu-that-day-nhung-deu-chi-la-tinh-co-ma-thoi-goc-nhin-cua-hina">Phần I Hồi 10: Tổ chức buổi tiệc ngủ đầu tiên? Mọi người cứ thế kéo hết sang nhà tôi để qua đêm!</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/t34263-phan-ngoai-truyen">Phần Ngoại Truyện</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c252952-truyen-ngan-halloween-cho-keo-hay-bi-gheo">
                                                                        Truyện ngắn Halloween: &#039;Cho kẹo hay bị ghẹo&#039;
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Phần Ngoại Truyện</h2>
                    <h4 class="title-item text-base font-bold" align="center">Truyện ngắn Halloween: &#039;Cho kẹo hay bị ghẹo&#039;</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c252952-truyen-ngan-halloween-cho-keo-hay-bi-gheo#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,312 từ - Cập nhật: 
                        <time class="topic-time timeago" title="20-12-2025 03:32:24" datetime="2025-12-20T03:32:24+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Truyện ngắn Halloween: &#039;Cho kẹo hay bị ghẹo&#039;</p>
                    <p id="1">Một năm trước, Tatara Kyousuke đang chờ đợi tiếng gõ cửa trong phòng riêng tại thế giới cũ của mình.</p><p id="2">Căn phòng được trang trí đơn giản bằng đồ chơi bí ngô và hình dán mèo đen, báo hiệu rằng hôm nay là ngày lễ Halloween.</p><p id="3">Trang phục của Kyousuke vẫn là quần jeans và áo sweatshirt như thường lệ. Dù vậy, nhờ việc bơi lội mà cậu ấy trông khá sành điệu trong bộ đồ đó.</p><p id="4">Cốc cốc.</p><p id="5">"V-Vâng..."</p><p id="6">Giọng tôi hơi lạc đi một chút. Do là học sinh cấp 3 nên đương nhiên tôi chưa bao giờ đi tới những chỗ như nhà thổ, nhưng tôi nghĩ tâm trạng chờ đợi thế này cứ như thể đang đợi một cô 'gái ngành' nào đó. Cảm thấy thật xấu hổ nếu giọng mình lạc đến như vậy khi cô ấy đến.</p><p id="7">Tôi muốn nghĩ rằng cả đời này mình sẽ không bao giờ đi đến những chỗ đó...</p><p id="8">Cạch.</p><p id="9">Cánh cửa mở ra, và ở đó có một thiên thần áo trắng. Chính xác thì không phải màu trắng mà là màu hồng... và chiếc váy thì ngắn đến mức chắc chắn sẽ lộ quần lót nếu cô ấy cúi xuống chăm sóc bệnh nhân.</p><p id="10">Người đứng đó chính là bạn gái của Kyousuke, Hina. Himekawa Hina là bạn thuở nhỏ và cũng là bạn gái của Kyousuke, là người đã hẹn hò với cậu ấy kể từ hôm trời mưa ấy và là cô gái quan trọng mà cậu muốn ở bên cạnh mãi mãi.</p><p id="11">Nhân dịp Halloween, Hina đã hóa trang thành y tá để cho Kyousuke chiêm ngưỡng.</p><p id="12">"Thế nào? Trông khá hợp với tớ đúng không?"</p><p id="13">Hina mỉm cười với Kyousuke bằng nụ cười như một tiểu ác ma. Kyousuke thì lại khá ưng nụ cười này.</p><p id="14">"T-Trông cậu hợp lắm. Tớ thấy hồi hộp quá, tim đập nhanh lắm luôn."</p><p id="15">"Cái này là tớ đã kiểm tra mấy quyển sách người lớn của Kyou-chan để tìm hiểu đấy. Bạn thuở nhỏ trong sáng, cô nàng gyaru, và y tá... Cậu đúng là dễ đoán ghê cơ!"</p><p id="16">Hina nói rằng cô ấy đã nghĩ đến việc hóa trang theo phong cách trong sáng, nhưng vì không muốn cảm thấy bị thất bại nên đã chọn trang phục y tá.</p><p id="17">Sự thật là bộ sưu tập sách người lớn được cho là bí mật của Kyousuke(việc một cậu bé 16 tuổi có được chúng bằng cách nào là bí mật) đã bị cô ấy phát hiện khiến Kyousuke mặt thoáng đỏ bừng.</p><p id="18">"Thỉnh thoảng có lẫn mấy cuốn về mấy anh cơ bắp trong bộ sưu tập của cậu, nhưng y tá và bạn thuở nhỏ đúng là sở thích của Kyou rồi. Thôi, dù sao cậu cũng mua cả của gyaru nữa nên tớ tha cho."</p><p id="19">Hina, một cô nàng gyaru da nâu với mái tóc bob ngắn màu nâu cười khúc khích trong khi chọc vào trán Kyousuke. Việc bị trêu khiến Kyousuke đỏ mặt.</p><p id="20">Sở dĩ Kyousuke thích y tá là vì cậu đã từng đến thăm Hina khi cô ấy nhập viện. Và đem lòng ngưỡng mộ những cô y tá thực sự ân cần và chăm sóc Hina một cách đầy chu đáo.</p><p id="21">À không, dù ngưỡng mộ nhưng không có nghĩa là cậu có thể coi họ là đối tượng tình dục... Dù sao thì khi đối diện với người thật, sự tôn trọng thường lấn át ham muốn tình dục, nên cậu nghĩ chắc mình sẽ ổn thôi...</p><p id="22">"Y tá Hina dễ thương và quyến rũ quá nên tớ thấy hồi hộp lắm."</p><p id="23">Điều này là sự thật. Vì thế, sau khi Hina nở một nụ cười thỏa mãn thì...</p><p id="24">"Cho kẹo hay bị ghẹo?"</p><p id="25">Hina thì thầm vào tai Kyousuke.</p><p id="26">Giọng nói quyến rũ đến rợn người đó khiến 'chỗ đó' của Kyousuke bùng nổ. Đành chịu thôi, tuổi dậy thì mà.</p><p id="27">"K-Kẹo."</p><p id="28">Vì không muốn bị coi là một thằng con trai biến thái, cậu ấy đã vô thức chọn 'Kẹo'. Mặc dù thực sự cậu ấy muốn được Hina 'ghẹo' cơ.</p><p id="29">"Kyou biến thái... Vậy thì, y tá đây sẽ chăm sóc và tặng cậu một 'phần thưởng' thật hấp dẫn nhé."</p><p id="30">Nói rồi, sau một nụ hôn, cô ấy dạng chân ra, ngồi xổm xuống như thể cưỡi lên đùi Kyousuke.</p><p id="31">"Hôm nay, cùng nhau đến sáng luôn nhé..."</p><p id="32">Hai người họ đã có một ngày lễ Halloween ngập tràn hạnh phúc.</p><p id="33">---------------------------------------------</p><p id="34">(Góc nhìn của Kyousuke)</p><p id="35">Đây là một buổi tiệc Halloween được tổ chức ở căn hộ của Mio. Và trong khi chờ mọi người thay trang phục thì tôi cũng tranh thủ thay đồ trong phòng tắm luôn. Hiện tại là 8 giờ tối.</p><p id="36">Theo kế hoạch, sau khi tan học, chúng tôi sẽ chuẩn bị rồi thay trang phục và bắt đầu tiệc hóa trang.</p><p id="37">Ở thế giới cũ, hóa trang cho nam không phổ biến lắm, nhưng ở thế giới này việc khoe thân của nam giới lại được ưa chuộng nên hóa trang dường như biến thành thú vui của con trai.</p><p id="38">Tôi vừa thay đồ vừa nghĩ: "Năm ngoái mình đã được Hina hóa trang thành y tá cho xem nhỉ."</p><p id="39">Bộ trang phục ma cà rồng của tôi trông khá mảnh khảnh. Tôi lỡ nhớ lại chuyện hóa trang với Hina nên hơi luống cuống khi mặc quần.</p><p id="40">Giờ chỉ cần ngậm miếng niềng răng có răng nanh vào và khoác áo choàng lên là xong. Tôi soi mình vào chiếc gương lớn để kiểm tra. À mà, ma cà rồng không soi được gương nhỉ? Nhìn vào chiếc gương lớn, tôi nghĩ: "Lúc này chắc bất tiện lắm đây."</p><p id="41">Trong gương phản chiếu tôi, phòng thay đồ phía sau và cánh cửa phòng tắm.</p><p id="42">Nói đi thì cũng phải nói lại, không gian này có mùi thơm thật dễ chịu. Cảm giác như mùi dầu gội vương vấn của Mio còn đọng lại từ nãy đến giờ, khiến cho ngọn giáo của tôi sắp chuyển sang trạng thái sẵn sàng chiến đấu dù tôi chưa hề nhớ đến Hina.</p><p id="43">Ôi trời, chỉ thoáng nghĩ đến thôi mà tôi còn tưởng tượng ra cảnh Mio đang đứng trần như nhộng trước gương sau khi tắm nữa chứ...</p><p id="44">"Kyouchin, cậu có thể ra ngoài rồi đó. Bên này cũng chuẩn bị xong hết rồi." Nodoka gọi tôi.</p><p id="45">Tôi không thể nhìn thấy vì cô ấy ở bên kia cánh cửa… nhưng hôm nay là thứ Ba, nên ngày mai vẫn phải đi học. Năm ngoái là thứ Hai, và tôi đã cực kỳ buồn ngủ khi đến trường vào ngày hôm sau.</p><p id="46">Thôi thì, hôm nay chỉ là tiệc Halloween hóa trang nên chắc không sao đâu.</p><p id="47">Cạch.</p><p id="48">Tôi mở cửa bước vào phòng khách và thấy bốn cô gái đang mặc đồ hóa trang ở đó.</p><p id="49">Người thứ nhất là Shizuku. Cô ấy hóa trang thành phù thủy... nhưng cô phù thủy này có hơi gợi cảm quá không vậy?</p><p id="50">Bộ trang phục này cực kỳ hợp với cô ấy. Shizuku có vẻ ngoài huyền bí và bộ đồ màu tím đen này không hở hang cho lắm nên nó lại càng làm nổi bật vóc dáng của Shizuku, đặc biệt là vùng ngực khiến tôi cảm thấy kích thích kinh khủng.</p><p id="51">"Trông rất hợp với cậu đó Shizuku... Nếu cậu mở tiệm bói toán ở lễ hội trường với bộ này thì chắc chắn khách sẽ kéo đến nườm nượp, nhưng đừng để cậu con trai nào khác thấy nhé, chỉ dành riêng tớ thôi nha." </p><p id="52">"Cảm ơn Kyousuke-san. Tớ sẽ luôn và mãi mãi là cô phù thủy chỉ dành cho Kyousuke-san mà thôi."</p><p id="53">Quá đỗi dễ thương!</p><p id="54">Người thứ hai là Mio. Có lẽ là một cô cảnh sát diện váy ngắn... Mặc dù là cảnh sát nhưng dường như cô lại là người vi phạm đạo đức nghề nghiệp nhất. Đó là bộ đồng phục màu xanh đậm theo phong cách cảnh sát Mỹ, nhưng phần ngực bị khoét sâu, để lộ rõ khe ngực tuyệt đẹp của Mio.</p><p id="55">Trên đó còn dán những ngôi sao nhỏ lấp lánh khiến mắt tôi cứ dán chặt vào ngực cô. Và nếu cứ mãi nhìn vào ngực cô ấy thì tôi có cảm giác như sắp bị còng tay và đưa đi thẩm vấn. Tôi đưa hai tay ra trước và nói:</p><p id="56">"Xin hãy còng tớ lại đi." </p><p id="57">"Ê này Kyoucchi!? Cậu đã là ma cà rồng rồi thì phải đóng vai bạo dâm(S) mà trừng phạt tớ đi chứ."</p><p id="58">Dù không hợp với sở thích của tôi lắm, nhưng cô ấy thật gợi cảm lại cực kỳ dễ thương.</p><p id="59">Người thứ ba là Nodoka.</p><p id="60">Cô ấy trông như một cương thi, nhưng diện tích vải của chiếc sườn xám này thật sự kỳ lạ. Chiếc sườn xám màu xanh dương ngắn đến tận 20cm trên đầu gối, chỉ vừa đủ che đi những phần quan trọng. Chắc chắn là nếu cổ cử động dù chỉ một chút thôi thì đến cả quần lót cũng bị lộ mất.</p><p id="61">Chiếc mũ và lá bùa trên đầu rất dễ thương, nhưng một cô gái nhỏ nhắn như thế mà lại mặc một bộ đồ gợi cảm như vậy thì cảm giác tội lỗi trong tôi trỗi dậy cực kỳ mạnh mẽ. Cho trẻ con mặc đồ này là phạm tội đấy.</p><p id="62">"Maru dễ thương quá. Lát nữa tớ bế cậu lên nhé." </p><p id="63">"Tuyệt vời~ Kyouchin là số một!"</p><p id="64">Tuyệt đối không phải là tôi muốn bế cao lên để nhìn trộm bên trong chiếc sườn xám đâu nhé. Hoàn toàn chỉ là một phần thưởng dành cho Nodoka dễ thương thôi.</p><p id="65">Người thứ tư là Hiyori.</p><p id="66">Vừa nhìn thấy là tôi muốn phụt máu mũi. Tại sao cô nàng này lại quấn băng gạc quanh người như một xác ướp thế?</p><p id="67">Thông thường, kiểu hóa trang này sẽ mặc một bộ đồ phù hợp rồi mới quấn băng gạc bên ngoài, nhưng trường hợp của Hiyori lại chỉ quấn băng gạc trực tiếp lên da mình.</p><p id="68">Cô ấy quấn băng quanh ngực và phần dưới cơ thể... Không, không phải vấn đề là vì ngực cô ấy phẳng mà lại dùng ít băng gạc hơn đâu. Chỉ cần kéo nhẹ một chút là những thứ không nên thấy sẽ bị lộ hết. Ít nhất cũng phải quấn nhiều hơn một tí chứ!</p><p id="69">"Hiyori, cảm ơn cậu vì đã tham gia tiệc hóa trang hôm nay nhé." </p><p id="70">"Vì là Halloween nên tôi đã cố gắng hết sức đó. Hóa trang có hơi ngại một chút nhưng thấy Kyousuke vui là tôi cũng mừng rồi."</p><p id="71">Thật ra thì cũng vui đấy, nhưng cậu lại bị Mio lừa như vụ nút mông hồi cosplay hầu gái rồi. Mặc dù cậu trông dễ thương quá nên tôi không kìm được và muốn ra tay lắm...[note83077] </p><p id="72">Cơ mà Hina đâu rồi nhỉ? Khi tôi đang đảo mắt tìm kiếm thì cánh cửa phòng stream của Mio mở ra và Hina thò mặt ra một cách đầy xấu hổ.</p><p id="73">"Xấu hổ cái gì chứ Hinacchi. Trông cậu hợp lắm, cứ bước ra đi." </p><p id="74">"Không sao đâu, Hinachin."</p><p id="75">Mọi người đều lên tiếng gọi và Hina rụt rè bước ra. Bộ trang phục cô ấy mặc quả nhiên là váy y tá màu hồng. Chiếc váy ngắn với khuôn ngực đầy đặn thì thân người có chút thấp bé của Hina lại khiến cô trông cực kỳ gợi cảm.</p><p id="76">Bộ y tá gợi cảm này trái ngược với hình ảnh trong sáng và mái tóc đen của Hina, tạo nên một sức công phá khủng khiếp.</p><p id="77">"Cái này…!? Thật tuyệt vời!!"</p><p id="78">Tôi phấn khích đến mức vô tình hét lên. May mà phòng của Mio có khả năng cách âm khá tốt.</p><p id="79">"Vì mọi người bảo tớ rằng Kyousuke-kun cứ nhìn chằm chằm vào bộ y tá của Asaka-san lúc nằm viện nên..."</p><p id="80">Không ngờ lại có sự trùng hợp rằng Hina(thế giới cũ) và Hina(thế giới này) đều chọn hóa trang thành y tá… Không, cả hai đều tuyệt vời, nhưng cái này thì… quá tuyệt vời.</p><p id="81">"Cho kẹo hay bị ghẹo!"</p><p id="82">Tôi bối rối đến mức hét lên câu nói mà Hina(thế giới cũ) đã nói với tôi ngày hôm đó. Không, tôi chỉ nghĩ rằng nếu mọi người chọn 'kẹo', tôi sẽ bảo 'kẹo' là dịch vụ người lớn và rồi chúng ta sẽ cùng 'vui vẻ' với nhau.</p><p id="83">Shizuku: "Tớ chọn bị ghẹo nhé, Kyousuke-san." </p><p id="84">Mio: "Tớ cũng chọn ghẹo, một chút trò chơi người lớn là được rồi." </p><p id="85">Nodoka: "Là ghẹo đó nha. Cậu cứ việc ghẹo Maru thỏa thích nha." </p><p id="86">Hiyori: "Tôi chọn ghẹo. À, không phải tôi muốn làm chuyện người lớn đâu nhé, tôi chỉ nghĩ rằng Kyousuke chắc sẽ vất vả nếu chuẩn bị kẹo cho cả 5 người mà thôi..."</p><p id="87">Nguy to rồi, các cô gái có quan niệm về sự trong trắng đảo ngược này thà chọn bị 'ghẹo' còn hơn chọn 'kẹo'.</p><p id="88">Sự chú ý của mọi người đều đổ dồn về phía Hina trong bộ trang phục y tá.</p><p id="89">Hina: "T-Tớ cũng là ghẹo. Xin hãy chăm sóc tớ nhé Kyousuke-kun."</p><p id="90">Hina với gương mặt đỏ bừng cố gắng thốt lên từng chữ. À phải rồi, với cảm giác của Hina điều này giống như đang nài nỉ nên cô ấy cảm thấy hơi xấu hổ.</p><p id="91">Cuối cùng, chúng tôi đã ở lại đến sáng và dành cả đêm để 'ghẹo' và thân mật với nhau.</p><p id="92">Mọi người đã rất vui vẻ khi đổi đồ hóa trang cho nhau, nhưng thật tội nghiệp cho Hiyori vì không ai chịu mặc bộ đồ của cô. Mà nói đúng hơn, đó không phải là trang phục mà chỉ là đống băng gạc thôi mà.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note83077"><a href="#anchor-note83077" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note83077" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Nút mông(butt plug) là một loại đồ chơi tình dục được thiết kế để đưa vào trực tràng để tạo khoái cảm.</span></div><span class="note-content_real long-text">Nút mông(butt plug) là một loại đồ chơi tình dục được thiết kế để đưa vào trực tràng để tạo khoái cảm.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c300953-chuong-153-chuyen-thi-co-nhieu-that-day-nhung-deu-chi-la-tinh-co-ma-thoi-goc-nhin-cua-hina" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3075283"
    class="ln-comment-item mt-3 clear"
    data-comment="3075283" 
    data-parent="3075283" 
    data-type="chapter" 
    data-typeid="252952">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u84444-3911eec4-5dee-4c7a-8666-2e28cf330d25.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/84444">Twintail là chân lý ❤</a>
    </div>
                        <div class="self-center">
                <div
                    class="flex gap-1 rounded-sm shadow-[inset_0px_0px_0px_2px_#E63950] dark:bg-[#E63950]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#E63950] dark:text-[#FDCB02]">
                    <img class="my-auto h-[14px]" src="/img/badge/owner.png" />
                    <div class="leading-4">CHỦ THỚT</div>
                </div>
            </div>
                                    <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Mấy chap SS này dài gấp 3 lần chap bình thường(2k từ mà ngốn tận 3 tiếng...) nên tôi bị trễ 2 tiếng so với Halloween irl 🥀. Mà dịch phần SS này có vẻ có một số tình tiết spoil nhẹ nhưng mà chắc không sao đâu. Cơ mà cái duy nhất tôi thắc mắc là tại sao sách người lớn của Kyousuke lại có mấy cuốn về 'Cơ Bắp'??? Bạn thuở nhỏ hay gyaru thì còn hiểu được...
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23664-toi-bi-ban-thuo-nho-cam-sung-nhung-toi-muon-song-mot-cach-hanh-phuc-voi-dan-hau-cung-o-the-gioi-noi-quan-niem-ve-su-trong-trang-bi-dao-nguoc/c252952-truyen-ngan-halloween-cho-keo-hay-bi-gheo?comment_id=3075283#ln-comment-3075283"
                            class="text-slate-500">
                            <time class="timeago" title="01-11-2025 01:25:35"
                                datetime="2025-11-01T01:25:35+07:00">
                                01-11-2025 01:25:35
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'E2wFdxPat9Iamr4YcYzZbqav1GzTuSuZoxhSytfq';
        var comment_type = 'chapter';
        var comment_typeid = '252952';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'E2wFdxPat9Iamr4YcYzZbqav1GzTuSuZoxhSytfq';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23664');
    chapter_id = parseInt('252952');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi bị bạn thuở nhỏ cắm sừng nhưng tôi muốn sống một cách hạnh phúc với dàn hậu cung ở thế giới nơi quan niệm về sự trong trắng bị đảo ngược',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="E2wFdxPat9Iamr4YcYzZbqav1GzTuSuZoxhSytfq" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c72d1fdf97b6d31',t:'MTc2OTk2MzI4OQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

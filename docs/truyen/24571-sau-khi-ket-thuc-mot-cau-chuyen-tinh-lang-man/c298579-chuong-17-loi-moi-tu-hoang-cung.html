<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Sau Khi Kết Thúc Một Câu Chuyện Tình Lãng Mạn - Chương 17: Lời Mời Từ Hoàng Cung - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Cuộc tấn công bằng tình cảm của công chúa Đế Quốc bị bắt cóc thật áp đảo… Nhưng... rốt cuộc nam chính nguyên tác có nghĩa là gì?">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="QedKeyJ6eGfMqy4bBBDctdwEqOAlOR7PJrhsjM4N">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c298579-chuong-17-loi-moi-tu-hoang-cung">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24571-40405a5b-b7ce-49bc-86cb-c55b1ead14ba.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c297672-chuong-16-huyet-thong-cua-toi-loi-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c298579-chuong-17-loi-moi-tu-hoang-cung" style="background: url('https://i.hako.vn/ln/series/covers/s24571-40405a5b-b7ce-49bc-86cb-c55b1ead14ba.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man">Sau Khi Kết Thúc Một Câu...</a></h5>
                    <small><i class="fas fa-pen"></i>sionain</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/t35590-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c288382-chuong-1-loi-ket">
                                                                        Chương 1: Lời Kết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c288383-chuong-2-vi-khach-dac-biet-1">
                                                                        Chương 2: Vị Khách Đặc Biệt (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c288490-chuong-3-vi-khach-dac-biet-2">
                                                                        Chương 3: Vị Khách Đặc Biệt (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c288692-chuong-4-noi-nao-do-ky-la-va-dang-thuong-1">
                                                                        Chương 4: Nơi Nào Đó Kỳ Lạ Và Đáng Thương (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c289395-chuong-5-noi-nao-do-ky-la-va-dang-thuong-2">
                                                                        Chương 5: Nơi Nào Đó Kỳ Lạ Và Đáng Thương (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c289653-chuong-6-noi-nao-do-ky-la-va-dang-thuong-3">
                                                                        Chương 6: Nơi Nào Đó Kỳ Lạ Và Đáng Thương (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c289710-chuong-7-con-thieu-than-1">
                                                                        Chương 7: Con Thiêu Thân (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c290247-chuong-8-con-thieu-than-2">
                                                                        Chương 8: Con Thiêu Thân (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c290785-chuong-9-con-thieu-than-3">
                                                                        Chương 9: Con Thiêu Thân (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c290935-chuong-10-con-thieu-than-4">
                                                                        Chương 10: Con Thiêu Thân (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c292291-chuong-11-con-thieu-than-5">
                                                                        Chương 11: Con Thiêu Thân (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c293320-chuong-12-hanh-trinh-ket-thuc-1">
                                                                        Chương 12: Hành Trình Kết Thúc (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c295312-chuong-13-hanh-trinh-ket-thuc-2">
                                                                        Chương 13: Hành Trình Kết Thúc (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c296680-chuong-14-hanh-trinh-ket-thuc-3">
                                                                        Chương 14: Hành Trình Kết Thúc (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c297136-chuong-15-huyet-thong-cua-toi-loi-1">
                                                                        Chương 15: Huyết Thống Của Tội Lỗi (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c297672-chuong-16-huyet-thong-cua-toi-loi-2">
                                                                        Chương 16: Huyết Thống Của Tội Lỗi (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c298579-chuong-17-loi-moi-tu-hoang-cung">
                                                                        Chương 17: Lời Mời Từ Hoàng Cung
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 17: Lời Mời Từ Hoàng Cung</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c298579-chuong-17-loi-moi-tu-hoang-cung#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,063 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-01-2026 19:38:26" datetime="2026-01-28T19:38:26+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 17: Lời Mời Từ Hoàng Cung</p>
                    <p id="1">Đã một thời gian dài trôi qua kể từ ngày tôi đưa Eshtiel rời khỏi Vùng Biên Giới.</p><p id="2">Trong suốt bốn năm ấy, chúng tôi đã dần thay đổi, khác xa so với trước kia.</p><p id="3">Eshtiel không còn tự nguyện nhận những công việc lặt vặt để chứng minh giá trị của mình nữa. Thay vào đó, con bé đã phát triển một sự hoạt bát đúng với lứa tuổi và nuôi dưỡng lòng can đảm để bày tỏ mong muốn của mình ngay khi chúng nảy sinh.</p><p id="4">Còn tôi, khi dành thời gian bên cạnh Eshtiel, tôi dần học lại được sự bình thường mà mình đã đánh mất. Dù phải thừa nhận rằng, Rodrick xứng đáng nhận được nhiều lời khen ngợi vì đã điều tiết mối quan hệ giữa chúng tôi một cách hợp lý.</p><p id="5">Sự an ủi từ hơi ấm con người thật mãnh liệt. Theo nghĩa đó, Eshtiel đã trở thành gia đình thứ hai của tôi. Tôi không có em gái, nhưng nếu có, tôi tưởng tượng con bé cũng sẽ giống hệt như Eshtiel vậy.</p><p id="6">Dù bắt đầu bằng một quyết định đầy tính toán, nhưng đến giờ, tôi thấy hài lòng chỉ đơn giản vì có con bé bên cạnh.</p><p id="7">Sau tất cả, Eshtiel là một đứa trẻ ngoan.</p><p id="8">Vì vậy, kể từ khi hành trình ngắn ngủi của chúng tôi kết thúc, tôi luôn giữ Eshtiel ở gần bên.</p><p id="9">Đúng như con bé mong đợi, tôi đích thân dạy con bé nhiều môn học khác nhau, bao gồm cả ngôn ngữ. Trong những lúc này, tôi trở thành một người thầy nghiêm khắc, không cho phép con bé gật gù buồn ngủ. Tôi thậm chí còn cố tình phớt lờ những lời phàn nàn thỉnh thoảng của con bé.</p><p id="10">Những lúc đó, Eshtiel sẽ phồng má và nhìn tôi đầy oán hận.</p><p id="11">“Anh quá nghiêm khắcc.”</p><p id="12">“Không nghiêm khắc không được. Nếu em nói và viết kém, em sẽ không thể vào Học Viện đâu.”</p><p id="13">“Ư ư…”</p><p id="14">“Tất nhiên, nếu em sẵn sàng từ bỏ Học Viện, chúng ta có thể dừng lại.”</p><p id="15">Tôi thản nhiên nói điều này trong khi quan sát phản ứng của con bé. Với tham vọng lớn lao của Eshtiel, hiệu quả thật đáng kinh ngạc.</p><p id="16">“Em... không muốn thế…”</p><p id="17">“Đúng vậy. Nếu muốn hòa nhập tốt ở Học Viện, trước tiên em cần phải nắm vững kiến thức đã.”</p><p id="18">“Học giỏi sẽ giúp em có nhiều bạn chứ ạ?”</p><p id="19">“...”</p><p id="20">Trong chốc lát, tôi sững sờ trước câu hỏi bất ngờ của con bé.</p><p id="21">Bạn bè sao. Đó là một khái niệm mà tôi không có mối liên hệ nào và cũng không đặc biệt mong nhớ, nên tôi không chắc các điều kiện tiên quyết là gì. Tuy nhiên, tôi tin tưởng vào những thông tin mà Rodrick đã nhồi nhét cho mình và truyền đạt lại cho Eshtiel mà không cần chọn lọc.</p><p id="22">“Hầu hết mọi người đều bị thu hút bởi những người thông minh.”</p><p id="23">“Nếu là hầu hết, thì vẫn có một số người không thích ạ?”</p><p id="24">“Khi thế mạnh của em quá nổi bật, đôi khi em sẽ phải đối mặt với sự ghen tị.”</p><p id="25">“Ghen tị…”</p><p id="26">Eshtiel lẩm bẩm từ đó một cách lặng lẽ. Rồi con bé nở một nụ cười rạng rỡ, để lộ tham vọng tinh quái của mình.</p><p id="27">“Nhưng bị ghen tị nghe cũng tuyệt đấy chứ. Ưm, hi hi hi…”</p><p id="28">“Eshtiel?”</p><p id="29">“Người ta nói bóng tối luôn đi theo ánh sáng mà, đúng không ạ? Em chắc chắn sẽ trở thành nữ hoàng của ánh sáng.”</p><p id="30">“...Ai nói với em điều đó vậy, Eshtiel?”</p><p id="31">“Chị Tescia nói ạ. Chị ấy bảo em có thể trở thành một nữ hoàng điều khiển bọn con trai chỉ bằng một cái phẩy tay.”</p><p id="32">‘Chuyện này có vẻ rắc rối đây…’</p><p id="33">Có vẻ như con bé đã lớn lên thành một đứa trẻ khá nguy hiểm trong lúc tôi không chú ý. Thực sự, lời khuyên của Rodrick trong lĩnh vực nuôi dạy trẻ là đúng đắn gấp trăm lần. Từ hôm nay trở đi, tôi phải giữ Eshtiel bên mình ngay cả khi thế giới này sụp đổ.</p><p id="34">Ngay khi tôi đang củng cố quyết tâm trong lòng, Rodrick mở cửa phòng học và bước vào không chút do dự.</p><p id="35">Cạch! Cộp, cộp.</p><p id="36">Khác với thường lệ, bước chân của gã có vẻ khá khẩn trương. Ngước nhìn lên, tôi có thể thấy rõ sự bối rối và lúng túng trên khuôn mặt gã. Tôi lập tức hỏi người đàn ông vốn dĩ hiếm khi mất bình tĩnh này.</p><p id="37">“Rodrick? Có chuyện gì khẩn cấp sao?”</p><p id="38">“Một sự cố... một sự cố…”</p><p id="39">Rodrick lẩm bẩm như đang mê sảng, rồi nhanh chóng dùng tay xoa mặt.</p><p id="40">“Phải, đó là một sự cố. Tôi đã lường trước khả năng chuyện này có thể xảy ra... nhưng không ngờ khả năng đó lại trở thành hiện thực sớm vậy.”</p><p id="41">“Nói mau đi.”</p><p id="42">“Được... trước tiên, tôi nên cho cậu xem cái này để câu chuyện dễ tiếp tục hơn.”</p><p id="43">Đáp lại sự hối thúc của tôi, Rodrick rút ra ba phong bì. Và không phải phong bì bình thường, chúng có viền vàng xung quanh và được đóng dấu biểu tượng hoàng gia ở chính giữa.</p><p id="44">Ngay cả khi chưa mở ra, ý đồ đã quá rõ ràng, và Rodrick tiết lộ câu trả lời không chút do dự.</p><p id="45">“Thư mời. Có ba cái…”</p><p id="46">“Chúng ta bị triệu tập đến Hoàng cung sao?”</p><p id="47">“Phải. Trong tình cảnh này, hoàn toàn hợp lý khi kết nối chuyện này với việc hộ tống Công chúa trở về.”</p><p id="48">“Serin…”</p><p id="49">Tôi có thể gặp lại cô ấy không? Người mà tôi đã chia tay theo một cách không mấy đứng đắn như vậy…</p><p id="50">“Khoan đã?”</p><p id="51">Lúc đó, Rodrick nhìn tôi với đôi mắt mở to.</p><p id="52">“Serin? Cậu đã thân thiết đến mức gọi tên thân mật rồi sao? Cậu đấy à?”</p><p id="53">“Đó chỉ là tên giả thôi.”</p><p id="54">“Hừmmm.”</p><p id="55">Rodrick có vẻ không hài lòng với câu trả lời của tôi và tiếp tục nhìn tôi đầy nghi ngờ. Tôi chẳng có lý do gì để phải thuyết phục Rodrick, nên tôi kiên quyết phớt lờ sự nghi ngờ của gã.</p><p id="56">“Haizz! Chuyện đó bàn sau đi... Đầu tiên, một trong những thư mời này đương nhiên là của cậu, với tư cách là người đã hộ tống Công chúa.”</p><p id="57">“Sẽ rất rắc rối nếu tôi phải tháo mặt nạ.”</p><p id="58">“Vì lý do nào đó, có một điều khoản quy định rằng việc đeo mặt nạ được phép ngay cả trước mặt hoàng gia. Thành thật mà nói, sự cân nhắc này sâu sắc đến mức đáng ngờ…”</p><p id="59">Rodrick đặt tay dưới cằm như thể thấy khó tin, nhưng tôi có thể dễ dàng đoán được điều gì đứng sau đó. Chắc chắn Serin đã đứng ra và yêu cầu sự cân nhắc này. Thậm chí chấp nhận rủi ro đối với vị thế không ổn định của chính mình...</p><p id="60">‘Thật là một người kỳ lạ.’</p><p id="61">Cô ấy đã khao khát được nhìn thấy khuôn mặt dưới lớp mặt nạ đến thế, vậy mà vào những lúc như thế này, cô ấy lại phản bội ham muốn đó và bày tỏ sự quan tâm. Tôi giật mình nhận ra môi mình đang nở một nụ cười.</p><p id="62">“Nếu chúng ta chấp nhận lời mời, một cái dành cho Rodrick. Chúng ta nên làm gì với cái cuối cùng?”</p><p id="63">“Chúng ta không nhất thiết phải dùng hết số thư mời. Hai người là đủ rồi.”</p><p id="64">“Nhưng Rodrick ngốc lắm. Hai người là không đủ đâu.”</p><p id="65">“...”</p><p id="66">“...”</p><p id="67">Hả?</p><p id="68">Cả hai chúng tôi đồng loạt quay đầu về phía tiếng lăng mạ bất ngờ.</p><p id="69">“Anh Rihart. Em không thể đi cùng sao?”</p><p id="70">“Eshtiel…”</p><p id="71">“Em muốn đi. Anh luôn bảo em phải nói ra nếu em muốn điều gì đó mà.”</p><p id="72">“... Đúng là vậy.”</p><p id="73">“Và em cũng là quý tộc mà.”</p><p id="74">“Đó chính xác là lý do tại sao em không thể đi, nhóc con.”</p><p id="75">“Ư ư, tại sao chứ!”</p><p id="76">Ngay cả tôi cũng thấy khó lòng đứng về phía Eshtiel lần này. Là con gái hợp pháp của gia tộc Elenote đã sụp đổ rõ ràng sẽ khiến con bé trở thành mục tiêu của đủ loại sự ghen ghét. Tôi lo lắng về việc Eshtiel bị tổn thương bởi những ác ý như vậy.</p><p id="77">“Anh Rihart, anh thực sự định bỏ mặc em sao? Thật sao?”</p><p id="78">“Eshtiel, cách phát âm của em lại sai bét khi em xúc động rồi đấy.”</p><p id="79">“Em muốn đi. Nếu nguy hiểm, anh Rihart sẽ bảo vệ em. Em tin anh.”</p><p id="80">“...”</p><p id="81">“Anh ơi, cho em đi cùng đi! Nhé?”</p><p id="82">“Eshtiel…”</p><p id="83">Tôi hít một hơi thật sâu. Tôi đoán rằng im lặng sẽ không giải quyết được gì. Vì vậy, tôi thành thật chia sẻ nỗi lo của mình với Eshtiel.</p><p id="84">“Sẽ có nhiều người không thích em ở đó. Em có thể sẽ phải nghe những lời khó nghe. Ở đó khác với ở đây.”</p><p id="85">“Không sao đâu ạ. Họ sẽ không đáng sợ bằng mấy bà cô giặt đồ đâu.”</p><p id="86">“Cũng đúng.”</p><p id="87">“Này, Rihart?”</p><p id="88">Rodrick không giấu nổi sự kinh ngạc trước sự đồng ý nhanh chóng của tôi. Ngay cả tôi cũng có cảm giác tương tự, nhưng không may là tôi không tìm thấy bất kỳ lỗ hổng logic nào trong lập luận của con bé.</p><p id="89">“Chắc chắn là... hừm.”</p><p id="90">“Anh Rihart?”</p><p id="91">Eshtiel khoảng bốn tuổi khi con bé phải làm việc trong quân ngũ. Ở độ tuổi non nớt đó, con bé đã phải chịu đựng lao động khổ sai và đủ loại ngược đãi giữa những người phụ nữ thô lỗ. Con bé chắc hẳn đã nghe vô số lời lăng mạ tục tĩu mà ngay cả việc nhắc lại cũng thấy xấu hổ.</p><p id="92">Không chắc một Eshtiel như vậy sẽ coi trọng những lời đàm tiếu về gia đình mình đến mức nào.</p><p id="93">“Này, nghĩ cho kỹ đi. Nếu có người làm hại con bé về mặt thể xác thì sao?”</p><p id="94">“Thế thì họ sẽ phải trả giá.”</p><p id="95">“Bằng cách nào?”</p><p id="96">“Ông hỏi câu đó nghe lạ thật đấy. Ngay cả khi tôi không thể, ông vẫn có thể làm được mà, đúng không?”</p><p id="97">“...”</p><p id="98">Ngay khi tôi thản nhiên hỏi ý kiến của gã, Rodrick im lặng như tờ và quan sát chúng tôi. Khi những suy nghĩ bị đình trệ bắt đầu hoạt động trở lại, Rodrick mở cái miệng đang mím chặt với đôi mắt nhắm nghiền.</p><p id="99">“... Chết tiệt, tôi sẽ không quan tâm nếu con bé khóc đâu đấy. Tôi ghét việc trông trẻ ở tuổi này lắm.”</p><p id="100">Nói tóm lại, đó là một lời tuyên bố rằng gã đang giao quyền quyết định cho tôi.</p><p id="101">“Đó là tin tốt đấy, Eshtiel.”</p><p id="102">“Hi hi... Cảm ơn anh Rihart! Em hạnh phúc quá!”</p><p id="103">Sau khi xác nhận được sự chấp thuận cuối cùng, Eshtiel nhào vào lòng tôi.</p><p id="104">Tôi khó khăn lắm mới tách được con bé ra khi con bé cứ bám chặt lấy ngực tôi bằng cả cơ thể, rồi tôi để con bé ngồi lên đầu gối mình. </p><p id="105">Tâm trạng phấn khích của Eshtiel chỉ bắt đầu ổn định sau khi tôi bắt đầu xoa đầu con bé.</p><p id="106">“Được đi du lịch với anh Rihart…”</p><p id="107">Chỉ đến lúc đó, mí mắt của Eshtiel mới dần trĩu nặng. Có vẻ như dư âm của buổi học dài đã đuổi kịp con bé, cùng với sự nhẹ nhõm.</p><p id="108">Tôi đặt Eshtiel nằm xuống ghế sofa mềm và bắt đầu đọc toàn văn bức thư mời mà Rodrick đưa cho.</p><p id="109">***</p><p id="110">Giữa lòng Thủ đô sừng sững một biểu tượng của quyền lực. Biểu tượng của thời đại thu hút sự tò mò và ngưỡng mộ của tất cả mọi người. Chúng ta gọi đó là Hoàng cung, nơi ngai vàng cao hơn tất cả mọi người tỏa ra ánh sáng rực rỡ.</p><p id="111">Trong truyện cổ tích, nó được mô tả như một nơi huyền bí tựa thiên đường, nhưng thực tế, nó không phải lúc nào cũng huy hoàng như vậy. Tùy thuộc vào thời đại và hoàn cảnh, Hoàng cung có thể là một hang ổ của tội ác.</p><p id="112">‘Dù mình chưa nói với ai, nhưng vụ bắt cóc này không phải là một sự trùng hợp đơn giản.’</p><p id="113">Cơ thể mà tôi sở hữu thừa hưởng dòng máu của một người đàn ông từng được gọi là cơn ác mộng của phương Bắc. Tôi miễn nhiễm với hầu hết các loại độc tố, và khả năng thể chất của tôi thì khỏi phải bàn. Một người như tôi lại bị hạ gục ngay lập tức bởi một loại độc, sử dụng một loại độc hiếm và chết người như vậy chỉ để bắt cóc một người bình thường?</p><p id="114">Điều đó không hợp lý.</p><p id="115">Đó hẳn phải là một tội ác được thực hiện với sự hiểu biết chính xác về diện mạo cải trang của tôi.</p><p id="116">Thật khó chịu khi lần đầu tiên cảm nhận được mối nguy hiểm đe dọa đến tính mạng trong thế giới này... nhưng nhờ nó, tôi đã gặp được nam chính mà mình hằng chờ đợi, nên thực ra nó cũng có lợi. Để đền đáp, tôi nên đích thân đối phó với kẻ đã dàn dựng vụ bắt cóc này.</p><p id="117">‘Để xem nào... có nhiều ứng cử viên hơn mình tưởng.’</p><p id="118">Bắt đầu từ người em trai đang ở giữa cuộc tranh giành quyền kế vị, đến các thế lực tàn dư của hoàng đế bị phế truất... đặc biệt là nữ chính nguyên tác. Có quá nhiều khả năng khiến tôi thực sự thấy phiền phức.</p><p id="119">Vút, vút.</p><p id="120">Tôi rơi vào dòng suy nghĩ sâu xa trong khi liên tục tung hứng chiếc huy hiệu bạc mà nam chính đã đưa cho mình. Ngay lúc đó, cô hầu gái riêng nãy giờ vẫn chăm chú quan sát tôi, nhìn thấy chiếc huy hiệu và há hốc mồm.</p><p id="121">“Ôi trời, thưa Công chúa! Nếu được, cho phép tôi xem xét vật đó một lát được không ạ?”</p><p id="122">“Hửm? Được thôi.”</p><p id="123">Tôi lập tức đưa chiếc huy hiệu cho cô hầu gái. Ngay khi cầm lấy, cô ấy mở to mắt và hít một hơi thật sâu.</p><p id="124">“Trời đất ơi... thưa Công chúa, tôi có thể hỏi Người lấy thứ này ở đâu không ạ?”</p><p id="125">“Chẳng phải ta đã nói rồi sao? Người hộ tống ta đã đưa nó cho ta.”</p><p id="126">“T-tôi hiểu rồi.”</p><p id="127">“Sao vậy? Nó là cái gì?”</p><p id="128">Tôi đã nghe anh ấy nói rằng đó là một tín vật có thể được sử dụng để yêu cầu giúp đỡ một lần. Nhưng giờ khi đã trở lại cung điện, tôi không chắc phải sử dụng nó như thế nào.</p><p id="129">‘Mình đã định giữ nó để có thể cầu hôn khi anh ấy trở thành Hoàng đế…’</p><p id="130">Tôi không bao giờ tưởng tượng được rằng cô hầu gái lại nhận ra nó. Đó là một sự trùng hợp bất ngờ.</p><p id="131">Chẳng mấy chốc, cô ấy mở miệng, không giấu nổi sự phấn khích.</p><p id="132">“Người có thấy hoa văn này không ạ?”</p><p id="133">“Hoa văn sao?”</p><p id="134">“Vâng, hoa văn chong chóng này này.”</p><p id="135">‘Nó không phải là biểu tượng chữ Vạn của Phật giáo sao...?!’</p><p id="136">Bất cứ ai thiết kế nó hẳn phải có gu thẩm mỹ độc đáo vô cùng. Tôi sẽ không bao giờ đoán được đó là một chiếc chong chóng...</p><p id="137">“Đây là huy hiệu của Đoàn lính đánh thuê Chong Chóng, tổ chức kỳ lạ nhất đế quốc. Và chất liệu là bạc nguyên chất, đúng không ạ? Chất liệu này đại diện cho thủ lĩnh của đoàn lính đánh thuê. Điều đó có nghĩa là…”</p><p id="138">Tiếp theo, cô hầu gái ghé sát vào tôi một cách đầy phấn khích, đôi mắt lấp lánh.</p><p id="139">“Thưa Công chúa, Người có thể ra lệnh cho toàn bộ Đoàn lính đánh thuê Chong Chóng một lần, bất cứ khi nào Người muốn!”</p><p id="140">“H-hừm…”</p><p id="141">“Nói cách khác, đó là một kho báu mà Người không thể có được dù có bỏ ra cả một gia tài. Có lẽ nào... người hộ tống Công chúa chính là thủ lĩnh của Đoàn lính đánh thuê Chong Chóng?”</p><p id="142">“Ta nghĩ là vậy.”</p><p id="143">“Oa...! Công chúa của tôi thật tài giỏi! Làm sao Người có thể thu được lợi ích ngay cả khi bị bắt cóc vậy…”</p><p id="144">“Ha... ha ha.”</p><p id="145">Sự nhạy bén của cô hầu gái trong việc nắm bắt chính xác tình hình thật ấn tượng. Tôi chỉ đang ám ảnh với việc muốn kết hôn với nam chính, vậy mà người khác lại đang cân nhắc những mục đích chiến lược như thế...</p><p id="146">“Thủ lĩnh của Đoàn lính đánh thuê Chong Chóng tên là Rihart, đúng không ạ? Anh ấy là người như thế nào? Có rất nhiều lời đồn đại về anh ấy…”</p><p id="147">“Anh ấy là người dễ thương nhất thế giới.”</p><p id="148">“Dạ?”</p><p id="149">“...Không, không có gì đâu.”</p><p id="150">Tôi suýt chút nữa đã khiến cô hầu gái phạm tội nhìn nhận Công chúa như một kẻ mất trí.</p><p id="151">Tôi gạt chuyện đó sang một bên với cô hầu gái và bắt đầu suy nghĩ, tập trung sự chú ý vào khoảng không vô định.</p><p id="152">‘Để xem nào... mình có thực sự cần sử dụng chiếc huy hiệu bạc này chỉ cho nam chính không nhỉ?’</p><p id="153">Rihart, thủ lĩnh của Đoàn lính đánh thuê Chong Chóng.</p><p id="154">Bằng một cái tên khác...</p><p id="155">[Rahilt, Đứa Con Của Hoàng Đế Bị Phế Truất]</p><p id="156">Danh tính thực sự của một người đàn ông vẫn còn lâu mới được gọi bằng cái tên thật của mình. Tôi lần lượt lật lại ba từ khóa liên quan đến anh ấy.</p><p id="157">‘Huy hiệu bạc, thủ lĩnh lính đánh thuê, đứa con của hoàng đế bị phế truất.’</p><p id="158">…</p><p id="159">……</p><p id="160">Nhe răng cười.</p><p id="161">Môi tôi cong lên thành một nụ cười.</p><p id="162">Đó là nụ cười sinh ra từ sự hài lòng với bức tranh lớn đang ngày càng trở nên rõ nét.</p><p id="163">‘Sớm thôi, chúng ta sẽ gặp lại nhau. Rahilt.’</p><p id="164">Đây là một cảnh tượng từ quá khứ. Nó xảy ra hai tuần trước khi lời mời từ hoàng gia gửi đến trụ sở của Đoàn lính đánh thuê Chong Chóng.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man/c297672-chuong-16-huyet-thong-cua-toi-loi-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24571-sau-khi-ket-thuc-mot-cau-chuyen-tinh-lang-man" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'QedKeyJ6eGfMqy4bBBDctdwEqOAlOR7PJrhsjM4N';
        var comment_type = 'chapter';
        var comment_typeid = '298579';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'QedKeyJ6eGfMqy4bBBDctdwEqOAlOR7PJrhsjM4N';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24571');
    chapter_id = parseInt('298579');

    readingObject = {
        series_id: series_id,
        series_title: 'Sau Khi Kết Thúc Một Câu Chuyện Tình Lãng Mạn',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="QedKeyJ6eGfMqy4bBBDctdwEqOAlOR7PJrhsjM4N" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c51e10fcd763493',t:'MTc2OTYxNzg3Ng=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Ojamajo Doremi 16-20 - Chương 03: Lên đường đến Hokkaido thôi - phần 1 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Bộ tiểu thuyết Light Novel này là &quot;phần tiếp theo&quot; của Ojamajo Doremi ,Lấy bối cảnh 3 năm sau các sự kiện của Dokkan , Ojamajo đã trưởng thành và hiện đang học cấp 3.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="11H4RfrTcVKsyQ5ycpz5rnGcgOyPiPZRoCXop6LI">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24441-ojamajo-doremi-16-20/c281938-chuong-03-len-duong-den-hokkaido-thoi">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24441-47680fc7-cf81-4221-b9bb-42a39e944152.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24441-ojamajo-doremi-16-20/c281791-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-6"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24441-ojamajo-doremi-16-20"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24441-ojamajo-doremi-16-20/c281950-chuong-03-len-duong-den-hokkaido-thoi-phan-2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24441-ojamajo-doremi-16-20/c281938-chuong-03-len-duong-den-hokkaido-thoi" style="background: url('https://i.hako.vn/ln/series/covers/s24441-47680fc7-cf81-4221-b9bb-42a39e944152.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24441-ojamajo-doremi-16-20">Ojamajo Doremi 16-20</a></h5>
                    <small><i class="fas fa-pen"></i>Midori Kuriyama, Yumi Kageyama</small>
                    <small><i class="fas fa-paint-brush"></i>Yoshihiko Umakoshi</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24441-ojamajo-doremi-16-20/t35326-ojamajo-doremi-16">Ojamajo Doremi 16</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280897-chuong-01-mua-xuan-no-ro">
                                                                        Chương 01: Mùa xuân nở rộ - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280899-chuong-01-mua-xuan-no-ro-phan-2">
                                                                        Chương 01: Mùa xuân nở rộ - phần 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280901-chuong-01-mua-xuan-no-ro-phan-3">
                                                                        Chương 01: Mùa xuân nở rộ - phần 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280909-chuong-2-maho-do-chinh-thuc-khai-chuong-phan-1">
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280923-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-2">
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280962-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c280995-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-4">
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c281688-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-5">
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c281791-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-6">
                                                                        Chương 02: MAHO-do chính thức khai chương - phần 6
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c281938-chuong-03-len-duong-den-hokkaido-thoi">
                                                                        Chương 03: Lên đường đến Hokkaido thôi - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c281950-chuong-03-len-duong-den-hokkaido-thoi-phan-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 03: Lên đường đến Hokkaido thôi - phần 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c281952-chuong-03-len-duong-den-hokkaido-thoi-phan-3">
                                                                        Chương 03: Lên đường đến Hokkaido thôi - phần 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c282945-chuong-04-mua-helap-lanh-phan-1">
                                                                        Chương 04: Mùa hè☆Lấp lánh - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c282985-chuong-04-mua-helap-lanh-phan-2">
                                                                        Chương 04: Mùa hè☆Lấp lánh - phần 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c283736-chuong-04-mua-helap-lanh-phan-3">
                                                                        Chương 04: Mùa hè☆Lấp lánh - phần 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c286362-chuong-05-hay-tin-vao-giac-mo-cua-ban">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 05: Hãy tin vào giấc mơ của bạn - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c287247-chuong-05-hay-tin-vao-giac-mo-cua-ban-phan-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 05: Hãy tin vào giấc mơ của bạn - phần 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c287283-chuong-06-huong-toi-ngay-mai-phan-1">
                                                                        Chương 06: Hướng tới ngày mai - phần 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24441-ojamajo-doremi-16-20/c287579-chuong-06-huong-toi-ngay-mai-phan-1">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 06: Hướng tới ngày mai - phần 2
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24441-ojamajo-doremi-16-20/c287723-chuong-01-mua-thu-cua-moi-nguoi">Ojamajo Doremi 16 ~ Naive</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Ojamajo Doremi 16</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 03: Lên đường đến Hokkaido thôi - phần 1</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24441-ojamajo-doremi-16-20/c281938-chuong-03-len-duong-den-hokkaido-thoi#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,701 từ - Cập nhật: 
                        <time class="topic-time timeago" title="30-12-2025 01:08:16" datetime="2025-12-30T01:08:16+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 03: Lên đường đến Hokkaido thôi - phần 1</p>
                    <p id="1">——</p><p id="2">“Không thể ăn thêm nữa. Làm ơn tha cho tôi!” Tôi than thở trong khi xoa cái bụng đang phình to của mình.</p><p id="3">Những con cua đang diễu hành nối tiếp nhau trước mắt tôi ,và bò về phía miệng tôi.</p><p id="4">Tôi không còn lựa chọn nào khác ngoài ăn chúng, nhưng vẫn có thêm nhiều con bò về phía tôi.</p><p id="5">Chẳng mấy chốc, cái bụng căng tròncủa tôi không thể chịu đựng được nữa và nổ tung!</p><p id="6">“Uwaaaaaaahh!”</p><p id="7">Tôi tỉnh giấc vì tiếng hét của chính mình.</p><p id="8">“D-Doremi-chan!”</p><p id="9">Tôi đang trên máy bay hướng đến sân bay Shin-Chitose, và Hazuki-chan cùng Ai-chan, ngồi hai bên đang bịt miệng tôi lại.</p><p id="10">“K-K-Không thở được…”</p><p id="11">“Vậy cậu có thể ngừng làm những tiếng động lạ được không?” Hazuki-chan hỏi bằng giọng nhẹ nhàng, và tôi liên tục gật đầu.</p><p id="12">Thấy vậy, cả hai buông tay ra.</p><p id="13">Các hành khách xung quanh nhìn chúng tôi với ánh mắt kỳ lạ.</p><p id="14">“Xin lỗi vì gây rắc rối,” Ai-chan cúi đầu xin lỗi họ.</p><p id="15">“Doremi-chan, cậu cũng xin lỗi đi,” Ai-chan nói với tôi.</p><p id="16">“X-Xin lỗi…” Tôi nói khi đầu tôi bị giữ chặt xuống.</p><p id="17">Trong suốt cuộc trò chuyện, tiếng cười vang lên từ xung quanh, và không khí trở nên thoải mái hơn.</p><p id="18">“Thật lòng mà nói, Doremi-chan. Cậu đã mơ thấy giấc mơ gì vậy?” Hazuki-chan hỏi nhỏ nhẹ.</p><p id="19">“Những con cua đang…” Tôi bắt đầu nói, nhưng nhận ra rằng mình chỉ đang tự làm mình xấu hổ, nên tôi im lặng.</p><p id="20">Ngay cả tôi cũng ngạc nhiên vì mình khi lại mơ thấy cua, một trong những đặc sản của Hokkaido, chỉ vì chúng tôi đang trên đường đến Hokkaido.</p><p id="21">Vậy tại sao cả ba chúng tôi lại cùng đi chuyến bay đến sân bay Shin-Chitose? Chúng ta cần phải quay lại ngày hôm qua để trả lời câu hỏi đó.</p><p id="22">~~~~~</p><p id="23">Tạp chí dành cho phụ nữ, nơi phóng viên đã bắt chuyện với chúng tôi trước nhà Onpu-chan lần trước, vừa đăng tải một bài báo dài khác về Onpu-chan.</p><p id="24">Bài báo đã phân tích sự sụt giảm mạnh về độ nổi tiếng của Onpu-chan và cho rằng nguyên nhân lớn nhất là do bộ phim “Zagaidon”, một phiên bản làm lại của loạt phim ăn khách “Gazamadon”, đã thất bại thảm hại.</p><p id="25">Hồi đó, Onpu-chan đã tự mình nhận thấy sự suy giảm đó và đã nói chuyện với chúng tôi về điều đó. Cũng có những bài báo khá hay bàn về vấn đề này, nhưng cũng có một số bài không thể chấp nhận được.</p><p id="26">Tuy nhiên, bài báo này không chỉ toàn tin đồn thất thiệt mà còn chứa đầy những lời vu khống, nói về việc gia đình bán nhà và việc Onpu-chan giấu tung tích vì đang chụp ảnh gợi cảm để kiếm tiền.</p><p id="27">Dĩ nhiên, chúng tôi không tin điều đó, nhưng chúng tôi không thể ngồi yên thêm nữa và đã thảo luận vấn đề này với Majorika.</p><p id="28">Bà ấy đã nắm lấy cơ hội để khuyến khích chúng tôi trở thành phù thủy học việc một lần nữa.</p><p id="29">Tuy nhiên, rõ ràng là bà ấy chỉ muốn Onpu-chan quay lại và làm việc cho MAHO-do để doanh số bán hàng tăng lên, vì vậy chúng tôi đã thẳng thừng từ chối lời đề nghị.</p><p id="30">Tuy nhiên, chúng tôi quyết định xin phép ứng lương sớm, mua vé ngay lập tức và bay đến Hokkaido.</p><p id="31">——</p><p id="32">Máy bay của chúng tôi cất cánh từ sân bay Haneda lúc 8 giờ sáng và đến sân bay Shin-Chitose lúc 9 giờ 35 sáng.</p><p id="33">Tại đó, chúng tôi lên tàu tốc hành JR Hokkaido đến Sapporo. Lúc đó khoảng 11 giờ sáng.</p><p id="34">Vì thức dậy lúc 5 giờ sáng nên bụng tôi đã bắt đầu kêu.</p><p id="35">“Tuy còn sớm, nhưng chúng ta ăn trưa nhé!”</p><p id="36">“Ơ?! Chẳng phải cậu đã ăn hết một hộp kẹo trên máy bay sao?” Ai-chan hỏi.</p><p id="37">“Tớ có một cái dạ dày riêng dành cho món tráng miệng. Này này, chúng ta ăn mì ramen miso hay lẩu Thành Cát Tư Hãn nhé?”</p><p id="38">“Doremi-chan! Chúng ta đến đây để tìm Onpu-chan chứ không phải để tham quan hay ăn uống!” Hazuki-chan quát.</p><p id="39">“Hazuki-chan nói đúng đấy! Chúng ta nên đến văn phòng công ty của Segawa-san trước đã. Không phải lúc để ăn mì ramen!”</p><p id="40">“Nhưng… chẳng phải có câu nói, ‘Không thể ra trận khi bụng đói’…?”</p><p id="41">Đột nhiên, hai người đó nắm lấy hai cánh tay tôi và bắt đầu kéo tôi đi một cách thô bạo.</p><p id="42">“Đ-Đợi đã! Xin lỗi! Tớ hiểu rồi, hãy thả tớ ra!”</p><p id="43">Ngay khi tôi đang khóc lóc van xin lòng thương xót,</p><p id="44">“Ah!”</p><p id="45">Cả hai giật mình rồi dừng lại.</p><p id="46">“Doremi-chan, cậu còn nhớ dáng đi phía trước chúng ta không?” Ai-chan hỏi, vừa chỉ vào một người đàn ông tóc xoăn dài đang đi trước mặt chúng tôi, tay cầm gậy.</p><p id="47">Mông của người đàn ông lắc lư mạnh mẽ khi anh ta đi bộ, thậm chí còn hơn cả Marilyn Monroe.</p><p id="48">“Dáng đi đó, không thể nhầm lẫn được!” Hazuki-chan reo lên đầy phấn khích.</p><p id="49">Tôi cũng nhận ra dáng đi đó, nhưng vẫn quên mất tên.</p><p id="50">“Oyaji, là Oyaji!” Hazuki-chan hét lên đầy phấn khích.</p><p id="51">"Oyaji? Oyaji... Ồ!"</p><p id="52">Giờ thì tôi nhớ rồi.</p><p id="53">“Oyajide!”</p><p id="54">Chúng tôi đồng thanh hét lên, và người đàn ông, như một vũ công, xoay người duyên dáng đối mặt với chúng tôi.</p><p id="55">Không thể nhầm lẫn được, đó chính là pháp sư Alexander T. Oyajide.</p><p id="56">Trước đây Oyajide từng là đối thủ của chúng tôi, nhưng thực chất ông ấy là một người tốt bụng và rất yêu trẻ con.</p><p id="57">Hơn nữa, ông ấy là một fan cuồng Onpu-chan và tự hào về thẻ thành viên thứ 7 trong câu lạc bộ người hâm mộ của Onpu-chan.</p><p id="58">“Ồ, các cô là Doremi-cchi, Hazuki-cchi và Aiko-cchi phải không?!”</p><p id="59">“Lâu rồi không gặp, Oyajide!”</p><p id="60">Chúng tôi vội vã chạy đến Oyajide, vui mừng trong cuộc hội ngộ.</p><p id="61">“Oyajide, tại sao ông lại đến Sapporo?”</p><p id="62">“Không có lý do gì đặc biệt cả. Ta chỉ lo lắng khi nhìn thấy cái này thôi.”</p><p id="63">Oyajide lấy ra từ túi áo sơ mi bài viết đặc biệt về Onpu-chan trên một tạp chí dành cho phụ nữ.</p><p id="64">"Ông cũng đang tìm Onpu-chan giống như chúng tôi phải không?"</p><p id="65">“Đúng vậy.”</p><p id="66">“Sao ông biết Onpu-chan đang ở Sapporo?”</p><p id="67">“Ta chỉ tình cờ nghe lỏm được thôi.”</p><p id="68">“Ồ, tôi hiểu rồi. Vì ông đang ở đây, ông có thể giúp chúng tôi tìm Onpu-chan bằng phép thuật. Điều đó sẽ giúp ích rất nhiều!” Tôi nói với một nụ cười, nhưng vẻ mặt của Oyajide đột nhiên trở nên u ám.</p><p id="69">“Ta đã nhiều lần cố gắng tìm ra vị trí của Onpu-chan bằng phép thuật, nhưng hoàn toàn không có phản hồi nào cả…”</p><p id="70">"Chẳng lẽ phép thuật không thể giúp được gì sao?" Tôi hỏi với vẻ không vui.</p><p id="71">“Nếu cô ấy ở trong thành phố Sapporo thì không sao, nhưng phép thuật cũng vô dụng nếu cô ấy ở đâu đó ngoài thành phố,” Oyajide trả lời với vẻ áy náy.</p><p id="72">“Vậy là dù chúng ta cũng đến được Hokkaido, thì vẫn vô ích sao?” Ai-chan hỏi với vẻ mặt thất vọng.</p><p id="73">“Nhưng nếu chúng ta có thể gặp bố của Onpu-chan, chúng ta có thể hỏi ông ấy về tung tích của Onpu-chan,” Hazuki-chan đề nghị.</p><p id="74">“Tres bien!”</p><p id="75">Oyajide có vẻ hài lòng với đề nghị của Hazuki-chan, và ngay cả Ai-chan cũng ngước lên với vẻ hy vọng.</p><p id="76">~~~~~</p><p id="77">Văn phòng chi nhánh Sapporo của công ty đường sắt, nơi bố của Onpu-chan làm việc, nằm trong một tòa nhà cao tầng gần ga Sapporo.</p><p id="78">Bốn chúng tôi đi vào qua cửa chính ở tầng một và tiến đến quầy lễ tân.</p><p id="79">Tuy nhiên, hai nhân viên bảo vệ đã để ý thấy dáng đi kỳ lạ của Oyajide và tiến lại hỏi về nghề nghiệp của anh ta.</p><p id="80">“Tôi không phải là người lập dị! Tôi là hiệu trưởng một trường mầm non!”</p><p id="81">“Đó là trường mầm non nào vậy? Chúng tôi cần kiểm tra lại, vui lòng cung cấp số điện thoại.”</p><p id="82">Đáp lại yêu cầu của người bảo vệ, Oyajide đã trả lời một cách thành thật.</p><p id="83">“Đấy là trường mẫu giáo ở thế giới phù thủy, nên dù bạn có gọi điện…”</p><p id="84">“Thế giới phù thủy ư? Anh đúng là kẻ lập dị! Mời anh đi cùng chúng tôi đến văn phòng!”</p><p id="85">Họ bất ngờ tiến đến bắt Oyajide, và tất cả chúng tôi đều bỏ chạy.</p><p id="86">“Này, đợi đã!”</p><p id="87">Các vệ sĩ bắt đầu đuổi theo chúng tôi.</p><p id="88">“Mấy anh không cho tôi lựa chọn khác!”</p><p id="89">Oyajide vẫy cây gậy của mình, và một loạt các quả bóng pachinko xuất hiện trên sàn sảnh trong một làn khói.</p><p id="90">Ông ấy đã sử dụng phép thuật.</p><p id="91">Các nhân viên bảo vệ giẫm phải những quả bóng pachinko và ngã xuống với tiếng rên rỉ.</p><p id="92">~~~~~</p><p id="93">Bằng cách nào đó, chúng tôi đã thoát khỏi lính canh và trốn thoát, rút lui đến một quán cà phê nhìn ra lối vào chính của văn phòng chi nhánh công ty đường sắt để lên kế hoạch.</p><p id="94">Nhờ Oyajide mà chúng tôi cũng là đồng phạm rôi, nên dù có đến quầy lễ tân yêu cầu gặp bố của Onpu-chan thì có lẽ cũng không thành công.</p><p id="95">"Có ai có ý tưởng hay nào không?"</p><p id="96">“Ý tưởng hả…”</p><p id="97">Ngay khi tôi càu nhàu với giọng điệu gần như bất lực,</p><p id="98">“Khoan đã, nhìn kìa!” Ai-chan, người đang quan sát tòa nhà văn phòng, hét lên.</p><p id="99">Chúng tôi nhìn sang và thấy các nhân viên bảo vệ lúc nãy, cùng với một số nhân viên khác của công ty, đang cúi chào khi một người đàn ông lớn tuổi trông rất quan trọng bước vào một chiếc xe hơi hạng sang.</p><p id="100">“Ha! Mình có thể tận dụng điều đó!”</p><p id="101">Nói xong, Oyajide vẫy cây gậy và biến hình thành ông lão vừa bước vào xe.</p><p id="102">~~~~~</p><p id="103">Thật may mắn, người đàn ông mà Oyajide hóa thân thành lại chính là phó chủ tịch của công ty đường sắt.</p><p id="104">Với tư cách là phó chủ tịch, Oyajide bước vào tòa nhà văn phòng chi nhánh và được biết bố của Onpu-chan sẽ lái chuyến tàu tốc hành khởi hành từ ga Sapporo tối nay. Sau khi biết được điều đó, ông ấy quay trở lại chỗ chúng tôi.</p><p id="105">Vì còn nhiều thời gian trước giờ khởi hành, Oyajide đã chiêu đãi chúng tôi một vài món đặc sản.</p><p id="106">——</p><p id="107">Chúng tôi quyết định gặp bố của Onpu-chan ở sân ga Sapporo, trước khi ông ấy vào buồng lái.</p><p id="108">Khoảng hai mươi phút trước khi tàu khởi hành, bố của Onpu-chan cuối cùng cũng xuất hiện trên sân ga.</p><p id="109">“Segawa-san!”</p><p id="110">Oyajide quan sát chúng tôi từ xa, đề phòng trường hợp bị nhầm là kẻ lập dị lần nữa.</p><p id="111">“À, mấy đứa là… Doremi-chan, Hazuki-chan và Aiko-chan!”</p><p id="112">“Lâu rồi không gặp, Segawa-san!”</p><p id="113">Sau khi chào hỏi nhau, chúng tôi giải thích rằng chúng tôi đến đây để xem Onpu-chan có khỏe không.</p><p id="114">"Xin lỗi vì đã khiến mấy đứa đến tận đây."</p><p id="115">“Onpu-chan có khỏe không ạ?”</p><p id="116">Vẻ mặt bố của Onpu-chan thoáng chốc ngập ngừng trước khi ông trả lời,</p><p id="117">“…À, ta không biết phải giải thích như thế nào , nhưng có rất nhiều chuyện đã xảy ra…”</p><p id="118">“Nhiều chuyện…?” Hazuki-chan hỏi, nhưng bố của Onpu-chan không trả lời mà chuyển sang chủ đề khác.</p><p id="119">“Onpu đã rất lo lắng khi không thể nói với mấy đứa về việc chuyển đến Hokkaido, cũng như thông báo về số điện thoại và địa chỉ email mới của con bé.”</p><p id="120">“Đúng vậy, bọn cháu hoàn toàn không thể liên lạc được với cậu ấy,” Ai-chan nói.</p><p id="121">“Dạo này truyền thông rất ồn ào. Ta nghĩ Onpu không muốn làm phiền các mấy đứa về chuyện này cho đến khi mọi việc lắng xuống. Vì vậy, hãy cho con bé thêm thời gian nhé.”</p><p id="122">Nói xong, bố của Onpu-chan cúi chào. Đúng lúc đó, người phụ lái thông báo tàu sắp khởi hành.</p><p id="123">Bố của Onpu-chan chào chúng tôi rồi tiến về phía khoang lái. Tuy nhiên, ông ấy đột nhiên dừng lại.</p><p id="124">“Onpu hiện đang sống với mẹ ở Wakkanai, nên mấy đứa không cần lo lắng quá nhiều. Tạm biệt.”</p><p id="125">Nói xong, ông ấy bước vào khoang lái.</p><p id="126">"Cảm ơn rất nhiều!"</p><p id="127">Chúng tôi cúi chào, rồi vội vã chạy đến chỗ Oyajide.</p><p id="128">“Oyajide, tụi tôi đã tìm ra vị trí của Onpu-chan rồi!” Ai-chan thông báo.</p><p id="129">“ông ấy nói cậu ấy đang ở Wakkanai!”</p><p id="130">“Wakkanai? Thảo nào ta không tìm thấy cô ấy bằng phép thuật!”</p><p id="131">Câu chuyện cười của Oyajide đã khiến Hazuki-chan cười phá lên.</p><p id="132">“Đành chịu thôi,” Ai-chan lập tức phản bác, nhưng Oyajide, vốn là một ông già, không có phản ứng gì.</p><p id="133">“Oyajide, xin hãy dùng phép thuật đưa tụi tôi đến Wakkanai,” Ai-chan yêu cầu.</p><p id="134">Tuy nhiên, những gì Oyajide nói tiếp đã giải thích lý do tại sao anh ấy không cười trước câu chuyện cười của Ai-chan.</p><p id="135">“Ta xin lỗi, nhưng thời gian nghỉ của ta sắp kết thúc rồi. Ta cần quay lại thế giới phù thủy ngay.”</p><p id="136">Oyajide đang nhắc đến trường mẫu giáo trong thế giới phù thủy. Gần đây, thế giới phù thủy rất nhộn nhịp, nhiều em bé phù thủy được sinh ra liên tiếp. Vì vậy, thiếu người giữ trẻ, nên hôm nay Oyajide chỉ có thể nghỉ nửa ngày.</p><p id="137">“Chúng ta cũng vậy. Nếu không quay lại sân bay Shin-Chitose sớm thì sẽ bị trễ chuyến bay mất”, Hazuki-chan nói với vẻ tiếc nuối.</p><p id="138">Cuối cùng, chúng tôi chia tay Oyajide tại ga Sapporo, với cảm giác tiếc nuối vì không thể đến Wakkanai, chúng tôi đã lên tàu đến sân bay Shin-Chitose.</p><p id="139">~~~~~</p><p id="140">Tại sân bay Shin-Chitose, chúng tôi lại nhận thêm một cú sốc nữa.</p><p id="141">Trong lúc chúng tôi đang làm thủ tục xuất cảnh, chúng tôi nhìn thấy phóng viên của tạp chí phụ nữ trước đó bước ra từ cổng đến.</p><p id="142">“T-Tại sao anh ta lại ở đây…?”</p><p id="143">“Sẽ rất tệ nếu hắn nhìn thấy chúng ta. Hãy che mặt lại!”</p><p id="144">Theo chỉ dẫn của Hazuki-chan, chúng tôi đã khéo léo tránh được phóng viên.</p><p id="145">“Hắn ta đang làm gì ở đây vậy?” Tôi thì thầm khi liếc nhìn bóng lưng người phóng viên đang khuất dần.</p><p id="146">"Chắc hẳn anh ta đã biết Onpu-chan đang ở Hokkaido," Hazuki-chan đoán.</p><p id="147">“Chỉ là vấn đề thời gian trước khi hắn ta tìm thấy cậu ấy thôi…” Ai-chan cảnh báo.</p><p id="148">Nói xong, cả hai đều vẻ lo lắng.</p><p id="149">~~~~~</p><p id="150">Trên chuyến bay trở về và suốt quãng đường về nhà từ sân bay Haneda trên xe của bố Hazuki-chan, chúng tôi hầu như không nói một lời nào.</p><p id="151">Chúng tôi đều tiếc nuối vì chỉ đi Hokkaido trong một ngày.</p><p id="152">Nếu chúng ta ở lại thêm một ngày nữa, chúng ta đã có thể đi gặp Onpu-chan…</p><p id="153">Tuy nhiên, khi xe tiến vào thành phố Misora, chúng tôi nhận thấy mặt trăng trên bầu trời đêm, và tất cả chúng tôi đều đồng thanh lên tiếng.</p><p id="154">“Đó là mặt trăng mỉm cười!”</p><p id="155">Hiện tượng trăng cười xảy ra khi mặt trăng khuyết dần đến mức trông giống như đang cười. Vào những đêm có trăng cười, thế giới của con người và thế giới phù thủy sẽ liên kết với nhau, và thậm chí cả những người bình thường cũng có thể du hành đến thế giới phù thủy.</p><p id="156">Chúng tôi nhìn nhau.</p><p id="157">Không cần phải nói lời nào cả.</p><p id="158">Chúng ta cần tìm Onpu-chan trước khi phóng viên đó tìm thấy cậu ấy.</p><p id="159">Và để làm được điều đó, chúng tôi cần trở lại thành phù thủy tập sự.</p><p id="160">——</p><p id="161"><strong>Ghi chú:</strong></p><p id="162"><em>1. Câu nói đùa của Doremi trong phần này dựa trên lối chơi chữ; cô ấy đã sử dụng “wakkanai”, dạng rút gọn của cụm từ “wakaranai”, trong câu của mình, tạo ra một lối chơi chữ dựa trên tên địa danh “wakkanai”</em></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24441-ojamajo-doremi-16-20/c281791-chuong-02-maho-do-chinh-thuc-khai-chuong-phan-6" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24441-ojamajo-doremi-16-20" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24441-ojamajo-doremi-16-20/c281950-chuong-03-len-duong-den-hokkaido-thoi-phan-2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '11H4RfrTcVKsyQ5ycpz5rnGcgOyPiPZRoCXop6LI';
        var comment_type = 'chapter';
        var comment_typeid = '281938';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '11H4RfrTcVKsyQ5ycpz5rnGcgOyPiPZRoCXop6LI';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24441');
    chapter_id = parseInt('281938');

    readingObject = {
        series_id: series_id,
        series_title: 'Ojamajo Doremi 16-20',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="11H4RfrTcVKsyQ5ycpz5rnGcgOyPiPZRoCXop6LI" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

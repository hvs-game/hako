<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Hagakure Sakura Does Not Lament - Chương 11 : Thần không chơi xúc xắc. - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Thế giới đã thay dổi từ cái ngày vết nứt đó xuất hiện trên bầu trời- những con quái vật được gọi là『Ma Thú』 bắt đầu xuất hiện và tàn sát người dân Trong khi đó, những cô gái được gọi là『Ma Pháp Thiếu Nữ 』cũng bắt đầu xuất hiện...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="urSpdyuhABTcOqUWzCyri8vCPVI1wF3B5gqiRpvc">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23410-a07f79fa-5e9b-4031-b0cc-433f7c9b4f79.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23410-hagakure-sakura-does-not-lament/c291226-chuong-10-con-duong-lat-bang-thien-y"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23410-hagakure-sakura-does-not-lament"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac" style="background: url('https://i.hako.vn/ln/series/covers/s23410-a07f79fa-5e9b-4031-b0cc-433f7c9b4f79.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23410-hagakure-sakura-does-not-lament">Hagakure Sakura Does Not...</a></h5>
                    <small><i class="fas fa-pen"></i>玖洞</small>
                    <small><i class="fas fa-paint-brush"></i>つくぐ</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23410-hagakure-sakura-does-not-lament/c227900-mo-dau">Tập 01</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23410-hagakure-sakura-does-not-lament/t33964-tap-02">Tập 02</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c247219-chuong-01-di-chung-cua-hau-qua">
                                                                        Chương 01 : Di chứng của hậu quả
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c247244-chuong-02-manh-vo-cua-ky-uc">
                                                                        Chương 02 : Mảnh vỡ của ký ức
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c251289-chuong-03-ten-cua-ngai-ay">
                                                                        Chương 03 : Tên của ngài ấy
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c251290-chuong-04-loi-tien-tri-va-co-be-ky-la">
                                                                        Chương 04 : Lời tiên tri và cô bé kỳ lạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c266251-chuong-05-nham-lan-va-chiec-banh-pancake">
                                                                        Chương 05 : Nhầm lẫn? và chiếc bánh Pancake
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c266255-chuong-06-nhung-co-be-hu">
                                                                        Chương 06 : Những cô bé hư
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c283331-chuong-07-nhung-thu-toi-ghet">
                                                                        Chương 07 : Những thứ tôi ghét
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c283336-chuong-08-bat-chuoc">
                                                                        Chương 08 : bắt chước
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c283344-chuong-09-cong-dong-mang-va-doa-hoa-xinh-dep">
                                                                        Chương 09 : Cộng động mạng và đóa hoa xinh đẹp~
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c291226-chuong-10-con-duong-lat-bang-thien-y">
                                                                        Chương 10 : Con đường lát bằng thiện ý
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac">
                                                                        Chương 11 : Thần không chơi xúc xắc.
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 02</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 11 : Thần không chơi xúc xắc.</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,772 từ - Cập nhật: 
                        <time class="topic-time timeago" title="16-01-2026 20:30:53" datetime="2026-01-16T20:30:53+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 11 : Thần không chơi xúc xắc.</p>
                    <p id="1">Đã hai tuần trôi kể từ khi cậu tới thăm Itadori.</p><p id="2">Cuộc bầu chọn Rikka ở đầu tuần này diễn ra một cách êm đẹp và có lẽ ngày mai chính phủ sẽ công bố kết quả thôi. Lần này Tsugumi bầu cho Hitsugi Airi, người đứng thứ 5 trên bảng xếp hạng, nhưng có vẻ như một nửa lớp cậu bầu cho Hagakure Sakura. Cậu không biết liệu đó có phải là một kiểu trêu chọc nào đó không nữa.</p><p id="3">Khi cậu hỏi tại sao thì họ lại nhìn cậu nói rằng “Ờm, bởi vì tớ thấy có chút thân thuộc thôi.”</p><p id="4">…Làm ơn đừng có quyết định một việc quan trọng với cái lý do như thế nữa. Chà, cậu nghĩ là phiếu bầu của mấy đứa bạn cũng chả đáng là bao đâu.</p><p id="5">Và giờ, Tsugumi đang ở trên tàu cùng với Chidori, trên đường tới công viên giải trí mà họ đã hứa cùng đến chơi từ trước .</p><p id="6">Cậu đã hỏi Bell là ổng có muốn đi chung không, nhưng ổng từ chối và nói là vì không muốn tới nơi đông đúc. Chà, cậu đoán là kiểu gì ổng cũng sẽ nói vậy rồi.</p><p id="7">“Hmmm, em ăn mặc như thế trông buồn cười thật đấy. Như vậy không phải khó thấy đằng trước lắm sao?”</p><p id="8">“Đáng ngạc nhiên là tầm nhìn không tệ đến vậy đâu. Nhưng nhìn nó đẹp mà, đúng chứ? Em được Mebuki-senpai lựa cho đấy.”</p><p id="9">Nói xong, Tsugumi chỉ vào cái kính màu mỏng mà cậu đang đeo. Vài ngày trước, cậu đã cố gắng rủ Mebuki-senpai đi chơi và giúp cậu lựa một cặp kính hợp với mình .</p><p id="10">“Hmm. Chị thích Tsugumi lúc bình thường hơn.”</p><p id="11">“Chị luôn có thể thấy em như thế ở nhà mà. …Chà, em sẽ chẳng dùng nó trừ những dịp như thế này.”</p><p id="12">–Nhưng nói đi cũng phải nói lại, chỉ với việc mang kính vào thì bề ngoài của một người có thể có thể thay đổi đến mức nào?</p><p id="13">Tsugumi liếc nhìn ảnh phản chiếu của mình qua tấm kính của con tàu. Nhìn thoáng qua thì chẳng ai có thể nhận ra cậu cả. Cái kính cực kì hiệu quả và cho tới giờ chưa có ai tiếp cận cậu cả. Như thế thì có thể nói rằng lựa chọn của Mebuki hoàn toàn đúng đắn.</p><p id="14">Cậu bỏ một tay đang lạnh cóng của mình vào túi áo khoác. Nhưng rồi Tsugumi nhớ lại cái thứ chạm vào ngón tay cậu và khẽ thở dài.</p><p id="15">–Em rất biết ơn thiện chí của Senpai nhưng em không muốn nhận mấy thứ như này đâu.</p><p id="16">Khi đi mua kính với Mebuki, cô ấy đưa cho cậu mấy đồ tự vệ do cổ tự chế ra và nói rằng “Thời này thì cứ cẩn thận cho chắc ăn”. Mỗi món to cỡ viên bi và dễ dàng mang theo, nhưng chức năng của chúng thì lại hoàn toàn vô dụng , như là bẫy chim với bom khói này, và nói thật nó có cảm giác như cậu bị ép mua mấy đồ không cần thiết vậy. Mấy cái đấy không có ảnh hưởng đến cơ thể của con người, nhưng mà sử dụng chúng thì có lẽ sẽ gây ra mấy cái vấn đề khác đấy.</p><p id="17">Ban đầu cậu dự định để hết chúng ở nhà, nhưng khi cậu khi cậu để ý thì nguyên đống đấy đã nằm trong túi áo khoác cậu rồi. Có lẽ là do Chidori lén bỏ vào đấy. Có lẽ cô ấy đã nghe về nó từ  Mebuki trước đó rồi.</p><p id="18">“Chị nghĩ đây có lẽ là lần đầu tiên chỉ có mình chị cùng với Tsugumi vào công viên giải trí như thế thế này. Nó cứ hơi kì kì sao á.”</p><p id="19">Chidori cười một cách hạnh phúc trong khi Tsugumi lơ đãng nhìn ra ngoài .</p><p id="20">–Nếu có ai hỏi thì đấy có lẽ là câu trả lời chính xác. Mặc dù họ đã từng đi mua sắm cùng nhau, nhưng họ lại chưa từng đi đến một cơ sở giải trí như thế này.</p><p id="21">Khi cậu còn nhỏ, cậu không thể đi đâu vì không có bố mẹ hay người giám hộ đi theo, và dù cho cậu lên sơ trung và phạm vi hoạt động của cậu được mở rộng ra thì tuổi dậy thì và những con mắt xung quanh cậu khiến họ không thể đi chơi nhiều như trước được. Thực ra cậu rất phiền lòng khi người ta cứ so sánh họ nên tự bản thân cậu đã né tránh việc đi chơi với Chidori.</p><p id="22">-Khi cậu còn nhỏ, Chidori là tất cả trong thế giới của cậu.</p><p id="23">Tsugumi cười khúc khích trước ý nghĩ đó. Nghĩ lại thì, giờ cũng chẳng khác mấy.</p><p id="24">“Chị mong chờ lắm nhé, cái công viên giải trí ấy.”</p><p id="25">“Ừ, em thật sự mong chờ nó lắm đấy!”</p><p id="26">–Công viên giải trí Tenma. Một cơ sở mới nổi được lên kế hoạch là sẽ thu hút cỡ 2 triệu khách nỗi năm.</p><p id="27">Theo như cái tờ rơi được phát ở cổng vào thì nó hướng đến thành một công viên giải trí cung cấp những trải nghiệm và cảm giác mới lạ, kết hợp yếu tố lạ mắt dựa theo các câu truyện cổ tích với yếu tố giải đố để ngay cả người lớn cũng có thể tận hưởng.</p><p id="28">…Có lẽ hơi bị đông quá.</p><p id="29">“Hình như sẽ có một buỗi lễ ở trung tâm quảng trường. Chà, đó là lễ khai trương nên cũng chẳng còn cách nào khác.”</p><p id="30">Tsugumi lẳm bẩm với bản thân trong khi nhìn vào tờ lịch biểu cậu nhận được cùng với tờ rơi. Buổi lễ sẽ bắt đầu sau 15 phút nữa . Sau khoảng 30 phút diễn thuyết và diễu hành thì cuối cùng công viên sẽ chính thức mở cửa.</p><p id="31">“Chị không ngại chờ đợi đâu, nhưng mà trời lạnh như thế này thì có hơi cực. …Chị ước là nó không có diễn ra ở ngoài trời, ít nhất là vậy.”</p><p id="32">Chidori xoa hai bàn tay cô ấy lại với nhau vì lạnh và thở ra một làn khói trắng.</p><p id="33">…Cũng chẳng lạ lắm. Nhiệt độ từ tháng một đến đầu tháng hai thấp nhất năm mà. Cơn lạnh không làm Tsugumi bận tâm đến thế, nhưng với con gái thì cơn giá lạnh này có thể hơi đau đớn.</p><p id="34">“Chị dùng khăn quàng cổ của em đi.”</p><p id="35">Sau đó, cậu bỏ cái khăn quàng cổ cậu đang dùng ra và quấn quanh cổ Chidori mà không chờ cô ấy đáp lại. Hỏi cô ấy như bình thường sẽ chỉ khiến cổ dè dặt thôi. Trong trường hợp đó thì cứ mang vào người cổ mà không có sự cho phép sẽ dễ hơn nhiều.</p><p id="36">Chidori mỉm cười một cách hối lỗi và cảm ơn cậu trong khi sờ vào cái khăn quàng cổ cậu quàng lên cô ấy</p><p id="37">“…Ừn, chị xin lỗi nhé, lát nữa chị sẽ đàng hoàng trả lại em sau.”</p><p id="38">“Đừng lo. Em không thấy lạnh vậy đâu.”</p><p id="39">Ngay cả khi nếu cậu thấy lạnh đi chăng nữa thì cậu ít nhất vẫn có thể mua một cái ở cửa hàng mà. Giá thì có lẽ sẽ chát hơn, nhưng thường thì mọi thứ đều đắt đỏ ở những nơi như này nên cậu cũng đành phải chấp nhận thôi.</p><p id="40">“Nhân tiện thì, có một người em quen đến đây hôm nay đấy.”</p><p id="41">“Từ lớp em sao?”</p><p id="42">“Không, người đó em gặp được lúc em ở bệnh viện mấy bữa trước. Em không chắc liệu có tìm được cô bé trong đám đông không nữa.”</p><p id="43">Khi Tsugumi đáp lại, Chidori nói với vẻ căng thẳng.</p><p id="44">“Là con gái sao?”</p><p id="45">“Vâng, đúng vậy. cô bé nói rằng đến từ học viện Asuka. Em nghe nói đó là một phần của chuyến đi thực địa nên có lẽ cô bé vẫn mặc đồng phục đấy, nếu vậy em sẽ nhận ra cô bé ngay khi nhìn thấy thôi. …Có chuyện gi vậy?”</p><p id="46">Vì lí do nào đó, Tsugumi cảm thấy một áp lực kì lạ từ Chidori và dừng lại …Cậu không biết mình có nói gì kì lạ không nữa. Dù vậy những lời của cậu có gì bất thường đâu.</p><p id="47">Khi Tsugumi hỏi vậy, Chidori lắc đầu.</p><p id="48">“Ừm. Chỉ là chị ngạc nhiên thôi…”</p><p id="49">“Ể, chuyện đó có gì đáng ngạc nhiên chứ?”</p><p id="50">Bộ Chidori thật sự nghĩ rằng Tsugumi không quen ai ngoài mấy đứa bạn ở trường sao? Cô ấy cũng không có sai, nhưng nghe điều đấy từ chính người nhà của cậu thì đau lòng thật đấy.</p><p id="51">Mặc dù trong lòng thấy buồn phiền, Tsugumi cười lên để lấy lại sự bình tĩnh của mình .</p><p id="52">“Đừng lo, em không có cố tới bắt chuyện với một đứa nhóc tiểu học đâu. Em sẽ chỉ đứng từ xa vẫy tay chào em ấy thôi.”</p><p id="53">Trước những lời của Tsugumi, Chidori trố mắt ra nhìn cậu.</p><p id="54">“…Ừm, cô bé là một học sinh tiểu học sao?’</p><p id="55">“Ừa? Đúng vậy đấy”</p><p id="56">“Ra là vậy, đó là tại sao cô bé có buổi đi thực địa… Hoá ra là do mình hiểu nhầm cả…”</p><p id="57">Chidori đang khẽ lẩm bẩm cái gì đó mà Tsugumi không thể nghe được. Và rồi, với cái nhìn khó mà phân biệt được đó là vui hay buồn, Chidori thở dài. Cổ bị cái gì vậy, thật đấy?</p><p id="58">Sau đó, Chidori hành động như chưa có chuyện gì xảy ra cả, nhưng hình như cô ấy không muốn nói đến chuyện này nữa. Còn với Tsugumi thì cậu không muốn nói về Itadori nữa nên cậu rất biết ơn cô ấy không đào sâu vào chuyện này.</p><p id="59">–Buổi lễ chào mừng bắt đầu và ngay khi cậu định vào công viên, một tiếng báo động chói tai reo lên từ điện thoại của những người tụ tập ở quảng trường.</p><p id="60">“C-Cái gì vậy?!”</p><p id="61">“Không đời nào, một con ma thú sao? Trong thời điểm này ừ, nó là trò đùa phải không?”</p><p id="62">Những giọng nói như thế vang lên khắp nơi. Với cái nhìn chua chát, Tsugumi lấy điện thoại cậu ra và kiểm tra màn hình báo động.</p><p id="63">“–Một giờ nữa, một con ma thú hạng D sẽ đến đây. …Tại sao cứ thêm chuyện thế nhỉ?”</p><p id="64">“Đúng đấy. …Em có muốn thi thoảng cùng chị đi xả xui không?”</p><p id="65">“Có lẽ đó là ý kiến hay đấy.”</p><p id="66">Tsugumi và Chidori nhún vai nhìn nhau. Giống như đợt Hakone, một con ma thú sẽ xuất hiện ở cái công viên giải trí này . Vì nó hạng D nên cũng không quá khó khăn, nhưng cho đến khi nó chắc chắn bị tiêu diệt thì họ sẽ không thể ở đây được.</p><p id="67">Sớm nhất thì khoảng 2 tiếng nữa họ mới vào công viên chơi được .</p><p id="68">“Vậy chị định làm gì? Chúng ta sẽ phải rời khỏi đây nên mình đi ăn trưa đâu đó được không?”</p><p id="69">“Thế nghe được hơn đấy… Chị không muốn đứng chờ ở cổng suốt hai tiếng đâu.”</p><p id="70">Chidori nhìn xuỗng và buồn bã nói. Thấy thế, Tsugumi cảm thấy có lỗi với cô. Cậu không có mời cô ấy tới đây để làm cổ buồn.</p><p id="71">Dù vậy, cậu vẫn tự hỏi tại sao con ma thú lại đến đây vào hôm nay. Có khá nhiều nơi có nhiều người tụ tập mà.</p><p id="72">Dựa vào thông báo được gửi đến điện thoại cậu, có vẻ như họ đã chỉ định một  ma pháp thiếu nữ đến đây. Hình như cô gái đó không phải ma pháp thiếu nữ của chính phủ mà là một ma pháp thiếu nữ độc lập .</p><p id="73">Cô ấy hoạt động cùng thời điểm với Tsugumi – Hagakure Sakura và số vụ đã giải quyết thì là hai hạng E và một hạng D. Chính phủ có lẽ sẽ gửi thêm một ma pháp thiếu nữ để phòng trường hợp bất trắc, vậy nên chẳng có gì phải lo cả.</p><p id="74">Và như thế,các nhân viên hướng dẫn Tsugumi và Chidori đi tới phía Đông, chỗ của cái cổng. Trên đường, cậu có thể thấy một nhóm trẻ trong đồng phục học viện Asuka Academy hướng tới cổng Nam, nhưng cậu không thể tìm thấy Itadori.</p><p id="75">Vài cô bé có vẻ như rất mong đợi sự kiện ngày hôm nay. Thật là đáng tiếc, nhưng cậu chỉ có thể hy vọng cô ma pháp thiếu nữ đánh bại con ma thú càng sớm càng tốt.</p><p id="76">◆◆◆</p><p id="77">“…Dòng người như này có vẻ như sẽ lâu lắm đây.”</p><p id="78">Tsugumi lẩm bẩm trong khi nhìn chằm chằm vào cái cổng ở đằng xa. Thật tốt khi tới gần cái cổng, nhưng với dòng người thế này thì khó mà tới đó được.</p><p id="79">“Có vẻ như làm thủ tục vào lại sẽ khó khăn lắm . Em biết đấy, nhiều người đến thế này cơ mà.”</p><p id="80">“Đúng vậy thật. Em nghĩ là do mọi người đều mất bình tĩnh khi gặp chuyện lớn cả.”</p><p id="81">–Dù cho họ không ra kịp trước khi con ma thú xuất hiện đi nữa, người bình thường vẫn sẽ được kết giới đẩy ra thôi, vậy nên chẳng có vấn đề gì to tát lắm. Tuy nhiên, cậu cũng không nghĩ rằng cứ ngồi đấy mà không chịu sơ tán là một sự lựa chọn đúng đắn.</p><p id="82">Dù cho mọi người có tin vào ma pháp thiếu nữ đến mấy đi chăng nữa thì vẫn có lúc phải đề phòng trước. Chí ít thì họ cũng nên xoay sở trong những lúc thế này đúng cách. Tsugumi tin chắc vào điều ấy vì những rắc rối mà cậu phải giải quyết trong quá khứ.</p><p id="83">“Chị lo cho Tsugumi hơn nhiều. Đừng quá lo lắng, chúng ta còn tận 30 phút cơ mà.”</p><p id="84">–Ngay khi Chidori nói thế, một đứa bé bên cạnh cô ấy chỉ tay lên trời và hét lên.</p><p id="85">“Nè, Mẹ ơi! Nhìn kìa–có một cái cầu vồng lớn thật đấy!”</p><p id="86">“…Cầu vồng? Mặc dù trời không có mưa sao?”</p><p id="87">Trước những lời đó, Tsugumi nhìn lên trời. Ở đó, cậu không thể tin nổi vào mắt mình.</p><p id="88">–Trên bầu trời không phải là một cái cầu vồng. Đó chính là một ranh giới bị bóp méo, giống như một hiện tượng cực quang lộn xộn vậy. Cảnh tượng đó làm cậu thấy chán ghét.</p><p id="89">“…Hử? Sao tầm nhìn mình nó cứ chao đảo vậy nhỉ.”</p><p id="90">Sau đó, Chidori giữ lấy trán mình và bắt đầu loạng choạng, bám vào cánh tay của Tsugumi. Cô chớp mắt một cách đau đớn và trông rất khổ sở.</p><p id="91">Mặt cậu cắt không còn giọt máu. Điều như vậy không thể nào là sự thật. Thế nhưng, Tsugumi không thể phủ nhận cái cậu nghĩ tới được.</p><p id="92">–Các triệu chứng của Chidori tương tự với các triệu chứng một ma pháp thiếu nữ đang thiết lập kết giới giữa chừng sẽ gặp phải vậy.</p><p id="93">“–Chidori!!”</p><p id="94">Cậu hét lên, nắm lấy tay của Chidori và ôm nó vào lồng ngực cậu. Có một tiếng hét nhỏ và chút kháng cự nhưng cậu không quan tâm đến chuyện đó.</p><p id="95">“Hử, Gì vậy? Có chuyện gì vậy?”</p><p id="96">Chidori đỏ mặt và cố đẩy Tsugumi ra, nhưng cậu không chịu buông cô ra. Nếu giờ cậu thả cánh tay đó ra, Tsugumi chắc chắn sẽ hối hận đến hết đời mình. Sau đó, theo sau Chidori, với sự nhẹ nhõm trước tầm nhìn bắt đầu chao đảo của cậu, cậu nói như muốn hét lên.</p><p id="97">“Em sẽ bảo vệ chị.”</p><p id="98">Tsugumi nói như thể là một lời thề nguyền.</p><p id="99">Có lẽ mọi thứ đang tiến tới viễn cảnh tồi tệ nhất. Kìm nén mong muốn hét lên rằng 'Tại sao, tại sao lại là bọn tôi?’, Tsugumi ôm chặt Chidori.</p><p id="100">Trước khi Bell cứu cậu – Tsugumi vẫn còn nhớ nỗi tuyệt vọng khi con Gargoyle đuổi giết cậu cứ như thể nó mới xảy ra ngày hôm qua. Cậu không thể để Chidori trải nghiệm cái cảm giác đó được.</p><p id="101">–Cho dù có là một con ma thú đi chăng nữa, cậu chắc chắn sẽ để Chidori thoát được.</p><p id="102">“Em chắc chắn sẽ cứu chị…!”</p><p id="103">–Với những lời đó, Tsugumi và Chidori biến mất tại chỗ.</p><p id="104">Do con ma thú xuất hiện sớm hơn dự đoán, có tới sáu người bị mắc kẹt trong kết giới được triển khai một cách vội vã. Sẽ là một điều kì diệu nếu họ có thể sống sót.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23410-hagakure-sakura-does-not-lament/c291226-chuong-10-con-duong-lat-bang-thien-y" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23410-hagakure-sakura-does-not-lament" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23410-hagakure-sakura-does-not-lament" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3166427"
    class="ln-comment-item mt-3 clear"
    data-comment="3166427" 
    data-parent="3166427" 
    data-type="chapter" 
    data-typeid="291228">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u120875-3805bd34-1198-48ca-a808-b1fc59768c98.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/120875">Hikittk</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Như này tỉ lệ cao lộ rồi
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac?comment_id=3166427#ln-comment-3166427"
                            class="text-slate-500">
                            <time class="timeago" title="16-01-2026 21:11:55"
                                datetime="2026-01-16T21:11:55+07:00">
                                16-01-2026 21:11:55
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

        <div class="ln-comment-reply">
            <div id="ln-comment-3166647"
    class="ln-comment-item mt-3 clear"
    data-comment="3166647" 
    data-parent="3166427" 
    data-type="chapter" 
    data-typeid="291228">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u191720-e785b13d-f290-48e1-91c7-8a4da5fc2fd9.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/191720">Super Vegeta</a>
    </div>
                        <div class="self-center">
                <div
                    class="flex gap-1 rounded-sm shadow-[inset_0px_0px_0px_2px_#E63950] dark:bg-[#E63950]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#E63950] dark:text-[#FDCB02]">
                    <img class="my-auto h-[14px]" src="/img/badge/owner.png" />
                    <div class="leading-4">CHỦ THỚT</div>
                </div>
            </div>
                                    <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
        </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Không. Chidori chuẩn bị trở thành ma pháp thiếu nữ, main thì màu đen, thì phải có màu trắng🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23410-hagakure-sakura-does-not-lament/c291228-chuong-11-than-khong-choi-xuc-xac?comment_id=3166427&amp;reply_id=3166647#ln-comment-3166647"
                            class="text-slate-500">
                            <time class="timeago" title="16-01-2026 23:16:15"
                                datetime="2026-01-16T23:16:15+07:00">
                                16-01-2026 23:16:15
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
    
                
    </div>
    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'urSpdyuhABTcOqUWzCyri8vCPVI1wF3B5gqiRpvc';
        var comment_type = 'chapter';
        var comment_typeid = '291228';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'urSpdyuhABTcOqUWzCyri8vCPVI1wF3B5gqiRpvc';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23410');
    chapter_id = parseInt('291228');

    readingObject = {
        series_id: series_id,
        series_title: 'Hagakure Sakura Does Not Lament',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="urSpdyuhABTcOqUWzCyri8vCPVI1wF3B5gqiRpvc" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc My Friend’s Harem Is Obsessed With Me - Chương 45: Đi Gặp Một Người - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Sau khi chết, tôi quay trở về học viện mà tôi đã từng bị đuổi học. Kỳ lạ thay, đám bạn nữ của bạn tôi cứ liên tục tán tỉnh tôi.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ihHGRotMUlU4uCCozAvnDm5cweixVyvxI1yC0FpK">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s19309-3f0b098c-ca56-4da6-8944-8ab238ef567d.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275487-chuong-44-giai-doan-chuan-bi-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/19309-my-friends-harem-is-obsessed-with-me"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi" style="background: url('https://i.hako.vn/ln/series/covers/s19309-3f0b098c-ca56-4da6-8944-8ab238ef567d.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me">My Friend’s Harem Is Obse...</a></h5>
                    <small><i class="fas fa-pen"></i>_172</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c147181-minh-hoa">WN (1-40)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/t35054-wn-41">WN (41-?)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c273805-chuong-41-chap-nhan">
                                                                        Chương 41: Chấp Nhận
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c274521-chuong-42-buoi-tap-vo-kich">
                                                                        Chương 42: Buổi Tập Vở Kịch
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c274850-chuong-43-giai-doan-chuan-bi-1">
                                                                        Chương 43: Giai Đoạn Chuẩn Bị (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275487-chuong-44-giai-doan-chuan-bi-2">
                                                                        Chương 44: Giai Đoạn Chuẩn Bị (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi">
                                                                        Chương 45: Đi Gặp Một Người
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">WN (41-?)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 45: Đi Gặp Một Người</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi#chapter-comments" style="text-decoration: underline">4 Bình luận</a> -
                        Độ dài: 2,432 từ - Cập nhật: 
                        <time class="topic-time timeago" title="19-12-2025 22:30:02" datetime="2025-12-19T22:30:02+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 45: Đi Gặp Một Người</p>
                    <p id="1">“Cậu diễn tốt đấy chứ?”</p><p id="2">Sau khi tập xong, tôi ra ngoài hóng gió để thả lỏng cơ thể đang mỏi nhừ, thì một cô gái tóc đen ngắn lặng lẽ tiến lại gần.</p><p id="3">Là Hayun.</p><p id="4">Hôm nay, tôi đã giới thiệu cô ấy với đội trang phục để cô có thể bán hoặc nhận đơn làm mấy món đồ cần thiết. Nhìn bầu không khí giữa bọn họ thì có vẻ như mọi chuyện đang khá tốt đẹp.</p><p id="5">“Giáo sư Vertio đúng là một thiên tài nhỉ?”</p><p id="6">Không chỉ viết kịch bản, ông ta còn xuất sắc trong việc xây dựng bầu không khí tổng thể, chỉ đạo sân khấu, và hướng dẫn diễn xuất cho từng người một.</p><p id="7">Nhờ vậy mà kỹ năng diễn xuất của tôi đã tiến bộ hơn đáng kể, dù tôi biết rõ nó chỉ giới hạn trong vai nhân vật ‘Gary’ thôi.</p><p id="8">“Tôi nghe nói sẽ có người từ đoàn kịch đến xem nữa đấy. Họ muốn kiểm tra xem trong số học sinh được giáo sư Vertio đào tạo, có ai là diễn viên đầy triển vọng và tài năng không.”</p><p id="9">“Vậy à?”</p><p id="10">“Ừ, thầy ấy nổi tiếng là có con mắt nhìn người mà.”</p><p id="11">Quả thật, nhìn cách ông ta phân vai diễn mà thấy ai ai cũng có nét gì đó phù hợp với nhân vật cả. Nhờ vậy mà mọi người đều có thể diễn xuất một cách tự nhiên.</p><p id="12">“Cơ mà lúc diễn với chị Seria ấy, trông cậu có hơi gượng gạo nhỉ?”</p><p id="13">“……”</p><p id="14">Cô ấy chọc đúng chỗ đau thật.</p><p id="15">Seria Deloa.</p><p id="16">Học sinh Lớp C năm 4, là nữ chính cạnh tranh với Rin để giành lấy trái tim của Ares trong vở kịch lần này.</p><p id="17">Nghe nói nếu phải chọn ra nữ sinh đẹp nhất trong khóa năm 4, thì cái tên Seria Deloa sẽ được nhắc đến nhiều nhất.</p><p id="18">Nhưng vấn đề không phải nằm ở chỗ đó, mà là……</p><p id="19">‘Nhân vật chị ta đóng lại trùng tên với Eris.’</p><p id="20">Eris không phải là một cái tên hiếm nên tôi có thể hiểu, nhưng trong lòng tôi vẫn thấy lấn cấn.</p><p id="21">Mỗi lần đọc thoại nói rằng sẽ chiếm lấy Eris, tôi lại để tâm tư của mình xen vào, khiến cho lương tâm cứ bị cắn rứt từng đợt một.</p><p id="22">Làm thì vẫn làm thôi, nhưng có vẻ như tôi không thực sự hợp với diễn kịch rồi.</p><p id="23">“Mà, mong sao mọi chuyện kết thúc sớm.”</p><p id="24">Dạo gần đây tôi phải tập diễn kịch cho đến tận đêm khuya, nên trong lòng không khỏi cảm thấy bức bối.</p><p id="25">Chỉ cầu mong lễ hội mau qua thật nhanh.</p><p id="26">Thứ an ủi tôi duy nhất chính là việc chúng tôi chỉ có một buổi diễn ở ngày thứ 4, ngày cuối cùng của lễ hội thôi, nên những ngày khác tôi sẽ không quá bận rộn.</p><p id="27">“Cố lên nhé. Lần này tôi nghe nói có cả người của Hoàng Gia đến xem nữa đấy.”</p><p id="28">Hayun nói để an ủi tôi, nhưng nó chẳng giúp tôi khá lên chút nào.</p><p id="29">***</p><p id="30">“Hah! Hah! Hah!”</p><p id="31">Giữa lúc mọi người đã chìm vào giấc ngủ, một nam sinh tóc vàng vẫn đang vung kiếm một cách điên cuồng.</p><p id="32">Ares Helias.</p><p id="33">Học sinh bị cấm ra khỏi ký túc xá sau giờ giới nghiêm, và an ninh cũng đã siết chặt hơn sau vụ việc của Hare, nên cậu đang đổ mồ hôi nhễ nhại trên sân thượng ký túc xá.</p><p id="34">Tuy cậu đang vung kiếm liên tục không ngừng nghỉ, nhưng thực chất cậu lại chẳng hề tập trung tý nào cả.</p><p id="35">Đó không phải là luyện tập để nâng cao kỹ năng, mà giống như một sự giải tỏa để xua tan cơn giận thì đúng hơn.</p><p id="36">“Tại sao?”</p><p id="37">Bất chấp mọi sự nỗ lực cố gắng, ánh mắt sắc bén của người bạn cũ ấy vẫn cứ bám riết lấy tâm trí cậu.</p><p id="38">“Tại sao chứ??”</p><p id="39">Cậu dồn nhiều lực đến mức khiến cho cây kiếm tụt ra khỏi tay cậu. May mắn thay, cây kiếm va vào lan can rồi rơi xuống sân, chứ không có rơi ra ngoài.</p><p id="40">Nhìn vào cây kiếm nằm trên sân, Ares nghiến chặt răng.</p><p id="41"><em>Tại sao mình lại thua chứ? Hồi còn ở làng đâu có như vậy đâu?</em></p><p id="42">Dù đã giao đấu với Daniel vô số lần, cậu vẫn luôn là người giành chiến thắng.</p><p id="43">Tuy nhiên, từ khi đến Học viện thì mọi chuyện lại khác.</p><p id="44">Một lần trong kỳ thi thực hành.</p><p id="45">Và một lần nữa trong buổi đọc vở kịch hôm nọ.</p><p id="46">Thậm chí, cậu còn nghe nói Daniel đã một mình đánh bại Zavalanco, thủ lĩnh của đám côn đồ và là cựu đội trưởng của Hải Tặc Vương, kẻ mà cậu nghĩ rằng cả đời mình sẽ không bao giờ đánh bại được hắn.</p><p id="47"><em>Rốt cuộc bằng cách nào? Làm sao cậu ta có thể mạnh lên đột ngột đến như vậy được chứ?</em></p><p id="48">Rin vẫn thường nói điều này mỗi khi xem hai người họ giao đấu nhau:</p><p id="49">‘Daniel mà tự tin thêm một chút nữa thì sẽ mạnh hơn rất nhiều đấy. Chẳng qua tính cách cậu ấy nhút nhát nên di chuyển hay chậm chạp và lúng túng thôi.’</p><p id="50">Bản thân Daniel cũng biết điều đó, nhưng nó không phải là thứ cậu dễ dàng khắc phục được ngay cả.</p><p id="51">Bởi vì đây không phải là bẩm sinh, mà là do hoàn cảnh gây ra.</p><p id="52">Hai người bạn luôn ở bên cạnh cậu.</p><p id="53">Một người là Ares Helias, chàng trai với nụ cười tỏa sáng như mặt trời, ngoại hình điển trai được bao cô gái yêu mến, và sở hữu kiếm thuật xuất chúng.</p><p id="54">Người còn lại là Rin, cô gái với vẻ đẹp thuần khiết, là mối tình đầu của mọi con trai trong làng, vừa ân cần dịu dàng lại vừa có tài năng hiếm có về ma pháp.</p><p id="55">Đi cùng với hai người họ, một kẻ tầm thường như Daniel sẽ không thể không cảm thấy tự ti được.</p><p id="56">Ares biết điều này, và cho rằng bạn mình sớm muộn gì cũng sẽ tự vượt qua thôi.</p><p id="57">Nhưng cậu không ngờ rằng chỉ mới vượt qua rào cản đó thôi, Daniel lại thay đổi đến mức này.</p><p id="58">“Chết tiệt, chết tiệt, CHẾT TIỆT!”</p><p id="59">Cảm giác bất lực và thất bại chiếm lấy toàn thân cậu.</p><p id="60">Người bạn luôn lẽo đẽo theo sau mình giờ đây đã đứng ở vị trí cao hơn. Điều này đã khơi dậy trong Ares một cảm xúc mãnh liệt hơn bao giờ hết.</p><p id="61">Một chàng trai thân thiện và tốt bụng với tất cả mọi người.</p><p id="62">Một chàng trai nổi tiếng mà hầu hết các nữ sinh đều mơ ước muốn được hẹn hò với cậu.</p><p id="63">Nhưng nếu hỏi liệu bản chất của Ares có thực sự là một người như thế không, thì câu trả lời là không.</p><p id="64">Cậu làm vậy là vì nó không chỉ giúp cuộc sống ở Học viện dễ dàng hơn, mà còn mang lại cho cậu một cảm giác thỏa mãn kỳ lạ.</p><p id="65">Thế nên, đó là lý do tại sao dù cho thích Rin, cậu vẫn không từ chối những cô gái đang theo đuổi mình.</p><p id="66">Việc những cô gái tài năng cứ lẽo đẽo theo sau mình đã mang lại cho Ares một cảm giác siêu việt đến khó tả.</p><p id="67">"Argh!"</p><p id="68">Nhưng kể từ khi Daniel đến Học viện, mọi thứ dường như đã thay đổi.</p><p id="69">Từ Tana Krista, xuất thân từ chi thứ của dòng họ Meias danh giá.</p><p id="70">Cho đến Mei Plov, cháu gái của Hiệu trưởng Học viện Aeios.</p><p id="71">Thậm chí cả Hayun, kiếm sĩ đến từ phương Đông, cô gái có ngoại hình hợp gu Ares, cũng bắt đầu lạnh nhạt với cậu.</p><p id="72">“Không được, không thể để mọi việc cứ tiếp diễn thế này mãi được."</p><p id="73"><em>Mình phải luôn ở vị trí cao hơn Daniel.</em></p><p id="74"><em>Và rồi sẽ tiến thêm một bước xa hơn với Rin.</em></p><p id="75">Nghĩ vậy, Ares siết chặt nắm tay lại…</p><p id="76">“……!”</p><p id="77">Thì đúng lúc đó, trên mu bàn tay cậu bắt đầu hiện lên một hoa văn màu vàng và sáng lên rực rỡ.</p><p id="78">“Hả??”</p><p id="79">Cảm giác như cơ thể đang được bao bọc bởi ánh nắng mặt trời ấm áp vậy.</p><p id="80">Ares liền hiểu ra dấu ấn trên mu bàn tay mình mang ý nghĩa gì.</p><p id="81">Thần Mặt Trời, Helios.</p><p id="82">Ngài ấy đã chọn cậu.</p><p id="83">***</p><p id="84">“Hah, hah, hah…”</p><p id="85">Trong khi Ares đang được Thần Mặt Trời lựa chọn trên sân thượng, thì tại khu ký túc xá nữ tầng 4, Adriana, một trong những con cá của Ares, cũng đang bận rộn chuẩn bị.</p><p id="86">“Còn… chỗ này nữa…”</p><p id="87">Cửa sổ phòng cô đã đóng kín hoàn toàn bằng tấm ván gỗ. Không chỉ thế, trên những tấm ván ấy còn được khắc vô số lớp ma pháp chồng chéo lên nhau.</p><p id="88">“Xo-Xong rồi.”</p><p id="89">Trong ao cá của Ares, Adriana luôn đóng vai làm một người chị biết quan tâm và luôn nhường nhịn người khác. Nhưng hiện tại, bầu không khí xung quanh cô đã thay đổi hoàn toàn.</p><p id="90">Đôi mắt ánh lên vẻ điên dại, đôi tay di chuyển một cách vội vã như không muốn lãng phí bất kỳ giây phút nào, và đôi chân thì run bần bật mất kiểm soát.</p><p id="91">Cô không ngừng lẩm bẩm như một cái máy ghi âm bị hỏng, và luôn nói mấy câu như “Sẽ sống.”, “Mình sẽ sống sót.”, “Phải, mình sẽ không chết đâu.”</p><p id="92">Sẽ sống sót.</p><p id="93">Sẽ không chết đâu.</p><p id="94">Cô cứ lặp đi lặp lại những lời này như thể đang niệm chú gì đó.</p><p id="95">Đây không phải lần đầu tiên Adriana có hành động như vậy.</p><p id="96">Hồi năm nhất và năm hai cũng vậy. Cứ mỗi lần đến giai đoạn lễ hội của học viện, cô sẽ luôn làm những chuyện này và cố gắng sống sót.</p><p id="97">Nếu hỏi tại sao làm vậy, thì câu trả lời nằm ở bí mật thân phận của cô.</p><p id="98">Phù thủy của Hắc Lâm.</p><p id="99">Một bộ tộc bí ẩn và cấm đoán, sống ẩn dật dưới lòng đất của Khu Rừng Ma Giới.</p><p id="100">Họ là đối tượng bị săn đuổi và tàn sát bởi sự căm ghét của các vị thần, buộc phải trốn chui lủi dưới lòng đất mà sống lay lắt không khác gì sâu bọ.</p><p id="101">Lý do các vị thần ghét bọn họ, là vì họ là những con người duy nhất có khả năng nhìn thấy được vận mệnh.</p><p id="102">Chính vì khả năng đó nên Adriana mới nhập học tại Học viện Aeios.</p><p id="103">‘Ở học viện Aeios này sẽ có một người đàn ông có thể cứu rỗi lấy mình.’</p><p id="104">Viễn cảnh mà cô nhìn thấy trong ảo ảnh chính là thời gian diễn ra lễ hội.</p><p id="105">Hàng vạn côn trùng bay lúc nhúc, và ở giữa bọn chúng là một con ma thú sở hữu sức mạnh khủng khiếp đang muốn giết chết cô.</p><p id="106">Nhưng đứng ở trước mặt cô, sẽ có một người giơ cao thanh kiếm lên chĩa về phía con ma thú đó.</p><p id="107">Một người đàn ông với mái tóc vàng.</p><p id="108">Suốt 2 năm vừa qua, cô đã đi khắp nơi để tìm kiếm người đàn ông đó. Do không rõ trang phục như thế nào, nên cô không biết liệu đó là học sinh, giáo sư hay người ngoài đến tham gia lễ hội nữa.</p><p id="109">Cho đến khi lên năm 3, cũng là lúc Ares Helias nhập học, Adriana chắc chắn một điều rằng.</p><p id="110">Chính là người con trai này.</p><p id="111">Người này là sự tồn tại duy nhất trên thế giới có thể ngăn chặn được cái chết đã định sẵn cho cô.</p><p id="112">Vì thế, Adriana đã chạy đến bên Ares với tâm thế sẵn sàng dâng hiến tất cả.</p><p id="113">“Mình sẽ sống sót…”</p><p id="114">Các phù thuỷ Hắc Lâm đều luôn có sự ám ảnh quá mức với mạng sống của mình, và Adrian cũng không phải ngoại lệ.</p><p id="115">Cô sẽ tìm mọi cách để có thể sống sót.</p><p id="116">Cần tiền thì cô sẽ đưa.</p><p id="117">Cần thứ gì thì cô sẽ kiếm cho.</p><p id="118">Cần bán thân thì cô sẽ cởi đồ.</p><p id="119">Cần tình cảm thì cô sẽ nói những lời yêu thương.</p><p id="120">“Sống sót…! Mình sẽ sống sót! CHO ĐẾN TẬN CÙNG!”</p><p id="121">Đối mặt với số phận này nay đã được 4 năm.</p><p id="122">Cô gái bé nhỏ ấy đã hoàn toàn suy sụp bởi nỗi sợ hãi về cái chết được báo trước có thể xảy ra bất cứ lúc nào.</p><p id="123">***</p><p id="124">Yggdrasil, mệnh danh là “Nóc Nhà của Lục Địa”.</p><p id="125">Dưới sự bảo hộ của cây cổ đại khổng lồ ấy, vô số người Elf đã xây dựng tổ ấm và sinh sống tại nơi này.</p><p id="126">Đây là thành phố, và cũng là nơi trú ẩn duy nhất của tộc Elf.</p><p id="127">Việc người ngoài không phải Elf đặt chân đến đây gần như là bất khả thi. Và nếu bị phát hiện xâm nhập trái phép, họ có thể bị bắn chết ngay lập tức mà không có một lời cảnh báo nào cả.</p><p id="128">Một nơi thánh địa bất khả xâm phạm.</p><p id="129">Tộc Elf không có ham muốn quyền lực hay vật chất như con người, nên thực ra nơi này giống một ngôi làng hơn là thành phố.</p><p id="130">Tại lối vào bí mật của nơi đó, Nữ Hoàng Elf hỏi người phụ nữ mang danh hiệu “Thủ Hộ Giả”, một danh hiệu chỉ dành cho những chiến binh vĩ đại nhất bảo vệ Yggdrasil và tộc Elf.</p><p id="131">“Cô không cần phải cố quá sức đâu.”</p><p id="132">“Vâng, thần biết rồi ạ.”</p><p id="133">Một ngoại hình của Elf điển hình.</p><p id="134">Sở hữu mái tóc vàng, đôi tai nhọn, mắt xanh biếc.</p><p id="135">Cô gật đầu quả quyết, nở một nụ cười yêu kiều có thể làm cho mọi người cảm nhận được sự bình yên.</p><p id="136">“Chị Eris, chị định đi đâu vậy ạ?”</p><p id="137">Đứa bé nhà hàng xóm hay chơi cùng Eris, vừa hỏi vừa khóc mếu máo bám lấy chân cô. Eris cười gượng gạo, xoa đầu đứa bé.</p><p id="138">“Chị phải đến một thành phố có tên là Elgrid. Chị sẽ sớm về thôi nhé?”</p><p id="139">Đứa bé nghiêng đầu bối rối.</p><p id="140">Do chưa từng rời khỏi Yggdrasil bao giờ, nên đứa bé không biết Elgrid là gì cả.</p><p id="141">“Tại sao chị phải đi ạ?”</p><p id="142">Trông đứa bé như thể muốn níu kéo Eris ở lại bằng mọi giá. Tuy nhiên, lần này cô lại mỉm cười rạng rỡ mà trả lời.</p><p id="143">“Đi gặp một người.”</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275487-chuong-44-giai-doan-chuan-bi-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(4)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">4 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3131011"
    class="ln-comment-item mt-3 clear"
    data-comment="3131011" 
    data-parent="3131011" 
    data-type="chapter" 
    data-typeid="275564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua16395-29b8cea8-a3ff-44e9-8f53-7b4203cff7cc.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/16395">Evisiro</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        eris nếu giống ain thì peak vl, 2 vợ chồng trốn r kiếm chỗ nào đó r sinh con đẻ cái
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi?comment_id=3131011#ln-comment-3131011"
                            class="text-slate-500">
                            <time class="timeago" title="19-12-2025 22:56:24"
                                datetime="2025-12-19T22:56:24+07:00">
                                19-12-2025 22:56:24
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3131010"
    class="ln-comment-item mt-3 clear"
    data-comment="3131010" 
    data-parent="3131010" 
    data-type="chapter" 
    data-typeid="275564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u164982-9bc39b4a-5d54-4d66-9ad8-76c654613e4f.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/164982">Chilamotreaderquaduong</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Ê ê, có khi nào cũng tái sinh ko vậy.<br>
 <br>
Mà thần mặt trời chọn à, đúng aura rồi
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi?comment_id=3131010#ln-comment-3131010"
                            class="text-slate-500">
                            <time class="timeago" title="19-12-2025 22:56:13"
                                datetime="2025-12-19T22:56:13+07:00">
                                19-12-2025 22:56:13
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3130975"
    class="ln-comment-item mt-3 clear"
    data-comment="3130975" 
    data-parent="3130975" 
    data-type="chapter" 
    data-typeid="275564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u218680-142bb7f1-040b-412c-bb38-0c064b6a4206.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/218680">Mariana23</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Đi gặp ck đko 🐧🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi?comment_id=3130975#ln-comment-3130975"
                            class="text-slate-500">
                            <time class="timeago" title="19-12-2025 22:40:10"
                                datetime="2025-12-19T22:40:10+07:00">
                                19-12-2025 22:40:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3130970"
    class="ln-comment-item mt-3 clear"
    data-comment="3130970" 
    data-parent="3130970" 
    data-type="chapter" 
    data-typeid="275564">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u217516-71ad82f9-2b7c-4215-84af-f56ebdcf28eb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/217516">T Đ Anh</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Temmmm<br>
Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi?comment_id=3130970#ln-comment-3130970"
                            class="text-slate-500">
                            <time class="timeago" title="19-12-2025 22:37:36"
                                datetime="2025-12-19T22:37:36+07:00">
                                19-12-2025 22:37:36
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold">1</span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ihHGRotMUlU4uCCozAvnDm5cweixVyvxI1yC0FpK';
        var comment_type = 'chapter';
        var comment_typeid = '275564';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ihHGRotMUlU4uCCozAvnDm5cweixVyvxI1yC0FpK';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('19309');
    chapter_id = parseInt('275564');

    readingObject = {
        series_id: series_id,
        series_title: 'My Friend’s Harem Is Obsessed With Me',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ihHGRotMUlU4uCCozAvnDm5cweixVyvxI1yC0FpK" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc My Friend’s Harem Is Obsessed With Me - Chương 46: Ares Phiên Bản Nữ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Sau khi chết, tôi quay trở về học viện mà tôi đã từng bị đuổi học. Kỳ lạ thay, đám bạn nữ của bạn tôi cứ liên tục tán tỉnh tôi.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="gVqVh1oWe2L16LQ8PfWtuJ4lAH4fYvoFmDfd9bLV">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s19309-3f0b098c-ca56-4da6-8944-8ab238ef567d.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/19309-my-friends-harem-is-obsessed-with-me"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu" style="background: url('https://i.hako.vn/ln/series/covers/s19309-3f0b098c-ca56-4da6-8944-8ab238ef567d.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me">My Friend’s Harem Is Obse...</a></h5>
                    <small><i class="fas fa-pen"></i>_172</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c147181-minh-hoa">WN (1-40)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/t35054-wn-41">WN (41-?)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c273805-chuong-41-chap-nhan">
                                                                        Chương 41: Chấp Nhận
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c274521-chuong-42-buoi-tap-vo-kich">
                                                                        Chương 42: Buổi Tập Vở Kịch
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c274850-chuong-43-giai-doan-chuan-bi-1">
                                                                        Chương 43: Giai Đoạn Chuẩn Bị (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275487-chuong-44-giai-doan-chuan-bi-2">
                                                                        Chương 44: Giai Đoạn Chuẩn Bị (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi">
                                                                        Chương 45: Đi Gặp Một Người
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu">
                                                                        Chương 46: Ares Phiên Bản Nữ
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">WN (41-?)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 46: Ares Phiên Bản Nữ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu#chapter-comments" style="text-decoration: underline">5 Bình luận</a> -
                        Độ dài: 2,260 từ - Cập nhật: 
                        <time class="topic-time timeago" title="21-12-2025 20:37:07" datetime="2025-12-21T20:37:07+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 46: Ares Phiên Bản Nữ</p>
                    <p id="1"><em>Bùm! Bùm! Bùm!</em></p><p id="2">Mặc dù trời vẫn còn sáng, nhưng lại có những pháo hoa bắn lên trời khiến cho tinh thần của các học sinh phấn chấn lên hẳn.</p><p id="3">Từ cổng chính cho đến vào bên trong khuôn viên học viện, đâu đâu cũng đều chật kín các gian hàng của mỗi lớp, hoặc của cá nhân tự mở. Tiếng cười rộn rã, reo hò phấn khích của dòng người đổ dồn vào như thể họ đã chờ đợi ngày này từ lâu lắm rồi.</p><p id="4">Lễ hội 4 ngày nhộn nhiệt và đầy hứa hẹn của Học viện Aeios đã chính thức bắt đầu.</p><p id="5">“Hồ, đông người thật đấy.”</p><p id="6">Tôi buông lời cảm thán khi nhìn ra ngoài cửa sổ, thì Tana lên tiếng với giọng điệu cáu kỉnh.</p><p id="7">“Nhìn cái tên lười nhác đang tự sướng một mình kìa. Này, nếu rảnh rỗi thì vào phụ một tay coi.”</p><p id="8">Lớp E năm 3 bọn tôi mở một quán bán bánh kếp.</p><p id="9">Tana thì phụ trách bưng bê, còn Eve thì phụ trách nấu nướng. Cô ấy bảo đã từng làm món này cho mấy đứa em của cổ ăn vài lần rồi.</p><p id="10">“Nngh!”</p><p id="11">Thấy Eve loay hoay mãi mới bê được chồng ghế 5 cái mang ra ngoài, tôi không thể đứng nhìn thêm mà không làm gì được nữa.</p><p id="12">“Haiz, đưa đây cho tớ.”</p><p id="13">Tôi đỡ lấy phần dưới của chồng ghế mà nâng lên khiến Eve bất ngờ.</p><p id="14">Thấy cũng không nặng lắm nên tôi bê thêm 5 cái ghế nữa, còn Eve thì lon ton chạy theo sau.</p><p id="15">“Hì hì, cảm ơn cậu nhé.”</p><p id="16">“Do dạo này cậu toàn tập cardio giảm cân nên mới yếu như vậy đấy. Không được rồi, sau lễ hội này tớ phải cho cậu tập tạ mới được.”</p><p id="17">“Hmm, nếu giờ mình đẩy Daniel xuống cầu thang thì cậu ấy có chết không nhỉ?”</p><p id="18">Lời nói nghe thật đáng sợ, nhưng rồi con bé lè lưỡi, bảo là chỉ đùa thôi. </p><p id="19">Cơ mà xin lỗi nhé, tôi không có nói đùa đâu. Tôi chắc chắn sẽ cho Eve tập tạ ngay sau khi lễ hội kết thúc. </p><p id="20">Eve bé bỏng của tôi sẽ sớm không còn bé bỏng nữa rồi.</p><p id="21">Bởi vì cơ bắp sắp phình to ra mà.</p><p id="22">Nhìn Eve vô tư hát ngân nga trong miệng mà không biết gì về tương lai sắp tới của mình, tôi bắt đầu thấy có cảm giác tội lỗi.</p><p id="23">Tana đi theo sau cũng cười hỏi sao tự dưng lại tốt bụng giúp đỡ thế, rồi bỗng dưng nghiêng đầu mà thắc mắc.</p><p id="24">“Mà hôm nay không phải nhóm diễn kịch của cậu có buổi tụ tập riêng sao?”</p><p id="25">“Ờ phải rồi, Hayun có nói sẽ đến đó để bán đồ.”</p><p id="26">Cố lên nhé, cô nàng hoa khôi vượt khó.</p><p id="27">Tôi âm thầm cầu chúc cho Hayun bán đắt khách xong, rồi lắc đầu với vẻ mặt chán ghét.</p><p id="28">“Đến đó cũng đâu có làm được gì đâu? Chỉ toàn ngồi chém gió và ăn uống thôi mà.”</p><p id="29">Nói là tổ chức buổi tụ tập để thắt chặt tình đoàn kết hơn, nhưng tôi thấy chỉ tổ thêm phiền phức thôi.</p><p id="30">“Thế thì vào quán bọn tôi ăn bánh kếp đi.”</p><p id="31">“Phải rồi đó, để tớ làm bánh cho cậu ăn thử.”</p><p id="32">“Hmm, tôi không thích ăn đồ ngọt lắm, nhưng thôi cũng được.”</p><p id="33">Đang đi đến chỗ gian hàng của lớp, tôi chợt thấy có đám học sinh chạy hối hả từ đằng xa, liền lấy ghế che mặt mình lại.</p><p id="34">Chờ bọn chúng đi khuất mắt rồi, Tana mới bĩu môi nói.</p><p id="35">“Khiếp, đang có nhiều người bên ngoài mà chạy như điên vậy?”</p><p id="36">“Bọn họ không phải là đàn em của Mei sao?”</p><p id="37">“Ừ nhỉ? Nhìn chúng nó giống như đang tìm kiếm ai thì phải?”</p><p id="38">Phải, đám kia chính là đàn em của Mei. Và tôi cũng thừa biết bọn nó đang tìm ai, thế nên mới đang trốn trong Lớp E vắng tanh này.</p><p id="39">‘Con nhỏ đó huy động cả người đi tìm kiếm luôn à?’</p><p id="40">Tuy Mei nói rằng phải đi chơi lễ hội cùng cô suốt 4 ngày, nhưng điều đó không có nghĩa tôi phải nghe theo răm rắp đâu.</p><p id="41">‘Thách bọn bây bắt được anh mày đấy!’</p><p id="42">Cùng lắm tôi chỉ dành tối đa một ngày thôi, chứ không đời nào tôi lại để Mei kè kè bên cạnh suốt bốn ngày liền được.</p><p id="43">Nhất là dạo gần đây, trông cô ấy có vẻ hơi <em>sung sức</em> quá……</p><p id="44">Sau khi đặt chồng ghế xuống Lớp E, tôi rút ra một cái để ngồi xuống.</p><p id="45">Trong lúc tôi đang ẩn mình chờ đợi, thì thấy Eve trong tạp dề mang ra một đĩa bánh kếp vẫn còn nóng hổi và bốc khói nghi ngút.</p><p id="46">“Cậu thích ăn sirô gì?”</p><p id="47">“Gì cũng được.”</p><p id="48">“Oke.”</p><p id="49">Eve mỉm cười đưa cho tôi cái nĩa. Có vẻ như con bé muốn xem phản ứng của tôi nên chưa rời đi ngay. </p><p id="50">Đành ăn thử một miếng rồi cố tình khen lố một chút vậy.</p><p id="51">“Ưm, ưm. Ngon đấy. Tuy tớ không thích đồ ngọt lắm, nhưng cái này ngon á.”</p><p id="52">Đúng là nó ngon thật, nhưng vị của bánh kếp cũng chỉ có thế thôi.</p><p id="53">Dù vậy, Eve vẫn cười tít mắt trong vui sướng.</p><p id="54">“Hồi ở nhà, mấy đứa em tớ thích ăn cái này nên tớ hay làm cho mấy đứa nó ăn. Ngày nào trong nhà có mùi bánh kếp là ngày đó gia đình tớ hòa thuận lắm.”</p><p id="55">Nghe nói Eve cũng là một quý tộc, nhưng gia tộc cô ấy nhỏ và nằm ở vùng biên giới hẻo lánh, nên cũng chẳng khác gì một gia đình bình thường mấy.</p><p id="56">“Tuyệt thật nhỉ?”</p><p id="57">Quả thật, mùi hương thơm ngọt ngào lan tỏa trong nhà sẽ luôn gợi lại cho ta cảm giác về một gia đình hạnh phúc mà.</p><p id="58">Tôi vừa gật đầu nhai bánh vừa nghĩ ngợi, thì Eve ghé sát mặt lại gần mà cười tươi rói.</p><p id="59">“Nhỉ? Tuyệt lắm đúng không? Đó cũng là ước mơ của tớ đấy. Sau này lập gia đình, tớ muốn cùng các con làm bánh kếp trong bầu không khí bình yên và thư thả!”</p><p id="60">Ước mơ giản dị hơn tôi tưởng.</p><p id="61">‘À không, thực ra không giản dị lắm đâu.’</p><p id="62">Nếu tôi không ngăn cản được Rin thì nhân loại sẽ bị diệt vong trong 10 năm nữa. Nếu muốn thực hiện được ước mơ đó, con bé phải cưới gấp rồi đẻ ngay lập tức thì mới còn kịp.</p><p id="63">Thôi thì, để tớ cố gắng ngăn Rin lại vậy.</p><p id="64">“Tớ sẽ cố gắng giúp cậu.”</p><p id="65">Tôi vừa chọc chọc nĩa vào bánh, vừa lẩm bẩm trong miệng.</p><p id="66">“......Huh?”</p><p id="67">Thì mắt Eve bỗng mở to ra đầy vẻ kinh ngạc.</p><p id="68">Khoảnh khắc đó, tôi nhận ra mình đã lỡ lời.</p><p id="69">“À không, tớ không có ý đó. Xin lỗi, tớ chỉ lỡ lời thôi. Xin lỗi nhé.”</p><p id="70">Tôi cố gắng giải thích, nhưng Eve chỉ ngơ ngác nhìn tôi, rồi sau đó khẽ cười và nói nhỏ nhẹ.</p><p id="71">“Hãy cùng nhau cố gắng nhé.”</p><p id="72">“Đã bảo là không phải mà......”</p><p id="73">Nhưng Eve đã quay người rời đi.</p><p id="74">‘Cái thằng ngu này.’</p><p id="75">Thế này thì có khác gì tên Ares đâu chứ? Tôi thở dài nặng nề, tự trách bản thân khi nhìn theo bóng lưng Eve đang làm bánh kếp với khuôn mặt hơi ửng hồng.</p><p id="76">“Haizzz.”</p><p id="77">Rin và Mei chắc chắn có tình cảm với tôi. Họ tấn công dồn dập như thế kia thì ai mà chẳng nhận ra.</p><p id="78">Và có lẽ, cả Eve nữa.</p><p id="79">‘Tớ xin lỗi, nhưng mà……’</p><p id="80">Tôi nhìn lên bầu trời và hạ quyết tâm. </p><p id="81">Hết lễ hội này, tôi sẽ làm rõ mọi chuyện với cả ba người họ. Rằng tôi đã có người mình thích rồi, và sẽ không có ý định tiến tới mối quan hệ nam nữ với bất kỳ ai khác cả.</p><p id="82">Trường hợp của Rin thì tuy có nguy cơ bị mất kiểm soát, nhưng gần đây tôi thấy cô ấy đang tự kiềm chế bản thân mình khá tốt, nên chắc dần dần sẽ thích nghi được thôi.</p><p id="83">“Hahhh, mình nhớ Eris quá.”</p><p id="84">Tôi lẩm bẩm than thở, thì cảm nhận được có sự hiện diện ở đằng sau. Quay đầu lại nhìn thì thấy đó là đàn anh Aldrick, và đàn chị Seria năm 4.</p><p id="85">Cả hai cúi xuống nhìn tôi với ánh mắt kỳ lạ.</p><p id="86">Aldrick không biết nhìn vào đâu như thể vừa mới nghe thấy thứ không nên nghe, còn Seria thì chỉ mỉm cười đầy ẩn ý.</p><p id="87">‘Huh?’</p><p id="88">Đang thắc mắc tại sao hai người này lại ở đây trong khi phải ở buổi tụ tập của nhóm diễn kịch, thì đàn anh Aldrick hắng giọng nói.</p><p id="89">“Daniel, mấy anh chị nghĩ em đã quên có buổi tụ tập hôm nay, nên mới đến đón em nè.”</p><p id="90">“À……”</p><p id="91">Ra là đang kiếm mình.</p><p id="92">Giờ mà từ chối thì trông kỳ lắm, với lại tôi nghĩ cũng nên giữ khoảng cách với Eve lúc này.</p><p id="93">Thế là tôi chấp nhận đi theo bọn họ.</p><p id="94">Giữa lúc đang di chuyển, đàn anh Aldrick tự dưng tiến lại gần tôi, đẩy gọng kính lên và hỏi khẽ.</p><p id="95">“Em cũng đang để ý chị Seria à?”</p><p id="96">“……Huh?”</p><p id="97">Lại cái kịch bản cẩu huyết gì đây?</p><p id="98">Đàn anh Aldrick thì thầm trong khi lén nhìn Seria đang đi trước để đảm bảo chị ta không nghe thấy cuộc trò chuyện.</p><p id="99">Tôi vô thức nhăn mặt, nhưng anh ta lại tưởng rằng tôi đang cố che giấu sự xấu hổ mà vỗ vai an ủi.</p><p id="100">“Công nhận chị ấy đẹp thật. Có mái tóc và đôi mắt xanh bích như ngọc lục bảo, lại còn thân thiện với mọi người nữa.”</p><p id="101">“Em không cần anh phải mô tả đâu.”</p><p id="102">“Ừm, chắc em cũng biết hết rồi. Nhưng mà em phải cẩn thận đấy. Seria được đánh giá là mỹ nhân số một của khóa năm 4, nên chị ấy có nhiều người theo đuổi lắm. Thậm chí có mấy tên cuồng nhiệt đến mức lập hẳn một fanclub nữa cơ.”</p><p id="103">“Không, em không có thích chị ấy.”</p><p id="104">“Không sao đâu, anh sẽ giữ bí mật cho. Nhưng em vẫn phải cẩn thận thật đấy. Anh không muốn mất một hậu bối diễn tốt như em đâu. Với mối quan hệ rộng rãi của giáo sư Vertio thì chúng ta chắc chắn sẽ thành công, nên anh muốn một ngày nào đó sẽ cùng em bước lên sân khấu chuyên nghiệp.”</p><p id="105">Cái ông anh này có hiểu được tiếng người không vậy?</p><p id="106">Tôi lén nhìn vào lỗ tai anh ta xem có bị tắc nghẽn không, nhưng nó vẫn sạch sẽ, không có ráy tai nào cả.</p><p id="107">“Rốt cuộc tại sao anh lại nghĩ em thích chị ấy chứ?”</p><p id="108">Khi tôi hỏi ngược lại, đàn anh Aldrick lại nở nụ cười tinh nghịch. </p><p id="109">“Lúc nãy em vừa bảo là mình nhớ Eris quá mà?”</p><p id="110">“Thì liên quan gì……”</p><p id="111">Bấy giờ, một ký ức liền đập mạnh vào đầu tôi.</p><p id="112">Seria Deloa, người đóng vai nữ chính cạnh tranh với Rin để giành lấy Ares.</p><p id="113">Và nhân vật của chị ta… có tên là Eris.</p><p id="114">“Đệch mợ……”</p><p id="115">Tôi vỗ tay lên trán, tự nhủ bản thân cần phải cẩn thận cái mồm miệng hơn nữa.</p><p id="116">Vốn đang định giải thích sự hiểu lầm này, thì chúng tôi đã đến chỗ hội trường. Nhóm diễn kịch đang tụ tập lại thành những vòng tròn, vừa ăn uống vừa trò chuyện với nhau.</p><p id="117">Rin cười tươi rói vẫy tay gọi tôi, còn Mei thì trừng mắt nhìn như muốn thiêu đốt tôi vì tội biến đi đâu từ nãy giờ.</p><p id="118">“Em qua đây với chị.”</p><p id="119">Nhưng rồi bỗng dưng, đàn chị Seria lại nắm lấy cổ tay tôi mà kéo về phía chỗ nhóm năm 4 đang ngồi.</p><p id="120">Tôi còn chưa kịp hiểu chuyện gì đang xảy ra, thì chị ta đã ấn tôi ngồi xuống, rồi bắt đầu lấy đủ loại đồ ăn mang đến cho tôi.</p><p id="121">‘Chị ta bị cái gì vậy?’</p><p id="122">Nếu lúc nãy Seria cũng nghe thấy câu tôi nói giống như đàn anh Aldrick, thì có thể sẽ hiểu lầm rằng tôi thích chị ta.</p><p id="123">Cơ mà cái thái độ quay ngoắt 180 độ thế này thì có hơi kỳ lạ thật. Mặc dù bọn tôi có tiếp xúc nhiều trong lúc tập diễn, nhưng cũng đâu có thân thiết gì lắm đâu.</p><p id="124">Và hiển nhiên, biểu cảm của Rin dần trở nên lạnh lẽo khi nhìn giữa tôi và Seria, còn Mei thì lẩm bẩm chửi thề, cảnh báo rằng lát nữa sẽ tính sổ với tôi sau. </p><p id="125">“Chị đang làm gì vậy ạ?”</p><p id="126">Tôi hoang mang hỏi, nhưng Seria chỉ mỉm cười, lại còn định đút bánh quy đến tận miệng tôi nữa.</p><p id="127">“Cái?!”</p><p id="128">Ngoài hai đứa kia ra, tôi còn cảm nhận được vô số ánh mắt sắc bén khác đang ghim vào người mình.</p><p id="129">Ánh mắt ghen tỵ của đám nam sinh năm 4.</p><p id="130">Tôi liếc nhìn qua Ares đang ngồi ở giữa đám con gái phía đối diện, rồi nhìn lại Seria đang đưa bánh quy cho mình.</p><p id="131">Trực giác của một thằng con trai sống 18 năm làm bạn thuở nhỏ của Ares đang gào thét tôi rằng:</p><p id="132">‘Con nhỏ này… không lẽ là Ares phiên bản nữ à??’</p><p id="133">Tôi không kìm được vẻ mặt kinh tởm đang lộ rõ ra ngoài.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c275564-chuong-45-di-gap-mot-nguoi" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(5)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">5 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3133457"
    class="ln-comment-item mt-3 clear"
    data-comment="3133457" 
    data-parent="3133457" 
    data-type="chapter" 
    data-typeid="276540">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u97903-58aded6b-3cb7-4ded-b032-25eb5da514bd.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/97903">Araki</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu?comment_id=3133457#ln-comment-3133457"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 22:53:34"
                                datetime="2025-12-21T22:53:34+07:00">
                                21-12-2025 22:53:34
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3133343"
    class="ln-comment-item mt-3 clear"
    data-comment="3133343" 
    data-parent="3133343" 
    data-type="chapter" 
    data-typeid="276540">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/225173">Có yan thì đến</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
                <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#e3953e]/50 dark:bg-[#9c662a]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#9c662a] dark:text-[#ecd8c2]">
                <img class="my-auto h-[14px]" src="/img/badge/cvter2.png" />
                <div class="leading-4">AI MASTER</div>
            </div>
        </div>
    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        1. Con này thích main<br>
2. Kịch bản quen thuộc: Cần 1 thằng làm bạn trai giả🤡🤡🤡
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu?comment_id=3133343#ln-comment-3133343"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 21:36:55"
                                datetime="2025-12-21T21:36:55+07:00">
                                21-12-2025 21:36:55
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3133321"
    class="ln-comment-item mt-3 clear"
    data-comment="3133321" 
    data-parent="3133321" 
    data-type="chapter" 
    data-typeid="276540">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u228757-39f5b6f2-eec7-4e47-9f7f-d473cb5e7ad7.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/228757">nautilus4k</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        diễn biến nó cứ bủh bủh lmao lmao thế nào ấy nhể
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu?comment_id=3133321#ln-comment-3133321"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 21:23:12"
                                datetime="2025-12-21T21:23:12+07:00">
                                21-12-2025 21:23:12
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3133253"
    class="ln-comment-item mt-3 clear"
    data-comment="3133253" 
    data-parent="3133253" 
    data-type="chapter" 
    data-typeid="276540">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua16395-29b8cea8-a3ff-44e9-8f53-7b4203cff7cc.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/16395">Evisiro</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        huh??
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu?comment_id=3133253#ln-comment-3133253"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 20:30:35"
                                datetime="2025-12-21T20:30:35+07:00">
                                21-12-2025 20:30:35
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3133249"
    class="ln-comment-item mt-3 clear"
    data-comment="3133249" 
    data-parent="3133249" 
    data-type="chapter" 
    data-typeid="276540">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u217516-71ad82f9-2b7c-4215-84af-f56ebdcf28eb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/217516">T Đ Anh</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/19309-my-friends-harem-is-obsessed-with-me/c276540-chuong-46-ares-phien-ban-nu?comment_id=3133249#ln-comment-3133249"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 20:26:10"
                                datetime="2025-12-21T20:26:10+07:00">
                                21-12-2025 20:26:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold">1</span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'gVqVh1oWe2L16LQ8PfWtuJ4lAH4fYvoFmDfd9bLV';
        var comment_type = 'chapter';
        var comment_typeid = '276540';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'gVqVh1oWe2L16LQ8PfWtuJ4lAH4fYvoFmDfd9bLV';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('19309');
    chapter_id = parseInt('276540');

    readingObject = {
        series_id: series_id,
        series_title: 'My Friend’s Harem Is Obsessed With Me',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="gVqVh1oWe2L16LQ8PfWtuJ4lAH4fYvoFmDfd9bLV" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

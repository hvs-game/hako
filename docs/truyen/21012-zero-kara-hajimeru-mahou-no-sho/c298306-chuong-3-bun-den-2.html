<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Zero Kara Hajimeru Mahou No Sho - Chương 3: Bùn Đen 2 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Đó là năm 526. Thế giới biết rằng phù thủy tồn tại và chúng tu hành ma thuật tà ác. Tuy nhiên, thế giới không biết gì về việc tu hành ma thuật. Câu chuyện của chúng ta theo chân một lính đánh thuê nửa người, nửa thú; con người...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="v5v3UhDkxcbapMYuzwKNEURsFRUgbI1rtipLCRBI">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c298306-chuong-3-bun-den-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s21012-0584d3de-418c-4044-9966-bc6d4d651d95.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c294716-chuong-3-bun-den-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c298306-chuong-3-bun-den-2" style="background: url('https://i.hako.vn/ln/series/covers/s21012-0584d3de-418c-4044-9966-bc6d4d651d95.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho">Zero Kara Hajimeru Mahou...</a></h5>
                    <small><i class="fas fa-pen"></i>Kakeru Kobashiri</small>
                    <small><i class="fas fa-paint-brush"></i>Yoshinori Shizuma</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c161470-minh-hoa">Volume 4 [Đã hoàn thành]</a></li>
                                        
                                                            <li class=""><a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c168735-minh-hoa">Volume 5 [Đã hoàn thành]</a></li>
                                        
                                                            <li class=""><a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c190841-minh-hoa">Volume 6 [Đã hoàn thành]</a></li>
                                        
                                                            <li class="current"><a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/t34773-volume-7">Volume 7</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c267627-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c267612-chuong-01-thanh-chien">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 01: Thánh chiến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c268536-chuyen-canh-the-gioi-ben-ngoai">
                                                                        Chuyển cảnh: Thế Giới Bên Ngoài
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c273953-chuong-2-khu-rung-solena">
                                                                        Chương 2: Khu rừng Solena 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c283746-chuong-2-khu-rung-solena-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2: Khu rừng Solena 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c283747-chuong-2-khu-rung-solena-3">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2: Khu rừng Solena 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c293793-chuyen-canh-nguc-tu-vinh-hang">
                                                                        Chuyển cảnh: Ngục Tù Vĩnh Hằng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c294716-chuong-3-bun-den-1">
                                                                        Chương 3: Bùn Đen 1
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c298306-chuong-3-bun-den-2">
                                                                        Chương 3: Bùn Đen 2
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Volume 7</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 3: Bùn Đen 2</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c298306-chuong-3-bun-den-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,880 từ - Cập nhật: 
                        <time class="topic-time timeago" title="27-01-2026 23:22:02" datetime="2026-01-27T23:22:02+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 3: Bùn Đen 2</p>
                    <p id="1">Zero nói cô sẽ bảo vệ thế giới, nhưng chúng ta phải tìm ra ai đứng đầu Cestum và chúng đang ở đâu.</p><p id="2">Dù gì thì ưu tiên hàng đầu bây giờ vẫn là ngăn cuộc chiến tranh giữa Wenias và Giáo Hội.</p><p id="3">“Ta cá chắc Số 13 cũng đang cho con nhóc một trận ra trò, vừa đánh vừa giảng đạo,” tôi nói. Nghĩ thôi cũng khiến tôi bật cười.</p><p id="4">Tôi cứ nghĩ chắc rằng Zero cũng sẽ cười theo, nhưng cô lại trầm ngâm, gương mặt nghiêm nghị.</p><p id="5">“Sao vậy, phù thủy?”</p><p id="6">“Hmm? À ta chỉ đang tự hỏi sao Số 13 vẫn chưa gửi truyền tin tới.”</p><p id="7">“Chắc là đang bận răn dạy con nhóc.”</p><p id="8">“Có lẽ thế, nhưng ta cứ thấy có cảm giác bất an khó hiểu. Một cảm giác rất lạ ngay lúc này.” Zero chạm nhẹ lên ngực mình.</p><p id="9">“Chị thấy lo lắng sao?” Lily nói.</p><p id="10">Zero nhìn như thể vừa nghe thấy một từ không bao giờ nghe thấy trong đời. “Lo lắng? Ta? Cho Số 13? Vớ vẩn. Kể cả khi thế giới có tận diệt, ta cũng chẳng lo cho hắn đâu.”</p><p id="11">“Tôi không nghĩ là Sanare hay con nhóc có thể đánh bại hắn đâu,” tôi nói. “Lo là lo cho con nhóc chứ không phải Số 13.”</p><p id="12">“Nói phải. Mấy bài giảng của Số 13 dài dăng dẳng và tàn nhẫn. Phản bác hắn không hề dễ. Ta có thể gần như thấy con nhóc đang khóc.”</p><p id="13">“Ta không nghĩ vài lời quở trách đủ để khơi mào chiến tranh,” linh mục thốt.</p><p id="14"><em>Khá chắc là con bé sẽ nhận nhiều hơn thế.</em></p><p id="15">Dù sao thì, chúng ta đã loại bỏ mầm bệnh mang tên Sanare. Vấn đề bây giờ là làm sao để chấm dứt chiến tranh Albus đã khơi mào.</p><p id="16">Bọn tôi quyết định đến hoàng thành Plasta để gặp Albus và xem xét tình hình, đồng thời giao lại công chúa cho cô.</p><p id="17">Chắc phải mất tầm bảy ngày đi bộ để đến được Plasta từ cái làng bỏ hoang ở đông bắc này. Đoàn chúng tôi khá đông—tôi, Zero, linh mục, Lily, và giờ còn có cả công chúa lẫn Raul.</p><p id="18">Nếu đi ngay bây giờ, trời tối sẽ tối trước khi bọn tôi đi được bao xa. Việc di chuyển ban đêm không có vấn đề gì, nhưng không lâu kể từ khi Raul làm tên linh mục bị thương. Tổ thêm rắc rối nếu như hắn gục giữa đường, nên bọn tôi quyết định nghỉ lại qua đêm.</p><p id="19">Trong lúc đó, tôi đi lấy nước, hái thảo mộc và trái cây làm thức ăn, cắt rồi hun khói chỗ thịt hươu còn lại, và rửa bàng quang hươu để làm túi nước mới. Có Raul đi cùng, chúng tôi mang được nhiều hành lý hơn, và thừa nước hơn là thiếu.</p><p id="20">Bọn tôi biến Etrach thành một chỗ tạm trú. Zero soi sáng bên trong bằng phép tạo ra một mặt trời phiên bản nhỏ bay gần trần. Trông hơi kỳ lạ, nhưng nó làm sáng và ấm lên, nên cũng không phiền cho lắm.</p><p id="21">Quả cầu mặt trời—Solum, Zero gọi thế—có vẻ là một phép cơ bản trong Chương Thu Hoạch. Dùng để chiếu sáng ruộng đồng vào những ngày nhiều mây.</p><p id="22">Trông thấy phép của Zero, công chúa nói, “Ta cũng muốn dùng nó.” Cô cứ lẽo đẽo theo phù thủy. “Ta sẽ không để Ma Thuật mất kiểm soát nữa đâu, nên cho ta dùng lại đi làm ơn.”</p><p id="23">Zero tỏ ra do dự.</p><p id="24">“Ta đã tiến bộ nhiều trong việc nghiên cứu Ma Pháp,” công chúa nài nỉ. “Sau khi tìm hiểu Triệu hồn thuật, ta tự tin mình đã có thể kiểm soát sức mạnh của mình tốt hơn. Ta có thể dụng Ma Thuật trong Ma Pháp Thư mà không để nó bạo loạn.”</p><p id="25">Tôi thực sự mong ít ra cô sẽ đợi cho đến lúc bọn tôi để cô lại với Albus và Số 13.</p><p id="26">Tên linh mục đang hồi phục, còn Lily đang chăm sóc hắn. Cuối cùng, có mỗi tôi và Raul chuẩn bị mọi thứ cho chuyến đi.</p><p id="27">“Anh có vẻ đã quen với việc hành hương nhỉ?” Raul nói khi tôi thổi phồng bàng quang hươu và phơi khô.</p><p id="28">Tên Đọa Thú Ngựa đang đi câu cá cho bữa tối, sử dụng cây cần từ nhánh cây, chỉ, và xương hươu. Câu cá rất thành thạo, gần đó đã có gần mười con cá.</p><p id="29">“Tôi cũng có thể nói vậy về anh.”</p><p id="30">“Anh biết đấy, tôi đã sống trong rừng một thời gian dài.”</p><p id="31">Bị chính người cha ruột tìm cách giết mình ngay khi sinh ra, anh đã trốn vào rừng và tự sinh tồn. Có thể thấy kĩ năng sinh tồn đấy từ đâu mà ra.</p><p id="32">“Nhưng khi rời đảo cùng công chúa, thì có nhiều chuyện tôi cảm thấy mình không giỏi lắm. Cũng khá chật vật để dựng tấm bạt lên để ngủ ngoài trời.”</p><p id="33">“Anh có thể chở cô ta, đó đã là một điểm mạnh rồi. Tôi cá là chỉ hai người thôi thì mất ba ngày là tới đô thành.”</p><p id="34">“Cưỡi ngựa mệt lắm. Tôi thì ổn đấy, nhưng công chúa không thể cưỡi cả chặng đường mà không nghỉ ngơi được. Tôi phải cảm ơn Sanare vì điều đó. Ả luôn than phiền mỗi khi thấy mệt, trong khi công chúa lại ráng sức chịu đựng.”</p><p id="35">“Vậy sao.”</p><p id="36">“Còn cô Zero thì sao? Cô ấy chỉ chịu đựng thôi à?”</p><p id="37">“Uh… Không hẳn.”</p><p id="38">Cô cực kỳ ích kỉ. Thậm chí còn chẳng chịu tự mang hành lý của mình. Cô sẽ nói những thứ như, “Ta không cần nó,” hay “Thay đồ là không cần thiết.” Chưa kể, cô ghét đi bộ, và rồi cứ nhảy lên vai tôi ngồi.</p><p id="39">“Chắc hẳn cô đã tin tưởng anh lắm,” Raul nói.</p><p id="40">“Tôi không biết có nên gọi đó là tin tưởng.”</p><p id="41">“Tôi ghen tị với anh. Công chúa chẳng chịu dựa dẫm gì vào tôi mấy. Ồ!” Raul kéo lên con cá thứ mười một.</p><p id="42">Thức ăn là một vấn đề khá quan trọng cho một nhóm lớn sáu người. Có thể sẽ không tìm đủ đồ ăn cho mọi người suốt đường. Nên phần lớn hươu sẽ được bảo quản. Xương cá cũng có thể dùng làm nước dùng.</p><p id="43">Nhiều người thì cũng nhiều rắc rối hơn. Tất nhiên là cũng có điểm lợi: có thể chia bớt hành lý ra.</p><p id="44">“Cô cũng đã nổi giận với tôi trước đó, tại vì để cả hai bị bắt.”</p><p id="45">“Không phải đó là kế hoạch của anh sao?”</p><p id="46">“Có lẽ vậy.”</p><p id="47">“Thế thì tôi hiểu sao cô lại không tin anh rồi đấy,” tôi đùa.</p><p id="48">“Ừ.” Giọng anh nhẹ tênh. “À, chuyện ở trên Đảo Hắc Long.”</p><p id="49">“Hửm?”</p><p id="50">“Tôi xin lỗi. Chắc vai của anh đau lắm.” Hắn xin lỗi tôi vì đã cắm giáo vào vai tôi và đẩy tôi ngã xuống vực.</p><p id="51">Tôi buộc chỉ vào quanh miệng bàng quang. “Chuyện thường tình trong cái nghề của tôi thôi, tôi quên lâu rồi. Bạn hôm nay là kẻ thù của ngày mai mà. Không phải anh nên xin lỗi tên linh mục hay sao?”</p><p id="52">“Chà, nhưng hắn đã giết pháp sư, nên cũng đáng lắm.” Raul cười. Anh ta dường như nghĩ việc giết tên linh mục hoàn toàn thỏa đáng.</p><p id="53">“Anh tàn nhẫn hơn so với vẻ hiền từ của mình đấy.”</p><p id="54">“Còn anh lại tử tế hơn cái vẻ ngoài hung tợn của mình.”</p><p id="55">Tôi cau mày, đứng dậy. “Tôi quay lại trước để nhóm lửa. Anh cũng làm nốt đi. Ta sẽ dùng bữa trước khi trời tối, ngủ sớm, rồi lên đường vào sáng sớm.”</p><p id="56">Tôi gom củi lại và nhóm lửa, chế biến thịt hươu để bảo quản được lâu, rồi chuẩn bị bữa tối. Chớp mắt thoáng cái mặt trời đã lặn.</p><p id="57">Thực đơn hôm nay có cá hấp, cá nướng ướp muối, và, một món phụ nữa, cua chiên mỡ hươu. Bọn tôi cũng sẽ xử nốt phần thịt hươu dễ hỏng trước.</p><p id="58">“Anh trai,” Lily nói. “Mẹ em nói là hươu…ờm…gan hươu? Mẹ nói gan hươu ăn sống ngon lắm.”</p><p id="59">Thường thì tôi tránh ăn thịt sống, nên tôi đưa cả phần gan cho Lily. Là một đầu bếp, tôi sẽ không nấu những thứ mà mình không ăn.</p><p id="60">Lily phân vân một hồi không biết nên chế biến miếng gan đỏ sẫm đó thế nào. Sau cùng thì cô bé rửa qua dưới nước, cắt ra từng lát mỏng, rắc chút muối và cho vào miệng.</p><p id="61">Con bé nhìn tôi đôi mắt sáng bừng, chiếc đuôi cứng đờ, toàn thân run rẩy vì vị ngon bất ngờ. Tôi hiểu cảm giác của con bé. Tôi từng ăn như vậy trước khi chứng ăn thịt đồng loại xuất hiện.</p><p id="62">Có lẽ bây giờ con bé vẫn ổn, nhưng một khi đã sinh ác cảm với thứ gì thì khó quay lại với nó vô cùng.</p><p id="63">Lily cẩn thận cắt phần còn lại và đem cho mọi người quanh lửa.</p><p id="64">Tôi tưởng sẽ có vài tiếng hét vang lên, nhưng ngạc nhiên—hoặc chẳng bất ngờ—Zero và công chúa lại tỏ ra vô cùng hào hứng.</p><p id="65">“Gan à?” Zero nói. “Không tệ cho một món khai vị trước bữa tối.”</p><p id="66">“Nội tạng tươi là mỹ vị nhân gian mà chỉ có thể thưởng thức sau một ngày đi săn thành công,” công chúa nói thêm. “Nhóc khá chu đáo đấy.”</p><p id="67">“Em không phải nhóc!” Lily phản đối.</p><p id="68">Phớt lờ lời phản đối, công chúa lấy thêm vài miếng để ăn. Zero cũng đang vui vẻ ngấu nghiến bữa nhẹ này. Riêng mặt tên linh mục tái mét và tránh xa khỏi dĩa gan.</p><p id="69"><em>Vậy là hắn không thích nội tạng.</em> Không để ý đến nét mặt hắn, Lily lại đem dĩa gần lại chỗ linh mục.</p><p id="70">“Ngon lắm, thưa Cha.”</p><p id="71">Linh mục rên rỉ. “Ờ, ta không–”</p><p id="72">Trước khi hắn kịp dứt câu, Zero xen vào. “Gan giúp bổ huyết đấy, linh mục. Ăn chút đi. Ngươi cần nó.”</p><p id="73">“Chẳng lẽ một tín đồ của Chúa lại kén ăn như trẻ con thế sao,” công chúa nói thêm.</p><p id="74">Một giọt mồ hôi chảy dài trên má linh mục. Nghĩ rằng từ chối miếng gan hươu này sẽ làm hoen ố danh tiếng của Dea Ignis, hắn dè dặt quẳng miếng gan vào miệng rồi nuốt ngay.</p><p id="75">“Ngon… lắm,” hắn nói, mặt tái nhợt.</p><p id="76">Lily không hề ác ý, hối hắn ăn thêm vài miếng, khiến mặt hắn càng trắng bệch ra.</p><p id="77">“Đủ rồi, nhóc,” tôi nói. “Đọa Thú và phù thủy thì không sao, nhưng để người thường ăn thịt sống thì khá nguy hiểm.”</p><p id="78">“Nguy hiểm?”</p><p id="79">“Họ sẽ bị bệnh. Món này nướng lên cũng ngon, nướng sơ lên cho hắn đi.”</p><p id="80">Tôi không có ý định giúp hắn, nhưng tôi biết nhiều người đổ bệnh sau khi ăn thịt sống. Xét đến việc vài người đã chết, nên đó không phải là loại thức ăn khuyên dùng cho một linh mục đang hồi phục.</p><p id="81">Thế là sau màn nếm thịt sống kết thúc, chúng tôi chuyển sang dùng bữa tối.</p><p id="82">Chúng tôi ăn cá hấp, nhấm nháp cua, chờ cá nướng chín, và nhâm nhi gan nướng. Với một buổi cắm trại, đây quả là một bữa ăn xa xỉ.</p><p id="83"><em>Cảm giác như chúng tôi đang hào hứng quá, nhưng tôi đoán việc phong ấn được Sanare hôm nay là một lý do đáng để ăn mừng.</em></p><p id="84">Tôi không ngờ Raul không phải hoàn toàn là động vật ăn cỏ. Hắn thích ăn trái cây và rau củ, nhưng cũng ăn cả cá và thịt.</p><p id="85">“Thật sao?!” Lily ngạc nhiên.</p><p id="86">“Phải,” Raul đáp, cười áy náy khi đang ăn nốt con cá nướng.</p><p id="87">“Ta cũng chỉ nghĩ rằng Raul chỉ ăn mỗi rau củ thôi.” Công chúa cau mày nhìn Raul vẻ không hài lòng. “Rồi một ngày, hắn lăn đùng ra ngất. Bác sĩ đến kiểm tra cho kết luận là bị suy dinh dưỡng.”</p><p id="88">“Tôi không nghĩ mình sẽ ngất như vậy.”</p><p id="89">“Vậy anh không ăn thịt hay cá gì trong rừng à?” tôi hỏi.</p><p id="90">“Có chứ. Chim, chuột, đại loại vậy.”</p><p id="91">Lily vội núp sau lưng tôi, lông trên người dựng hết cả lên.</p><p id="92">“Không ai muốn ăn em đâu,” tôi nói.</p><p id="93">“Em không thích Ngựa.”</p><p id="94">“Con bé thực sự ghét anh rồi đấy.”</p><p id="95">“Tôi nghĩ điều đó cũng dễ hiểu,” Raul nói. “Ăn tối với nhau như này cũng đã đủ kỳ lạ rồi.”</p><p id="96">Hàng mày Raul trĩu lại, nhưng hắn không rời đi hay cố lấy lòng ai. Dù gì hắn cũng <em>từng</em> cố giết Lily và linh mục.</p><p id="97">Với Raul, chỉ có công chúa quan trọng. Mọi thứ khác chỉ là phụ họa.</p><p id="98">“Ngay cả việc tên linh mục đi cùng chúng tôi cũng đã kỳ lạ rồi,” tôi nói. “Dù sao thì, tôi không rõ phải đưa công chúa về Plasta về như nào. Tôi mong là ít nhất nhóc ấy rút lại lệnh truy nã chúng ta.”</p><p id="99">“Kể cả khi vậy, cũng cần thời gian để tin tức lan truyền khắp vương quốc. Hơn nữa, muốn vào hoàng thành mà không để bị thấy cũng gần như không thể.”</p><p id="100">Zero vừa rên rỉ, vừa vươn tay lấy con cá nướng cạnh đống lửa. Muối lấp lánh trên lớp da giòn, nhìn từ xa thôi cũng thấy ngon nữa.</p><p id="101">“Ta đoán mọi việc sẽ dễ dàng hơn khi tới doanh trại gần nhất và cố tình để bị bắt,” Zero nói.</p><p id="102">“Đừng có nói nhảm. Nếu ba Đọa Thú, hai phù thủy, cùng với một thành viên của Dea Ignis xuất hiện ở doanh trại thì khác gì đến để khai chiến đâu.”</p><p id="103">Chúng ta có khi sẽ lao vào giết nhau trước khi kịp bắt đầu nói chuyện mất.</p><p id="104">“Đánh Thuê. Hay là thử liên lạc với con bé bằng Thư Phù Thủy?”</p><p id="105">Lúc đó tôi mới nhớ ra mình còn có thứ đó. Tôi lấy ra một mảnh giấy cũ từ hành lý của mình, rồi chết lặng.</p><p id="106">Một dòng chữ nguệch ngoạc.</p><p id="107"><strong><em>Em đến chỗ mọi người. Chờ ở đó.</em></strong></p><p id="108">“Gì đây?”</p><p id="109">“Trong thư nói gì vậy?” Zero nghển cổ lên, vừa nhìn vừa nhai cá.</p><p id="110">“Trong thư bảo là đang tới.”</p><p id="111">“Tới đâu?”</p><p id="112">“Có lẽ là đến đây.”</p><p id="113">Tiếng ngựa hí vang vọng giữa trời đêm. Raul giật mình, ngẩng đầu hướng về phía rừng cây, hướng khu cắm trại.</p><p id="114">“Một con ngựa?” anh nói. “Lạ vậy. Tôi chẳng nghe thấy tiếng vó nào gần đây.”</p><p id="115">“Họ đang đến rất nhanh.” Tôi nắm chặt đuôi kiếm đứng dậy.</p><p id="116">“Ma lộ!” công chúa kêu lên, sắc mặt trầm trọng. “Có nhiều ma lộ dẫn đến vô số nơi trong vương quốc. Không có ai sử dụng nó ngoại trừ Sanare, nhưng có khả năng là một ai đó trong Cestum cảm nhận được điều bất thường.”</p><p id="117">“Không phải vậy đâu.” Không như bọn tôi, Zero bình thản đứng dậy.</p><p id="118"><em>Đợi đã…</em> Mắt tôi lia qua bức thư.</p><p id="119">“Ý cô là cái này hả?” tôi hỏi.</p><p id="120">“Rất có thể.”</p><p id="121">Vài giây sau, một con ngựa đen nhảy ra khỏi rừng. dừng khựng lại ngay trước mặt chúng tôi, chồm lên rồi đáp xuống.</p><p id="122">Cả không gian lặng im một lúc.</p><p id="123">“Đ-Đáng sợ quá!” Đứa trẻ tóc vàng bám chặt vào cổ ngựa phá vỡ sự im lặng, gần như đã khóc. “Khi mình hỏi xin con ngựa nhanh nhất cũng không ngờ nó nhanh đến vậy. Tưởng mém bị hất bay luôn rồi chứ!”</p><p id="124">Chúng tôi đứng sững ra đó, không nói nên lời. Khi Albus chú ý đến bọn tôi đang ở gần, em vội chỉnh lại tư thế rồi trượt xuống khỏi ngựa.</p><p id="125">Tôi không thể nhầm lẫn em với ai khác. Mái tóc vàng hoe, đôi mắt sáng, Đại pháp sư của Wenias, Phù thủy Vọng Nguyệt Albus , hậu duệ trực hệ của Solena vĩ đại.</p><p id="126">Rõ ràng là em, nhưng trong một khoảnh khắc tôi cứ ngỡ Số 13 đã xuất hiện. Khi tôi nghe thấy giọng Albus và khi em xuống ngựa không cảm giác chút thân thuộc hay ngạc nhiên gì, mà chỉ một nỗi bất an.</p><p id="127">Albus thì đang chờ phản ứng từ chúng tôi. Xét về việc chia tay không êm đềm mấy, bọn tôi, là người lớn nên có lẽ nên mở lời trước.</p><p id="128">Sao em đến được đây? Chuyện gì đã xảy ra với vương quốc? Sao lại dám treo lệnh truy nã bọn anh chứ?</p><p id="129">Có quá nhiều thứ để nói. Thực sự là quá nhiều, khi tôi còn đang do dự, Zero đã mở lời.</p><p id="130">“Ra vậy. Số 13 đã chết rồi.”</p><p id="131">Tôi nhìn Zero, không tin vào tai mình.</p><p id="132">Rồi chợt nhận ra.</p><p id="133">Trên tay Albus là cây trượng của Số 13. Em tỏa ra một khí tức kỳ lạ, đáng sợ mà trước giờ chưa từng cảm nhận thấy khi gặp.</p><p id="134">“Đang đùa thôi đúng không.” Tôi cố gượng cười, nhìn Albus.</p><p id="135">Albus cúi đầu, môi mím chặt. Em nhìn tôi ánh mắt đau khổ, rồi quay sang Zero.</p><p id="136">“Số 13 đã chết để bảo vệ em,” em nói rõ ràng.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho/c294716-chuong-3-bun-den-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/21012-zero-kara-hajimeru-mahou-no-sho" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'IXerBRPMxR2X1U7GGHVsGEnpcVU8SJ9cgBzNjpPO';
        var comment_type = 'chapter';
        var comment_typeid = '298306';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'v5v3UhDkxcbapMYuzwKNEURsFRUgbI1rtipLCRBI';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('21012');
    chapter_id = parseInt('298306');

    readingObject = {
        series_id: series_id,
        series_title: 'Zero Kara Hajimeru Mahou No Sho',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="v5v3UhDkxcbapMYuzwKNEURsFRUgbI1rtipLCRBI" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c49977ddd1a2eeb',t:'MTc2OTUzMDk3Ng=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

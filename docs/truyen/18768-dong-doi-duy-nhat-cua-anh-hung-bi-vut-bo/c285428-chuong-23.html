<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Đồng minh duy nhất của Anh hùng bị vứt bỏ - Chap 22 - Đối thủ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi cứu nàng Anh hùng từng bắt nạt và bỏ mặc tôi, giờ cô ấy lại bám dính lấy tôi.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="q81yXgZVKu7oDqnm1Ujckji9ogOOfBYsfJzym1f4">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285428-chuong-23">
    <meta property="og:image" content="https://docln.net/img/nocover.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285405-chap-21-hoi-uc"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285449-chap-23-thoa-hiep"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285428-chuong-23" style="background: url('https://docln.net/img/nocover.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo">Đồng minh duy nhất của An...</a></h5>
                    <small><i class="fas fa-pen"></i>Bad Friend;나쁜벗</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/t25477-webnovel">webnovel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139308-prologue">
                                                                        Prologue
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139321-chap-1">
                                                                        Chap 1 - Sau trận chiến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139324-chap-2">
                                                                        Chap 2 - DLC 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139325-chap-3-dlc-2">
                                                                        Chap 3 - DLC 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139327-chap-4-ac-mong-hay-thuc-tai">
                                                                        Chap 4 - Ác mộng hay Thực tại?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139643-chap-5-niem-tin">
                                                                        Chap 5 - Niềm tin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139648-chap-6-thu-do">
                                                                        Chap 6 - Thủ đô
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c139650-chap-7-gu">
                                                                        Chap 7 - Gu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c140516-chap-8-quy-toc">
                                                                        Chap 8 - Quỷ tộc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c140749-chap-9-ke-hoach">
                                                                        Chap 9 - Kế hoạch
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c140776-chap-10-nguy-hiem-cam-do">
                                                                        chap 10 - Nguy hiểm cám dỗ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c141518-chap-11-truy-bat">
                                                                        Chap 11 - Truy bắt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c141598-chap-12-hoi-nghi">
                                                                        Chap 12 - Hội nghị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c141639-chuong-13-than-duoc">
                                                                        Chap 13 - Thần dược
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c141706-chap-14-nuoc-thanh">
                                                                        Chap 14 - Nước thánh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c141842-chap-15-kham-pha">
                                                                        Chap 15 - Khám phá
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c142158-chap-16-fan-service">
                                                                        Chap 16 - Fan service
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c142312-chap-17-len-vao">
                                                                        Chap 17 - Lẻn vào
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c143572-chap-18-tien-vao">
                                                                        Chap 18 - Tiến vào
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c143729-chap-19-ravin-dao-tac">
                                                                        Chap 19 - Ravin Đạo tặc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c144112-chap-20-trao-doi-thong-tin">
                                                                        Chap 20 - Trao đổi thông tin
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285405-chap-21-hoi-uc">
                                                                        Chap 21 - Hồi ức
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285428-chuong-23">
                                                                        Chap 22 - Đối thủ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285449-chap-23-thoa-hiep">
                                                                        Chap 23 - Thỏa hiệp
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285450-chap-24-dlc-2">
                                                                        Chap 24 - DLC 2
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">webnovel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 22 - Đối thủ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285428-chuong-23#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,537 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-01-2026 00:47:09" datetime="2026-01-05T00:47:09+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 22 - Đối thủ</p>
                    <p id="1">Màn đêm buông xuống thành phố khi bữa tối thỏa mãn, được mọi người cùng nhau chuẩn bị và thưởng thức, đã đi đến hồi kết.</p><p id="2">Dù Ravin chẳng ưa gì Lucy, nhưng xuất phát từ thiện chí thuần túy dành cho Lin, cô ta đã đưa cho nữ chiến binh vài món quần áo, bao gồm cả đồ lót.</p><p id="3">“Mấy cái áo lót và quần lót này chẳng vừa chút nào. Không phải là chật—mà là không thể nào ních vào nổi.” Lucy phàn nàn.</p><p id="4">“Thế thì xin lỗi nhé!” Ravin gắt gỏng, tỏ vẻ khó chịu.</p><p id="5">“Cô không có cái nào cỡ to hơn à?”</p><p id="6">“Không, không có! Đây là đồ của tôi đấy!” Ravin vặc lại.</p><p id="7">“Hừm.” Lucy thở dài, đảo mắt quanh phòng cho đến khi cô nhìn thấy một chiếc khăn rằn nằm vương vãi trên sàn.</p><p id="8">Nhặt nó lên, cô quấn quanh người để đỡ lấy bộ ngực của mình.</p><p id="9">“Cần giúp buộc không?”</p><p id="10">“Không, tôi sẽ buộc ở phía trước.” Lucy đáp.</p><p id="11">“Thú vị đấy, buộc kiểu đó ở phía trước cơ à.” Ravin bình luận, sự khó chịu của cô ta nhất thời dịu đi bởi tính tò mò.</p><p id="12">Lucy không mấy bận tâm đến sự nồng nhiệt bất chợt của Ravin.</p><p id="13">Cô thừa hiểu rằng những lòng tốt nhỏ nhặt như vậy sau này thường biến thành những ân huệ khó chối từ.</p><p id="14">Sau khi buộc xong chiếc khăn, cô khẽ nhảy tại chỗ.</p><p id="15">Nảy lên.</p><p id="16">Mặc dù cô đã cố gắng buộc thật chặt, nhưng kích thước quá khổ vẫn khiến bộ ngực cô chuyển động đầy sức sống.</p><p id="17">“Này, Anh hùng.”</p><p id="18">“Gì?”</p><p id="19">“Với bộ ngực lớn thế kia, chẳng phải rất nặng nề sao? Nó không làm mỏi vai và đau khi cô chạy à? Nhất là trong lúc chiến đấu?”</p><p id="20">“Nặng kinh khủng, vai tôi đau như thể đang bị kéo trĩu xuống, và mỗi khi nó nảy lên đều rất đau.”</p><p id="21">“Thấy chưa? To hơn đâu phải lúc nào cũng tốt hơn.” Ravin nói, vuốt mũi đầy tự mãn.</p><p id="22">Nữ chiến binh nghiêng đầu, vẻ mặt khó hiểu.</p><p id="23">“Cô đang nói gì vậy? To chắc chắn là tốt hơn rồi.”</p><p id="24">“Hả?”</p><p id="25">Ravin sững sờ.</p><p id="26">“Ngực và mông là vũ khí để mê hoặc người đàn ông mình yêu. Trả cái giá đó để giành được anh ấy là chuyện đương nhiên thôi.”</p><p id="27">“Haha, và người đàn ông đặc biệt đó của cô là ai vậy, Anh hùng?”</p><p id="28">Giọng điệu của Ravin trở nên nghiêm túc, nhưng Lucy vẫn dửng dưng.</p><p id="29">Cảm thấy chiếc khăn buộc chưa đủ chặt, cô cởi ra và quấn lại quanh người chắc chắn hơn.</p><p id="30">“Ai biết được? Có thể là anh ấy, hoặc cũng có thể không.”</p><p id="31">“Ngay cả nữ chiến binh như cô, cũng không chắc chắn về chiến thắng sao?”</p><p id="32">“Có một tội lỗi mà tôi cần phải chuộc lại.”</p><p id="33">“Cô đã xin lỗi tử tế về tội lỗi đó chưa?”</p><p id="34">Ravin hỏi, nhìn thẳng vào mắt Lucy.</p><p id="35">Không ai có thể giữ được vẻ thản nhiên khi chủ đề chuyển sang Lin.</p><p id="36">Lucy thầm niệm chú trong đầu để không đấm vào mặt ả đạo tặc kia, vì biết Ravin là người quen của Lin.</p><p id="37">“Tôi nghe nói cô đã làm những chuyện khá tàn nhẫn với người đàn ông mà cô muốn biến thành của riêng mình đấy.”</p><p id="38">“Đừng lo, rồi cô sẽ nghe phong thanh rằng tôi đã được tha thứ và được yêu thương nồng nhiệt như thế nào thôi.”</p><p id="39">Mình phải kìm nén. Mình không phải là Arsil. Mình không phải là Arsil dễ nổi nóng đó.</p><p id="40">Ravin cũng đang sôi sục trong lòng nhưng cố kìm lại, tò mò muốn xem ai sẽ là người cuối cùng được mỉm cười hạnh phúc bên cạnh Lin.</p><p id="41">“Nếu mặc xong rồi thì biến đi. Phòng của cô ở hướng đó.”</p><p id="42">“Phòng của Lin ở đâu?”</p><p id="43">“Phòng 21.”</p><p id="44">“Ồ, hóa ra cô không biết à.” Lucy nói, giả vờ ngạc nhiên. “Họ cậu ấy là Lee, tên là Lin. Lee Lin.”</p><p id="45">“Cái gì?”</p><p id="46">Lucy cười khẩy vào mặt Ravin đang chết lặng.</p><p id="47">“Tôi tưởng cô phải biết chứ, vì cô quen cậu ấy từ nhỏ mà.”</p><p id="48">Cô bước đi chậm rãi, đầy cố ý.</p><p id="49">Mỗi bước đi, bộ ngực cô lại phập phồng rõ rệt.</p><p id="50">“Chỉ có ba người biết tên cậu ấy thôi.” Cô nói khi mở cửa văn phòng.</p><p id="51">“Cảm ơn vì cái áo lót. Coi cái tên của Lin là quà đáp lễ đi.”</p><p id="52">Nụ cười của cô mở rộng đầy vẻ chiến thắng.</p><p id="53">“Chúc mừng nhé. Cô là người thứ tư biết tên của Lin đấy.”</p><p id="54">Cạch.</p><p id="55">Cô nhẹ nhàng đóng cửa lại, để mặc Ravin đang cắn chặt môi.</p><p id="56">Trên sàn nhà là chiếc quần lót rách bươm mà Lucy đã cố ních vào, tượng trưng cho cảm giác thất bại đầy miễn cưỡng của Ravin.</p><p id="57">Trong khi đó, Lin trở về phòng với khuôn mặt vừa được rửa sạch sẽ.</p><p id="58">Đã lâu lắm rồi cậu mới được tắm rửa tử tế như vậy.</p><p id="59">“Ravin thực sự đã đổi đời rồi.” Cậu nghĩ, nhớ lại những nguyên liệu tươi ngon như rau mùi và thảo mộc trong bếp.</p><p id="60">Việc có sẵn nước nóng để tắm là dấu hiệu cho thấy cô ấy đã tạo dựng được chỗ đứng vững chắc ở Valtercroix.</p><p id="61">Ngày xưa, ở những con hẻm lầy lội, việc kiếm cái ăn rất khó khăn, trừ khi đó là khoai tây hay khoai lang đào được từ trên núi.</p><p id="62">Câu chuyện đằng sau tiết lộ rằng Ravin đã tiếp quản bang hội đạo tặc, vốn bị liên minh coi như lũ tay sai vặt vãnh, và nâng cao vị thế của nó lên đáng kể, chỉ gần đây mới được công nhận là thành viên chính thức của liên minh.</p><p id="63">“Không bị bết tóc cảm giác thật tuyệt.” Lin ngân nga, lau khô tóc bằng khăn khi bước vào phòng.</p><p id="64">Quay người lại, cậu thấy Lucy đang đợi sẵn, nửa thân trên để trần với chiếc khăn rằn quấn quanh ngực.</p><p id="65">“Này, Lucy?”</p><p id="66">“Vâng, Lin của em?”</p><p id="67">“Đây là phòng tôi mà.”</p><p id="68">“Và cũng là phòng em nữa.” </p><p id="69">Lucy đáp lại với nụ cười dịu dàng, ôm chầm lấy cậu.</p><p id="70">“Tôi đã nhờ Ravin chuẩn bị một phòng cho cô rồi mà...”</p><p id="71">“Anh đang nói gì vậy, Lin? Thiếu anh, em nào thể nghỉ ngơi hay ngủ được. Tại sao em phải dùng phòng riêng chứ?”</p><p id="72">Đây chẳng phải là một thành phố bình thường sao?</p><p id="73">Tại sao lại bám dính lấy mình ở đây chứ?</p><p id="74">“Sao cô biết đây là phòng tôi...”</p><p id="75">“Suỵt.” Lucy ra dấu im lặng, hít hà mùi hương ở cổ và ngực cậu.</p><p id="76">Sau một hơi hít sâu, cô bĩu môi.</p><p id="77">“Anh không có mùi giống anh sau khi tắm. Chỉ toàn mùi xà phòng nhân tạo thôi.”</p><p id="78">“Mùi xà phòng không thơm hơn sao?”</p><p id="79">“Không, em thích mùi tự nhiên của anh hơn.” Cầm chiếc khăn trên đầu cậu, cô nhẹ nhàng lau khô mái tóc ẩm ướt.</p><p id="80">Ánh mắt họ chạm nhau, và Lucy cảm thấy niềm đam mê và khao khát trỗi dậy từ sâu thẳm bên trong.</p><p id="81">“Fuu... fuuu...”</p><p id="82">Thôi chết. Càng nhìn Lin, cảm xúc của mình càng trở nên nóng bỏng và ướt át.</p><p id="83">Cô không kìm được mà mỉm cười.</p><p id="84">Trong vô thức, cô cắn môi, ánh mắt lần theo đôi môi, sống mũi, đôi mắt và vầng trán của cậu.</p><p id="85">Cô muốn hôn và liếm láp từng đường nét trên khuôn mặt ấy.</p><p id="86">Không, mình phải kìm nén. Trước khi là một chiến binh, cô là một người phụ nữ.</p><p id="87">Cô muốn Lin tự tìm đến mình, chứ không muốn tỏ ra quá dễ dãi.</p><p id="88">Mặc dù cô sẵn sàng vứt bỏ lòng kiêu hãnh vì Lin, nhưng cô không muốn xuất hiện như một kẻ chỉ biết dùng sự quyến rũ xác thịt để tiếp cận cậu.</p><p id="89">Biết rõ sự thờ ơ của Lin đối với những cám dỗ thể xác tầm thường, khi cậu từng phớt lờ cả lầu xanh lẫn sự mời gọi của succubus, Lucy hiểu rằng những cách tiếp cận đơn giản sẽ không hiệu quả.</p><p id="90">Cô đặt mục tiêu trở thành một quý cô thanh lịch vào ban ngày và một kẻ quyến rũ nồng nhiệt vào ban đêm để chiếm lấy trái tim cậu.</p><p id="91">Để đạt được điều này, Lin phải kìm nén những ham muốn tức thời và chịu đựng cho đến khi Lucy chấp nhận cậu.</p><p id="92">Tuy nhiên, thay vì kìm nén ham muốn thầm kín này, Lucy lại bộc lộ một loại bóng tối khác.</p><p id="93">Dùng khăn tắm bịt mắt Lin lại, nàng Anh hùng mỉm cười đầy quyến rũ.</p><p id="94">“Lin, cô nàng son phấn kia là bạn cũ của anh à?”</p><p id="95">“Thì, gọi là bạn thì hơi quá. Bọn tôi giống đối thủ hơn, nhưng cũng không hẳn là xa lạ.”</p><p id="96">“Em hiểu rồi.”</p><p id="97">Trước sự trầm tư của cậu, cô gật đầu thản nhiên, cố gắng truyền tải rằng mình không phải kiểu phụ nữ ghen tuông vì những chuyện vụn vặt.</p><p id="98">“Hồi còn nhỏ, cô ấy hay trêu tôi lắm, đến mức người khác phải răn đe cô ấy đấy.”</p><p id="99">“Cô ta trêu anh? Như thế nào?”</p><p id="100">“Thì mấy trò trẻ con tầm tuổi đó hay làm thôi. Trêu chọc mấy đứa nhút nhát ấy mà.”</p><p id="101">“Vậy, cô ta đã nói gì?”</p><p id="102">Chết thật.</p><p id="103">Không hề nhận ra, giọng cô đã cao lên.</p><p id="104">Biểu cảm của cô thì sao?</p><p id="105">Trông nó như thế nào vào lúc này?</p><p id="106">“À... cô ấy bảo một gã như tôi sẽ chẳng tìm được cô gái nào chịu lấy đâu.”</p><p id="107">Rắc!</p><p id="108">Khuôn mặt Lucy đanh lại ngay lập tức.</p><p id="109">“Và anh đã nói gì?”</p><p id="110">“Tôi không đáp lại. Cãi lại khi bị trêu chọc thì chẳng ích gì cả.”</p><p id="111">“Em hiểu. Cũng hợp lý.”</p><p id="112">Đó chính là Lin.</p><p id="113">Thông thái và đẹp trai từ khi còn nhỏ...</p><p id="114">“Cô ấy luôn bảo tôi xấu xí và yếu đuối, nói rằng ngoài cô ấy ra thì chẳng ai thèm cưới tôi. Thật vô lý.”</p><p id="115">“Kẻ nào dám bảo anh xấu xí hả?!”</p><p id="116">“Hả-?”</p><p id="117">Vò mạnh mái tóc cậu bằng khăn tắm, Lucy thở hắt ra.</p><p id="118">“Lin, anh rất đẹp trai! Em có thể đảm bảo điều đó!”</p><p id="119">“À... cảm ơn vì đã nói thế, nhưng tôi không nghĩ ngoại hình của mình lại...”</p><p id="120">“Anh rất đẹp trai.”</p><p id="121">Lucy ghé sát lại gần hơn, mũi cô suýt chạm vào mũi cậu.</p><p id="122">Khi cô ngước mắt lên, đôi mắt rực lửa của cô chạm vào ánh mắt cậu.</p><p id="123">Cảm thấy xấu hổ và bối rối, cậu cố lùi lại, nhưng Lucy đan những ngón tay mình vào tay cậu, không cho cậu di chuyển.</p><p id="124">Chỉ riêng việc giao tiếp bằng mắt cũng tạo ra một bầu không khí kỳ lạ.</p><p id="125">“Thấy chưa, em không thể rời mắt khỏi anh.”</p><p id="126">“Ừm...”</p><p id="127">“Anh rất đẹp trai, Lin à.”</p><p id="128">Phủ nhận lúc này chỉ dẫn đến việc bị trêu chọc thêm.</p><p id="129">Khi cậu khẽ gật đầu và cố gỡ chiếc khăn ra, Lucy thì thầm đầy mê hoặc.</p><p id="130">“Hồi mới gặp em thực sự rất tệ, nhưng em rất mừng vì mình đã đeo chiếc mặt nạ đó cho anh.”</p><p id="131">Ánh mắt cô quét qua cậu từ trán xuống ngay dưới mũi.</p><p id="132">“Dù em không thực sự nhìn thấy anh khi lần đầu đeo mặt nạ cho anh, nhưng nhờ thế mà không ai biết anh đẹp trai đến nhường nào.”</p><p id="133">Cô nhẹ nhõm vì mình là người đầu tiên, người đầu tiên thực sự, gặp cậu trước bất kỳ thành viên nào khác trong tổ đội.</p><p id="134">Lucy không thể rời mắt khỏi đôi môi của Lin.</p><p id="135">Cô nuốt khan, cố gắng trấn tĩnh bản thân, nhưng cô muốn cướp lấy đôi môi ấy.</p><p id="136">Khoảnh khắc môi chạm môi, cảm giác sẽ như bị thiêu đốt, nóng rực vô cùng, và trong cái nóng đó sẽ là niềm khoái lạc ngọt ngào nhất thế gian.</p><p id="137">Tâm trí và miệng của Lucy bắt đầu hoạt động tách biệt nhau.</p><p id="138">“Lin.”</p><p id="139">Em hôn anh được không?</p><p id="140">“Anh có biết Arsil từ nhỏ không?”</p><p id="141">Hãy để em hôn anh.</p><p id="142">“Hồi nhỏ tôi ở trong băng nhóm của Arsil.”</p><p id="143">“Em hiểu rồi.”</p><p id="144">Không sao đâu. Giờ anh đang ở bên em.</p><p id="145">Quan trọng hơn, em có thể hôn và ôm anh được không?</p><p id="146">Khoảng cách giữa đôi môi họ đang dần thu hẹp lại.</p><p id="147">“Lin, anh có thân với Arsil không?”</p><p id="148">Phải làm sao đây? Mình không thể ngừng liếm môi nữa rồi.</p><p id="149">“Rất thân. Bọn tôi như hình với bóng vậy.”</p><p id="150">Đột nhiên, Lin khựng lại.</p><p id="151">“Sao cơ?”</p><p id="152">Sao cơ?</p><p id="153">“Tôi coi như cánh tay phải của Arsil ấy.”</p><p id="154">Suy nghĩ của cậu dừng lại. Một câu trả lời bất ngờ.</p><p id="155">Chiếc khăn tắm rơi xuống sàn.</p><p id="156">Biểu cảm trên khuôn mặt cả hai đều bình thản.</p><p id="157">“Em không bận tâm đâu.”</p><p id="158">Lucy rất điềm tĩnh.</p><p id="159">“Nếu Thánh nữ quý giá với anh đến thế, thì Lin đã cởi mặt nạ ra rồi.”</p><p id="160">Cô không hề tức giận chút nào.</p><p id="161">“Nhưng anh đã không cởi nó ra.”</p><p id="162">Cô chắc chắn rằng không có gì giữa bọn họ.</p><p id="163">“Anh không cởi mặt nạ vì Arsil, và giờ anh đang ở bên em.”</p><p id="164">Đó là sự thật.</p><p id="165">“Anh đã quay lưng lại với Arsil để cứu em.”</p><p id="166">Giờ đây, mối liên kết giữa Lucy và Lin đã sâu sắc hơn.</p><p id="167">“Và em cũng vậy, em đã dốc toàn lực để cứu anh.”</p><p id="168">Lin thừa nhận điều này.</p><p id="169">Lin đã cứu mạng sống và chân tay của Lucy, còn Lucy đã đưa Lin trở về từ cõi chết dưới tay succubus.</p><p id="170">Người nam và người nữ đã làm hết sức mình vì nhau và vẫn đang tiếp tục làm như vậy.</p><p id="171">Đó là lý do tại sao Lin cố gắng mở lòng mình hơn với Lucy và chiều theo cô.</p><p id="172">“Nên em không bận tâm đâu.”</p><p id="173">Với nụ cười thoải mái, cô kéo Lin xuống giường.</p><p id="174">Dù thất vọng vì thiếu vắng mùi hương nồng nàn, cô vẫn tựa đầu lên cánh tay và ngực cậu, lắng nghe nhịp tim cậu đập.</p><p id="175">“Được nằm cùng nhau trên giường như thế này, tuyệt thật.”</p><p id="176">“Lucy, nghe thấy mọi người sẽ hiểu lầm đấy.”</p><p id="177">“Tại họ nghe lén thôi mà~.”</p><p id="178">Nhưng liệu Lucy có biết không?</p><p id="179">Lin vẫn là người khuân vác của tổ đội anh hùng.</p><p id="180">Người khuân vác gánh vác những gánh nặng của các thành viên trong nhóm.</p><p id="181">Lin đã gánh lấy tất cả những gánh nặng của tổ đội anh hùng lên mình từ rất lâu rồi.</p><p id="182">Những gánh nặng đó không nằm trong bao tải của người khuân vác, mà nằm trong trái tim Lin.</p><p id="183">Mỗi đêm, khi tựa đầu lên ngực cậu, liệu Lucy có nhận ra những gánh nặng này đầu tiên không?</p><p id="184">Liệu cô có thể hồi sinh trái tim và những cảm xúc đã bị chôn vùi và giết chết bởi những gánh nặng này không?</p><p id="185">Tất cả những gì chúng ta có thể làm là cùng nữ thần dõi theo họ.</p><p id="186">Không hay biết về những kẻ đang dõi theo, hai người ôm chặt lấy nhau và chìm vào giấc ngủ.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285405-chap-21-hoi-uc" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/18768-dong-doi-duy-nhat-cua-anh-hung-bi-vut-bo/c285449-chap-23-thoa-hiep" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'q81yXgZVKu7oDqnm1Ujckji9ogOOfBYsfJzym1f4';
        var comment_type = 'chapter';
        var comment_typeid = '285428';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'q81yXgZVKu7oDqnm1Ujckji9ogOOfBYsfJzym1f4';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('18768');
    chapter_id = parseInt('285428');

    readingObject = {
        series_id: series_id,
        series_title: 'Đồng minh duy nhất của Anh hùng bị vứt bỏ',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="q81yXgZVKu7oDqnm1Ujckji9ogOOfBYsfJzym1f4" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kính Vạn Hoa Chết Chóc - Chương 1: Lần Đầu Vào Cửa - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Câu chuyện bắt đầu khi Lâm Thu Thạch, một chàng trai bình thường, bỗng nhiên phát hiện ra những sự thay đổi kỳ lạ trong ngôi nhà của mình. Một ngày nọ, anh đẩy cánh cửa hành lang ra và thay vì nhìn thấy khung cảnh quen thuộc, anh lại...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="CkJ4GWWSZNzTeUBJLrFtOqCJKQGmOteVccFS9nJX">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24274-kinh-van-hoa-chet-choc/c271891-chuong-1-lan-dau-vao-cua">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24274-828e91fc-cc86-48ad-9b5b-f192b8075832.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
         
        <a class="rd_sd-button_item rd_top-left disabled"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24274-kinh-van-hoa-chet-choc"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24274-kinh-van-hoa-chet-choc/c271892-chuong-2-cua-sat-va-chia-khoa"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24274-kinh-van-hoa-chet-choc/c271891-chuong-1-lan-dau-vao-cua" style="background: url('https://i.hako.vn/ln/series/covers/s24274-828e91fc-cc86-48ad-9b5b-f192b8075832.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24274-kinh-van-hoa-chet-choc">Kính Vạn Hoa Chết Chóc</a></h5>
                    <small><i class="fas fa-pen"></i>Tây Tử Tự (Xi Zichu).</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24274-kinh-van-hoa-chet-choc/t34987-tap-01">Tập 01</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/24274-kinh-van-hoa-chet-choc/c271891-chuong-1-lan-dau-vao-cua">
                                                                        Chương 1: Lần Đầu Vào Cửa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24274-kinh-van-hoa-chet-choc/c271892-chuong-2-cua-sat-va-chia-khoa">
                                                                        Chương 2: Cửa Sắt Và Chìa Khóa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24274-kinh-van-hoa-chet-choc/c271934-chuong-3-dem-kho-ai">
                                                                        Chương 3: Đêm Khổ Ải
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 01</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1: Lần Đầu Vào Cửa</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24274-kinh-van-hoa-chet-choc/c271891-chuong-1-lan-dau-vao-cua#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 4,111 từ - Cập nhật: 
                        <time class="topic-time timeago" title="10-12-2025 20:36:27" datetime="2025-12-10T20:36:27+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1: Lần Đầu Vào Cửa</p>
                    <p id="1">Đó là một ngôi làng nhỏ nằm sâu trong núi, được che giấu bởi tầng tầng lớp lớp cây cối rậm rạp.</p><p id="2">Chỉ có một con đường nhỏ duy nhất dẫn vào làng. Vì trời vừa mưa xong nên đường đi lầy lội, bước đi trên đó cần phải hết sức cẩn thận.</p><p id="3">Lâm Thu Thạch cùng một cô gái cao ráo đang đi trên con đường này. Cô gái này dường như là con lai, mắt sâu mày rộng rất xinh đẹp. Dáng cô rất cao, thậm chí còn cao hơn Lâm Thu Thạch một chút, trên người mặc một chiếc váy dài không hợp thời tiết. Trong mắt cô ngập tràn nước mắt, cô gái khẽ nức nở, nhỏ giọng hỏi: "Đây rốt cuộc là đâu vậy?"</p><p id="4">Lâm Thu Thạch hỏi: "Trước đó cô đang ở đâu?"</p><p id="5">Cô gái nói: "Trong nhà vệ sinh nhà tôi."</p><p id="6">Lâm Thu Thạch: "Tôi thì đang ở trên hành lang nhà mình."</p><p id="7">Cô gái hỏi: "Hành lang...?"</p><p id="8">Lâm Thu Thạch ngẩng đầu nhìn bầu trời âm u: "Có phải cô đã mở một cánh cửa không?"</p><p id="9">Cô gái dường như nhớ ra điều gì đó, biểu cảm có chút thay đổi vi diệu, cô nói: "Đúng vậy."</p><p id="10">Lâm Thu Thạch quay đầu nhìn cô: "Tôi cũng vậy."</p><p id="11">Một cơn gió thổi qua, lào xào lay động những chiếc lá trên ngọn cây, làm cho bầu không khí xung quanh càng thêm tĩnh mịch. Bầu trời bất chợt bắt đầu lất phất tuyết rơi, như đang thúc giục họ nhanh chân hơn, nhất định phải đến được ngôi làng được bao bọc bởi rừng cây phía trước trước khi trời tối.</p><p id="12">Qua cuộc trò chuyện, Lâm Thu Thạch biết cô gái mang họ Nguyễn, tên là Nguyễn Bạch Khiết.</p><p id="13">Lâm Thu Thạch nghe thấy cái tên này thì sững sờ mất ba giây, sau đó khen một câu trái lòng: "Tên hay lắm."</p><p id="14">Nguyễn Bạch Khiết dùng đôi mắt ngấn nước lườm cậu một cái, nói: "Đàn ông đều là kẻ lừa đảo."</p><p id="15">Lâm Thu Thạch: "Hả?"</p><p id="16">Nguyễn Bạch Khiết: "Đừng tưởng tôi chưa đọc truyện sắc tình."</p><p id="17">Lâm Thu Thạch: "..." Xem ra cô gái này cũng không yếu đuối như cậu tưởng tượng nhỉ.</p><p id="18">Trên đường đi vào làng, hai người trao đổi thông tin, biết được đối phương đều vì mở một cánh cửa mà đột nhiên xuất hiện ở nơi đồng không mông quạnh này.</p><p id="19">Nguyễn Bạch Khiết mở cửa nhà vệ sinh của mình, Lâm Thu Thạch mở cửa hành lang nhà mình.</p><p id="20">"Cánh cửa đó là cửa sắt màu đen." Nguyễn Bạch Khiết giọng nhỏ nhẹ, "Không có vật trang trí gì cả, lúc đó tôi còn đang thắc mắc sao trong nhà lại đột nhiên xuất hiện thêm một cánh cửa như vậy, cũng không nghĩ nhiều, cứ thuận tay mở ra..."</p><p id="21">Giây tiếp theo sau khi mở cửa, họ liền xuất hiện ở nơi hoang vu này.</p><p id="22">Lâm Thu Thạch nói: "Tôi mở cũng là cửa sắt màu đen..." Cậu vừa nói đến đây thì nhìn thấy trên con đường nhỏ phía trước xuất hiện một bóng người lờ mờ. Bóng người đó rất cao, có lẽ là một người đàn ông trưởng thành.</p><p id="23">"Người anh em phía trước ơi!!!" Lâm Thu Thạch gọi với từ xa.</p><p id="24">Bước chân người đó khựng lại, dường như đã nghe thấy tiếng của Lâm Thu Thạch.</p><p id="25">Lâm Thu Thạch vội vàng chạy lên phía trước, đưa tay vỗ vai người đó: "Chào anh, xin hỏi anh có biết đây là đâu không?"</p><p id="26">Người đàn ông quay đầu lại, để lộ một khuôn mặt đầy râu ria xồm xoàm, kết hợp với thân hình cao lớn vạm vỡ, thoạt nhìn trông cứ như một con gấu: "Cậu là người mới đến à?"</p><p id="27">Lâm Thu Thạch nói: "Người mới đến là sao..."</p><p id="28">Người đàn ông không nói gì, nhìn cậu, rồi lại nhìn Nguyễn Bạch Khiết đang có chút sợ hãi phía sau cậu: "Đi thôi, đến làng rồi giải thích với các người sau."</p><p id="29">Lâm Thu Thạch đáp một tiếng "được", ba người liền cùng nhau đi về phía ngôi làng.</p><p id="30">Mùa ở đây dường như là mùa đông, trời tối đặc biệt sớm. Rõ ràng trước khi đến đây mặt trời chiều vẫn còn treo trên cao, vậy mà chỉ trong chớp mắt đã chỉ còn lại tầng mây đen kịt và những bông tuyết bay lả tả.</p><p id="31">Lâm Thu Thạch vừa bắt chuyện với người đàn ông, vừa quan sát tình hình xung quanh. Nơi này ngoài ngôi làng ra thì không có nguồn sáng nào khác. Xung quanh là rừng cây bạt ngàn không nhìn thấy điểm cuối, không có đường đi cũng không có bóng người.</p><p id="32">Lâm Thu Thạch móc một điếu thuốc từ trong túi ra đưa cho người đàn ông, nhưng người đàn ông xua tay từ chối.</p><p id="33">"Đại ca, đây là đâu vậy?" Lâm Thu Thạch hỏi.</p><p id="34">Người đàn ông nói: "Cậu cứ gọi tôi là Hắc Hùng là được."</p><p id="35">Lâm Thu Thạch thầm nghĩ đúng là người như tên gọi. Cậu còn định hỏi tiếp thì thấy Hắc Hùng làm động tác dừng lại: "Cậu đừng hỏi nữa, đợi đến làng cậu sẽ biết chuyện gì đang xảy ra."</p><p id="36">"Ồ, được thôi."</p><p id="37">Thế là cả đoạn đường không ai nói gì, ba người cố gắng đi nhanh, cuối cùng trước khi trời tối hẳn cũng đến được con đường nhỏ trước làng.</p><p id="38">Hắc Hùng rõ ràng thở phào nhẹ nhõm, liếc nhìn bóng tối phía sau: "May mà đến kịp, đi thôi, đến chỗ tập hợp với họ trước đã."</p><p id="39">"Người mới đến", "họ", Lâm Thu Thạch nắm bắt được những từ khóa này. Mặc dù khi đến đây cậu đã có dự cảm không lành, nhưng lúc này đây, dự cảm đó càng lúc càng mãnh liệt. Nguyễn Bạch Khiết dường như cũng cảm nhận được điều gì đó, cô không khóc nữa, khuôn mặt xinh đẹp trắng bệch, ánh mắt lộ vẻ hoảng sợ.</p><p id="40">Hắc Hùng tiếp tục đi về phía trước, rất nhanh đã đưa họ đến một tòa nhà nhỏ ba tầng ở đầu làng.</p><p id="41">Anh ta đứng ở cửa gõ gõ, nghe thấy bên trong truyền ra giọng nói của một cô gái trẻ: "Ai đấy?"</p><p id="42">"Là tôi, Hắc Hùng." Hắc Hùng nói.</p><p id="43">"Là anh Hùng à, vào đi, bọn em đang đợi anh đấy."</p><p id="44">Hắc Hùng đưa tay đẩy cửa, sau một tiếng "két" nhẹ, khung cảnh trong cửa hiện ra. Cửa ra vào là một phòng khách rộng rãi, lúc này trong phòng khách có khoảng tám chín người đang ngồi, họ vây quanh một đống lửa đang cháy lách tách, hình như đang thảo luận điều gì đó.</p><p id="45">"Người mới?" Có người nhìn thấy Lâm Thu Thạch và Nguyễn Bạch Khiết sau lưng Hắc Hùng.</p><p id="46">"Người mới." Hắc Hùng từ từ bước vào nhà, tùy tiện tìm một chỗ ngồi xuống, "Ngồi đi. Tiểu Kha, em giải thích với họ đi."</p><p id="47">Tiểu Kha chính là cô gái mở cửa cho Hắc Hùng, cô ấy trông chỉ khoảng mười lăm mười sáu tuổi, gương mặt thanh tú: "Hai người cũng ngồi đi, tôi nói sơ qua tình hình một chút."</p><p id="48">Lâm Thu Thạch và Nguyễn Bạch Khiết nhìn nhau, hai người ngồi xuống vị trí gần cửa.</p><p id="49">"Thực ra cũng chẳng có gì để nói." Thái độ của Tiểu Kha không mấy nhiệt tình, "Chúng ta cần phải ở lại trong làng một thời gian, giải quyết xong một số vấn đề thì sẽ ổn thôi."</p><p id="50">Lâm Thu Thạch: "Vấn đề gì?"</p><p id="51">Tiểu Kha nói: "Tạm thời chúng tôi cũng chưa biết, phải đợi ngày mai đi tìm trưởng thôn..."</p><p id="52">"Trong số các người có ai là người theo chủ nghĩa duy vật không?"</p><p id="53">Lâm Thu Thạch giơ tay: "Tôi."</p><p id="54">Tiểu Kha nói: "Vậy thì tín ngưỡng của anh phải thay đổi một chút rồi."</p><p id="55">Lâm Thu Thạch: "...Ý là sao?"</p><p id="56">Tiểu Kha nói: "Ý là, ở đây sẽ xảy ra những sự kiện siêu nhiên."</p><p id="57">Lâm Thu Thạch: "..."</p><p id="58">Thái độ của mọi người đối với hai người mới là Lâm Thu Thạch và Nguyễn Bạch Khiết vô cùng lạnh nhạt. Ngoại trừ Tiểu Kha ra, thậm chí không có ai khác chủ động chào hỏi họ.</p><p id="59">Trước khi vào, Lâm Thu Thạch tưởng họ đang thảo luận công việc, nhưng sau khi ngồi bên trong một lát, Lâm Thu Thạch lại phát hiện họ chẳng nói gì cả. Mấy người cứ lẳng lặng ngồi trong phòng khách như vậy, nhìn ngọn lửa trước mặt ngẩn ngơ, có người thì cầm điện thoại chơi game.</p><p id="60">Ở đây điện thoại không có sóng, không thể liên lạc với bên ngoài, nhưng vẫn có thể chơi mấy trò chơi offline.</p><p id="61">Lâm Thu Thạch đếm sơ qua, trong phòng cộng cả cậu là mười một người, bảy nam bốn nữ. Nhìn mặt thì phần lớn đều khá trẻ, trong đó người lớn tuổi nhất chắc không quá bốn mươi.</p><p id="62">Củi trong đống lửa phát ra tiếng nổ lép bép. Nguyễn Bạch Khiết ngồi một lát dường như hơi buồn ngủ, cô nhìn quanh bốn phía, thấy mọi người đều không có ý định rời đi bèn nhỏ giọng hỏi một câu: "Cái đó... ngại quá, xin hỏi ở đây có phòng nào để ngủ không? Tôi hơi buồn ngủ rồi."</p><p id="63">Không biết có phải ảo giác của Lâm Thu Thạch hay không, sau khi Nguyễn Bạch Khiết hỏi câu này, không khí trong phòng dường như đông cứng lại.</p><p id="64">"Thôi, cũng nên đi nghỉ rồi." Hắc Hùng đứng dậy, "Nếu không đến lúc đó lại ngủ gật trong phòng khách. Chia phòng đi." Anh ta nhìn Lâm Thu Thạch, "Cậu với cô ấy một phòng đi, buổi tối cẩn thận một chút, đừng chạy lung tung..."</p><p id="65">Nguyễn Bạch Khiết nói: "Tôi với anh ta một phòng? Nhưng mà..."</p><p id="66">Hắc Hùng thở dài: "Nam nữ khác biệt à? Đợi cô qua được đêm đầu tiên sẽ biết ở đây không quan trọng cái đó đâu, mạng còn chẳng giữ được thì nam nữ khác biệt cái gì."</p><p id="67">Nguyễn Bạch Khiết còn muốn nói gì đó nữa, nhưng thấy không khí giữa mọi người không đúng lắm nên đành thôi.</p><p id="68">Lâm Thu Thạch thấy bộ dạng lo lắng của cô bèn lên tiếng an ủi: "Đừng lo, tôi sẽ không làm gì cô đâu."</p><p id="69">Nguyễn Bạch Khiết gật đầu.</p><p id="70">Ba tầng lầu, tổng cộng chín phòng, nhưng nhìn dáng vẻ của họ thì không có ý định ở riêng. Ít nhất cũng là hai người một phòng, có phòng còn ở ba người.</p><p id="71">"Đi thôi." Hắc Hùng nói, "Ngày mai gặp."</p><p id="72">Mọi người giải tán. Trước khi rời đi, Tiểu Kha đột nhiên đi đến bên cạnh Lâm Thu Thạch, nhẹ nhàng nói một câu: "Đừng quá tin tưởng người khác, chỉ cần sống sót qua lần này..."</p><p id="73">Lâm Thu Thạch đang định hỏi thì thấy cô ấy vội vã rời đi, xem ra không có ý định nói thêm gì với Lâm Thu Thạch nữa.</p><p id="74">"Đi thôi." Nguyễn Bạch Khiết nói, "Chúng ta đi ngủ."</p><p id="75">Lâm Thu Thạch gật đầu.</p><p id="76">Phòng của họ ở bên phải hành lang tầng hai. Trong phòng chỉ có một chiếc giường, bên cạnh giường treo tranh ảnh nhân vật.</p><p id="77">Ở đây không có điện, chỉ có thể thắp đèn dầu. Vì ánh đèn không sáng lắm nên cả căn phòng đều chìm trong một tông màu cũ kỹ, trong không khí còn phảng phất mùi nấm mốc.</p><p id="78">Lâm Thu Thạch vốn tưởng Nguyễn Bạch Khiết sẽ chê bai môi trường một chút, không ngờ cô còn thích nghi nhanh hơn cả cậu, nhanh chóng rửa mặt mũi xong xuôi rồi mò lên giường nằm.</p><p id="79">Ngược lại, Lâm Thu Thạch ngồi bên giường lại có chút không tự nhiên.</p><p id="80">"Ngủ đi." Nguyễn Bạch Khiết cũng vùi đầu vào trong chăn, giọng nói hơi rầu rĩ, "Anh không mệt à?"</p><p id="81">Lâm Thu Thạch nói: "Hơi mệt."</p><p id="82">"Đúng vậy, hôm nay cả ngày đều quá kỳ lạ." Nguyễn Bạch Khiết nói, "Tôi thậm chí còn nghi ngờ có phải các người là do tổ chương trình mời đến để chơi khăm không, nhưng chơi khăm làm gì có chuyện đầy đủ các bước thế này..."</p><p id="83">Lâm Thu Thạch cởi áo khoác ngoài cũng bò vào trong chăn. Để tránh hiềm nghi, cậu và Nguyễn Bạch Khiết tuy nằm trên cùng một chiếc giường nhưng lại đắp hai cái chăn: "Đúng là rất kỳ lạ."</p><p id="84">Nguyễn Bạch Khiết nói: "Còn những người đó nữa, anh có chú ý đến ánh mắt của họ không?"</p><p id="85">Lâm Thu Thạch nói: "Họ đang sợ hãi."</p><p id="86">"Đúng." Nguyễn Bạch Khiết nói, "Họ đang sợ hãi... Vậy thì, họ đang sợ cái gì?"</p><p id="87">Lâm Thu Thạch suy nghĩ một lát, đang định nói thì nghe thấy bên cạnh truyền đến tiếng thở đều đều. Cậu quay đầu lại, thấy Nguyễn Bạch Khiết đã ngủ say.</p><p id="88">Lâm Thu Thạch nhìn trần nhà trên đầu, trong ánh đèn mờ ảo chìm vào trầm tư. Thật ra cậu khá khâm phục Nguyễn Bạch Khiết, đột nhiên xuất hiện ở nơi xa lạ, đột nhiên gặp nhiều người kỳ lạ như vậy mà cô vẫn có thể nhắm mắt là ngủ được.</p><p id="89">Nhưng Lâm Thu Thạch cứ nghĩ mãi rồi cơn buồn ngủ dần dần kéo đến, cậu nhắm mắt lại, cứ thế ngủ thiếp đi.</p><p id="90">Nửa đêm, Lâm Thu Thạch đột nhiên giật mình tỉnh giấc.</p><p id="91">Cậu nằm trong chăn, nghe thấy một âm thanh va chạm mơ hồ.</p><p id="92">Âm thanh đó giống như tiếng gió lạnh thổi vào khung cửa sổ cũ nát phát ra tiếng kẽo kẹt, lại giống như có người đang đi chân trần trên sàn nhà, khiến sàn nhà bị đè nặng đến mức quá tải.</p><p id="93">Lâm Thu Thạch mở mắt ra, nhìn thấy căn phòng chìm trong bóng tối mờ ảo.</p><p id="94">Tuyết bên ngoài không biết đã ngừng rơi từ lúc nào, mặt trăng khổng lồ treo cao giữa không trung. Ánh sáng lạnh lẽo chiếu vào từ đầu giường, rắc lên sàn nhà như một lớp voan mỏng.</p><p id="95">Khi tầm mắt của Lâm Thu Thạch từ từ di chuyển đến bên giường, hơi thở của cậu đột nhiên ngưng bặt.</p><p id="96">Ở đầu giường lại xuất hiện bóng dáng của một người phụ nữ. Người phụ nữ ngồi ở đầu giường, quay lưng về phía Lâm Thu Thạch, mái tóc đen dài che khuất đường nét của cô ta. Cô ta dường như nhận ra Lâm Thu Thạch đã tỉnh, từ từ quay đầu lại.</p><p id="97">Cảnh tượng này thực sự quá giống cảnh trong phim kinh dị, khiến Lâm Thu Thạch cả người cứng đờ trong giây lát. May mà cậu gan dạ, nghiến răng ngồi bật dậy trên giường, chửi một câu: "Đệt, cô là ai!! Chạy vào phòng tôi làm gì!!"</p><p id="98">Động tác của người phụ nữ hơi khựng lại, sau đó một giọng nói truyền đến: "Anh kêu cái gì, là tôi mà."</p><p id="99">Là giọng của Nguyễn Bạch Khiết.</p><p id="100">Lâm Thu Thạch thở phào nhẹ nhõm, cậu nói: "Muộn thế này cô không ngủ ngồi ở đầu giường làm gì."</p><p id="101">"Anh có nhìn thấy cái giếng trước nhà không?" Nguyễn Bạch Khiết nói, "Chính là cái giếng trong sân ấy."</p><p id="102">Lâm Thu Thạch nói: "Giếng? Giếng gì?" Cậu đang định bò dậy khỏi giường thì vô tình liếc nhìn sang bên phải mình. Cái liếc mắt này khiến máu trong người cậu đông cứng ngay lập tức —— Nguyễn Bạch Khiết vẫn đang ngủ ở bên phải cậu, hoàn toàn chưa từng di chuyển.</p><p id="103">"Chính là cái giếng đó." Người phụ nữ có giọng nói y hệt Nguyễn Bạch Khiết nói, "Chúng ta cùng đi xem đi."</p><p id="104">Lâm Thu Thạch: "..."</p><p id="105">Người phụ nữ nói: "Sao anh không nói gì vậy?"</p><p id="106">Lâm Thu Thạch nói: "Tháng trước tôi mới được bình bầu là cán bộ Đảng viên ưu tú."</p><p id="107">Người phụ nữ: "..."</p><p id="108">Lâm Thu Thạch: "Tôi là người theo chủ nghĩa duy vật kiên định."</p><p id="109">Người phụ nữ: "..."</p><p id="110">Lâm Thu Thạch nói: "Cho nên cô đổi người khác dọa có được không?"</p><p id="111">Người phụ nữ từ từ quay đầu lại. Nhờ ánh trăng, Lâm Thu Thạch nhìn thấy khuôn mặt của cô ta. Đó là một khuôn mặt rất khó dùng lời để diễn tả, trắng bệch, phù thũng, nhãn cầu gần như muốn lồi ra khỏi hốc mắt. Dáng vẻ của cô ta xa lạ nhưng giọng nói lại quen thuộc đến vậy, cô ta nói: "Anh không sợ tôi sao?"</p><p id="112">Lâm Thu Thạch im lặng ba giây, cúi đầu nhìn cái chăn của mình: "Đừng như vậy chứ, tôi đến đây chỉ mang theo mỗi một cái quần thôi."</p><p id="113">Người phụ nữ: "..."</p><p id="114">Lâm Thu Thạch vuốt mặt một cái: "Dọa nữa là tè thật đấy." Cậu nói xong câu này, đưa tay bắt đầu vỗ vỗ Nguyễn Bạch Khiết bên cạnh, nói: "Mau dậy đi!!!"</p><p id="115">Nguyễn Bạch Khiết mơ màng bị Lâm Thu Thạch vỗ tỉnh, dụi mắt nói: "Làm gì đấy." Cô vừa mở mắt ra cũng nhìn thấy người phụ nữ ngồi ở đầu giường, "Ai đây? Lâm Thu Thạch, anh nửa đêm không ngủ đi đâu tìm một người phụ nữ về vậy, quá vô liêm sỉ rồi. Tôi có điểm nào không bằng cô ta?"</p><p id="116">Lâm Thu Thạch: "..." Đây là trọng tâm sao??</p><p id="117">Nguyễn Bạch Khiết nhỏ giọng mắng vài câu thì bỗng cảm thấy có gì đó không đúng, cô trợn tròn đôi mắt đen: "Cổ cô ta sao càng ngày càng dài thế..."</p><p id="118">Lâm Thu Thạch nhìn lại lần nữa, phát hiện người phụ nữ đó đã đứng dậy khỏi đầu giường, đầu cô ta nghiêng sang một bên, cổ trở nên càng ngày càng dài, trông cứ như một con rắn đột biến.</p><p id="119">Hình ảnh này khiến cả hai người đều ngẩn ra. Cuối cùng Lâm Thu Thạch không chịu nổi nữa, hét lớn một tiếng: "Đệt, chạy mau." rồi nắm lấy tay Nguyễn Bạch Khiết chạy thục mạng ra ngoài cửa.</p><p id="120">Kết quả là Nguyễn Bạch Khiết ban ngày trông yếu đuối mong manh lại chạy còn nhanh hơn cả Lâm Thu Thạch, như một cơn gió biến mất ngoài cửa.</p><p id="121">Lâm Thu Thạch: "Cô chạy chậm một chút——"</p><p id="122">Nguyễn Bạch Khiết: "Tôi chạy chậm một chút chẳng phải là đi đời nhà ma sao——"</p><p id="123">Lâm Thu Thạch: "..." Hừ, đàn bà.</p><p id="124">Hai người như thỏ chạy một mạch xuống tầng một, xác định thứ đó không đuổi theo mới thở phào nhẹ nhõm. Nguyễn Bạch Khiết khóc thảm hơn ai hết, chạy nhanh hơn cả chó, lúc Lâm Thu Thạch đang thở hồng hộc thì cô đã lại rưng rưng nước mắt, chuẩn bị làm thêm một đợt nữa rồi.</p><p id="125">"Đừng khóc nữa đừng khóc nữa." Lâm Thu Thạch nói, "Cô nhỏ tiếng một chút, lỡ dẫn dụ thứ đó đến thì làm sao?"</p><p id="126">Nguyễn Bạch Khiết: "Anh chỉ nghĩ đến người ta, chẳng quan tâm gì đến tôi cả."</p><p id="127">Lâm Thu Thạch: "..."</p><p id="128">Có lẽ là do biểu cảm của Lâm Thu Thạch quá ghét bỏ, Nguyễn Bạch Khiết đành phải kìm nước mắt lại, yếu đuối ngồi xuống chiếc ghế ở tầng một, nhẹ nhàng lau khóe mắt ươn ướt của mình.</p><p id="129">Lúc này họ đang đứng trong phòng khách tầng một, cả căn phòng đều trống rỗng. Vừa nãy gây ra động tĩnh lớn như vậy mà lại không có ai ra xem náo nhiệt, đến mức ngoại trừ tiếng thở dốc của họ, hoàn toàn không nghe thấy âm thanh nào khác.</p><p id="130">Lâm Thu Thạch đứng tại chỗ một lát, do dự nói: "Chúng ta làm thế nào đây?" Cậu và Nguyễn Bạch Khiết hoàn toàn không có kinh nghiệm về những chuyện này, hoàn toàn không biết nên xử lý ra sao, lúc này đứng trong phòng khách cứ như hai khúc gỗ.</p><p id="131">"Bên ngoài tuyết rơi rồi." Nguyễn Bạch Khiết lại đột nhiên nói một câu, từ từ đi đến bên cửa, nhìn ra ngoài sân.</p><p id="132">"Nửa đêm đã có tuyết rơi." Lâm Thu Thạch đứng ở cửa, nhìn thấy trong sân đã tích một lớp tuyết mỏng. Cậu cũng nhìn thấy cái giếng mà nữ quỷ lúc nãy nhắc đến. Quả nhiên như cô ta nói, giữa sân có một cái giếng. Vị trí của cái giếng đó hơi đột ngột, nằm ngay trung tâm của cả cái sân, thậm chí vừa vặn chắn ngay trước cửa lớn. Điều này xét về phong thủy thì không phải là chuyện tốt gì.</p><p id="133">"Có đá chắn lối vào, có miệng khó nói." Nguyễn Bạch Khiết bỗng nhiên nói một câu, "Cái giếng này xây khéo thật đấy." Cô cười lên, khóe mắt cong cong trông vô cùng xinh đẹp.</p><p id="134">"Gì cơ?" Lâm Thu Thạch nói, "Cô còn hiểu phong thủy à?"</p><p id="135">Nguyễn Bạch Khiết nói: "Nhà làm nghề này, có học qua một chút." Cô liếc nhìn Lâm Thu Thạch, "Anh làm nghề gì?"</p><p id="136">Lâm Thu Thạch: "Làm thiết kế..."</p><p id="137">Nguyễn Bạch Khiết: "Ồ, đầu chưa hói, chắc chưa làm được mấy năm nhỉ?"</p><p id="138">Lâm Thu Thạch: "..." Cô thật biết cách nói chuyện.</p><p id="139">"Anh đoán xem tôi làm nghề gì?" Nguyễn Bạch Khiết vuốt ve mái tóc của mình.</p><p id="140">Lâm Thu Thạch: "Người mẫu?" Cậu hiếm khi thấy cô gái nào cao như Nguyễn Bạch Khiết, dáng người cao ráo, khí chất lại tốt, ngoại trừ ngực hơi nhỏ ra thì hình như không có khuyết điểm nào khác.</p><p id="141">"Không phải." Nguyễn Bạch Khiết cười híp mắt nói, "Tôi làm nghề bói toán."</p><p id="142">Lâm Thu Thạch sững sờ.</p><p id="143">"Để tôi tính xem nào." Ngón tay Nguyễn Bạch Khiết bấm đốt nhanh thoăn thoắt, "Hôm nay trăng tròn thế này, tôi cảm thấy sắp có người chết rồi."</p><p id="144">Lâm Thu Thạch dở khóc dở cười: "Đây là logic gì vậy, sao trăng tròn lại sắp có người chết."</p><p id="145">Nguyễn Bạch Khiết không để ý đến Lâm Thu Thạch, cô đi về phía sân, còn vẫy vẫy tay với Lâm Thu Thạch. Lâm Thu Thạch bị hành động của cô làm cho giật mình: "Cô làm gì đấy? Muộn thế này rồi..."</p><p id="146">Nguyễn Bạch Khiết nói: "Tôi muốn xem cái giếng này."</p><p id="147">"Ngày mai ban ngày hẵng xem, bây giờ xem nguy hiểm lắm." Lâm Thu Thạch tuy nói vậy nhưng vẫn lo lắng Nguyễn Bạch Khiết xảy ra chuyện, bèn đi theo cô ra sân.</p><p id="148">Nguyễn Bạch Khiết mặc một chiếc váy dài màu trắng, bước đi trên nền tuyết nhẹ nhàng như một tinh linh. Cô từ từ đến gần miệng giếng nhưng không lại gần hẳn mà đợi Lâm Thu Thạch cũng đi tới.</p><p id="149">Lâm Thu Thạch nói: "Sao vậy?"</p><p id="150">Nguyễn Bạch Khiết nói: "Không sao, đột nhiên không muốn xem nữa, chúng ta về đi."</p><p id="151">Lâm Thu Thạch khó hiểu: "Sao lại đòi về rồi?"</p><p id="152">"Lạnh quá." Nguyễn Bạch Khiết nói, "Tôi sắp chết cóng rồi." Cô nói xong, động tác tự nhiên khoác lấy cánh tay Lâm Thu Thạch, sau đó cứng rắn kéo cậu về lại trong nhà.</p><p id="153">Lâm Thu Thạch bị Nguyễn Bạch Khiết kéo đi, phát hiện sức lực của cô rất lớn, nhất thời lại không thể vùng thoát ra được.</p><p id="154">"Nguyễn Bạch Khiết?" Lâm Thu Thạch bị sức lực của Nguyễn Bạch Khiết làm cho hoảng sợ.</p><p id="155">Nguyễn Bạch Khiết lúc này mới buông tay: "Đi thôi, lạnh quá, mau về đi, còn có thể ngủ thêm một lát..." Cô nói xong, không để ý đến Lâm Thu Thạch nữa, tự mình lên lầu về phòng.</p><p id="156">Lâm Thu Thạch đành phải đi theo sau cô về phòng trên tầng hai. May mắn là người phụ nữ kinh dị lúc trước đã biến mất, nhưng cửa sổ bị mở ra, gió lạnh thổi vù vù vào trong phòng.</p><p id="157">Nguyễn Bạch Khiết lên giường, nhắm mắt lại là định ngủ.</p><p id="158">Lâm Thu Thạch thực sự không ngủ được, châm lại đèn dầu, cứ thế thức trắng một đêm. Đêm ở đây dài đến đáng sợ, bên ngoài là gió tuyết gào thét, bên trong là người đẹp đang ngủ say. Nguyễn Bạch Khiết ngủ cùng giường với người đàn ông mới quen nhưng lại không hề có ý đề phòng, hơi thở cô đều đều, trên gò má trắng ngần vương chút ửng hồng nhàn nhạt, trông vô cùng quyến rũ.</p><p id="159">Lâm Thu Thạch nhìn một cái liền dời mắt đi. Cậu tuy không phải là quân tử "ngồi trong lòng mà vẫn không loạn", nhưng cũng không phải là kẻ tiểu nhân thừa nước đục thả câu.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24274-kinh-van-hoa-chet-choc" class="dark:text-black col text-center  disabled "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24274-kinh-van-hoa-chet-choc" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24274-kinh-van-hoa-chet-choc/c271892-chuong-2-cua-sat-va-chia-khoa" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'CkJ4GWWSZNzTeUBJLrFtOqCJKQGmOteVccFS9nJX';
        var comment_type = 'chapter';
        var comment_typeid = '271891';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'CkJ4GWWSZNzTeUBJLrFtOqCJKQGmOteVccFS9nJX';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24274');
    chapter_id = parseInt('271891');

    readingObject = {
        series_id: series_id,
        series_title: 'Kính Vạn Hoa Chết Chóc',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="CkJ4GWWSZNzTeUBJLrFtOqCJKQGmOteVccFS9nJX" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="//spicewaxworks.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

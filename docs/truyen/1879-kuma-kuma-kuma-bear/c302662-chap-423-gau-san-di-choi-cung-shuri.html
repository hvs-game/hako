<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kuma Kuma Kuma Bear - Chap 423: Gấu-san đi chơi cùng Shuri - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Yuna, một cô gái 15 tuổi bắt đầu chơi trò chơi định dạng VRMMO đầu tiên trên thế giới. Cô đã nhận được hàng tỷ Yên từ tiền cổ phiếu, và quyết định &quot;đóng đô&quot; luôn trong nhà, không đi học đến trường nữa. Hôm nay, một bản cập nhật...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="0zgF2k4eDgXZMtsB3OStXNpkXNHp8QyHODPyD6ZF">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/1879-kuma-kuma-kuma-bear/c302662-chap-423-gau-san-di-choi-cung-shuri">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s1879-58ea2bd4-50aa-49aa-837e-5769479a35d7.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/1879-kuma-kuma-kuma-bear/c97398-minh-hoa-ln-vol-18"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/1879-kuma-kuma-kuma-bear"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/1879-kuma-kuma-kuma-bear/c117209-minh-hoa-ln-vol-19-20"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/1879-kuma-kuma-kuma-bear/c302662-chap-423-gau-san-di-choi-cung-shuri" style="background: url('https://i.hako.vn/ln/series/covers/s1879-58ea2bd4-50aa-49aa-837e-5769479a35d7.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/1879-kuma-kuma-kuma-bear">Kuma Kuma Kuma Bear</a></h5>
                    <small><i class="fas fa-pen"></i>Kumanano</small>
                    <small><i class="fas fa-paint-brush"></i>029</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c67694-danh-sach-nhan-vat">Vol 0: Ngoại truyện</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c31735-minh-hoa-ln-vol-1">Vol 1: Gấu-san đến thế giới khác (001-026)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c53849-minh-hoa-ln-vol-2">Vol 2: Gấu-san tận hưởng thế giới mới (027-050)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c31737-minh-hoa-ln-vol-3">Vol 3: Gấu-san đi đến thủ đô vương quốc (051-074)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c31738-minh-hoa-ln-vol-4">Vol 4: Gấu-san đến bãi biển (075-103)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c31739-minh-hoa-ln-vol-5">Vol 5: Gấu-san làm được rất nhiều thứ (104-126)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c53854-minh-hoa-ln-vol-6">Vol 6: Gấu-san làm dao Mithril (127-161)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c29195-minh-hoa-ln-vol-8">Vol 7: Gấu-san tham gia bữa tiệc sinh nhật (162-199)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c53855-minh-hoa-ln-vol-9">Vol 8: Gấu-san đến làng Elf (200-240)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c66159-minh-hoa-ln-vol-10">Vol 9: Gấu-san đến lễ hội trường (241-284)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c96822-minh-hoa-ln-vol-12-13">Vol 10: Gấu-san đến sa mạc (285-329)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c96824-minh-hoa-ln-vol-14-15">Vol 11: Gấu-san đi du lịch cùng mọi người (330-376)</a></li>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c96861-minh-hoa-ln-vol-16-17">Vol 12: Gấu-san đến thành phố Dwarf (377-422)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/1879-kuma-kuma-kuma-bear/t17827-vol-13-gau-san-den-dai-hoa-quoc-423-498">Vol 13: Gấu-san đến Hòa quốc (423-498)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/1879-kuma-kuma-kuma-bear/c97398-minh-hoa-ln-vol-18">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa LN vol 18
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/1879-kuma-kuma-kuma-bear/c302662-chap-423-gau-san-di-choi-cung-shuri">
                                                                        Chap 423: Gấu-san đi chơi cùng Shuri
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/1879-kuma-kuma-kuma-bear/c117209-minh-hoa-ln-vol-19-20">Vol 14: Gấu-san đến thành phố Euphalia</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 13: Gấu-san đến Hòa quốc (423-498)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 423: Gấu-san đi chơi cùng Shuri</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/1879-kuma-kuma-kuma-bear/c302662-chap-423-gau-san-di-choi-cung-shuri#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,416 từ - Cập nhật: 
                        <time class="topic-time timeago" title="01-02-2026 22:56:32" datetime="2026-02-01T22:56:32+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 423: Gấu-san đi chơi cùng Shuri</p>
                    <p id="1"><strong>Dịch và edit bởi JunnySnow</strong></p><p id="2">ʕ ᵔᴥᵔ ʔ</p><p id="3">- Yuna’s POV-</p><p id="4">Một ngày sau bữa tiệc BBQ tưng bừng, tôi và Shuri cùng dắt tay nhau tới hòn đảo di động Targui để đổi gió. </p><p id="5">Thật ra là hôm qua, trong lúc cả nhà ba người đang vui vẻ xẻ thịt con lợn rừng khổng lồ, Shuri bắt đầu mè nheo với tôi. Con bé nũng nịu nói mình cũng muốn được dắt đi đâu đó chơi riêng, vì vậy tôi quyết định nuông chiều cô em út này một chút.</p><p id="6">Shuri cũng không đòi hỏi gì cao, em nó chỉ muốn quay lại hòn đảo mà cả bọn từng càn quét trái cây hồi đó. Bởi vậy mới có cảnh hôm nay tôi với Shuri dắt díu nhau tới Targui chơi nè.  </p><p id="7">Fina chọn ở nhà với Tirumina-san. Mấy ngày nay cô ấy đang vô cùng yêu chìu cô con gái lớn của mình.</p><p id="8">Dù gì thì Fina cũng mới 10 tuổi thôi mà. Vì Fina bận nhận tình yêu thắm thiết của mẹ ở nhà nên hôm nay chỉ có mình Shuri đi với tôi thôi. </p><p id="9">Vừa đặt chân tới Targui, tôi liền triệu hồi Gấu Yuru và Gấu Kyuu. Thấy Shuri định phóng vèo tới chỗ hai bé gấu, tôi liền níu lấy con bé dặn dò kĩ lưỡng.</p><p id="10"> 「Em nhất định phải ở gần Gấu Yuru nghe chưa?」 Tôi nghiêm giọng dặn dò.</p><p id="11">「<em>Un</em>!」 Shuri đáp dứt khoát, đôi mắt vẫn lấp lánh nhìn hai bé gấu.</p><p id="12">「Nếu Gấu Yuru không cho em đi thì em phải tuyệt đối đứng im nhé」 Tôi nhấn mạnh từng chữ một.</p><p id="13">「<em>Un</em>!」 Shuri gật đầu lia lịa.</p><p id="14">「Cũng dừng tự tiên hái hay ăn mấy quả lạ. Nhất định phải hỏi Gấu Yuru trước nhen!」 Tôi tiếp tục cảnh báo.</p><p id="15">「<em>Un</em>!」 Shuri ngoan ngoãn đáp lời.</p><p id="16">「Một khi gặp chuyện bất thường thì phải dùng Điện thoại Gấu gọi cho chị liền nha」 Tôi giơ Điện thoại Gấu lên.</p><p id="17">「<em>Un</em>!」 Shuri cười toe toét.</p><p id="18">「Còn nữa.....」</p><p id="19">Hmm.... Còn gì phải coi chừng nữa không ta?</p><p id="20">「U~u, Yuna-oneechan. Chị lo xa y như Fina-oneechan vậy đó. Em hứa sẽ bám sát và nghe lời Gấu Yuru-chan mà. Phải hông, Gấu Yuru-chan?」 </p><p id="21">Shuri quay sang ôm chầm lấy Gấu Yuru để tìm đồng minh. Sau đó Gấu Yuru cũng kêu lên 「ku~u~n」 đáp lời.</p><p id="22">「Gấu Yuru, em nhớ coi chừng Shuri giùm chị nhé」 Tôi xoa đầu bé gấu.</p><p id="23">「<em>Ku~u~n</em>」</p><p id="24">Tôi đã nhờ Gấu Yuru coi chừng Shuri.</p><p id="25">「Gấu Yuru, mình đi lẹ thôi!」 Shuri vui vẻ leo tót lên lưng Gấu Yuru.</p><p id="26">「<em>Ku~u~n</em>」</p><p id="27">Gấu Yuru phóng đi mất hút.</p><p id="28">Tôi thì thong thả cưỡi Gấu Kyuu chạy chậm theo sau.</p><p id="29">Đi thong dong dọc theo đường mòn, tôi bắt gặp Shuri đang mải mê hái quả oren với Gấu Yuru. </p><p id="30">Con bé đứng hẳn trên lưng Gấu Yuru, cố vươn đôi tay nhỏ nhắn tới những quả oren mọng nước trên cao. Tôi bật cười khi thấy con bé còn lịch sự cởi giày bỏ sang một bên trước khi đứng lên lưng Gấu Yuru để không làm bẩn lông của em ấy. </p><p id="31">Shuri cẩn thận bỏ từng trái oren vào túi. Nếu hái số lượng lớn thì cất trong túi vật phẩm sẽ tiện hơn nhiều chứ nhỉ?</p><p id="32">「Gấu Yuru-chan, em xích qua phải xíu đi!」 Shuri vừa giữ thăng bằng vừa nói.</p><p id="33">「<em>Ku~u~n</em>」</p><p id="34">Gấu Yuru ngoan ngoãn di chuyển theo ý Shuri. Con bé đứng vững vàng trên lưng em ấy.</p><p id="35">「A, em đi lố rồi!」 Shuri la lên khi thấy cành oren tuột khỏi tầm tay. </p><p id="36">「<em>Ku~u~n</em>」</p><p id="37">Gấu Yuru lùi lại một xíu. Shuri nhón chân vươn người hết cỡ.</p><p id="38">「Mình hái được rồi nè!」 Shuri reo lên sung sướng. </p><p id="39">「<em>Ku~u~n</em>」</p><p id="40">Nhìn cảnh này làm tôi thấy vui ghê.</p><p id="41">Tôi để mặc Shuri và Gấu Yuru tiếp tục cuộc vui, còn mình thì cùng cùng Gấu Kyuu tiếp tục đi về phía trước.</p><p id="42">Mục tiêu của tụi này tới hốt xoài với chuối. Ở đây không chỉ có trái cây mà còn có rau xanh và rau dại mọc khắp nơi nữa. Tuy số lượng không đủ để đem bán, nhưng nếu chỉ để chính mình ăn cũng đủ.</p><p id="43">Nhưng cứ hái vô tội vạ như vầy có ổn không ta? Dù gì thì tài nguyên trên đảo cũng có hạn mà.</p><p id="44">ʕ ᵔᴥᵔ ʔ</p><p id="45"> - Shuri’s POV-</p><p id="46">Hôm nay mình được Yuna-oneechan dắt tới đảo trái cây chơi nè! Hai chị em mình đi bằng cánh cửa Gấu thần kì ở nhà Yuna-oneechan đó. Thần bí quá trời luôn đúng hông?</p><p id="47">Mình còn được cưỡi Gấu Yuru-chan đi tìm trái cây nữa. Mục tiêu đầu tiên là những trái oren mọng nước nhất. Mình đã đứng hẳn lên lưng Gấu Yuru-chan để hái được chúng đó.</p><p id="48">Trong lúc mình đang mải mê tìm thêm, mình thấy Yuna-oneechan với Gấu-Kyuu-chan cũng đang hăng hái hái trái cây ở đằng xa. Mình nhất định sẽ không thua Yuna-oneechan đâu! Để coi có trái nào nhìn ngon không ta?</p><p id="49">Ồ, có quả gì màu đen thui ở đằng kia kìa.</p><p id="50">「Gấu Yuru-chan, mình có ăn được cái trái đen đen đó hông?」 Mình chỉ tay vào quả lạ.</p><p id="51">Yuna-oneechan đã dặn mình phải hỏi Gấu Yuru-chan khi gặp phải đồ lạ.</p><p id="52">&lt;Kuu~ n&gt;  Gấu Yuru-chan khịt khịt mũi rồi lắc đầu.</p><p id="53">Ài, có vẻ mình hông ăn cái đó được rồi.</p><p id="54">「Vậy còn cái đằng kia thì sao?」 </p><p id="55">Lần này mình tìm được một loại trái cây có màu xanh lá pha chút vàng. Nhìn qua giống trái oren ghê, nhưng nó nhỏ hơn nhiều, với lại cái cây nhìn cũng khác nữa. Mình chưa thấy trái này bao giờ, hông biết có ăn được hông ta?</p><p id="56">Trường hợp này thì mình phải hỏi chuyên gia Gấu Yuru-chan thôi.</p><p id="57">「Gấu Yuru-chan, trái này có ăn được hông?」 Mình hỏi với vẻ mặt đầy mong chờ.</p><p id="58">Gấu Yuru-chan kêu lên &lt;kuun&gt; rồi gật đầu lia lịa.</p><p id="59">Ý, cái này ăn được nè! Cây này cũng hông cao lắm nên mình ráng nhón chân một chút là hái được trái vàng vàng này rồi. Ăn có ngon hông ta?</p><p id="60">Mình rút dao tính cắt đôi trái này ra. Tuy màu hơi khác nhưng nó cũng mọng nước giống trái oren vậy đó. Mình há miệng cắn thử một miếng.</p><p id="61">「U~u~u~u~u~u~u~u~u~u~u~u!!!」</p><p id="62">Mình lập tức giục nó xuống đất. Má ơi nó chuaaaaaaa tê tái tâm hồn luôn!</p><p id="63">「U~u, Gấu Yuru-chan nói xạo! Sao em nói cái này có thể ăn được chứ?」 Mình nhăn mặt giận dỗi.</p><p id="64">「Ku~u~n」</p><p id="65">Gấu Yuru-chan cụp tai xuống, vẻ mặt buồn rười rượi. Nhưng tại Gấu Yuru-chan nói xạo chứ bộ.</p><p id="66">Miệng mình chua lè luôn rồi nè. Mình cảm thấy như bị Gấu Yuru-chan lừa rồi.</p><p id="67">「Em sao vậy Shuri?」 </p><p id="68">Thấy mình giận dỗi Gấu Yuru-chan, Yuna-oneechan cưỡi Gấu Kyuu-chan chạy tới hỏi thăm.</p><p id="69">「Gấu Yuru-chan nói xạo kìa chị!」 Mình uất ức méc.</p><p id="70">Nghe mình méc vậy, Yuna-oneechan nhìn quanh rồi thấy cái cây trước mặt mình.</p><p id="71">「Ờm.... Hình như em mới ăn… chanh phải không?」 Yuna-oneechan nhìn đống vỏ dưới đất rồi phì cười.</p><p id="72">「Nó chua quá trời quá đất luôn đó chị! Vậy mà Gấu Yuru-chan nói cái đó có thể ăn được」 Mình vừa nói vừa rùng mình nhớ lại vị chua đó.</p><p id="73">「Thật ra thì Gấu Yuru không sai đâu. Chanh thường dùng để ướp thịt hoặc trộn gỏi cho thơm thôi. Nên không thể nói nó không ăn được」 Yuna-oneechan giải thích.</p><p id="74">「Thật không chị?」 Mình thấy nghi lắm.</p><p id="75">「Thật mà. Bởi vậy Gấu Yuru mới nói em là ăn được đó. Em nên tha thứ cho bé nó đi」 Yuna-oneechan chỉ tay về phía Gấu Yuru ủ rũ.</p><p id="76">Mình nhìn trái chanh màu vàng rồi lại nhìn sang Gấu Yuru-chan. Hóa ra Gấu Yuru-chan không có lừa mình.</p><p id="77">「... Gấu Yuru-chan, mình xin lỗi vì đã la em nhé」 </p><p id="78">Mình hối hận, nhẹ nhàng xoa đầu Gấu Yuru-chan.  </p><p id="79">Gấu Yuru-chan kêu lên &lt;kuu-n&gt; rồi dụi cái đầu to đùng vào người mình. Hình như em ấy đã tha thứ cho mình rồi! Nhưng mà lần sau mình phải hỏi kỹ có trái nào ăn được bình thường mà hông cần chế biến mới được.</p><p id="80">ʕ ᵔᴥᵔ ʔ</p><p id="81">- Yuna’s POV-</p><p id="82">Tôi tranh thủ hái thêm vài trái chanh mà Shuri vừa tìm thấy. Loại này đem về để nấu ăn, làm nước chanh hay trà chanh là hết sảy. Tôi còn nghe đồn có người dung nó làm kẹo chanh nữa, dù chưa thử bao giờ nhưng chắc là ăn ngon? Lần tới phải làm thử mới được. </p><p id="83">Sau sự cố chanh chua, tôi quyết định đi cùng Shuri để tránh hiểu lầm xảy ra. Dù thực tế là nếu lỡ gặp phải trái cây lạ thì tôi cũng chịu.</p><p id="84">Trong khi hai người hai gấu đang mải mê khám phá Targui, chúng tôi bất ngờ tìm thấy bắp nè.</p><p id="85">Hmm? Sao lại có hai loại bắp khác nhau mọc hai bên thế này nhỉ? Một bên thì tươi rói, căng mọng nhìn là muốn ăn sống luôn. Còn bên kia thì trông khô khốc, héo héo sao đó. Không lẽ chúng bị chết khô ở đây hả?</p><p id="86">Tôi hái một trái bắp héo coi kĩ. Không lẽ.... Cái này là!!!</p><p id="87">Tôi sực nhớ hồi xưa coi TV, người ta nói có nhiều loại bắp có thể làm bắp rang bơ. Để làm được món đó, bắp phải được để khô tới mức héo rũ mới thu hoạch. Sau khi thu hoạch, để hạt bắp khô lại là có thể làm thành bắp rang không?</p><p id="88">Tuy không nhớ rõ lắm nhưng tôi khá chắc kèo. Nếu dùng bắp tươi thông thường thì không làm bắp rang bơ được đâu.</p><p id="89">Nhưng ai biết được, cứ thử trước cho chắc. Tôi chỉ ăn bắp rang hồi đi coi phim thời tiểu học thôi à. Lâu lắm rồi tôi chưa ăn bắp rang bơ. Cũng phải thôi, lên cấp hai là tôi trùm mềm ở nhà rồi. Vừa ăn bắp rang vừa coi phim là chuẩn bài luôn, nhưng xui cái ở thế giới này không có rạp chiếu phim hay TV gì hết. À, hình như có một cái rạp hát ở kinh đô nha.</p><p id="90">Ở đó có cho khán giả vừa ăn vừa coi kịch không nhỉ?</p><p id="91">Thôi, dù không có dịp ăn, nhưng tôi vẫn muốn chỉ Fina và Shuri cách làm bắp rang bơ. Cái cảnh hạt bắp cứng ngắc nổ bóc một cái rồi biến thành một viên cầu trắng sữa mềm mại chắc chắn sẽ làm mấy đứa nhỏ lác mắt cho coi. Ai thấy rồi đều biết mà.</p><p id="92">Tôi bắt đầu gom mấy trái bắp héo cho vào túi.</p><p id="93">「Yuna-oneechan, mấy trái bắp héo đó chắc hông ăn được đâu, nó cứng như đá vậy á. Chị hái bên này đi, nhìn ngon hơn nhiều nè!」 </p><p id="94">Shuri so sánh hai loại bắp rồi nhiệt tình khuyên nhủ.</p><p id="95">「Chị muốn làm thử một món mới nên mới cần mấy trái bắp héo này đó」 Tôi mỉm cười giải thích.</p><p id="96">「Chị định làm gì với đống bắp khô này ạ?」 Shuri chớp mắt tò mò.</p><p id="97">「Chị cũng không chắc là mình có ăn được không nữa」 Tôi nhún vai.</p><p id="98">「Chị… tính ăn nó thiệt hả?」 </p><p id="99">Shủi nhìn vào mấy trái bắp héo với ánh mắt đầy vẻ ái ngại.</p><p id="100">Chị cũng đâu có điên mà đi nhai cái thứ cứng ngắc này!</p><p id="101">「Shuri và Gấu Yuru, giúp chị hái bắp ở đằng kia đi. Gấu Kyuu, em phụ chị hái mấy trái bắp ở đây nha」 Tôi phân chia nhiệm vụ cho cả đội. </p><p id="102">「「Ku~u~n」」</p><p id="103">Thế là cả bọn chia nhau ra hái bắp ngon và bắp héo. Hồi trước chúng tôi từng làm những cây kẹo bông gòn ngọt lịm lúc lễ hội trường và nó đã rất hot rồi, nhưng kẹo bông gòn vẫn chưa là gì so với bắp rang bơ đâu.</p><p id="104">Tại hồi đó tôi chưa có hạt bắp rang mà. Tôi còn không biết đống bắp này có thành bắp rang không nữa.</p><p id="105">「Yuna-oneechan, em đói quá....」 </p><p id="106">Trong lúc hái bắp, Shuri vừa ôm bụng vừa kêu ca. Đúng là sắp tới giờ cơm rồi.</p><p id="107">「Vậy mình ăn bắp đi ha」 Tôi đưa ra đề nghị hấp dẫn.</p><p id="108">「<em>Un</em>!」 Shuri mắt sáng rỡ như đèn pha. </p><p id="109">Tôi lấy một cái nồi mua ở tiệm Rojina-san, đổ nước vào rồi nhóm lửa chuẩn bị luộc bắp. Trong lúc chờ nước sôi, chúng tôi tranh thủ hái thêm một chút nữa.</p><p id="110">Chờ một lúc, mùi bắp luộc thơm lừng bắt đầu tỏa ra ngào ngạt.</p><p id="111">「Coi chừng nóng nha」 </p><p id="112">Tôi cẩn thận quấn bắp trong một cái khăn rồi đưa cho Shuri.</p><p id="113">Shuri vừa thổi phù phù vừa cắn một miếng thật to.</p><p id="114">「A, nóng quá! Nhưng mà ngon xỉu luôn chị ơi!」 Shuri vừa hít hà vừa khen.</p><p id="115">「Bắp mới hái mà lị, không ngon sao được」 Tôi cầm một trái ăn.</p><p id="116">Tôi cũng không quên đưa cho Gấu Yuru và Gấu Kyuu đang ngồi kế bên vài trái bắp. Hai bé gấu thành thạo lột vỏ bắp trong tay rồi ăn một cách ngon lành.</p><p id="117">Sợ Shuri chưa đủ no, tôi còn cắt thêm vài loại trái cây vừa hái bỏ lên dĩa để tráng miệng.</p><p id="118">「Mmm, ngon quá chừng luôn. Ước gì Fina-oneechan cũng tới」 Shuri vừa nhai vừa nhắc tới chị mình. </p><p id="119">Fina giờ chắc đang tận hưởng tình yêu của Tirumina-san rồi. Tôi thử tưởng tượng cảnh đó, nhưng kì lạ thay, trong đầu tôi chỉ hiện ra hình ảnh con bé đang… mải mê làm việc thay vì được nuông chiều không à. Nhưng tôi chắc rằng em ấy đang rất vui.</p><p id="120">「Vậy mình hái thêm nhiều trái cây ngon để làm quà cho Fina và Tirumina-san nhé」 Tôi đề nghị. </p><p id="121">「<em>Un</em>!」 Shuri hăng hái đồng ý. </p><p id="122">「À, phải chuẩn bị cả phần cho Gentz-san nữa nha」 Tôi sực nhớ ra nói thêm.</p><p id="123">Tôi thấy hơi có lỗi với Gentz-san khi cả nhà đều có quà mà lại lỡ quên mất chú ấy. Thế là sau khi đánh chén no nê, hai chị em lại tiếp tục công cuộc hái lượm để mang quà về cho gia đình Fina và cả mấy đứa nhỏ ở côi nhi viện nữa.</p><p id="124">ʕ ᵔᴥᵔ ʔ</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/1879-kuma-kuma-kuma-bear/c97398-minh-hoa-ln-vol-18" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/1879-kuma-kuma-kuma-bear" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/1879-kuma-kuma-kuma-bear/c117209-minh-hoa-ln-vol-19-20" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '0zgF2k4eDgXZMtsB3OStXNpkXNHp8QyHODPyD6ZF';
        var comment_type = 'chapter';
        var comment_typeid = '302662';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '0zgF2k4eDgXZMtsB3OStXNpkXNHp8QyHODPyD6ZF';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('1879');
    chapter_id = parseInt('302662');

    readingObject = {
        series_id: series_id,
        series_title: 'Kuma Kuma Kuma Bear',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="0zgF2k4eDgXZMtsB3OStXNpkXNHp8QyHODPyD6ZF" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c72c875082fc4d5',t:'MTc2OTk2Mjg5OA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

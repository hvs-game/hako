<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Thần Phiêu Nguyệt - Chương 6 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hắn tồn tại ở nơi sâu thẳm nhất của Giang Hồ. Hãy mở to đôi mắt. Nếu không muốn bị kéo xuống vực thẳm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="b2Wr7iETHW4fDDSvPpSsy16dfOVDXMARyFjbnsbb">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295415-chuong-6">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24742-tu-than-phieu-nguyet"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24742-tu-than-phieu-nguyet/c295415-chuong-6" style="background: url('https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24742-tu-than-phieu-nguyet">Tử Thần Phiêu Nguyệt</a></h5>
                    <small><i class="fas fa-pen"></i>우각</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24742-tu-than-phieu-nguyet/t35923-tap-01">Cổ Độc Luyện</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295200-chuong-1">
                                                                        Chương 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2">
                                                                        Chương 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3">
                                                                        Chương 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4">
                                                                        Chương 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5">
                                                                        Chương 5
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295415-chuong-6">
                                                                        Chương 6
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Cổ Độc Luyện</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 6</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295415-chuong-6#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,025 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-01-2026 19:08:26" datetime="2026-01-22T19:08:26+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 6</p>
                    <p id="1"><strong>“Á á á!”</strong></p><p id="2">Liêm Nhất Trung gào thét điên cuồng, thân hình giãy giụa trong đau đớn tột cùng. Nhưng vô ích, bàn tay còn lại của Phiêu Nguyệt đã siết chặt lấy cổ hắn như một gọng kìm sắt, khóa cứng mọi cử động.</p><p id="3">Ngón trỏ tay phải của Phiêu Nguyệt vẫn cắm sâu trong hốc mắt Liêm Nhất Trung.</p><p id="4">Từ kẽ tay hắn, hỗn hợp dịch trắng đục và máu tươi trào ra, chảy ròng ròng xuống gò má Liêm Nhật Trung. Cảnh tượng kinh hoàng ấy khiến đám trẻ xung quanh không dám nhìn thẳng, nhiều đứa sợ hãi nhắm nghiền mắt lại.</p><p id="5">Dù đã trải qua mấy tháng trời trong bóng tối, dù tâm tính đã nhiễm đầy độc khí, nhưng suy cho cùng, chúng vẫn chỉ là những đứa trẻ chưa lớn hẳn. Bản năng mách bảo chúng phải tụ tập thành bầy đàn để tự vệ, nhưng chưa một ai trong số chúng thực sự chuẩn bị tâm lý để giết người.</p><p id="6">Đó chính là sự khác biệt giữa chúng và Phiêu Nguyệt.</p><p id="7">Phiêu Nguyệt là kẻ sống sót bước ra từ nơi khắc nghiệt nhất. Để tồn tại, hắn sẵn sàng đoạt mạng bất cứ ai.</p><p id="8">Và ngón tay đang cắm trong mắt Liêm Nhất Trung chính là minh chứng rõ ràng nhất.</p><p id="9"><em>“Nói lại xem nào. Ngươi vừa nói gì?”</em></p><p id="10">“Ư... ư... ư!”</p><p id="11">Liêm Nhất Trung cố sức vùng vẫy để thoát khỏi tay Phiêu Nguyệt nhưng vô ích, hắn không thể nhúc nhích dù chỉ một chút.</p><p id="12">Trong khi những đứa trẻ khác chỉ biết mòn mỏi chờ đợi cửa mở, thì Phiêu Nguyệt điên cuồng rèn luyện thể xác. Đối với những đứa trẻ đang tuổi ăn tuổi lớn, sự chênh lệch về thể chất đó là một khoảng cách rất lớn.</p><p id="13">“Buông tay ra! Tên điên kia.”</p><p id="14">“Mẹ kiếp! Có buông ra không thì bảo.”</p><p id="15">Đám đàn em của Liêm Nhất Trung lúc này mới hoàn hồn, nhao nhao lao tới bao vây Phiêu Nguyệt.</p><p id="16">Ngay khoảnh khắc đó, Phiêu Nguyệt ấn ngón tay vào sâu hơn nữa.</p><p id="17"><strong>“Á á á!”</strong></p><p id="18">Tiếng hét thảm thiết của Liêm Nhất Trung vang vọng khắp hang động ngầm.</p><p id="19">Chứng kiến cảnh tượng rùng rợn đó, lũ trẻ định lao vào liền sững sờ, hồn vía lên mây. Hành động của Phiêu Nguyệt hoàn toàn vượt xa sức tưởng tượng của chúng.</p><p id="20">Chúng chưa bao giờ nghĩ rằng một kẻ đồng trang lứa lại có thể sở hữu tâm địa độc ác đến nhường này.</p><p id="21">Trong mắt chúng lúc này, Phiêu Nguyệt chẳng khác nào một con rắn độc.</p><p id="22">Một con rắn nhỏ nhưng chứa đầy kịch độc, một khi đã cắn thì tuyệt đối không buông.</p><p id="23">Không ai dám cả gan can ngăn Phiêu Nguyệt. Chúng sợ nếu xen vào thì chính mình cũng sẽ chịu chung số phận.</p><p id="24">Lúc đó, Sở Như Nguyệt bước ra.</p><p id="25">Cô tiến lại trước mặt Phiêu Nguyệt.</p><p id="26">“Trong tình trạng này hắn đâu thể trả lời được. Buông tha cho hắn đi.”</p><p id="27">“Tại sao ta phải làm thế?”</p><p id="28">“Làm đến mức đó thì chắc hắn cũng hiểu ra rồi.”</p><p id="29">“Còn thức ăn?”</p><p id="30">“Phần của ngươi sẽ không ai dám đụng vào đâu. Phải không?”</p><p id="31">Câu cuối cùng Sở Như Nguyệt nói vọng ra cho những đứa trẻ khác nghe.</p><p id="32">Không ai lên tiếng trả lời, nhưng ý của họ đã được truyền đạt đến Phiêu Nguyệt.</p><p id="33">Lúc này Phiêu Nguyệt mới rút ngón tay khỏi mắt Liêm Nhất Trung và buông tay đang bóp cổ hắn ra.</p><p id="34">“Hự... hự!”</p><p id="35">Liêm Nhất Trung ngã quỵ xuống đất, lấy tay bịt chặt con mắt đã bị thủng.</p><p id="36">Bỗng chốc trở thành kẻ độc nhãn, hắn nghiến răng nhìn Phiêu Nguyệt.</p><p id="37"><em>“Mày... thằng chó chết...!”</em></p><p id="38">“Sao nào? Muốn con mắt còn lại cũng thế này à? Nếu muốn thành kẻ mù lòa thì cứ việc nhào vô. Ngón tay ta đủ cứng để xuyên thủng nốt con mắt kia của ngươi đấy.”</p><p id="39">“Tên... điên!”</p><p id="40">Liêm Nhất Trung nghiến răng ken két.</p><p id="41">Trong lòng hắn muốn xé xác Phiêu Nguyệt ngay lập tức, nhưng khí thế áp đảo của Phiêu Nguyệt đã hoàn toàn làm chủ toàn bộ bầu không khí nơi này.</p><p id="42">Những đứa trẻ khác đã bị khí thế của Phiêu Nguyệt đè bẹp.</p><p id="43">Trong tình thế này, lật ngược ván cờ là điều không tưởng. Liêm Nhất Trung đành chịu đựng ôm lấy vết thương mà lùi lại phía sau.</p><p id="44">Phiêu Nguyệt nhìn hắn một lúc rồi chỉ lấy đúng phần thức ăn của mình và lùi lại. Thấy vậy, Sở Như Nguyệt thì thầm với hắn.</p><p id="45">“Giờ ngươi tính sao? Ngươi đã biến tất cả bọn họ thành kẻ thù rồi đấy.”</p><p id="46">“Dù ta không làm gì thì đằng nào chúng cũng sẽ là kẻ thù thôi.”</p><p id="47">“Ý ngươi là sao?”</p><p id="48">“…….”</p><p id="49">Thay vì trả lời, Phiêu Nguyệt nhún vai rồi bước đi.</p><p id="50">Lũ trẻ đứng chắn trước mặt hắn vội vàng dạt sang hai bên.</p><p id="51">Phiêu Nguyệt đi lướt qua họ và trèo lên mái của một tòa nhà gần đó.</p><p id="52">Bởi mái nhà là nơi dễ quan sát nhất xung quanh.</p><p id="53">Với hành động vừa rồi đối với Liêm Nhất Trung, Phiêu Nguyệt đã biến tất cả những đứa trẻ trong hang động ngầm thành kẻ thù.</p><p id="54">Ngay cả trong lúc ăn thế này, hắn cũng phải chọn nơi cao nhất để đề phòng có kẻ lén lút tiếp cận.</p><p id="55">Thức ăn trên tay Phiêu Nguyệt là một cái bánh nếp.</p><p id="56">Có vẻ đã làm từ lâu nên cái bánh cứng ngắc và chẳng có chút mùi vị gì. Nhưng Phiêu Nguyệt không một lời phàn nàn, lẳng lặng nhai ngấu nghiến.</p><p id="57">Ngồi trên mái nhà nhìn xuống, mọi thứ hiện lên rõ ràng hơn bao giờ hết.</p><p id="58"><em><strong>‘Đây là một cuộc sàng lọc. Chúng đang lọc ra những kẻ có giá trị sử dụng.’</strong></em></p><p id="59">Việc ném từng đứa trẻ vào những không gian biệt lập, cắt đứt mọi liên hệ với thế giới bên ngoài, bản thân nó đã là một quá trình chọn lọc tàn khốc.</p><p id="60">Và quá trình này chắc chắn không dừng lại ở đây.</p><p id="61">Nó sẽ lặp đi lặp lại, và sau mỗi lần như thế, chắc chắn sẽ có rất nhiều đứa trẻ phải bỏ mạng.</p><p id="62">Hợp tác để chống lại kẻ chủ mưu ư? Phiêu Nguyệt không ngây thơ đến mức tin vào viễn cảnh đó.</p><p id="63">Việc dồn tất cả vào chung một chỗ chính là ý đồ của chúng. Chúng sẽ tiếp tục đưa ra những thử thách, dồn ép đám trẻ vào đường cùng.</p><p id="64">Suốt thời gian qua, những kẻ giấu mặt kia chưa bao giờ xuất hiện, chỉ im lặng ép bọn trẻ phải tự sinh tồn. Lần này cũng sẽ không ngoại lệ.</p><p id="65">Khiến bọn trẻ nghi ngờ lẫn nhau, tàn sát lẫn nhau.</p><p id="66"><em><strong>‘Khi đó, tất cả sẽ trở thành kẻ thù.’</strong></em></p><p id="67">Đằng nào cũng thành kẻ thù, thì thành kẻ thù sớm hơn một chút cũng chẳng sao. Như vậy hắn có thể nhìn nhận tình hình rõ ràng hơn.</p><p id="68">Phiêu Nguyệt ngồi đó rất lâu, quan sát toàn cảnh hang động ngầm bên dưới.</p><p id="69">***************************************</p><p id="70">Thức ăn được thả xuống mỗi ngày một lần, luôn vào cùng một thời điểm.</p><p id="71">Mỗi khi chiếc giỏ xuất hiện, cuộc chiến giành giật giữa các phe phái lại nổ ra căng thẳng. Ai cũng muốn giành phần nhiều hơn về mình.</p><p id="72">Thức ăn đồng nghĩa với sự sống. Một miếng ăn thêm cũng là tăng thêm một phần cơ hội sống sót.</p><p id="73">Thời gian trôi qua, mâu thuẫn giữa các nhóm ngày càng gay gắt.</p><p id="74">Càng như vậy, vai trò và sự hiện diện của kẻ cầm đầu càng trở nên nổi bật.</p><p id="75">Người có tầm ảnh hưởng lớn nhất, không ai khác, chính là Sở Như Nguyệt.</p><p id="76">Cô gái nhỏ bé ấy sở hữu một khí phách khiến đám con trai cũng phải nể phục. Cô luôn giành về lượng thức ăn lớn nhất, nhưng lại chia phần nhiều cho đàn em, còn bản thân chỉ nhận phần ít nhất.</p><p id="77">Chính sự hào sảng đó khiến lòng trung thành của những kẻ đi theo cô là tuyệt đối.</p><p id="78">Thế lực đứng thứ hai là nhóm của Khương Nhất.</p><p id="79">Khương Nhất là một kẻ lầm lì, cả ngày có khi chẳng cạy miệng nói nửa lời. Nhưng bù lại, cậu ta chăm lo cho đàn em cực kỳ chu đáo. Cậu ta thuộc kiểu lãnh đạo "nói ít làm nhiều", dùng hành động để thu phục nhân tâm.</p><p id="80">Nhóm của Cao Vĩnh Sơn lại tập hợp những cá nhân có cá tính mạnh. Có lẽ vì bản thân Cao Vĩnh Sơn là một kẻ lập dị, nên những kẻ đi theo hắn cũng "quái" không kém.</p><p id="81">Cuối cùng là nhóm của Liêm Nhất Trung.</p><p id="82">Ban đầu có khá nhiều đứa trẻ đi theo Liêm Nhất Trung, nhưng sau khi hắn bị Phiêu Nguyệt chọc mù một mắt và chịu nhục nhã, nhiều đứa đã bỏ đi.</p><p id="83">Vì lẽ đó, Liêm Nhất Trung hận Phiêu Nguyệt đến tận xương tủy.</p><p id="84">Phiêu Nguyệt biết điều đó, nhưng hắn chẳng bận tâm.</p><p id="85">Hắn chỉ lấy phần thức ăn của mình rồi biến mất tăm vào đâu đó.</p><p id="86">Nhiều đứa trẻ coi hắn là cái gai trong mắt, nhưng hình ảnh tàn bạo hôm nào vẫn còn in đậm trong tâm trí chúng, khiến không ai dám bén mảng gây sự.</p><p id="87">Dù vậy, chúng vẫn luôn để mắt đến hắn.</p><p id="88">Phiêu Nguyệt là đối tượng cần cảnh giác cao độ. Vô số ánh mắt luôn dõi theo từng cử động của hắn.</p><p id="89">Ngoại trừ lúc lấy thức ăn, Phiêu Nguyệt luôn giam mình trong khu vực ngầm nơi hắn từng bị nhốt.</p><p id="90">Hắn gom hết xác chết rải rác ở các phòng vào một phòng rồi dọn dẹp sạch sẽ.</p><p id="91">Lũ trẻ không thể hiểu nổi tại sao hắn lại chọn chui rúc vào nơi tăm tối nhất, sâu thẳm nhất của hang động như thế. Nơi đó, bóng tối dày đặc đến mức đưa tay ra không thấy ngón trước mắt.</p><p id="92">Trong mắt chúng, hành động của Phiêu Nguyệt chẳng khác nào một kẻ lập dị, gàn dở.</p><p id="93">Nhưng Phiêu Nguyệt mặc kệ những ánh nhìn soi mói.</p><p id="94">Hắn chọn nơi đó vì hắn nghĩ nó là nơi an toàn nhất.</p><p id="95">Khu nhà gỗ ở trung tâm tuy tiện nghi hơn, nhưng bốn bề trống trải, nhất cử nhất động đều bị dòm ngó. Dù có cẩn thận đến đâu cũng không thể thoát khỏi tai mắt của đám đông.</p><p id="96">Chính vì vậy, Phiêu Nguyệt dành phần lớn thời gian ở trong không gian cũ để rèn luyện thể lực, hoặc để rắn cắn nhằm tăng cường khả năng kháng độc.</p><p id="97">Sống chung riết rồi cũng quen, hắn thậm chí bắt đầu thấy con rắn có chút thân thiết.</p><p id="98">Giờ đây, nọc độc của nó chẳng còn gây đau đớn cho hắn nữa. Có vẻ cơ thể hắn đã hoàn toàn miễn dịch với loại độc này.</p><p id="99">Phiêu Nguyệt xoa xoa cổ tay vừa bị rắn cắn, bước ra ngoài.</p><p id="100">Vừa xuất hiện ở khu trung tâm, hắn đã cảm nhận được vô số ánh mắt lén lút bám theo.</p><p id="101">Chúng nhìn Phiêu Nguyệt - kẻ chọn lối sống khác biệt - với ánh mắt đầy thù địch.</p><p id="102">Chúng không cố hiểu tại sao Phiêu Nguyệt lại sống một mình mà không lập nhóm. Nhưng Phiêu Nguyệt cũng chẳng quan tâm đến ánh mắt của chúng, hắn chỉ ngước nhìn lên trần hang.</p><p id="103">Sắp đến giờ thả thức ăn xuống.</p><p id="104">Tại điểm tập kết, Sở Như Nguyệt, Khương Nhất và các thủ lĩnh khác đã chờ sẵn.</p><p id="105">Phải công nhận, cái danh "thủ lĩnh" cũng mang lại cho chúng chút phong thái đĩnh đạc hơn người thường.</p><p id="106">Liêm Nhất Trung dùng con mắt duy nhất trừng trừng nhìn Phiêu Nguyệt như muốn ăn tươi nuốt sống, nhưng ẩn sâu trong đó là nỗi sợ hãi không thể che giấu.</p><p id="107">Khương Nhất hay Cao Vĩnh Sơn chỉ cảnh giác với Phiêu Nguyệt chứ không tỏ rõ thái độ thù địch. Người duy nhất thẳng thắn bộc lộ cảm xúc là Sở Như Nguyệt.</p><p id="108">“Cái nơi tối om không nhìn thấy gì đó có gì tốt mà ngươi cứ chui vào thế? Thay vì chơi một mình, sao không gia nhập nhóm của bọn ta?”</p><p id="109"><em>“Ta nhớ là đã trả lời câu hỏi đó rồi mà.”</em></p><p id="110">“Tùy theo tình hình mà câu trả lời cũng có thể thay đổi chứ?”</p><p id="111">Trước thái độ lạnh nhạt của Phiêu Nguyệt, Sở Như Nguyệt vẫn giữ nụ cười trên môi.</p><p id="112">Nụ cười rạng rỡ đến mức khiến người ta phải ngẩn ngơ.</p><p id="113">Nhờ được ăn uống đầy đủ và không phải lo nghĩ quá nhiều, Sở Như Nguyệt dạo này có da có thịt hẳn lên. Vẻ đẹp của cô cũng theo đó mà rực rỡ hơn. Nhan sắc ấy chính là vũ khí lợi hại giúp cô thu phục nhân tâm.</p><p id="114">Thực tế, không ít kẻ đi theo cô chỉ vì say mê vẻ đẹp đó.</p><p id="115">Phiêu Nguyệt lặng lẽ nhìn Sở Như Nguyệt.</p><p id="116">Phải thừa nhận, cô ta rất đẹp.</p><p id="117">Hắn cũng là đàn ông.</p><p id="118">Dù tuổi đời còn trẻ, nhưng những trải nghiệm sinh tử đã khiến tâm sinh lý hắn trưởng thành sớm. Nếu là trước kia, chưa biết chừng hắn đã xiêu lòng mà chạy theo bóng hồng này rồi.</p><p id="119">Nhưng những tháng ngày địa ngục vừa qua đã tôi luyện cho Phiêu Nguyệt một sự kiên định sắt đá.</p><p id="120">Hơn nữa, suy nghĩ của hắn đã trở nên sâu sắc hơn xưa rất nhiều, hắn bắt đầu nghi ngờ mọi thứ xung quanh.</p><p id="121">Hắn không tin lũ trẻ ở đây. Không, nói đúng hơn là không thể tin.</p><p id="122">Đúng lúc đó.</p><p id="123">Ầm ầm!</p><p id="124">Tiếng động quen thuộc từ trần hang vang lên, chiếc giỏ thức ăn từ từ hạ xuống.</p><p id="125">Mọi ánh mắt của lũ trẻ đều đổ dồn về chiếc giỏ.</p><p id="126">Khương Nhất lẩm bẩm.</p><p id="127">“Chắc không có thằng ngu nào như Cổ Chí Bình xuất hiện nữa đâu nhỉ?”</p><p id="128">Cổ Chí Bình là tên đứa trẻ đã chết cách đây không lâu.</p><p id="129">Nó đã ấp ủ kế hoạch táo bạo: leo lên chiếc giỏ rỗng để thoát ra ngoài sau khi mọi người lấy hết thức ăn. Nhưng khi nó leo được khoảng hai phần ba quãng đường, sợi dây thừng từ bên trên đột ngột bị cắt đứt.</p><p id="130">Kết quả là Cổ Chí Bình rơi xuống đất chết thảm.</p><p id="131">Sau vụ đó, chiếc giỏ biến mất suốt ba ngày liền.</p><p id="132">Trong thời gian đó, lũ trẻ phải nhịn đói.</p><p id="133">Đó là một lời cảnh cáo rõ ràng.</p><p id="134">Rằng nếu chuyện tương tự xảy ra một lần nữa, chúng sẽ chết đói.</p><p id="135">Sau khi nhận được bài học đắt giá, không đứa trẻ nào dám mơ tưởng đến việc trèo lên giỏ thoát thân như Cổ Chí Bình nữa.</p><p id="136">Bộp!</p><p id="137">Cuối cùng, chiếc giỏ đựng thức ăn cũng chạm đất.</p><p id="138">Nhưng khi nhìn vào bên trong, sắc mặt lũ trẻ đồng loạt biến đổi.</p><p id="139">“Sao chỉ có từng này?”</p><p id="140">“Ít hơn mọi khi!”</p><p id="141">“Chuyện quái gì thế này?”</p><p id="142">Nụ cười trên môi Sở Như Nguyệt vụt tắt, các thủ lĩnh khác cũng không giấu được vẻ hoang mang.</p><p id="143">Ở nơi biệt lập này, việc đảm bảo lương thực quan trọng hơn bất cứ điều gì.</p><p id="144">Chỉ cần liếc qua cũng thấy lượng thức ăn đã bị cắt giảm đến một phần tư.</p><p id="145">Nghe thì có vẻ không nhiều, nhưng với những đứa trẻ vốn chỉ được ăn vừa đủ để cầm hơi, sự thiếu hụt này lập tức gợi lên nỗi ám ảnh về cái chết đói.</p><p id="146">Sự bối rối hiện rõ trên mặt những kẻ cầm đầu là minh chứng rõ nhất cho mức độ nghiêm trọng của vấn đề.</p><p id="147">Trong bóng tối, đôi mắt Phiêu Nguyệt thoáng hiện lên sắc đỏ.</p><p id="148"><em><strong>‘Bắt đầu rồi.’</strong></em></p><p id="149">Hắn đã đoán chúng sẽ tìm cách sàng lọc bọn trẻ, nhưng không ngờ chúng lại chọn phương pháp cực đoan và nguyên thủy đến vậy.</p><p id="150">Bầu không khí xung quanh bắt đầu trở nên u ám và đầy sát khí.</p><p id="151">Sở Như Nguyệt và các thủ lĩnh nhìn nhau đầy e ngại.</p><p id="152">Trước đây họ chia đều thức ăn. </p><p id="153">Dù lượng thức ăn có thiếu thốn, nhưng vẫn ở mức có thể lấp đầy cái bụng rỗng của những đứa trẻ đi theo mình.</p><p id="154">Nhưng với lượng thức ăn bị cắt giảm thế này, việc no bụng là điều không tưởng.</p><p id="155">Nếu chỉ dừng lại ở mức này thì còn may, nhưng dựa vào hành động của bọn chúng từ trước đến nay, Phiêu Nguyệt dự đoán lượng thức ăn sẽ còn giảm nữa.</p><p id="156">“Ta chỉ lấy chừng này thôi.”</p><p id="157">Phiêu Nguyệt ước lượng và chỉ lấy đúng phần của mình.</p><p id="158">Chỉ cần cầm trên tay cũng cảm nhận rõ ràng nó ít hơn hẳn so với trước đây.</p><p id="159">Lông mày của Sở Như Nguyệt và các thủ lĩnh giật giật. </p><p id="160">Lâu nay, chúng ngầm chấp nhận việc Phiêu Nguyệt lấy một phần riêng vì e ngại sức mạnh của hắn.</p><p id="161">Nhưng giờ tình thế đã thay đổi.</p><p id="162">Khi cái đói đe dọa, ngay cả một phần ăn nhỏ bé của Phiêu Nguyệt cũng trở nên quý giá trong mắt chúng. Sở dĩ hôm nay chúng chưa ra tay ngăn cản, là vì sự việc mới xảy ra lần đầu, chúng còn chưa kịp thích ứng và vẫn nuôi hy vọng.</p><p id="163">Trong đầu chúng vẫn còn một tia hy vọng mong manh: Biết đâu hôm nay chỉ là sự cố, mai thức ăn sẽ lại đầy.</p><p id="164">Chính vì thế, chúng để Phiêu Nguyệt đi, dù trong lòng đầy khó chịu.</p><p id="165">Nhưng Phiêu Nguyệt biết rõ.</p><p id="166">Những ngày tháng "yên bình" tạm bợ đã chấm dứt.</p><p id="167">Sẽ không bao giờ có chuyện thức ăn quay lại như cũ.</p><p id="168">Đúng như dự đoán của hắn, lượng thức ăn ngày một vơi đi trông thấy.</p><p id="169">Và rồi, vào một ngày nọ, điều kinh khủng không ai mong muốn cuối cùng cũng đã xảy ra.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'b2Wr7iETHW4fDDSvPpSsy16dfOVDXMARyFjbnsbb';
        var comment_type = 'chapter';
        var comment_typeid = '295415';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'b2Wr7iETHW4fDDSvPpSsy16dfOVDXMARyFjbnsbb';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24742');
    chapter_id = parseInt('295415');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Thần Phiêu Nguyệt',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="b2Wr7iETHW4fDDSvPpSsy16dfOVDXMARyFjbnsbb" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

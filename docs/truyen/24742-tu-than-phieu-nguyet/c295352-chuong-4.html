<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Thần Phiêu Nguyệt - Chương 4 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hắn tồn tại ở nơi sâu thẳm nhất của Giang Hồ. Hãy mở to đôi mắt. Nếu không muốn bị kéo xuống vực thẳm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="8iAhqvUV45TlaHbS7akgogxP3xQL4M0EqqVyrxKp">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24742-tu-than-phieu-nguyet"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4" style="background: url('https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24742-tu-than-phieu-nguyet">Tử Thần Phiêu Nguyệt</a></h5>
                    <small><i class="fas fa-pen"></i>우각</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24742-tu-than-phieu-nguyet/t35923-tap-01">Vol 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295200-chuong-1">
                                                                        Chương 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2">
                                                                        Chương 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3">
                                                                        Chương 3
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4">
                                                                        Chương 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5">
                                                                        Chương 5
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 4</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,814 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-01-2026 14:19:22" datetime="2026-01-22T14:19:22+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 4</p>
                    <p id="1">Phiêu Nguyệt lặng lẽ nhìn con rắn trườn qua gần mình.</p><p id="2">Đó chính là con rắn đã cắn vào cổ tay hắn. Vì nó mà hắn đã dạo một vòng qua cửa tử, nhưng hắn không hề cảm thấy thù ghét nó.</p><p id="3">Nó ở đây trước cả hắn. Với nó, chính hắn mới là kẻ xâm nhập.</p><p id="4">Hiểu rằng con rắn cắn mình cũng chỉ vì sinh tồn, nên Phiêu Nguyệt không đặc biệt ghét bỏ hay sợ hãi nó.</p><p id="5">Con rắn bò đến chỗ Phiêu Nguyệt đi vệ sinh và bắt một con côn trùng lớn để ăn.</p><p id="6">Dù mắt đã thích nghi với bóng tối, nhưng trước đây hắn chưa từng nhìn thấy rõ ràng đến thế này. Có vẻ như trong quá trình chống chọi với độc khí xâm nhập, bên trong cơ thể hắn đã xảy ra biến đổi nào đó.</p><p id="7"><em>‘Không chỉ đơn thuần là kháng độc sao?’</em></p><p id="8">Hắn từng nghe nói, kẻ sống sót sau khi trúng độc sẽ mạnh mẽ hơn.</p><p id="9">Phiêu Nguyệt nghĩ mình cũng thuộc trường hợp đó.</p><p id="10">Vấn đề là không chỉ dừng lại ở việc kháng độc, mà cơ thể hắn còn có sự thay đổi khác.</p><p id="11">Dường như chất độc đã tạo ra phản ứng cộng hưởng, tác động đến thị lực của hắn.</p><p id="12">Để kiểm chứng suy đoán của mình, chỉ có một cách duy nhất.</p><p id="13">Phiêu Nguyệt túm lấy thân con rắn đang trên đường trở về tổ sau khi ăn no. Ngay lập tức, con rắn há to miệng đớp mạnh vào mu bàn tay hắn.</p><p id="14">Hiệu quả đến ngay tức thì.</p><p id="15">Một luồng nhiệt nóng rực chạy dọc cánh tay. Đó là bằng chứng cho thấy chất độc đã xâm nhập vào cơ thể.</p><p id="16">Phiêu Nguyệt nghiến răng chuẩn bị đón nhận cơn đau.</p><p id="17">Kháng độc không có nghĩa là miễn nhiễm đau đớn.</p><p id="18">Đúng như dự đoán, cơn đau dữ dội truyền đến từ vết cắn. Luồng nhiệt nóng bỏng chạy dọc theo mạch máu như muốn thiêu đốt toàn thân.</p><p id="19">Đau đớn vô cùng.</p><p id="20">Hắn chợt hối hận vì đã chơi dại. </p><p id="21">Lần đầu bị cắn, toàn thân hắn tê liệt, nhưng lần này thì không đến mức đó.</p><p id="22">Dù rất đau, nhưng vẫn ở mức có thể chịu đựng được.</p><p id="23">Một ngày trôi qua, cơn đau biến mất.</p><p id="24">Phiêu Nguyệt tin chắc.</p><p id="25">Cơ thể hắn đã đã dung nạp độc tính.</p><p id="26">Không biết khả năng này hiệu quả đến mức độ nào, nhưng rõ ràng hắn đã sở hữu một vũ khí bí mật mà người khác không có.</p><p id="27">Tầm nhìn dường như cũng trở nên rõ ràng hơn một chút.</p><p id="28"><em>‘Tốt!’</em></p><p id="29">Lần đầu tiên, một nụ cười xuất hiện trên môi Phiêu Nguyệt.</p><p id="30">Đó là nụ cười đầu tiên kể từ khi hắn bị nhốt vào nơi này.</p><p id="31">Từ đó, lịch trình của hắn có thêm một việc.</p><p id="32">Mỗi ngày để rắn cắn một lần.</p><p id="33">Hắn không hài lòng với mức độ kháng độc hiện tại. Hắn muốn hoàn hảo.</p><p id="34">Ngày qua ngày, hắn để độc tố ngấm vào máu thịt. Thời gian còn lại, hắn quan sát con rắn.</p><p id="35">Con rắn nhỏ bị thoái hóa mắt này cùng với Phiêu Nguyệt là hai sinh vật duy nhất có trí khôn trong không gian ngầm này.</p><p id="36">Nhìn cách con rắn hành động, có thể thấy nó cũng biết tính toán.</p><p id="37">Con rắn là một thợ săn bẩm sinh.</p><p id="38">Nó tiếp cận con mồi không một tiếng động và tóm gọn trong chớp mắt.</p><p id="39">Kỹ năng đó kín đáo đến mức những con côn trùng vốn cảnh giác cao độ cũng không hề hay biết.</p><p id="40">Thỉnh thoảng có con phát hiện ra sự xuất hiện của rắn, những lúc đó con rắn lại phát ra tiếng rít đặc trưng “xì... ì”. Ngay lập tức, lũ côn trùng cứng đờ lại như bị điểm huyệt.</p><p id="41">Nó dùng âm thanh để kiểm soát con mồi.</p><p id="42">Và nó biết điểm dừng. Ăn vừa đủ no, không tham lam để con mồi hoảng sợ bỏ chạy hết.</p><p id="43">Hình ảnh đó của con rắn đã thu hút sự hứng thú của Phiêu Nguyệt.</p><p id="44">Ngoài thời gian rèn luyện thể lực, Phiêu Nguyệt dành thời gian quan sát con rắn.</p><p id="45">Quan sát rắn là thú vui tiêu khiển duy nhất của Phiêu Nguyệt.</p><p id="46">Phiêu Nguyệt bị cuốn hút vào những chuyển động của con rắn một cách vô thức.</p><p id="47">Ngay cả khi đi bộ quanh phòng để rèn luyện thể lực, hắn cũng cố gắng bắt chước chuyển động của nó.</p><p id="48">Tập luyện cách di chuyển không tiếng động, không hơi thở, hòa mình vào màn đêm một cách tự nhiên.</p><p id="49">Cứ thế thời gian trôi qua, một ngày lại hết, và thức ăn lại được đưa tới. Phiêu Nguyệt ăn xong lại tiếp tục quan sát rắn và rèn luyện cơ thể.</p><p id="50">Phiêu Nguyệt lặp đi lặp lại ba hành động này để không bị phát điên. Nếu không làm vậy, hắn đã bị nỗi đau khổ khủng khiếp nuốt chửng và điên loạn từ lâu.</p><p id="51">Ăn uống, rèn luyện, quan sát và bắt chước loài rắn là cách duy nhất giúp Phiêu Nguyệt giữ vững tinh thần.</p><p id="52">Trong bóng tối, Phiêu Nguyệt đang dần trở nên giống loài rắn từng chút một.</p><p id="53">****************************</p><p id="54">Kịch kịch kịch!</p><p id="55">Một rung động bất ngờ khiến Phiêu Nguyệt mở mắt.</p><p id="56">Trong khoảnh khắc, vẻ mặt hắn hiện lên sự kinh ngạc tột độ.</p><p id="57">Cánh cửa sắt đã giam cầm hắn bấy lâu nay đang tự động mở ra.</p><p id="58">Phiêu Nguyệt bật dậy.</p><p id="59">Chẳng mấy chốc, cánh cửa sắt đã mở toang.</p><p id="60">Khung cảnh bên ngoài chẳng khác gì bên trong.</p><p id="61">Vẫn là bóng tối vô tận và hơi ẩm lạnh lẽo thấu xương.</p><p id="62">Phiêu Nguyệt bước ra ngoài cửa sắt và quan sát xung quanh.</p><p id="63">Bên ngoài là một hành lang rộng lớn.</p><p id="64">Bên trái hành lang dài hun hút không thấy điểm cuối là vô số cánh cửa sắt. Những cánh cửa sắt nhiều không đếm xuể ấy đều đang mở toang.</p><p id="65">Có lẽ khi cửa phòng giam của Phiêu Nguyệt mở ra thì chúng cũng đồng loạt mở theo.</p><p id="66">Phiêu Nguyệt bước sang phòng ngay bên cạnh.</p><p id="67">Khoảng cách giữa hai cửa phòng là hai mươi bước chân.</p><p id="68">Mỗi phòng rộng ba trượng, tính ra vách ngăn giữa các phòng dày tới mười bước chân.</p><p id="69"><em>‘Hèn gì không cảm nhận được chút hơi người nào.’</em></p><p id="70">Dù giác quan có nhạy bén đến đâu cũng không thể xuyên qua bức tường đá dày hơn mười bước chân này được.</p><p id="71">Phiêu Nguyệt nhìn vào bên trong cửa sắt.</p><p id="72">Ngay lập tức, một mùi hôi thối nồng nặc xộc vào mũi hắn.</p><p id="73">Đó là tử khí , mùi xác chết đang phân hủy</p><p id="74">Trong góc tối, thi thể của ai đó đang thối rữa. Mùi hôi thối nồng nặc cho thấy quá trình phân hủy đã diễn ra khá lâu.</p><p id="75">Phiêu Nguyệt bất chấp tử khí , bước vào phòng kiểm tra thi thể. Khuôn mặt đã biến dạng không thể nhận ra, nhưng nhìn vào khung xương, có thể đoán đó là một thiếu niên trạc tuổi hắn.</p><p id="76">Chắc chắn thiếu niên này cũng bị bắt nhốt vào đây cùng lúc với hắn.</p><p id="77">Tình trạng ở các phòng khác cũng tương tự.</p><p id="78">Mỗi phòng đều có xác của những thiếu niên hoặc thiếu nữ trạc tuổi Phiêu Nguyệt.</p><p id="79">Khác với Phiêu Nguyệt, họ không chịu nổi và đã chết đói.</p><p id="80">Phòng của họ cũng ẩm ướt và đầy rêu như phòng của Phiêu Nguyệt. Nhưng có vẻ họ đã không nghĩ đến việc ăn rêu.</p><p id="81">Hoặc có thể họ không thích nghi được với bóng tối như Phiêu Nguyệt nên không nhận ra sự tồn tại của rêu.</p><p id="82">Trước cửa sắt có đặt bát đựng thức ăn ôi thiu.</p><p id="83">Họ cũng được phát đồ ăn, nhưng không ai sống được đến lúc ăn bát cuối cùng.</p><p id="84">Trong bóng tối, đôi mắt Phiêu Nguyệt ánh lên ánh đỏ.</p><p id="85">Hắn đi dọc theo hành lang.</p><p id="86">Hai mươi phòng. Hai mươi các xác.</p><p id="87">Phiêu Nguyệt đi đến cuối hành lang.</p><p id="88">Cuối hành lang là một cánh cửa sắt khổng lồ.</p><p id="89">Nó to và dày hơn rất nhiều so với cửa các phòng giam.</p><p id="90">Then cài của cánh cửa cũng đã được mở.</p><p id="91">Phiêu Nguyệt dùng sức đẩy, cánh cửa sắt khổng lồ từ từ mở ra.</p><p id="92">Phía sau cánh cửa là một hành lang giống hệt nơi Phiêu Nguyệt bị giam, cũng có hai mươi cánh cửa sắt xếp thành hàng.</p><p id="93">Điểm khác biệt duy nhất là trong khi khu vực của Phiêu Nguyệt chỉ có mình hắn sống sót, thì ở đây có tới hai người còn sống.</p><p id="94">Một thiếu niên và một thiếu nữ trạc tuổi Phiêu Nguyệt.</p><p id="95">Họ nhìn về phía Phiêu Nguyệt xuất hiện với ánh mắt đầy cảnh giác.</p><p id="96">Nhìn hành động của họ, có vẻ như mắt họ chưa hoàn toàn thích nghi với bóng tối như Phiêu Nguyệt.</p><p id="97">Chắc chắn họ nhận ra sự xuất hiện của người lạ qua tiếng bước chân. Bằng chứng là tai họ cứ liên tục rung động.</p><p id="98">Phiêu Nguyệt lặng lẽ nhìn họ.</p><p id="99">Thiếu niên và thiếu nữ kia cũng gầy gò hốc hác vì thiếu ăn. Nhưng so với Phiêu Nguyệt, tình trạng của họ có vẻ tốt hơn.</p><p id="100">Phiêu Nguyệt liếc nhìn sang phòng bên cạnh.</p><p id="101">Vẫn là xác chết. Nhưng bát cơm bên cạnh xác chết to hơn bát của hắn.</p><p id="102">Ăn nhiều hơn mà vẫn chết?</p><p id="103">Có lẽ chết vì phát điên, hoặc bệnh tật.</p><p id="104">Lúc đó, một trong hai người sống sót thận trọng lên tiếng.</p><p id="105"><em>“Đằng ấy là ai? Từ đâu đến? Khu vực này chỉ còn hai người bọn ta sống sót thôi.”</em></p><p id="106">Câu hỏi hướng về phía Phiêu Nguyệt.</p><p id="107">Phiêu Nguyệt chăm chú nhìn cô gái vừa lên tiếng.</p><p id="108">Dù bị giam cầm dưới lòng đất lâu ngày nhưng cô gái vẫn giữ được nét xinh đẹp. Cô trừng mắt nhìn về phía Phiêu Nguyệt như một con mèo hoang bị dồn vào đường cùng.</p><p id="109">Nhưng nhìn ánh mắt không có tiêu cự, có vẻ cô không nhìn rõ hình dáng Phiêu Nguyệt.</p><p id="110">Thiếu niên bên cạnh cô gái cũng nhìn về phía Phiêu Nguyệt với ánh mắt đầy cảnh giác. Cậu ta thủ thế sẵn sàng tấn công Phiêu Nguyệt bất cứ lúc nào.</p><p id="111">Dù không có được đôi mắt nhìn xuyên bóng tối như Phiêu Nguyệt, nhưng thính giác và khứu giác của họ đã phát triển vượt bậc. Nhờ đó họ mới nhận ra sự xuất hiện của hắn và đề cao cảnh giác.</p><p id="112">Phiêu Nguyệt mở lời.</p><p id="113"><em>"Phiêu Nguyệt. Khu bên cạnh.”</em></p><p id="114">“Khu bên cạnh? Vậy là còn có nơi khác giống thế này sao?”</p><p id="115"><em>“Có vẻ là vậy.”</em></p><p id="116">Nghe câu trả lời của Phiêu Nguyệt, cô gái cắn môi.</p><p id="117">Cũng giống như hắn, cô bị bắt đến đây mà không hiểu lý do và đã sống ở đây mấy tháng trời.</p><p id="118">Giữa lúc những người cùng khu đều lần lượt bỏ mạng, cô vẫn cắn răng chịu đựng và sống sót, quả là một kẻ gan lì.</p><p id="119">Thiếu niên kia cũng vậy.</p><p id="120">Cậu ta là người sở hữu tinh thần lực đáng nể, đã gặm nhấm nỗi tuyệt vọng và cô đơn từng ngày để sống sót.</p><p id="121"><em>"Tên ?"</em> Phiêu Nguyệt hỏi.</p><p id="122">“Sở Như Nguyệt. Còn đây là Tống Thiên Vũ.”</p><p id="123"><em>“Đi thôi.”</em></p><p id="124">“Đi đâu?”</p><p id="125"><em>“Có vẻ như vẫn còn những khu vực khác giống thế này.”</em></p><p id="126">Ánh mắt Phiêu Nguyệt hướng về phía đối diện của hành lang. Ở đó cũng có một cánh cửa sắt khổng lồ giống cái hắn vừa đi qua.</p><p id="127">Đó là bằng chứng cho thấy còn có khu vực khác.</p><p id="128">Sở Như Nguyệt và Tống Thiên Vũ không có khả năng nhìn xuyên bóng tối nên không nhận ra sự tồn tại của cánh cửa sắt phân chia khu vực.</p><p id="129">Giọng Sở Như Nguyệt run run.</p><p id="130">“Trời đất! Còn có nơi khác nữa sao?”</p><p id="131"><em>“Đi theo ta.”</em></p><p id="132">Phiêu Nguyệt đi trước dẫn đường.</p><p id="133">Sở Như Nguyệt và Tống Thiên Vũ nghe tiếng bước chân hắn mà đi theo.</p><p id="134">Nếu nắm tay nhau thì có thể đi nhanh hơn, nhưng Phiêu Nguyệt không làm thế.</p><p id="135">Đưa tay cho người khác nắm đồng nghĩa với việc không thể sử dụng tay khi có tình huống khẩn cấp. Tức là chẳng khác nào giao nộp điểm yếu của mình.</p><p id="136">Bản năng sinh tồn dạy hắn không được để bất cứ ai xâm phạm khoảng cách an toàn.</p><p id="137">“Nắm lấy tay ta.”</p><p id="138">Tống Thiên Vũ đưa tay về phía Sở Như Nguyệt.</p><p id="139">Thoáng chút do dự, Sở Như Nguyệt nắm lấy tay Tống Thiên Vũ và đi theo sau Phiêu Nguyệt.</p><p id="140">Khi sang đến khu vực tiếp theo, họ thấy nhiều người sống sót hơn.</p><p id="141">Lần này có tới năm người.</p><p id="142">Họ cũng đang tụ tập lại trao đổi thông tin giống như Tống Thiên Vũ và Sở Như Nguyệt. Sự xuất hiện đột ngột của nhóm Phiêu Nguyệt khiến họ giật mình cảnh giác. Nhưng sau khi Sở Như Nguyệt đứng ra bình tĩnh giải thích, họ cũng dần hạ bớt sự đề phòng.</p><p id="143">Trong lúc họ trò chuyện, Phiêu Nguyệt nhìn vào bên trong các phòng giam.</p><p id="144">Hầu hết các phòng đều có xác chết đang phân hủy.</p><p id="145">Không phải chết đói. Là tự sát.</p><p id="146">Có người thì tự đập đầu võ sọ, có người thì tự bóp cổ.</p><p id="147">Tuyệt vọng, cô đơn, sợ hãi đã giết chết họ.</p><p id="148">Môi trường này quá khắc nghiệt đối với những đứa trẻ mới mười mấy tuổi đầu. Phiêu Nguyệt hiểu tại sao họ lại chọn cái chết.</p><p id="149">Thứ tiếp theo Phiêu Nguyệt kiểm tra là bát cơm của họ.</p><p id="150">Rõ ràng nó lớn hơn bát cơm ở khu vực Phiêu Nguyệt bị nhốt, và lượng thức ăn cũng nhiều hơn. Ít nhất về mặt ăn uống, họ được cung cấp nhiều hơn hẳn so với khu của Phiêu Nguyệt.</p><p id="151"><em>‘Có sự phân biệt đối xử sao?’</em></p><p id="152">Bất kể mục đích của những kẻ giam cầm là gì, rõ ràng chúng đã quản lý các khu vực với chế độ khác nhau.</p><p id="153">Xét trên mọi phương diện, môi trường ở khu vực Phiêu Nguyệt là khắc nghiệt nhất. Việc Phiêu Nguyệt một mình sống sót ở đó quả thực là một kỳ tích.</p><p id="154">Nhưng những đứa trẻ đang mải nói chuyện bên ngoài dường như chưa nhận ra sự thật đó.</p><p id="155">Khi Phiêu Nguyệt bước ra, Sở Như Nguyệt cảm nhận được sự hiện diện của hắn và nói.</p><p id="156">“Những Đồng Niên Bối này cũng bị bắt vào cùng thời điểm với chúng ta. Đây là Lý Mẫn, Cố Thần Ngọc, và…….”</p><p id="157">Có vẻ đã làm quen xong xuôi, Sở Như Nguyệt đại diện giới thiệu mọi người.</p><p id="158">Phiêu Nguyệt lẳng lặng ghi nhớ tên của họ.</p><p id="159">Những người nổi bật ở khu vực thứ ba là Lý Mẫn và Cố Thần Ngọc.</p><p id="160">Lý Mẫn là một thiếu nữ xinh đẹp không kém gì Sở Như Nguyệt, còn Cố Thần Ngọc thực sự là một mỹ nam tử hiếm có.</p><p id="161">Khuôn mặt đẹp đến mức phi giới tính. Có lẽ khi ở bên ngoài, cậu ta được rất nhiều cô gái vây quanh.</p><p id="162">Lý Mẫn hướng về phía cô đoán là có Phiêu Nguyệt và nói.</p><p id="163">“Chào, ta là Lý Mẫn. Mong sau này được giúp đỡ.”</p><p id="164">Chẳng biết là giúp đỡ cái gì, nhưng Phiêu Nguyệt vẫn lẳng lặng gật đầu.</p><p id="165">Những người sống sót tiếp tục di chuyển sang khu vực tiếp theo.</p><p id="166">Số người sống sót ở khu vực sau lại nhiều hơn một chút. Có tất cả tám người còn sống.</p><p id="167">Càng đi sang các khu vực khác, số người sống sót càng tăng lên.</p><p id="168">Tổng số người sống sót cuối cùng lên tới khoảng một trăm người. Số người chết thì gấp đôi con số đó.</p><p id="169"><em>‘Bắt ba trăm người vào đây, và chỉ có một trăm người sống sót.’</em></p><p id="170">Việc bắt cóc tới ba trăm đứa trẻ chắc chắn không phải chuyện nhỏ.</p><p id="171">Dù Tứ Xuyên có rộng lớn đến đâu, việc ba trăm đứa trẻ mất tích chắc chắn sẽ khiến các môn phái giang hồ không thể ngồi yên.</p><p id="172"><em>‘Nhưng nếu mở rộng phạm vi ra toàn thiên hạ thì là chuyện khác.’</em></p><p id="173">Ngay cả bản thân Phiêu Nguyệt cũng bị bắt khi đang ở Hồ Nam, cách Tứ Xuyên rất xa.</p><p id="174">Sở Như Nguyệt và Tống Thiên Vũ cũng nói mình là trẻ mồ côi. Có lẽ những người khác cũng vậy.</p><p id="175">Dù có biến mất cũng chẳng ai quan tâm, chẳng ai tìm kiếm.</p><p id="176">Họ là những đối tượng hoàn hảo nhất cho những kẻ đang tiến hành một âm mưu bí mật nào đó.</p><p id="177">Phiêu Nguyệt mở cánh cửa của khu vực tiếp theo. </p><p id="178">Nhưng lần này, cảnh tượng hiện ra trước mắt hắn hoàn toàn khác biệt.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '8iAhqvUV45TlaHbS7akgogxP3xQL4M0EqqVyrxKp';
        var comment_type = 'chapter';
        var comment_typeid = '295352';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '8iAhqvUV45TlaHbS7akgogxP3xQL4M0EqqVyrxKp';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24742');
    chapter_id = parseInt('295352');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Thần Phiêu Nguyệt',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="8iAhqvUV45TlaHbS7akgogxP3xQL4M0EqqVyrxKp" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

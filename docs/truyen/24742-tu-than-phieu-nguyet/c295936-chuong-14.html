<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Thần Phiêu Nguyệt - Chương 14 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hắn tồn tại ở nơi sâu thẳm nhất của Giang Hồ. Hãy mở to đôi mắt. Nếu không muốn bị kéo xuống vực thẳm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="7SBoWzDdgTikR8exmtQdZrKHpYWi7KhND9dDcb8O">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295936-chuong-14">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24742-tu-than-phieu-nguyet/c295931-chuong-13"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24742-tu-than-phieu-nguyet"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24742-tu-than-phieu-nguyet/c295942-chuong-15"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24742-tu-than-phieu-nguyet/c295936-chuong-14" style="background: url('https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24742-tu-than-phieu-nguyet">Tử Thần Phiêu Nguyệt</a></h5>
                    <small><i class="fas fa-pen"></i>우각</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/24742-tu-than-phieu-nguyet/c295566-nhan-vat">Minh Họa</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24742-tu-than-phieu-nguyet/t35923-tap-01">Cổ Độc Luyện</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295200-chuong-1">
                                                                        Chương 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2">
                                                                        Chương 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3">
                                                                        Chương 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295352-chuong-4">
                                                                        Chương 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295356-chuong-5">
                                                                        Chương 5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295415-chuong-6">
                                                                        Chương 6
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295430-chuong-7">
                                                                        Chương 7
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295528-chuong-8">
                                                                        Chương 8
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295706-chuong-9">
                                                                        Chương 9
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295750-chuong-10">
                                                                        Chương 10
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295890-chuong-11">
                                                                        Chương 11
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295895-chuong-12">
                                                                        Chương 12
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295931-chuong-13">
                                                                        Chương 13
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295936-chuong-14">
                                                                        Chương 14
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295942-chuong-15">
                                                                        Chương 15
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Cổ Độc Luyện</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 14</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295936-chuong-14#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,760 từ - Cập nhật: 
                        <time class="topic-time timeago" title="23-01-2026 10:10:27" datetime="2026-01-23T10:10:27+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 14</p>
                    <p id="1">“Phù!”</p><p id="2">Tiếng thở dài não nề vang lên. Nhất Kiếm đưa tay gỡ bỏ tấm mặt nạ.</p><p id="3">Ẩn sau lớp vải đen là khuôn mặt của một lão già tuổi đã xế chiều. Một vết sẹo dài gớm ghiếc chạy chéo qua gương mặt nhăn nheo, vết tích của nhiệm vụ đầu tiên trong đời hắn.</p><p id="4">Gã thích khách non nớt từng run rẩy cầm kiếm năm xưa giờ đã thành một lão già ngoài Lục Tuần.</p><p id="5">Sức lực suy giảm, phản xạ mòn đi, chỉ còn lại sự lão luyện bù đắp cho những thiếu hụt của tuổi tác. Nhưng hắn biết rõ, thời gian không chừa một ai.</p><p id="6">Tên thật của hắn là Lâm Tử Liệt. Nhưng ngoài Đàn chủ và bản thân ông ta, chẳng còn ai trên đời này biết đến cái tên đó.</p><p id="7">Người đời chỉ gọi hắn là Nhất Kiếm. Cái tên thật đã chìm vào quên lãng, lạ lẫm đến mức chính ông ta đôi khi cũng thấy ngờ ngợ.</p><p id="8">“Chắc sắp xuống lỗ rồi nên mới đa sầu đa cảm thế này.”</p><p id="9">Sáu năm qua, ông ta đã huấn luyện lũ trẻ với sự tàn nhẫn đến cùng cực.</p><p id="10">Sự hy sinh của chúng chưa bao giờ nằm trong mối bận tâm của ông ta.</p><p id="11">Mục tiêu duy nhất là tạo ra những thích khách hoàn hảo.</p><p id="12">Kết quả là ba mươi đứa trẻ đã vượt qua tất cả các bài kiểm tra, trở thành những cỗ máy giết người thực thụ.</p><p id="13">Từ ba trăm đứa trẻ ban đầu, chỉ còn lại một phần mười sống sót.</p><p id="14">Để tạo ra ba mươi thích khách, hai trăm bảy mươi sinh mạng đã bị chôn vùi. Nhưng Lâm Tử Liệt không hề cảm thấy tội lỗi.</p><p id="15">Giang hồ trong mắt ông ta là nơi cá lớn nuốt cá bé, không giết người thì người giết mình.</p><p id="16">So với ông ta ngày xưa phải tự mình mò mẫm từ dưới đáy xã hội, lũ trẻ này còn may mắn chán. Ít ra chúng cũng được đào tạo bài bản để trở thành thích khách.</p><p id="17">Cạch!</p><p id="18">Cửa mở, Nhị Kiếm và Tam Kiếm bước vào.</p><p id="19">Cả hai khựng lại khi thấy Lâm Tử Liệt đã tháo khăn che mặt.</p><p id="20">Kể từ khi đến đây, đây là lần đầu tiên họ thấy ông ta để lộ dung nhan thật.</p><p id="21">“Sao ngài lại tháo khăn thế?”</p><p id="22">“Thấy ngột ngạt quá thôi... Sáu năm rồi, đeo cũng đủ lâu rồi nhỉ?”</p><p id="23">“Cũng phải...”</p><p id="24">“Hai người thấy bí bách thì cũng tháo ra đi.”</p><p id="25">Nhị Kiếm và Tam Kiếm nhìn nhau.</p><p id="26">Sau thoáng chốc do dự, họ cũng cởi bỏ khăn bịt mặt.</p><p id="27">“Phù!”</p><p id="28">“Haizz!”</p><p id="29">Tiếng thở dài đồng loạt vang lên.</p><p id="30">Chỉ là cởi bỏ một tấm vải mỏng, nhưng không khí hít vào phổi dường như cũng khác hẳn.</p><p id="31">Với họ, chiếc khăn không chỉ để che mặt.</p><p id="32">Khi đeo nó, họ không còn cảm thấy luân thường đạo lý hay tội lỗi. Đối với những kẻ đi trên con đường thích khách, chiếc khăn vừa là tấm khiên che chắn lương tâm, vừa là một khuôn mặt khác của họ.</p><p id="33">Đeo vào thì lạnh lùng tàn nhẫn, nhưng cởi ra rồi, lòng người lại chùng xuống đôi chút.</p><p id="34">Tên thật của Nhị Kiếm là Cừu Thần Hành, còn Tam Kiếm là Thương Nhất Tân.</p><p id="35">Ba người đàn ông với khuôn mặt thật ngồi đối diện nhau quanh chiếc bàn tròn.</p><p id="36">Lâm Tử Liệt lên tiếng:</p><p id="37">“Tiếc là không có rượu.”</p><p id="38">“Ra ngoài rồi uống bù mấy hồi.”</p><p id="39">“Cũng sắp đến ngày đó rồi.”</p><p id="40">Trên khuôn mặt Cừu Thần Hành và Thương Nhất Tân hiện lên chút mong chờ.</p><p id="41">Sáu năm chôn chân ở cái xó xỉnh không thấy ánh mặt trời này để dạy dỗ đám trẻ ranh là một cực hình đối với họ.</p><p id="42">Giờ thì thời hạn đã sắp hết.</p><p id="43">Sắp tròn bảy năm. Nếu không có biến cố gì, lũ trẻ sẽ được tung ra làm nhiệm vụ.</p><p id="44">Số phận của chúng sau đó ra sao, họ không quan tâm.</p><p id="45">Họ coi lũ trẻ như người dưng nước lã.</p><p id="46">Chúng không phải đệ tử.</p><p id="47">Chỉ là những công cụ dùng một lần rồi vứt bỏ.</p><p id="48">Trao tình cảm cho công cụ chỉ tổ chuốc lấy đau thương cho chính mình.</p><p id="49">Lâm Tử Liệt hỏi:</p><p id="50">“Trình độ của lũ trẻ thế nào?”</p><p id="51">“Vượt xa mong đợi. Thậm chí... hơi đáng sợ.”</p><p id="52">“Sao? Sợ không kiểm soát được à?”</p><p id="53">“Vâng! Vài đứa đã vượt qua trình độ của các Giáo Đầu. Dịch Bình nói rằng dù đã dốc hết sức nhưng hắn vẫn không phát hiện ra Phiêu Nguyệt khi nó dùng Quy Tức Đại Pháp.”</p><p id="54">“Hừm!”</p><p id="55">Lâm Tử Liệt trầm ngâm.</p><p id="56">Người chú ý đến tiềm năng của Phiêu Nguyệt nhất chính là ông ta. Dù võ công chiến đấu chưa đạt kỳ vọng, nhưng về các kỹ năng ẩn mình như Tiềm Hành hay Quy Tức Đại Pháp, Phiêu Nguyệt là số một.</p><p id="57">Cừu Dịch Bình vốn là bậc thầy về truy vết và ẩn thân, việc qua mặt được hắn chứng tỏ Phiêu Nguyệt đã vượt qua đẳng cấp của các Giáo Đầu.</p><p id="58">“Thật đáng tiếc.”</p><p id="59">“Tiếc cái gì?”</p><p id="60">“Tiếc vì chúng chỉ là đồ dùng một lần.”</p><p id="61">“Biết sao được. Đó là điều kiện tiên quyết của ủy thác.”</p><p id="62">“Rốt cuộc mục tiêu ám sát là ai mà phải làm đến mức này? Nhiệm vụ sắp bắt đầu rồi, chúng tôi cũng nên được biết chứ?”</p><p id="63">“Xin lỗi. Dù xong việc cũng không thể nói.”</p><p id="64">Lâm Tử Liệt lắc đầu kiên quyết.</p><p id="65">Nhiệm vụ này quá nguy hiểm.</p><p id="66">Danh tính mục tiêu chỉ cần mình ông ta và Đoàn Chủ biết là đủ.</p><p id="67">Chỉ một chút rò rỉ thông tin thôi, Huyết Ảnh Đoàn sẽ bị xóa sổ khỏi thế gian này.</p><p id="68">Cừu Thần Hành và Thương Nhất Tân hiểu điều đó nên không gặng hỏi thêm.</p><p id="69">Bí mật càng ít người biết càng an toàn.</p><p id="70">Họ thừa hiểu miệng lưỡi thế gian vốn dĩ không đáng tin.</p><p id="71">“Đã đến lúc bắt đầu giai đoạn cuối cùng rồi.”</p><p id="72">Ánh mắt Lâm Tử Liệt hướng về phía chiếc bàn.</p><p id="73">Trên đó đặt một cuốn sách vô danh.</p><p id="74">**************************************************</p><p id="75">Lũ trẻ nhìn Lâm Tử Liệt với ánh mắt khó hiểu. Chính xác hơn là nhìn vào cuốn sách trên tay ông ta.</p><p id="76">Bìa sách ố vàng, không có lấy một chữ.</p><p id="77">Đúng nghĩa là một cuốn sách vô danh.</p><p id="78">Lâm Tử Liệt ném cuốn sách vào giữa đám trẻ, lạnh lùng nói:</p><p id="79">“Trong số các ngươi, ba người bắt buộc phải học thứ này.”</p><p id="80">“…….”</p><p id="81">Lũ trẻ nhíu mày khó hiểu, nhưng không ai lên tiếng. Không cần hỏi thì ông ta cũng sẽ nói.</p><p id="82">Đúng như dự đoán, Lâm Tử Liệt giải thích tiếp:</p><p id="83">“Trong này ghi chép đại lược về kiếm pháp của một môn phái nào đó. Ba người trong số các ngươi sẽ học Kiếm Phổ này, và hai mươi bảy người còn lại sẽ tìm cách ám toán những kẻ đã học nó.”</p><p id="84">Mắt lũ trẻ dao động dữ dội.</p><p id="85">Chúng hiểu ngay ý đồ của ông ta.</p><p id="86">Sáu năm tu luyện địa ngục đã biến chúng thành những thích khách thực thụ. Sát pháp của chúng đủ sức đe dọa cả các Giáo Đầu.</p><p id="87">Giờ đây, ba kẻ xui xẻo học kiếm phổ này sẽ trở thành bia đỡ đạn cho hai mươi bảy sát thủ còn lại tập luyện.</p><p id="88">Không phải một hai người, mà là hai mươi bảy người.</p><p id="89">Và dĩ nhiên, sẽ không có chuyện nương tay. Trong thực chiến, cái chết là điều khó tránh khỏi.</p><p id="90">Kẻ học kiếm phổ chắc chắn sẽ rơi vào thế bất lợi tuyệt đối.</p><p id="91">Tên đó sẽ trở thành con mồi lộ thiên, còn hai mươi bảy kẻ còn lại là thợ săn ẩn mình trong bóng tối.</p><p id="92">Ăn, ngủ, nghỉ, thậm chí cả lúc đi vệ sinh cũng không được an toàn.</p><p id="93">Lũ trẻ biết rõ đồng bọn của mình nguy hiểm đến mức nào. Chỉ cần một đứa nhắm vào mình đã đủ mệt, huống hồ là bị hai mươi bảy đứa quây. Cơ hội sống sót gần như bằng không.</p><p id="94">‘Lũ chó chết…….’</p><p id="95">‘Đến phút cuối cùng vẫn muốn ép chết chúng ta sao...’</p><p id="96">Lũ trẻ nghiến răng căm hận.</p><p id="97">Không ngờ đến tận lúc này, chúng vẫn bắt bọn trẻ tàn sát lẫn nhau.</p><p id="98">Nếu có thể, chúng muốn nổi loạn ngay lập tức. Nhưng chúng biết rõ dù có giết được đám Giáo Đầu ở đây cũng không thể thoát ra ngoài, nên đành nuốt hận vào trong.</p><p id="99">Lâm Tử Liệt và đám thuộc hạ đã nhìn thấu tâm can bọn trẻ.</p><p id="100">‘Các ngươi vĩnh viễn không thoát khỏi lòng bàn tay ta đâu.’</p><p id="101">Lũ trẻ là chó săn.</p><p id="102">Chó săn dù dữ đến đâu cũng cần có dây xích. Hắn đã nắm chắc sợi xích đó trong tay.</p><p id="103">Vung roi xong rồi, giờ là lúc cho củ cà rốt.</p><p id="104">“Đổi lại…….”</p><p id="105">“…….”</p><p id="106">Mọi ánh mắt đổ dồn về phía Lâm Tử Liệt.</p><p id="107">“Đây là lần cuối cùng. Chỉ cần kết thúc đợt huấn luyện này, cho đến khi rời khỏi đây, các ngươi sẽ không phải tham gia bất kỳ bài tập nào nữa.”</p><p id="108">Lời tuyên bố của Lâm Tử Liệt khiến tâm trí lũ trẻ chao đảo.</p><p id="109">Suốt sáu năm qua, chưa một giây phút nào chúng được nghỉ ngơi thực sự.</p><p id="110">Các Giáo Đầu luôn thúc ép chúng đến tận cùng giới hạn.</p><p id="111">Tâm hồn chúng đã trở nên khô cằn như sa mạc, lòng tin vào con người đã chết.</p><p id="112">Ước mơ duy nhất của chúng là được nghỉ ngơi, dù chỉ một khoảnh khắc ngắn ngủi. Và Lâm Tử Liệt đã tung ra miếng mồi ngon nhất: Sự tự do dù chỉ là tạm thời.</p><p id="113">Đó là một đề nghị không thể chối từ.</p><p id="114">Chỉ cần hiến tế ba người, hai mươi bảy người còn lại sẽ được giải thoát.</p><p id="115">Chỉ cần mình không phải là một trong ba kẻ xui xẻo đó. Kẻ phải học cuốn kiếm phổ chết tiệt kia.</p><p id="116">Ngay cả Phiêu Nguyệt cũng phải kinh ngạc trước tâm cơ ác độc của Lâm Tử Liệt.</p><p id="117"><em>‘Không, đây không phải kế hoạch của hắn. Chắc chắn là ý của tên Đoàn Chủ kia.’</em></p><p id="118">Qua tiếp xúc, Phiêu Nguyệt biết Lâm Tử Liệt không phải kẻ có đầu óc mưu mô thâm sâu đến thế.</p><p id="119">Hắn chỉ là tay sai đắc lực, chứ không phải kẻ vạch ra chiến lược.</p><p id="120">Phiêu Nguyệt nhìn cuốn kiếm phổ vô danh nằm chỏng chơ dưới đất.</p><p id="121">Không biết bên trong chứa đựng loại kiếm pháp gì, nhưng chắc chắn nó khác biệt hoàn toàn so với những thứ chúng đã học.</p><p id="122">Hắn thèm khát nó.</p><p id="123">Vấn đề là cái giá phải trả quá đắt: Trở thành mục tiêu săn đuổi của cả đám còn lại.</p><p id="124">Đối đầu với những sát thủ như Sở Như Nguyệt, Tống Thiên Vũ, Khương Nhất... quả thực là tự sát.</p><p id="125"><em>‘Một miếng mồi tẩm độc ngọt ngào.’</em></p><p id="126">Với những đứa trẻ khác, đó là bản án tử hình.  Nhưng với Phiêu Nguyệt, sức cám dỗ của nó quá lớn.</p><p id="127">Nói xong những điều cần nói, Lâm Tử Liệt cùng đám Giáo Đầu bỏ đi.</p><p id="128">Để mặc lũ trẻ tự quyết định xem ai sẽ là vật tế thần.</p><p id="129">Lũ trẻ im lặng nhìn nhau dò xét.</p><p id="130">Đừng mong những kẻ không học kiếm phổ sẽ nương tay.</p><p id="131">Dù chúng có muốn tha mạng, đám Giáo Đầu cũng sẽ ép chúng phải ra tay tàn độc.</p><p id="132">Hiểu rõ điều đó nên không ai dám xung phong nhận lấy cuốn kiếm phổ.</p><p id="133">Phiêu Nguyệt quét mắt nhìn quanh, suy tính:</p><p id="134"><em>‘Kiếm pháp trong đó khả năng cao là võ công của mục tiêu ám sát. Không giống hoàn toàn thì cũng phải tương đồng đến tám chín phần.’</em></p><p id="135">Kế hoạch quá hoàn hảo.</p><p id="136">Để một đứa trẻ học kiếm pháp của mục tiêu, rồi cho những đứa còn lại tấn công để tìm ra điểm yếu của kiếm pháp đó. Quả là nhất tiễn hạ song điêu.</p><p id="137"><em>‘Không vào hang cọp sao bắt được cọp con. Dừng lại ở đây thì mãi mãi chỉ là con tốt thí.’</em></p><p id="138">Phiêu Nguyệt hạ quyết tâm.</p><p id="139">Hắn cúi xuống nhặt cuốn kiếm phổ lên. Mọi ánh mắt lập tức đổ dồn vào hắn.</p><p id="140">“Ta sẽ học nó. Hai người còn lại các ngươi tự lo.”</p><p id="141">“Ngươi tự nguyện làm vật tế thần sao?”</p><p id="142">Sở Như Nguyệt hỏi với vẻ không tin nổi.</p><p id="143">“Chưa biết ai là cừu, ai là sói đâu.”</p><p id="144">“Tại sao lại chọn con đường chết? Ngươi không phải kẻ làm chuyện vô ích. Ngươi nhìn thấy gì trong cuốn sách đó à?”</p><p id="145">“Muốn biết không? Thế thì học cùng đi.”</p><p id="146">“Thôi xin kiếu. Ngồi im chịu trận không phải phong cách của ta. Ngươi cứ học đi, ta sẽ là người tấn công.”</p><p id="147">Sở Như Nguyệt lắc đầu nguầy nguậy.</p><p id="148">Phiêu Nguyệt cười khẩy.</p><p id="149">“Khi nào chọn được người thì đến tìm ta lấy sách. Ta đi trước đây.”</p><p id="150">“Cẩn thận đấy. Tất cả bọn này sẽ nhắm vào cái đầu của ngươi.”</p><p id="151">“Ta sẽ chờ.”</p><p id="152">Phiêu Nguyệt vẫy tay chào Sở Như Nguyệt và đám trẻ rồi đi thẳng về Khu vực Một.</p><p id="153">Đám trẻ vẫn đứng im nhìn nhau, chưa ai nhúc nhích. Nhưng Phiêu Nguyệt biết rõ.</p><p id="154">Sắp có biến rồi.</p><p id="155">Kết quả của cuộc thanh trừng nội bộ sắp tới sẽ quyết định xem ai là kẻ xui xẻo tiếp theo phải cầm cuốn kiếm phổ.</p><p id="156">Ai học cũng mặc kệ.</p><p id="157">Quan trọng là hắn phải ghi nhớ và thấu hiểu toàn bộ nội dung cuốn sách trước khi phải chuyển nó cho kẻ khác.</p><p id="158">Vừa về đến phòng, Phiêu Nguyệt lập tức mở cuốn Vô Danh Kiếm Phổ ra.</p><p id="159"><strong>[Thất Thập Nhị Kiếm thế như Ba Đào, Cự Thạch diệc hóa Trần Sa]</strong></p><p id="160"><strong><em>(Bảy mươi hai đường kiếm thế như sóng dữ, đá tảng cũng hóa thành cát bụi.)</em></strong></p><p id="161">Đó là câu mở đầu của kiếm phổ.</p><p id="162">Phiêu Nguyệt không thể rời mắt khỏi câu khẩu quyết đó.</p><p id="163">Một sự rung động mãnh liệt trỗi dậy trong lồng ngực hắn.</p><p id="164"><em>“Bảy mươi hai đường kiếm cuộn trào như sóng dữ?”</em></p><p id="165">Hắn thử tưởng tượng cảnh mình tung ra bảy mươi hai nhát kiếm liên hoàn. Nhưng dù cố gắng đến đâu, hắn cũng chỉ hình dung được tối đa hai mươi nhát.</p><p id="166">Không phải chỉ là vung kiếm loạn xạ, mà phải vận nội công, tung ra những đòn thế hoàn chỉnh đầy uy lực.</p><p id="167">Dựa trên nền tảng võ công hiện tại của hắn, đó là điều bất khả thi.</p><p id="168"><em>‘Đây là giới hạn của mình sao.’</em></p><p id="169">Phiêu Nguyệt nhận ra sự yếu kém của bản thân. Nhưng hắn không thất vọng.</p><p id="170">Hắn vẫn còn thời gian.</p><p id="171">Chỉ cần sống sót, hắn sẽ tìm mọi cách để trở nên mạnh mẽ hơn.</p><p id="172">Phiêu Nguyệt tiếp tục đọc.</p><p id="173">Khẩu quyết tiếp tục tuôn chảy.</p><p id="174"><strong>[Liệt Nhật tuy cường, Ba Đào bất hưu, Kiếm Lý diệc như thị.</strong> <strong>Địch cường duy tức, Địch nhược đoạn tức. Miên miên bất tuyệt, thế gian thùy nhân năng đáng?</strong></p><p id="175"><em><strong>(Mặt trời dù gay gắt, sóng biển vẫn vỗ không ngừng, đạo của kiếm cũng như vậy. Địch mạnh ta giữ nhịp, địch yếu ta đoạt nhịp. Dòng chảy miên miên bất tuyệt ấy, thế gian ai có thể cản nổi?) </strong></em></p><p id="176"><em><strong>...Phái chi võ học, giai bất ngoại thử quy. Nhược năng thâm ngộ, dị như phản chưởng.</strong></em></p><p id="177"><em><strong>(Võ công của phái ... đều không nằm ngoài quy luật này. Nếu thấu hiểu sâu sắc, thì việc học các tuyệt kỹ khác dễ như trở bàn tay.)    </strong></em>]</p><p id="178">Rõ ràng có tên môn phái được ghi ở đó, nhưng đã bị bôi đen bằng mực tàu.</p><p id="179">Không chỉ vậy.</p><p id="180">Rất nhiều đoạn khẩu quyết quan trọng trong kiếm phổ đã bị xóa bỏ.</p><p id="181">Có vẻ như những đoạn tinh túy nhất đã bị lược bớt.</p><p id="182"><em>‘Không phải bản đầy đủ.’</em></p><p id="183">Phiêu Nguyệt thoáng chút tiếc nuối.</p><p id="184">Mạo hiểm mạng sống để học một thứ võ công què quặt thế này thật không đáng. Chỉ học cái vỏ mà mất cái ruột. Nhưng Phiêu Nguyệt không bỏ cuộc.</p><p id="185">Hắn là kẻ ngộ ra chân lý từ cuốn Phân Lôi Tâm Pháp bị người đời ghẻ lạnh. Dù chỉ là cái vỏ rỗng, nếu chịu khó đào sâu nghiên cứu, hắn tin chắc sẽ tìm được thứ gì đó hữu ích từ cuốn Vô Danh Kiếm Phổ này.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295931-chuong-13" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295942-chuong-15" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '7SBoWzDdgTikR8exmtQdZrKHpYWi7KhND9dDcb8O';
        var comment_type = 'chapter';
        var comment_typeid = '295936';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '7SBoWzDdgTikR8exmtQdZrKHpYWi7KhND9dDcb8O';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24742');
    chapter_id = parseInt('295936');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Thần Phiêu Nguyệt',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="7SBoWzDdgTikR8exmtQdZrKHpYWi7KhND9dDcb8O" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

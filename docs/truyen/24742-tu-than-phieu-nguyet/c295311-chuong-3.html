<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Thần Phiêu Nguyệt - Chương 3 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hắn tồn tại ở nơi sâu thẳm nhất của Giang Hồ. Hãy mở to đôi mắt. Nếu không muốn bị kéo xuống vực thẳm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="3VqHvrJp7oY7MjT1Ve9gWpGXNwcWy1kp8ILNMx8a">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24742-tu-than-phieu-nguyet"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3" style="background: url('https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24742-tu-than-phieu-nguyet">Tử Thần Phiêu Nguyệt</a></h5>
                    <small><i class="fas fa-pen"></i>우각</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24742-tu-than-phieu-nguyet/t35923-tap-01">Vol 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295200-chuong-1">
                                                                        Chương 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2">
                                                                        Chương 2
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3">
                                                                        Chương 3
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 3</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c295311-chuong-3#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,113 từ - Cập nhật: 
                        <time class="topic-time timeago" title="22-01-2026 10:11:47" datetime="2026-01-22T10:11:47+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 3</p>
                    <p id="1">Phiêu Nguyệt vội vã đưa chiếc đĩa lên sát mặt.</p><p id="2">Một mùi lạ lùng xộc vào mũi. Không thể nhận ra đó là món gì. Có vẻ như vô số thức ăn thừa mứa đã được trộn lốn nhốn vào nhau.</p><p id="3">Dù vậy, nó chắc chắn ngon hơn đám rêu mà Phiêu Nguyệt đã cạo ăn bấy lâu nay. Thực tế, ngay khi ngửi thấy mùi thức ăn, nước miếng trong miệng Phiêu Nguyệt đã ứa ra không ngừng.</p><p id="4">Tuy nhiên, Phiêu Nguyệt không vội vàng ăn ngay.</p><p id="5">Đây là thức ăn do kẻ đã giam cầm hắn đưa tới. Ai biết được biết bên trong chứa thứ gì.</p><p id="6">Nếu có độc, hắn chết chắc.</p><p id="7">Nếu như lúc ăn rêu, hắn không có sự lựa chọn nào khác nên buộc phải ăn bất chấp, nhưng bây giờ tình thế đã khác.</p><p id="8">Lượng rêu trên tường vẫn còn khá nhiều. Nghĩa là dù không ăn chỗ thức ăn này ngay, hắn vẫn có thể cầm cự thêm một thời gian nữa.</p><p id="9">Dù không ngăn được nước miếng trào ra, nhưng hắn vẫn đủ tỉnh táo để suy tính.</p><p id="10">Hắn cần thu thập thông tin về chỗ thức ăn này.</p><p id="11">Trong bóng tối không một tia sáng, phương tiện thu thập thông tin cực kỳ hạn chế.</p><p id="12">Khi giác quan thuận tiện nhất là Thị Giác không thể sử dụng, hắn buộc phải huy động giác quan nhạy bén lúc này là Khứu Giác .</p><p id="13"><em>“Hít...!”</em></p><p id="14">Phiêu Nguyệt gần như dính mũi vào chiếc đĩa, hít sâu một hơi.</p><p id="15">Vô số mùi hương hỗn tạp xộc vào mũi.</p><p id="16">Mùi vị đa dạng trộn lẫn vào nhau như thể rác rưởi được gom lại một chỗ. Có thứ bốc mùi hôi thối, có thứ vẫn còn ngửi được mùi thức ăn.</p><p id="17">Nếu là Phiêu Nguyệt trước kia, hắn chịu chết cũng không phân biệt được mớ hỗn độn này.</p><p id="18">Trước khi bị nhốt vào đây, Phiêu Nguyệt chỉ là một thiếu niên bình thường.</p><p id="19">Không có gì xuất chúng, cũng chẳng có tài năng gì nổi trội, chỉ là một đứa trẻ tầm thường.</p><p id="20">Nhưng trong thời gian bị giam cầm ở đây, nội tâm hắn đã trải qua một sự biến đổi lớn.</p><p id="21">Hắn bắt đầu nghi ngờ và cảnh giác với mọi thứ.</p><p id="22">Cho dù đó chỉ là những điều nhỏ nhặt nhất.</p><p id="23">Bị giam cầm quá lâu trong không gian ngầm tối tăm, khứu giác của Phiêu Nguyệt đã trở nên nhạy bén như loài chó săn.</p><p id="24">Phiêu Nguyệt bóc tách và phân biệt từng loại mùi mà trước đây khi ở bên ngoài hắn tuyệt đối không thể nhận ra.</p><p id="25">Hắn so sánh những mùi vừa ngửi được được với những mùi hương còn lưu lại trong ký ức.</p><p id="26"><em>‘Đây là mùi cá ươn, có lẫn cả lá trà. Cái này là vụn xương heo hầm.’</em></p><p id="27">Số lượng các loại thức ăn trong chiếc đĩa nhỏ nhiều đến mức khó tin.</p><p id="28">Ngay cả bản thân Phiêu Nguyệt cũng ngờ ngàng khi nhận ra mình có thể phân biệt rạch ròi đến thế.</p><p id="29">Không có mùi gì đáng ngờ như thuốc độc.</p><p id="30">Tất cả đều là thức ăn thừa do ai đó ăn còn sót lại.</p><p id="31">Với người khác, đây chỉ là đống thức ăn bốc mùi. Nhưng với Phiêu Nguyệt, nó là kho tàng thông tin quý giá</p><p id="32">Chỉ riêng số loại thức ăn mà hắn nhận diện được đã lên tới hơn năm món.</p><p id="33">Điều này có nghĩa là số người ở nơi này ít nhất phải đủ để ăn hết năm loại thức ăn đó.</p><p id="34"><em>‘Phải rồi! Mình đã nghĩ là không chỉ có một người mà.’</em></p><p id="35">Hắn không tin rằng không gian ngầm rộng hơn ba trượng này lại do một người đơn độc tạo ra. Để xây dựng một nơi thế này cần rất nhiều tiền bạc và nhân lực.</p><p id="36">Nghĩa là đây không phải không gian được tạo ra bởi sự ngẫu hứng hay chấp niệm của một cá nhân.</p><p id="37">Nếu có năm loại thức ăn, thì khả năng cao là có từ năm người trở lên đã ăn chúng.</p><p id="38">Mức độ ôi thiu của từng loại thức ăn khác nhau, nghĩa là thời điểm ăn cũng khác nhau. Tức là nhiều người đã ăn vào những khoảng thời gian lệch nhau. Lượng thức ăn thừa cũng quá nhiều để coi là của một hai người để lại.</p><p id="39">Quan trọng hơn, mỗi loại thức ăn lại vương vấn mùi cơ thể của những người khác nhau. Chỉ riêng mùi cơ thể mà Phiêu Nguyệt ngửi được đã là năm người.</p><p id="40">Rõ ràng có một nhóm người, ít nhất là năm tên, đã giam cầm hắn ở đây với một mục đích nào đó.</p><p id="41"><em>‘Không, chắc chắn không chỉ có mình ta.’</em></p><p id="42">Phiêu Nguyệt nghĩ rằng ngoài hắn ra, chắc chắn còn những người khác cũng đang bị giam cầm.</p><p id="43">Bởi vì sử dụng cả một không gian thế này chỉ để nhốt một mình hắn thì quá lãng phí và không hiệu quả.</p><p id="44">Phiêu Nguyệt sắp xếp lại suy nghĩ của mình.</p><p id="45"><em>‘Số lượng những kẻ cai quản nơi này ít nhất là năm, và số người cùng cảnh ngộ với ta chắc chắn còn nhiều hơn thế.’</em></p><p id="46">Suy nghĩ cứ nối tiếp nhau.</p><p id="47"><em>‘Những kẻ bắt nhốt chúng ta chắc chắn đã xây dựng nơi này với mục đích nào đó. Vấn đề là mục đích đó là gì…….’</em></p><p id="48">Hắn vẫn chưa thể đoán ra mục đích của những kẻ đó. Thông tin quá ít ỏi để suy luận chỉ dựa vào đống thức ăn thừa không rõ nguồn gốc này.</p><p id="49">Nhưng Phiêu Nguyệt không lo lắng.</p><p id="50">Hắn có rất nhiều thời gian.</p><p id="51">Ở đây cũng chẳng có việc gì khác để làm.</p><p id="52">Cách tốt nhất để giết thời gian chính là suy nghĩ.</p><p id="53">Cứ nghĩ mãi, nghĩ mãi, rồi sẽ có lúc hắn chạm được đến sự thật.</p><p id="54">May mắn là hắn không ngửi thấy mùi thuốc độ trong đống thức ăn này.</p><p id="55">Phiêu Nguyệt bắt đầu thận trọng ăn.</p><p id="56">Đây cũng là một canh bạc.</p><p id="57">Để hồi phục thể lực và sức mạnh cơ bắp, hắn cần thứ gì đó bổ dưỡng hơn rêu. Cho dù đó có là đống thức ăn thừa trộn lẫn như rác rưởi đi chăng nữa.</p><p id="58">Sau khi sắp xếp xong suy nghĩ, Phiêu Nguyệt dùng tay bốc đống thức ăn nhầy nhụa trong đĩa đưa lên miệng.</p><p id="59">Sụp! Soạt!</p><p id="60">Trong bóng tối, tiếng hắn ăn uống vang lên.</p><p id="61">Mùi vị thức ăn thật kinh khủng, nhưng dù sao vẫn dễ nuốt hơn là rêu.</p><p id="62">**********************************************</p><p id="63">Thức ăn được đưa vào mỗi ngày một lần vào cùng một thời điểm.</p><p id="64">Cũng không chắc chắn lắm. Đó chỉ là phỏng đoán dựa trên cảm giác của Phiêu Nguyệt.</p><p id="65">Lượng thức ăn được đưa vào chỉ vừa đủ để một người cầm cự qua ngày.</p><p id="66">Mùi vị thức ăn mỗi ngày mỗi khác.</p><p id="67">Bởi vì mỗi ngày lại có những loại thức ăn thừa khác nhau được trộn vào. Tuy nhiên, có những thứ nhất định không bao giờ thiếu.</p><p id="68">Đó chính là vụn thịt heo và gia vị cay nồng.</p><p id="69">Dù có trộn món gì đi nữa thì hai thứ này luôn hiện diện.</p><p id="70">Điều đó có nghĩa là những kẻ ở đây có thể dễ dàng kiếm được thịt heo và gia vị cay.</p><p id="71"><em>‘Nơi dồi dào thịt heo và gia vị cay.’</em></p><p id="72">Trong thiên hạ, những nơi như thế không nhiều.</p><p id="73">Phiêu Nguyệt từ nhỏ đã lang bạt khắp nơi. Nhờ đó, hắn nghe ngóng được nhiều chuyện hơn so với bạn bè đồng trang lứa.</p><p id="74">Một trong số đó là Tứ Xuyên.</p><p id="75">Địa hình khép kín như một cái lòng chảo bao quanh một vùng bồn địa rộng lớn. Do đó, nơi đây nổi tiếng với việc chăn nuôi nhiều gia súc ăn cỏ, đặc biệt là heo và cừu. Và do đặc thù là bồn địa bị vây quanh bởi những dãy núi cao, mùa hè ở đây nóng nực khó chịu, khiến người dân tìm đến những món ăn cay để giải nhiệt , gọi là "lấy độc trị độc".</p><p id="76">Món cay từ thịt heo hay cừu chính là đặc sản của Tứ Xuyên</p><p id="77">Phiêu Nguyệt cho rằng nơi này nằm đâu đó trong địa phận Tứ Xuyên. Dù không biết chính xác, nhưng chắc chắn không nằm ngoài vùng đất ấy bao xa.</p><p id="78"><em>‘Tứ Xuyên nổi tiếng với sự khép kín đặc thù.’</em></p><p id="79">Khép kín đồng nghĩa với việc đây là nơi dễ dàng tránh được tai mắt người đời.</p><p id="80">Tức là nhóm người giam cầm Phiêu Nguyệt đang toan tính một âm mưu cần che giấu tuyệt đối, và chúng đã chọn một nơi nào đó ở Tứ Xuyên làm căn cứ.</p><p id="81">Làm chuyện mờ ám cần tránh ánh mắt thiên hạ thì chắc chắn không phải việc tốt đẹp gì.</p><p id="82"><em>‘Phải rồi, người lương thiện đời nào lại làm những chuyện vô nhân đạo như thế này.’</em></p><p id="83">Phiêu Nguyệt cắn môi.</p><p id="84">Máu bật ra ướt đẫm khóe môi, nhưng hắn không cảm thấy đau.</p><p id="85">Hắn đã quá quen với những đau đớn tột cùng đến mức chút thương tích cỏn con này chẳng là gì cả.</p><p id="86">Một cơn thịnh nộ bùng lên trong lòng hắn</p><p id="87">Không chỉ hắn, mà bất kỳ ai bị nhốt vào không gian này vô cớ và bị đối xử không bằng súc vật cũng sẽ phẫn nộ y như vậy.</p><p id="88">Nhưng Phiêu Nguyệt cố nuốt trôi cơn giận đang bùng cháy như lửa.</p><p id="89">Giận dữ lúc này chẳng giải quyết được gì</p><p id="90">Hắn cần giấu kín nó, và trở nên lạnh lùng hơn.</p><p id="91">Phải nắm bắt càng nhiều thông tin càng tốt và sử dụng chúng để tạo lợi thế cho bản thân.</p><p id="92">Chẳng ai dạy bảo, nhưng Phiêu Nguyệt đang tự mình lĩnh hội cách sinh tồn trong bóng tối.</p><p id="93">Thời gian cứ thế trôi qua.</p><p id="94">Dựa vào số bữa ăn được đưa vào, Phiêu Nguyệt đoán mình đã bị nhốt ở đây ít nhất bốn tháng.</p><p id="95">Kẻ đưa thức ăn không nói với Phiêu Nguyệt nửa lời.</p><p id="96">Hắn chỉ máy móc mở ô cửa nhỏ mỗi ngày một lần và đưa thức ăn vào.</p><p id="97">Suốt bốn tháng trời không nói một lời với ai, bị cô lập một mình trong không gian chỉ toàn bóng tối, Phiêu Nguyệt cũng cảm thấy giới hạn chịu đựng của tinh thần.</p><p id="98">Thời gian hắn tự nói chuyện một mình ngày càng nhiều.</p><p id="99">Tự hỏi, tự trả lời, hắn lo sợ mình sẽ bị <em>tâm thần phân liệt</em> mất. Nhưng mỗi lần như vậy, Phiêu Nguyệt lại nghiến răng bám trụ lấy lý trí.</p><p id="100">Nơi này dường như thời gian đã ngừng trôi.</p><p id="101">Giữ được sự tỉnh táo ở một nơi thế này tuyệt đối không phải chuyện dễ dàng. Đặc biệt nếu cứ ngồi ngẩn ngơ không làm gì thì rất dễ phát điên. Vì thế Phiêu Nguyệt chọn cách vận động.</p><p id="102">Hắn đi bộ men theo bức tường trong không gian chật hẹp chỉ rộng khoảng ba trượng.</p><p id="103">Đi, đi mãi, đi cho đến khi kiệt sức ngã gục.</p><p id="104">Hắn cứ đi vòng quanh như con thú bị nhốt trong lồng.</p><p id="105">Lòng bàn chân chai sạn, cơ bắp ở chân cũng dần săn lại.</p><p id="106">Khi ngồi yên thì còn chịu được, nhưng khi bắt đầu vận động, cơn đói cồn cào lại hành hạ hắn.</p><p id="107">Một bữa ăn mỗi ngày là không đủ. Hắn buộc phải cạo thêm rêu để ăn.</p><p id="108">Dù rùng mình trước cái vị như địa ngục làm tê liệt đầu lưỡi, nhưng để cầm cự qua ngày, hắn buộc phải chọn cách ăn rêu.</p><p id="109"><em>“Hộc! Hộc!”</em></p><p id="110">Toàn thân Phiêu Nguyệt ướt đẫm mồ hôi.</p><p id="111">Hắn ăn rêu và đi vòng quanh trong không gian chật hẹp suốt cả ngày.</p><p id="112">Nhờ đó, giờ đây chân hắn đã có chút cơ bắp. Dù vẫn gầy gò do thiếu dinh dưỡng, nhưng không còn vẻ yếu ớt đụng vào là gãy như trước nữa.</p><p id="113">Khi cơ chân đã ổn định, Phiêu Nguyệt suy nghĩ đến việc tập luyện thân trên.</p><p id="114">Ở đây thì chỉ có hít đất là khả thi nhất.</p><p id="115">Phiêu Nguyệt chia nhỏ thời gian đi bộ để hít đất.</p><p id="116">Việc hít đất ban đầu mang lại đau đớn không kém gì lúc mới tập đi.</p><p id="117">Chỉ mới mười cái là hơi thở đã nghẹn lại ở cổ họng. Nhưng hắn nén đau tiếp tục tập luyện, số lượng tăng lên từng ngày.</p><p id="118">Cứ thế vài tháng trôi qua.</p><p id="119">Dù không thể nhìn thấy, nhưng Phiêu Nguyệt cảm nhận được cơ thể mình đã thay đổi đáng kể.</p><p id="120">Vẫn gầy, nhưng không còn là da bọc xương nữa, mà dưới lớp da đã có những thớ cơ săn chắc.</p><p id="121">Để được như vậy, Phiêu Nguyệt đã phải nỗ lực đến đổ máu.</p><p id="122">Hắn không chiến đấu với ai khác mà chiến đấu không ngừng nghỉ với chính bản thân mình, tự vực dậy mỗi khi sắp gục ngã.</p><p id="123">Đó là một nỗi đau khổ khác hẳn với cơn đói lúc ban đầu.</p><p id="124">Phiêu Nguyệt tự mình học được cách nuốt ngược nỗi đau vào trong.</p><p id="125">Thứ hắn lĩnh hội được không chỉ có vậy. Hắn bắt đầu nhận thức được dòng chảy thời gian thông qua các phản ứng sinh học bên trong cơ thể.</p><p id="126">Chu kỳ bài tiết, lúc tinh thần minh mẫn nhất, và nhiều thay đổi cơ thể khác giúp hắn ước lượng được đại khái thời gian trôi qua.</p><p id="127">Lại có thêm một sự thay đổi nữa.</p><p id="128">Chính là đôi mắt.</p><p id="129">Mắt hắn bắt đầu thích nghi với bóng tối dày đặc.</p><p id="130">Không biết từ lúc nào, khung cảnh xung quanh bắt đầu lọt vào mắt hắn từng chút một. Chỉ là phân biệt được hình khối hay đường nét lờ mờ, nhưng đó đã là một bước tiến lớn.</p><p id="131">Ít nhất thoát khỏi cảnh mắt mở trừng trừng mà như mù lòa cũng đủ khiến Phiêu Nguyệt hài lòng.</p><p id="132">Nhưng cái không gian ngầm mà mắt hắn nhìn thấy còn hoang tàn hơn hắn tưởng tượng.</p><p id="133">Một căn phòng hình chữ nhật, không có lấy một món đồ đạc. Ở một góc, chất thải đại tiểu tiện mà Phiêu Nguyệt thải ra bấy lâu chất đống bốc mùi hôi thối. Và lũ côn trùng vô danh đang bu lại đánh chén bữa tiệc kinh tởm đó.</p><p id="134">Thật đáng kinh ngạc khi có nhiều côn trùng sống trong không gian tối tăm không chút ánh sáng thế này.</p><p id="135">Phiêu Nguyệt đứng từ xa quan sát lũ côn trùng.</p><p id="136">Nếu thấy cảnh tượng này trước khi vào đây, hắn hẳn sẽ thấy ghê tởm hay sợ hãi, nhưng bây giờ hắn chẳng có cảm xúc gì.</p><p id="137">Sự cô lập trong bóng tối đã bào mòn cảm xúc của hắn, dường như đã giết chết cả nỗi sợ hãi.</p><p id="138">Bỗng nhiên, cổ tay hắn nhói lên.</p><p id="139">Giật mình trước cơn đau như kim châm, Phiêu Nguyệt nhìn xuống thì thấy một con rắn nhỏ đang cắn chặt vào cổ tay mình.</p><p id="140">Đó là một con rắn nhỏ, đôi mắt đã bị thoái hóa giống như lũ côn trùng kia.</p><p id="141">Con rắn cắn chặt và quấn toàn thân quanh cổ tay Phiêu Nguyệt.</p><p id="142"><em>“Cái…….”</em></p><p id="143">Phiêu Nguyệt định giật phắt con rắn ra. Nhưng chưa kịp làm gì, tầm nhìn bỗng chuyển sang màu đỏ rực, và một luồng nhiệt khí nóng bỏng ộc thẳng lên não.</p><p id="144"><em>‘Độc?’</em></p><p id="145">Đó là suy nghĩ cuối cùng của Phiêu Nguyệt.</p><p id="146">Phiêu Nguyệt ngất lịm đi ngay lập tức. Lúc đó, con rắn đang cắn cổ tay hắn mới nhả ra và rơi xuống.</p><p id="147">Con rắn rời khỏi Phiêu Nguyệt và trườn về phía lũ côn trùng.</p><p id="148">Sâu dưới lòng đất, thức ăn cho loài rắn cực kỳ hạn chế. Với con rắn nhỏ này, lũ côn trùng là nguồn sống duy nhất.</p><p id="149">Việc Phiêu Nguyệt bị con rắn - vốn bị thu hút bởi lũ côn trùng - cắn phải chỉ là tai bay vạ gió.</p><p id="150">Con rắn mặc kệ Phiêu Nguyệt nằm sóng soài đó và bắt đầu thưởng thức bữa tiệc của mình.</p><p id="151">Phiêu Nguyệt nằm bất động trên sàn.</p><p id="152">Toàn thân hắn nóng như lửa đốt.</p><p id="153">Nọc độc của con rắn nhỏ vô danh thực sự rất kinh khủng.</p><p id="154">Nó chảy theo mạch máu, tấn công toàn bộ cơ thể.</p><p id="155">Thần kinh và nội tạng đều bị độc khí xâm nhập.</p><p id="156">Đau đớn đứt ruột gan nhưng Phiêu Nguyệt không thể hét lên một tiếng. Toàn thân cứng đờ không thể cử động dù chỉ một chút.</p><p id="157">Trong cơn đau cực độ, Phiêu Nguyệt trợn ngược mắt.</p><p id="158">Mắt hắn đỏ ngầu như thể sắp ộc máu ra vì các mạch máu như muốn vỡ tung.</p><p id="159">Khi độc khí tấn công cơ thể, nhiệt khí bốc lên ngùn ngụt.</p><p id="160">Phiêu Nguyệt không thể la hét, đành phải câm lặng chịu đựng nỗi đau.</p><p id="161">Thà rằng cứ ngất đi thì sẽ bớt đau đớn hơn, nhưng có lẽ do tác động của chất độc, tinh thần hắn lại càng tỉnh táo lạ thường. Vì thế hắn buộc phải cảm nhận từng cơn đau thấu trời xanh ấy một cách rõ mồn một.</p><p id="162">Ba ngày trôi qua trong cơn đau đớn tột cùng.</p><p id="163">Ba ngày ấy đối với Phiêu Nguyệt còn dài và đau khổ hơn tất cả khoảng thời gian bị giam cầm trong hầm ngầm này cộng lại.</p><p id="164">Hắn nghiến răng chịu đựng đến mức mẻ cả răng.</p><p id="165">Cơn tê liệt chỉ tan đi khi ba ngày sắp trôi qua.</p><p id="166">Như một phép màu, sự tê liệt trói buộc cơ thể hắn biến mất, nhiệt khí trong người cũng tan đi.</p><p id="167">Cuối cùng hắn đã chiến thắng trong cuộc chiến với chất độc.</p><p id="168">Dù giữ được mạng sống nhưng Phiêu Nguyệt không thể đứng dậy ngay được.</p><p id="169">Tuy độc khí đã bị đẩy lui, nhưng nội tạng, cơ bắp và thần kinh đều đã bị tổn thương nặng nề. Thời gian sẽ chữa lành tất cả, nhưng hiện tại hắn không còn sức để cử động. Tuy nhiên, hắn buộc phải di chuyển.</p><p id="170">Phiêu Nguyệt bò về phía cánh cửa sắt.</p><p id="171">Trước cửa, một đĩa thức ăn được đặt sẵn</p><p id="172">Miệng khô khốc không cảm nhận được mùi vị gì, nhưng để sống sót, hắn phải ăn.</p><p id="173">Phiêu Nguyệt bò trườn hệt như con rắn đã cắn mình.</p><p id="174">Sau một hồi lâu mới bò tới được cửa sắt, Phiêu Nguyệt úp mặt vào chiếc đĩa.</p><p id="175">Vừa liếm láp thức ăn, Phiêu Nguyệt vừa lẩm bẩm.</p><p id="176"><em><strong>“Ta sẽ không chết. Tuyệt đối không!”</strong></em></p><p id="177">Trong bóng tối, đôi mắt hắn lóe lên tia Xích Quang đỏ rực.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c295223-chuong-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '3VqHvrJp7oY7MjT1Ve9gWpGXNwcWy1kp8ILNMx8a';
        var comment_type = 'chapter';
        var comment_typeid = '295311';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '3VqHvrJp7oY7MjT1Ve9gWpGXNwcWy1kp8ILNMx8a';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24742');
    chapter_id = parseInt('295311');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Thần Phiêu Nguyệt',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="3VqHvrJp7oY7MjT1Ve9gWpGXNwcWy1kp8ILNMx8a" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

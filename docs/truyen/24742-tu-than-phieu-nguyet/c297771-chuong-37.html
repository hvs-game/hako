<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tử Thần Phiêu Nguyệt - Chương 37 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hắn tồn tại ở nơi sâu thẳm nhất của Giang Hồ. Hãy mở to đôi mắt. Nếu không muốn bị kéo xuống vực thẳm.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="GtI7fSULWmV0qGxoV8TIaAea3QbGIGI5NT0Y2nEv">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c297771-chuong-37">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24742-tu-than-phieu-nguyet/c297752-chuong-36"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24742-tu-than-phieu-nguyet"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24742-tu-than-phieu-nguyet/c297771-chuong-37" style="background: url('https://i.hako.vn/ln/series/covers/s24742-bcde8564-3a2e-4029-8469-2a4e8aec5d8b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24742-tu-than-phieu-nguyet">Tử Thần Phiêu Nguyệt</a></h5>
                    <small><i class="fas fa-pen"></i>우각</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/24742-tu-than-phieu-nguyet/c295566-nhan-vat">Minh Họa</a></li>
                                        
                                                            <li class=""><a href="/truyen/24742-tu-than-phieu-nguyet/c295200-chuong-1">Cổ Độc Luyện</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24742-tu-than-phieu-nguyet/t35996-tap-2">Tập 2</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297282-chuong-01">
                                                                        Chương 26
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297416-chuong-27">
                                                                        Chương 27
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297434-chuong-28">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 28
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297444-chuong-29">
                                                                        Chương 29
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297453-chuong-30">
                                                                        Chương 30
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297486-chuong-31">
                                                                        Chương 31
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297649-chuong-32">
                                                                        Chương 32
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297667-chuong-33">
                                                                        Chương 33
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297680-chuong-34">
                                                                        Chương 34
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297721-chuong-35">
                                                                        Chương 35
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297752-chuong-36">
                                                                        Chương 36
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24742-tu-than-phieu-nguyet/c297771-chuong-37">
                                                                        Chương 37
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 2</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 37</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24742-tu-than-phieu-nguyet/c297771-chuong-37#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,209 từ - Cập nhật: 
                        <time class="topic-time timeago" title="26-01-2026 22:45:44" datetime="2026-01-26T22:45:44+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 37</p>
                    <p id="1">“Hộc!”</p><p id="2">Tiếng cười điên dại bị ngắt quãng bởi một ngụm máu tươi trào ra từ miệng Phiêu Nguyệt.</p><p id="3">Máu nhuộm đỏ ngực và bụng hắn. Cơn đau thấu xương tủy ập đến, nhưng Phiêu Nguyệt mặc kệ.</p><p id="4">Hắn đang rất sảng khoái.</p><p id="5"> Hắn đã ném một mồi lửa vào giữa Thanh Thành và Nga Mi.</p><p id="6"> Dù hai phái có lao vào chém giết nhau hay miễn cưỡng bắt tay giảng hòa, thì cái vết nứt này cũng vĩnh viễn không thể hàn gắn.</p><p id="7">Chúng sẽ không bao giờ quay lại được như xưa.</p><p id="8"> Đó là sự trả thù của hắn dành cho Nga Mi phái, những kẻ dám đùa giỡn với số phận của hắn.</p><p id="9">Còn với Thanh Thành phái?</p><p id="10">Hắn chẳng mảy may áy náy.</p><p id="11"> Ở cái giang hồ này, làm gì có ai trong sạch? Tất cả đều giẫm đạp lên người khác mà sống, đều tay nhúng chàm. Thanh Thành phái cũng chẳng phải ngoại lệ.</p><p id="12">Thế nên, hắn không hối hận. Càng không có chút cảm giác tội lỗi nào.</p><p id="13">“Hư... hư...”</p><p id="14">Nhìn Phiêu Nguyệt thân tàn ma dại mà vẫn cười khúc khích, Vũ Trịnh Chân Nhân nhướng mày kinh ngạc. <em>'Phải giết hắn. Nhất định phải giết để trừ hậu họa.'</em></p><p id="15">Lão cảm thấy sợ hãi. Không phải sợ võ công của tên thích khách này, mà sợ cái thứ độc khí toát ra từ hắn.</p><p id="16">Thứ độc khí vượt qua cả cảnh giới võ học, đánh thẳng vào nỗi sợ hãi nguyên thủy nhất của con người.</p><p id="17">Cả đời lão chưa từng gặp ai có đôi mắt như vậy.</p><p id="18">Đúng lúc đó.</p><p id="19">“Sư phụ! Người không sao chứ?”</p><p id="20">“Sư bá!”</p><p id="21">Thanh Minh và các đệ tử Thanh Thành chạy tới.</p><p id="22">Họ thương tích đầy mình vì phải vượt qua bẫy rập. Thấy thiếu vài người, Vũ Trịnh Chân Nhân sa sầm mặt mày.</p><p id="23">"Mấy đứa kia đâu? Chẳng lẽ...?"</p><p id="24">"Đệ tử vô dụng. Bọn họ đã... bỏ mạng trong bẫy của hắn."</p><p id="25">Nghe câu trả lời của Thanh Minh, Vũ Trịnh Chân Nhân nhắm chặt mắt.</p><p id="26"> Khi lão mở mắt ra, ngọn lửa ma trơi như đang bùng cháy trong đó.</p><p id="27"> Sát khí tỏa ra khủng khiếp đến mức Trịnh Hoa và các đệ tử Nga Mi phải lùi lại trong sợ hãi.</p><p id="28">Vũ Trịnh Chân Nhân nhìn chằm chằm Tiêu Nguyệt, rồi bất ngờ túm lấy cổ chân hắn, kéo lê đi xềnh xệch.</p><p id="29">"Cho ngươi một cái chết êm ái là quá xa xỉ.</p><p id="30">Ngươi phải chết trong đau đớn tột cùng, còn hơn cả địa ngục, may ra mới chuộc lại được chút lỗi lầm với những người đã chết dưới tay ngươi."</p><p id="31">Giọng nói lạnh băng vang lên bên tai Phiêu Nguyệt.</p><p id="32"><strong><em>'Chuộc lỗi? Nực cười. Vậy ai sẽ đền bù cho bảy năm thanh xuân, cho cuộc đời bị chà đạp của ta đây?'</em></strong></p><p id="33">Phiêu Nguyệt cười khẩy.</p><p id="34">Phiêu Nguyệt cười khẩy trong lòng. Lưng và gáy hắn bị kéo lê trên mặt đất gồ ghề, da thịt toác ra, máu chảy đầm đìa. Nhưng hắn đã tê liệt, chẳng còn cảm thấy đau đớn nữa.</p><p id="35">Vũ Trịnh Chân Nhân kéo Tiêu Nguyệt đến khu vực của các giáo đầu, chính xác là phòng của Lâm Tử Liệt. Các đệ tử Thanh Thành vội vã bám theo.</p><p id="36">Đệ tử Thanh Thành vội vã đi theo.</p><p id="37">Long Tuyết Lan hỏi Trịnh Hoa:</p><p id="38"><em>“Chúng ta có nên đi theo không?”</em></p><p id="39">“Điên à? Đi theo để họ trút giận lên đầu mình sao? Rút lui ngay.”</p><p id="40"><em>“Nhưng bỏ chạy thế này không giải quyết được vấn đề. Chi bằng cứ thành thật và đối thoại...”</em></p><p id="41">“Nói nhảm cái gì thế? Chúng ta có làm gì đâu? Cứ chối bay chối biến là được. Ngoài bức thư đó ra làm gì có bằng chứng nào khác?”</p><p id="42"><em>“Nhưng mà...”</em></p><p id="43">“Sư phụ sẽ quyết định. Đừng nhiều lời nữa.”</p><p id="44"><em>“......”</em></p><p id="45">“Đi!”</p><p id="46">Trịnh Hoa dẫn đầu đoàn người leo dây lên.</p><p id="47">Long Tuyết Lan nán lại, nhìn về hướng Phiêu Nguyệt bị lôi đi.</p><p id="48"><em>“Haizz!”</em></p><p id="49">Nàng thở dài rồi cũng rời đi.</p><p id="50">Đám người Nga Mi rút lui sạch sẽ như thủy triều rút.</p><p id="51">Vũ Trịnh Chân Nhân ra lệnh cho Thanh Minh:</p><p id="52"><em>“Ngươi cũng dẫn đệ tử ra ngoài đi.”</em></p><p id="53">“Dạ? Nhưng...”</p><p id="54"><em>“Lỡ đám đàn bà đó cắt dây thì chúng ta kẹt lại ở đây chết đói. Mau ra ngoài canh chừng.”</em></p><p id="55">“Đệ tử đã rõ.”</p><p id="56">Thanh Minh gật đầu, dẫn một nhóm đệ tử lên mặt đất.</p><p id="57">Vũ Trịnh Chân Nhân lôi Phiêu Nguyệt đến khoảng không gian mới phát hiện sau bức tường đổ nát.</p><p id="58"><strong>Xì xì!</strong></p><p id="59">Vừa bước qua bức tường, tiếng rắn rít vang lên rợn người.</p><p id="60">“Trời ơi!”</p><p id="61">“Kinh khủng quá!”</p><p id="62">Dưới ánh đuốc chập chờn, mặt các đệ tử Thanh Thành cắt không còn giọt máu.</p><p id="63">Một cái hố khổng lồ lúc nhúc hàng vạn con rắn đang quấn lấy nhau.</p><p id="64">Cảnh tượng kinh hoàng đến mức không ai dám tin vào mắt mình.</p><p id="65">Giờ họ mới hiểu tại sao sư phụ lại lôi tên thích khách đến đây.</p><p id="66">Ông ta định ném hắn xuống hố rắn.</p><p id="67">Biến hắn thành thức ăn cho lũ rắn đói.</p><p id="68">Vũ Trịnh Chan lạnh lùng hỏi: <em><strong>"Ngươi vẫn không định hối lỗi sao?" </strong></em></p><p id="69">Khóe miệng Phiêu Nguyệt nhếch lên.</p><p id="70">Không còn sức để nói, nhưng nụ cười đó đã nói lên tất cả.</p><p id="71"><strong>Khinh bỉ.</strong></p><p id="72">Vũ Trịnh Chân Nhân lắc đầu ngán ngẩm. "Đúng là loại súc sinh không thể cải tạo. Ngươi không xứng đáng hít thở chung bầu không khí với con người. Xuống đó mà sám hối trong đau đớn đi!"</p><p id="73"><strong>Vút!</strong></p><p id="74">Vũ Trịnh Chân Nhân ném mạnh Phiêu Nguyệt xuống hố.</p><p id="75">"Vô Lượng Thọ Phật!" "Ư..."</p><p id="76">“Hự!”</p><p id="77">Đệ tử Thanh Thành quay mặt đi, không dám nhìn cảnh tượng tiếp theo.</p><p id="78">Các đệ tử Thanh Thành quay mặt đi, không dám nhìn cảnh tượng tàn khốc ấy.</p><p id="79"> Thân hình Phiêu Nguyệt rơi tỏm xuống biển rắn và biến mất trong nháy mắt. Hàng ngàn con mãng xà lập tức trườn tới, quấn chặt lấy "món quà" từ trên trời rơi xuống.</p><p id="80">“Đi thôi!”</p><p id="81">Vũ Trịnh Chân Nhân quay lưng bỏ đi, không thèm nhìn lại.</p><p id="82">“Vâng!”</p><p id="83">Đám đệ tử vội vã chạy theo. Chẳng ai muốn chứng kiến cảnh người sống bị rắn xâu xé.</p><p id="84"><strong>Xoạt! Xoạt!</strong></p><p id="85">Tiếng bầy rắn thưởng thức "bữa tiệc" vọng lại sau lưng khiến sống lưng ai nấy lạnh toát.</p><p id="86">Vũ Trịnh Chân Nhân ra lệnh:</p><p id="87">“Ra ngoài xong lấp kín lối vào này lại. Đừng để ai bén mảng tới.”</p><p id="88">“Rõ!”</p><p id="89">Mắt Vũ Trịnh Chân Nhân lóe lên tia sát khí.</p><p id="90"><strong><em>‘Nga Mi phái! Ta thề không tha cho các ngươi.’</em></strong></p><p id="91">Dù bằng chứng chỉ có bức thư và lời khai của tên thích khách, nhưng ông ta tin chắc Nga Mi là kẻ chủ mưu.</p><p id="92">Phiêu Nguyệt giờ chỉ là cái xác trong bụng rắn, không còn đáng bận tâm</p><p id="93">“Nga Mi à! Các ngươi sẽ biết kiếm của Thanh Thành chưa hề rỉ sét.”</p><p id="94">Phiêu Nguyệt cảm giác như mình đang chìm xuống đáy vực thẳm không đáy.</p><p id="95"> Thực tế, hắn đang chìm dần xuống đáy hố rắn.</p><p id="96"> Những thân thể lạnh lẽo, nhớp nháp trườn qua người hắn, siết chặt lấy tứ chi.</p><p id="97"> Cảm giác kinh tởm ấy khiến hắn rùng mình dù ý thức đang dần mờ đi.</p><p id="98">Lũ rắn vừa tỉnh dậy sau kỳ ngủ đông, bụng đói cồn cào.</p><p id="99"> Nếu Phiêu Nguyệt nhỏ bé hơn chút nữa, có lẽ hắn đã bị nuốt chửng.</p><p id="100"> Nhưng hắn quá lớn để nuốt trọn một lần. Không nuốt được, những con rắn háu đói bắt đầu cắn xé.</p><p id="101"><strong>Phập!</strong></p><p id="102">Hàm răng sắc nhọn cắm phập vào da thịt.</p><p id="103">Độc tố bơm thẳng vào mạch máu.</p><p id="104">Cơn đau thấu trời xanh khiến cơ thể đang hấp hối của Phiêu Nguyệt co giật dữ dội.</p><p id="105">Mỗi loài rắn một loại độc.</p><p id="106">Hàng chục, hàng trăm loại độc tố khác nhau đang hòa trộn, tàn phá bên trong cơ thể hắn.</p><p id="107">Phiêu Nguyệt trợn trừng mắt.</p><p id="108">Đau đớn đến mức hắn chỉ muốn chết quách đi cho xong.</p><p id="109">Nếu là người thường, chỉ một vết cắn là đủ chầu Diêm Vương.</p><p id="110">Nhưng Phiêu Nguyệt khác. Hắn có kháng thể với độc rắn.</p><p id="111">Cơ thể hắn đau đớn tột cùng nhưng lại ngoan cường từ chối cái chết.</p><p id="112">Thậm chí, trong trạng thái thập tử nhất sinh, độc tố xâm nhập lại vô tình kích thích luồng <strong>Tiên Thiên Chi Khí </strong>[note87660] đang ngủ yên trong cơ thể hắn.</p><p id="113">“Hự... ặc!”</p><p id="114">Phiêu Nguyệt hé miệng thở dốc.</p><p id="115">Lũ rắn đang quấn quanh người hắn giật mình vì tiếng động lạ, càng siết chặt hơn.</p><p id="116">Vài con điên cuồng cắm phập răng nanh vào người hắn thêm lần nữa.</p><p id="117">Độc mới lại tràn vào. Cảm giác như xương cốt đang tan chảy thành nước.</p><p id="118">Cơ thể Phiêu Nguyệt run lên bần bật. Không phải do hắn muốn, mà là phản ứng tự nhiên của cơ thể.</p><p id="119">Sự rung động ấy lại càng kích động lũ rắn tấn công.</p><p id="120">Độc tố tích tụ ngày càng nhiều.</p><p id="121">Tâm trí hắn, kỳ lạ thay, lại càng lúc càng tỉnh táo.</p><p id="122">Mỗi cơn đau đều rõ mồn một như khắc vào não. Sống không bằng chết. Mặt mũi, tay chân hắn sưng vù lên, biến dạng hoàn toàn vì độc.</p><p id="123">Hắn muốn gào thét. Nhưng nỗi sợ một con rắn nào đó sẽ chui tọt vào họng khiến hắn phải nghiến chặt răng.</p><p id="124">Phiêu Nguyệt cố gắng suy nghĩ.</p><p id="125"><em>'Cứ thế này mình sẽ chết.'</em></p><p id="126">Dù có kháng thể, nhưng hắn vẫn là con người.</p><p id="127"> Có giới hạn của nó. Cơ thể hắn đã đến điểm tới hạn.</p><p id="128"> Chỉ cần thêm vài vết cắn nữa, sự cân bằng mong manh sẽ vỡ tan, và hắn sẽ chết.</p><p id="129">Phải tìm cách. Ngay bây giờ.</p><p id="130">Trong khoảnh khắc sinh tử, hình ảnh con rắn đầu tiên cắn hắn hiện lên trong đầu.</p><p id="131"> Con rắn nhỏ bé sống sót trong bóng tối nhờ sự thích nghi tuyệt đối. Rắn đã hòa mình vào bóng tối để tồn tại.</p><p id="132"><strong><em>'Mình cũng phải thích nghi.'</em> </strong></p><p id="133">Giống như con rắn kia. </p><p id="134"><strong><em>'Mình phải suy nghĩ như rắn, thở như rắn, chuyển động như rắn. Đó là con đường sống duy nhất.'</em></strong></p><p id="135"><strong>Phập!</strong></p><p id="136">Lại một cú cắn vào mắt cá chân.</p><p id="137">Cơ thể hắn giờ không còn chỗ nào lành lặn.</p><p id="138">Sưng tấy, đau nhức. Nhưng đáng sợ hơn cả đau là cơn ngứa. Có loại độc gây ngứa điên cuồng, ngứa tận xương tủy.</p><p id="139"> Hắn muốn cào cấu đến rách da rách thịt, nhưng hắn biết chỉ cần cử động mạnh, lũ rắn sẽ lại tấn công. Hắn phải nhịn. Nhịn đến bật máu.</p><p id="140">Phiêu Nguyệt nín thở. Không chỉ là nín thở hay thở nhẹ. Phải là hơi thở của loài rắn.</p><p id="141">Hắn nhắm mắt, cố gắng cảm nhận nhịp điệu của hàng vạn sinh linh lạnh lẽo đang bao quanh mình.</p><p id="142">Bình thường thì không thể, nhưng lúc này, khi cái chết kề cận, giác quan của hắn trở nên siêu việt.</p><p id="143"><strong>Soạt! Soạt!</strong></p><p id="144">Tiếng vảy rắn cọ vào nhau, tiếng rít khe khẽ vang lên khắp nơi.</p><p id="145">Một con rắn lớn đang siết lấy cổ hắn. Vài con nhỏ hơn đang cố tìm cách chui vào mũi, vào tai hắn.</p><p id="146">Cảm giác rợn người đến dựng tóc gáy, nhưng may mắn là chúng chưa chui lọt.</p><p id="147">“Xììì!”</p><p id="148">Từ miệng Phiêu Nguyệt phát ra âm thanh lạ lùng.</p><p id="149">Hắn đang cố mô phỏng tiếng thở của rắn.</p><p id="150">Đột nhiên, cả bầy rắn đang quấn lấy hắn khựng lại.</p><p id="151">Chúng ngóc đầu lên cao, như đang lắng nghe, như đang suy nghĩ.</p><p id="152">Hàng ngàn cái đầu rắn cùng ngóc lên trong bóng tối, cảnh tượng đủ làm bất cứ ai vỡ tim mà chết.</p><p id="153">Nhưng Phiêu Nguyệt không nhìn thấy. Hắn đang nhắm mắt, dồn toàn bộ tâm trí vào hơi thở.</p><p id="154">Vẫn có vài con tiếp tục cắn. Hơi thở hắn bắt đầu loạn nhịp vì kiệt sức.</p><p id="155">Nhưng Phiêu Nguyệt vẫn kiên trì, cố chấp bắt chước từng nhịp thở của loài bò sát.</p><p id="156">Không biết bao lâu đã trôi qua. Dần dần, nhịp thở của Phiêu Nguyệt trở nên ổn định một cách kỳ lạ.</p><p id="157"><strong>Xììì!</strong></p><p id="158">Tiếng rít trầm thấp, đều đặn phát ra từ cổ họng hắn.</p><p id="159">Không hoàn hảo, nhưng đã rất giống.</p><p id="160">Hắn nhận ra sự khác biệt.</p><p id="161">Con người thở hết hơi ra rồi mới hít vào đầy phổi. Còn loài rắn, chúng luôn giữ lại một nửa lượng khí trong phổi.</p><p id="162">Nhờ lượng khí dự trữ đó, chúng có thể duy trì hơi thở lâu hơn rất nhiều.</p><p id="163">Phiêu Nguyệt học được điều đó qua việc bắt chước.</p><p id="164">Càng bắt chước, hắn càng thấy loài rắn kỳ diệu.</p><p id="165">Không chân tay, không thừa thãi.</p><p id="166">Cơ thể chúng được tối ưu hóa hoàn hảo cho việc sinh tồn.</p><p id="167">Giống hệt hắn. Kiên nhẫn, bền bỉ, tàn độc và cố chấp. Hắn và rắn, tuy hai mà một.</p><p id="168">Nỗi sợ hãi biến mất.</p><p id="169">Hắn không còn thấy khó chịu khi bị vùi lấp trong đống thân thể nhớp nháp này nữa.</p><p id="170">Nằm giữa hàng vạn con rắn độc, lần đầu tiên sau bao ngày chạy trốn, Phiêu Nguyệt chìm vào giấc ngủ bình yên.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note87660"><a href="#anchor-note87660" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note87660" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">là Chân Nguyên, tuổi thọ có hạn của sinh linh</span></div><span class="note-content_real long-text">là Chân Nguyên, tuổi thọ có hạn của sinh linh</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24742-tu-than-phieu-nguyet/c297752-chuong-36" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24742-tu-than-phieu-nguyet" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'GtI7fSULWmV0qGxoV8TIaAea3QbGIGI5NT0Y2nEv';
        var comment_type = 'chapter';
        var comment_typeid = '297771';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'GtI7fSULWmV0qGxoV8TIaAea3QbGIGI5NT0Y2nEv';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24742');
    chapter_id = parseInt('297771');

    readingObject = {
        series_id: series_id,
        series_title: 'Tử Thần Phiêu Nguyệt',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="GtI7fSULWmV0qGxoV8TIaAea3QbGIGI5NT0Y2nEv" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c415cc2082c3034',t:'MTc2OTQ0NDY4NQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Cách sinh tồn ở học viện với tư cách là chủ tịch hội học sinh - Chương 05 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Loen de Valis, tên côn đồ tệ nhất của học viện Tôi đã sở hữu cơ thể của tên phản diện đáng nguyền rủa này. [Duy trì vị trí Chủ tịch Hội Học sinh Liên Minh Học Viện cho đến khi tốt nghiệp.] Một nhân vật tai tiếng trong game...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="vhzJK86sGUQnrG72hPJmQIp9Huj0eFWaJkIJncDd">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275488-chuong-05">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24342-e7cfb726-4b5a-4ece-a548-18d12db0fa16.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275349-chuong-04"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275488-chuong-05" style="background: url('https://i.hako.vn/ln/series/covers/s24342-e7cfb726-4b5a-4ece-a548-18d12db0fa16.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh">Cách sinh tồn ở học viện...</a></h5>
                    <small><i class="fas fa-pen"></i>Hạt cacao vỡ</small>
                    <small><i class="fas fa-paint-brush"></i>Alter</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/t35119-wn">WN</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275246-chuong-01">
                                                                        Chương 01
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275347-chuong-02">
                                                                        Chương 02
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275348-chuong-03">
                                                                        Chương 03
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275349-chuong-04">
                                                                        Chương 04
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275488-chuong-05">
                                                                        Chương 05
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">WN</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 05</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275488-chuong-05#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 3,260 từ - Cập nhật: 
                        <time class="topic-time timeago" title="19-12-2025 20:55:58" datetime="2025-12-19T20:55:58+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 05</p>
                    <p id="1">Sau khi cuộc họp kết thúc.</p><p id="2">Khi tôi quay trở lại văn phòng Chủ tịch Hội Học sinh Tổng sau khi đã sắp xếp cuộc gặp với Eliana, Ciel, người vừa hoàn thành công việc trong ngày, đã chào đón tôi.</p><p id="3">“Ngài đã về........?”</p><p id="4">Cô ấy nhìn tôi từ đầu đến chân với vẻ mặt đầy nghi hoặc.</p><p id="5">Có lẽ là vì Loen, người cả đời ăn mặc như một tên côn đồ, giờ đây lại chỉn chu đến vậy.</p><p id="6">Tôi đặt chiếc cặp tài liệu mà Ciel đã chuẩn bị xuống và bày tỏ lòng biết ơn.</p><p id="7">“Ừ. Nhờ vào các tài liệu cô chuẩn bị, cuộc họp đã diễn ra suôn sẻ. Và tôi có dùng một chút nước hoa trong ngăn kéo.”</p><p id="8">“...”</p><p id="9">Ciel im lặng gật đầu, bắt đầu dọn dẹp chiếc cặp và chiếc áo khoác tôi vừa cởi ra.</p><p id="10">Sau đó, cô ấy khéo léo phủi sạch bụi trên quần áo của tôi, treo chúng lên mắc áo rồi lấy ấm trà và tách trà ra từ tủ.</p><p id="11">“Tôi sẽ pha trà cho ngài.”</p><p id="12">“Không cần đâu. Dù sao tôi cũng sắp đi đến quán cà phê. Tôi có hẹn rồi.”</p><p id="13">Ciel nghiêng đầu, tỏ ra hơi tò mò, nhưng vẫn cất tách trà và ấm trà đi.</p><p id="14">“Một người mà Loen-nim phải đi gặp. Thật đáng ngạc nhiên.”</p><p id="15">“Có đáng ngạc nhiên vậy không?”</p><p id="16">“Vâng. Ngài chẳng có lấy một người bạn tử tế nào, phải không?”</p><p id="17">“...Đúng vậy.”</p><p id="18">Ngưu tầm ngưu, mã tầm mã.</p><p id="19">Mặc dù có vài tên côn đồ trong số các sinh viên Liên Minh thường tụ tập thành băng nhóm, nhưng Loen không thuộc về bất kỳ nhóm nào trong số đó.</p><p id="20">Danh tiếng xấu của Loen lớn đến mức ngay cả chúng cũng tránh xa cậu ta.</p><p id="21">Tôi nới lỏng chiếc cà vạt đang siết cổ mình, chỉ về phía căn phòng bên cạnh văn phòng Chủ tịch Hội Học sinh Tổng và hỏi.</p><p id="22">“Ciel. Phòng thí nghiệm đã sẵn sàng để sử dụng ngay bây giờ chưa?”</p><p id="23">“Vâng. Tôi đã chuẩn bị các vật tư ngài yêu cầu.”</p><p id="24">“Tốt. Vậy thì giờ cô có thể về nhà rồi.”</p><p id="25">“...Đã hiểu.”</p><p id="26">Cô ấy dường như có nhiều thắc mắc, nhưng thay vì hỏi ra, Ciel im lặng làm theo lời tôi và rút lui.</p><p id="27">Cách.</p><p id="28">Tôi lặng lẽ nhìn ra ngoài cánh cửa mà Ciel vừa đóng lại.</p><p id="29">“Hmm.”</p><p id="30">Quả thực Ciel là một mẫu người thư ký tài năng và đáng ngưỡng mộ.</p><p id="31">(Nhưng cũng giống như với Loen, thông tin về Ciel cũng ít ỏi không kém.)</p><p id="32">Câu chuyện của Loen đầy rẫy những đầu mối cốt truyện chưa bao giờ được giải quyết thỏa đáng.</p><p id="33">Ngay cả tôi, người đã clear game rất nhiều lần, cũng không có nhiều thông tin về Loen hay những người xung quanh cậu ta.</p><p id="34">Vì vậy, khả năng đoán định thân phận thực sự hay ý đồ ban đầu của Ciel là có hạn.</p><p id="35">Sẽ tiện lợi biết bao nếu cô ấy chỉ đơn giản là một người hầu trung thành với Loen và gia tộc de Valis, không hơn không kém.</p><p id="36">(...Nhưng với tình hình của mình, mình không thể vô tư như vậy được.)</p><p id="37">Vì vậy, tôi không thể hoàn toàn hạ phòng bị trước mặt cô ấy.</p><p id="38">Trước mắt, tôi sẽ hành xử như Loen, người đang quyết tâm làm lại cuộc đời trong học kỳ mới và sự thức tỉnh sau thời gian dài nằm viện.</p><p id="39">Điều này sẽ phần nào xoa dịu sự khó xử trong những hành động khác thường của tôi so với Loen bình thường.</p><p id="40">Tôi sẽ phải dần dần cải thiện mối quan hệ của chúng tôi và thu thập thông tin về Ciel.</p><p id="41">Két.</p><p id="42">Sau khi hoàn tất suy nghĩ, tôi mở cánh cửa ở góc văn phòng Chủ tịch Hội Học sinh Tổng.</p><p id="43">Văn phòng Chủ tịch Hội Học sinh Tổng bao gồm ba phòng ngoài văn phòng chính.</p><p id="44">Một là phòng tắm riêng, và một phòng khác là phòng ngủ dành cho tôi.</p><p id="45">Và trong phòng cuối cùng là phòng thí nghiệm cá nhân của Loen.</p><p id="46">Ban đầu nó là một nhà kho, nhưng Loen đã bỏ ra một số tiền lớn để cải tạo nó thành một phòng thí nghiệm giả kim mà cậu ta có thể sử dụng.</p><p id="47">Mặc dù bản thân Loen đã chết trước khi có thể trở thành Chủ tịch Hội Học sinh Tổng, nhưng tôi sẽ tận dụng tốt di sản của cậu ta.</p><p id="48">Pạch pạch.</p><p id="49">Khi tôi mở cửa, những ngọn đèn ma thuật sáng rực lần lượt bật sáng, và một nội thất ấm cúng chào đón tôi.</p><p id="50">“Ồ hô.”</p><p id="51">Một kệ sách chất đầy sách, và phía đối diện chất đầy các vật tư thí nghiệm và đá cường hóa đa dạng.</p><p id="52">Ngoài ra còn có một két sắt ma thuật để cất giữ đồ quý giá và một tủ lạnh để giữ nguyên liệu giả kim luôn tươi mới.</p><p id="53">Bên cạnh đó, một dãy các bảo vật tráng lệ được treo bên trong tủ trưng bày ở một bên.</p><p id="54">Một bộ sưu tập lộng lẫy đến mức khó có thể định giá.</p><p id="55">(Tất cả những thứ này trị giá bao nhiêu nhỉ?)</p><p id="56">Trước tiên, tôi mở tủ trưng bày và kiểm tra từng món bảo vật mà Loen sở hữu.</p><p id="57">Phòng trường hợp có một món đồ tôi cần, như Nhẫn Derode.</p><p id="58"><strong>[Ân Điển của Bishak]</strong></p><p id="59"><strong>[Kính Bảo Hộ Lugan]</strong></p><p id="60"><strong>[Dây Chuyền Arin]</strong></p><p id="61"><strong>[Thắt Lưng Gehiron]</strong></p><p id="62"><strong>[Khiên Aegis]</strong></p><p id="63">Cậu ta có nhiều món đồ cấp độ Thánh Tích hoặc cao hơn như vậy.</p><p id="64">Các món đồ cấp Thánh Tích là những bảo vật cao cấp được cho là đã từng được sử dụng bởi các anh hùng nổi tiếng.</p><p id="65">Ngay cả trong game, bạn cũng phải farm khá nhiều để thu thập tất cả những món đồ này, vậy mà cậu ta thực sự sở hữu chúng.</p><p id="66">Quả thực là một bộ sưu tập cao cấp, xứng đáng với dòng máu gia tộc công tước de Valis.</p><p id="67">Lách cách.</p><p id="68">Khi tôi trang bị các món đồ đa dạng trong tủ trưng bày lên khắp người.</p><p id="69"><strong>[HP: 28(-14)]</strong></p><p id="70"><strong>[Nhanh nhẹn: 16(-8)]</strong></p><p id="71"><strong>[Sức mạnh: 15(-7)]</strong></p><p id="72"><strong>[Ma lực: 35]</strong></p><p id="73"><strong>[Thông minh: 32]</strong></p><p id="74"><strong>[Sức hút: 90(-63)]</strong></p><p id="75">Chỉ số của Loen đã tăng lên một mức đáng kể.</p><p id="76">“Huu.”</p><p id="77">Sau khi trang bị các món đồ, tôi thở phào nhẹ nhõm.</p><p id="78">(Giờ thì đỡ hơn một chút rồi.)</p><p id="79">Nhờ tăng chỉ số, tôi có thể thở dễ dàng hơn và di chuyển thoải mái hơn.</p><p id="80">Cảm giác như vừa cởi bỏ một chiếc ba lô nặng mà mình đang đeo.</p><p id="81">Và có lẽ vì chỉ số Thông minh đã tăng, đầu óc tôi cảm thấy minh mẫn hơn một chút.</p><p id="82">Có lẽ chỉ số ban đầu của Loen quá thấp là do cậu ta đã tháo hết các trang bị trong quá trình điều trị.</p><p id="83">Giờ nghĩ lại, có vẻ như chỉ số mặc định của Loen trong game là khi đã trang bị những món đồ này.</p><p id="84">(Phụ thuộc vào trang bị...)</p><p id="85">Tôi nhìn những món đồ quấn quanh người mình và khẽ gật đầu.</p><p id="86">Điều này rất hợp với đặc tính [Giả Kim] của Loen.</p><p id="87">Giả kim thuật là một loại hình ma thuật chuyên về việc chế tạo, biến đổi và phù phép các chất liệu cụ thể.</p><p id="88">(Mình biết hầu hết các cách để có được các trang bị và bảo vật cao cấp đa dạng trong Mirellin Saga.)</p><p id="89">Nếu tôi cải tiến những bảo vật vàtrang bị cao cấp đó bằng đặc tính [Giả Kim] của mình, thì sau này tôi sẽ không thua kém gì các nhân vật chính trong game.</p><p id="90">Với giấc mơ lớn lao đó trong đầu, tôi đóng cửa lại.</p><p id="91">Cạch.</p><p id="92">Khi tôi đóng cửa phòng thí nghiệm, một thiết bị ma thuật kích hoạt để duy trì mật độ ma lực bên trong.</p><p id="93">“Hmm.”</p><p id="94">Tôi chìm đắm trong suy nghĩ, cảm nhận mật độ không gian thay đổi và nguồn năng lượng huyền bí mới gọi là 'mana' bằng toàn bộ cơ thể.</p><p id="95">Việc cấp bách nhất lúc này là khôi phục độ bền của Nhẫn Derode trước khi gặp Eliana.</p><p id="96">(Nếu gặp Eliana mà không đeo nhẫn, khả năng cao là thân phận của mình sẽ bị lộ.)</p><p id="97">Cạch.</p><p id="98">Tôi tháo chiếc nhẫn đen trên tay ra, đặt lên bàn giả kim và kiểm tra mô tả chi tiết của vật phẩm.</p><p id="99"><strong>[Nhẫn Derode]</strong></p><p id="100"><strong>– Phân loại: Phụ kiện</strong></p><p id="101"><strong>– Độ hiếm: Epic</strong></p><p id="102"><strong>– Chiếc nhẫn mà Hắc Vương Derode từng sử dụng trong những lúc giải trí. Do thời gian trôi qua, độ bền của nó thấp, nhưng hiệu ứng vẫn còn.</strong></p><p id="103"><strong>– Nó hoàn toàn vô hiệu hóa ma lực phát ra bên ngoài và tất cả các hiệu ứng từ nó.</strong></p><p id="104"><strong>– Độ bền: 1/44</strong></p><p id="105">Độ bền còn lại của chiếc nhẫn hiện tại là 1.</p><p id="106">(Độ bền giảm tận 3 lần chỉ trong khoảng thời gian ngắn ngủi đó của cuộc họp.)</p><p id="107">Độ bền có xu hướng giảm nhanh hơn khi độ bền còn lại thấp, nhưng ngay cả vậy, tốc độ này là quá nhanh.</p><p id="108">Tôi có thể đoán được lý do cho hiện tượng kỳ lạ này.</p><p id="109">(Chắc chắn là vì sự hiện diện của Eliana.)</p><p id="110">Cũng như băng tan nhanh hơn khi gần lửa, tôi có thể suy ra rằng độ bền của Nhẫn Derode giảm càng nhanh khi càng ở gần Eliana, một khối năng lượng thần thánh biết đi.</p><p id="111">Cuối cùng, việc khôi phục độ bền của chiếc nhẫn là thiết yếu cho cuộc gặp Eliana ngay bây giờ và cho cuộc sống học viện an toàn của tôi trong tương lai.</p><p id="112">(Giờ, nên làm gì đây?)</p><p id="113">Tôi đứng như trời trồng và im lặng nhìn chằm chằm vào chiếc nhẫn.</p><p id="114">Về mặt hệ thống game, tôi biết cách khôi phục độ bền của một vật phẩm, nhưng không chắc điều này sẽ được hiện thực hóa như thế nào trong thế giới thực.</p><p id="115">Và ngay từ đầu, tôi là một người hiện đại.</p><p id="116">Dù biết trong đầu về sự tồn tại của mana và ma thuật, nhưng tôi gặp khó khăn trong việc thực sự sử dụng và thực hiện chúng, không giống như các nhân vật ở đây.</p><p id="117">Nó cũng giống như việc phải học lại cách đi và thở vậy.</p><p id="118">(Những lúc như thế này, mình cần sự hỗ trợ của hệ thống game.)</p><p id="119">Nếu tôi thực hiện một hành động nhất định, hệ thống sẽ giúp đỡ tôi ở cấp độ hệ thống. Không, nó nhất định phải làm vậy.</p><p id="120">“...”</p><p id="121">Tôi hoàn tất suy nghĩ và đứng trước bàn giả kim.</p><p id="122">Sau đó, tôi đặt cả hai tay lên bàn, nhẹ nhàng nhắm mắt lại và bắt đầu hít thở sâu.</p><p id="123">“Huu.”</p><p id="124">Sau một lúc hít thở sâu và cảm nhận dòng chảy của ma lực trong không gian,</p><p id="125"><strong>– Ting.</strong></p><p id="126">Cửa sổ thông báo hệ thống mà tôi đang chờ đợi xuất hiện trước mặt.</p><p id="127"><strong>[Bạn có muốn tiến hành hướng dẫn Giả Kim thuật không?]</strong></p><p id="128">Trước điều này, tôi mỉm cười nhẹ.</p><p id="129">“Rất sẵn lòng.”</p><p id="130">***</p><p id="131">Một lát sau.</p><p id="132"><strong>[Đã hoàn thành hướng dẫn Giả Kim thuật.]</strong></p><p id="133"><strong>[Bạn đã nhận được Ma lực +1 và Đá Giả Kim Cấp Thấp ×5.]</strong></p><p id="134">Xèo xèo.</p><p id="135">Ánh sáng chói lóa từng lấp đầy phòng thí nghiệm ngừng lại và làn khói kỳ lạ tan biến, một tinh thể màu xanh lam xuất hiện trên bàn làm việc.</p><p id="136">Tôi tháo chiếc mặt nạ phòng độc trên mặt và nhặt tinh thể xanh bằng bàn tay đeo găng trắng.</p><p id="137">“Quả nhiên. Thì ra là vậy.”</p><p id="138">Đây là vật phẩm được tạo ra trước mặt tôi như là kết quả của hướng dẫn giả kim. Đá Bổ Sung Mana.</p><p id="139"><strong>[Đá Bổ Sung Mana]</strong></p><p id="140"><strong>– Phân loại: Vật phẩm tiêu hao</strong></p><p id="141"><strong>– Độ hiếm: Thường</strong></p><p id="142"><strong>– Một tinh thể ma lực cấp thấp đã được tinh chế. Khi sử dụng, nó khôi phục ma lực đã cạn kiệt.</strong></p><p id="143"><strong>– Tạm thời khôi phục chỉ số 'ma lực cạn kiệt' 5 điểm.</strong></p><p id="144">Mọi hành động kích hoạt ma thuật đều đi kèm với việc tiêu hao ma lực.</p><p id="145">Chỉ số Ma lực hiện tại của tôi là 31.</p><p id="146">Do hướng dẫn giả kim vừa rồi, 4 điểm ma lực đã bị tiêu hao và chỉ số tạm thời giảm xuống.</p><p id="147">Đương nhiên, nó sẽ tự hồi phục theo thời gian, nhưng điều đó có nghĩa là tôi chỉ có 31 điểm ma lực để sử dụng ngay lúc này.</p><p id="148">Những lúc như vậy, một viên Đá Bổ Sung Mana có thể được sử dụng để tạm thời khôi phục ma lực đã cạn.</p><p id="149">(Nên giữ lại trước đã nhỉ?)</p><p id="150">Tôi cất Đá Bổ Sung Mana và những viên Đá Giả Kim Cấp Thấp nhận được từ hướng dẫn vào các gói tương ứng của chúng.</p><p id="151">Sau đó, tôi bắt đầu quá trình khôi phục độ bền cho Nhẫn Derode dựa trên thông tin từ hướng dẫn.</p><p id="152">(Cấp độ giả kim hiện tại của Loen là Cấp Thấp Level 3.)</p><p id="153">Chức năng khôi phục độ bền cho vật phẩm được mở khóa từ Cấp Thấp Level 5.</p><p id="154">Bình thường, tôi sẽ không thể thực hiện việc khôi phục độ bền do thiếu cấp độ.</p><p id="155"><strong>[Bàn Giả Kim Albany]</strong></p><p id="156"><strong>– Phân loại: Vật phẩm Ma thuật</strong></p><p id="157"><strong>– Độ hiếm: Rare</strong></p><p id="158"><strong>– Một bàn giả kim đã từng được chạm tay bởi bậc thầy thủ công Albany. Chỉ có 100 cái tồn tại trên toàn lục địa.</strong></p><p id="159"><strong>– Khi thực hiện giả kim trên bàn làm việc này, nó tạm thời tăng cấp độ giả kim của người thực hiện lên 2.</strong></p><p id="160"><strong>– [Nhược điểm] Khi thực hiện giả kim trên bàn làm việc này, lượng tiêu hao ma lực tăng gấp đôi.</strong></p><p id="161">Nhờ 'Bàn Giả Kim Albany', một trong những bộ sưu tập của Loen, tôi đã có thể tiến hành mà không gặp vấn đề gì.</p><p id="162">Tôi đặt tay lên bàn giả kim và bắt đầu quy trình khôi phục theo thủ tục.</p><p id="163">“Phân tích cấu trúc.”</p><p id="164"><strong>Ting.</strong></p><p id="165">Sau khi kiểm tra thông tin cần thiết về Nhẫn Derode, tôi tìm kiếm các nguyên liệu giả kim cần thiết để khôi phục độ bền của nó.</p><p id="166">“Nguyên liệu cần có.”</p><p id="167">Hệ thống đã tử tế cho tôi biết các nguyên liệu cần thiết cho giả kim, vì vậy tất cả những gì tôi cần phải làm là tìm những vật phẩm đó trong phòng thí nghiệm.</p><p id="168">Lách cách.</p><p id="169">Tôi tỉ mỉ lục soát các tủ trưng bày và đặt tất cả nguyên liệu giả kim cần thiết lên bàn làm việc.</p><p id="170">Các lọ thủy tinh đa dạng được xếp thành hàng trên bàn giả kim.</p><p id="171">Vì đây là một công việc quan trọng, tôi kiểm tra kỹ từng món.</p><p id="172">(Nước tinh khiết, mảnh tinh thể ma lực, đá cường hóa cấp thấp, đá giả kim cấp thấp, bột xương người, đá oán hận, huyết thanh dơi bóng đêm, lông harpy, thuốc thần lực...)</p><p id="173">Và.</p><p id="174">(Máu của giả kim thuật sư.)</p><p id="175">Xoẹt-</p><p id="176">Tôi cắt tay mình bằng một con dao phòng thí nghiệm và bôi máu chảy ra lên một đĩa petri rộng.</p><p id="177">Mục tiêu tối thượng của giả kim thuật là đạt được một chất liệu và linh hồn cấp cao hơn thông qua hành động giả kim, và từ đó chạm đến nguồn gốc của thế giới.</p><p id="178">Điều này không quá khác biệt so với cách các pháp sư đạt đến cấp bậc cao hơn để theo đuổi chân lý, hay các hiệp sĩ mài giũa võ nghệ để theo đuổi con đường của riêng mình.</p><p id="179">Mặc dù phương pháp khác nhau, nhưng cuối cùng đó vẫn là cuộc đấu tranh của nhân loại để đạt đến chân lý thông qua nỗ lực.</p><p id="180">Vì vậy, mọi hành động giả kim đều phải chứa đựng linh hồn của người thi triển, và máu là đại diện ma lực của người thi triển và là một chất xúc tác giả kim thiết yếu.</p><p id="181">(...Đó là thiết lập nói vậy.)</p><p id="182">Cách.</p><p id="183">Trong khi tôi đo lường các nguyên liệu đa dạng trong lọ thủy tinh và điều chỉnh trọng lượng của chúng, ở phía bên kia, tôi chuẩn bị để nhóm lửa.</p><p id="184">“Đèn cồn thì...”</p><p id="185">Tôi nhìn vào thiết bị được đặt ở một bên phòng thí nghiệm.</p><p id="186">Một pháp sư đúng nghĩa sẽ đã nhóm lửa bằng một cái búng tay, nhưng Loen chỉ là một pháp sư nửa mùa chuyên về giả kim thuật.</p><p id="187">Vì cậu ta không thể sử dụng bất kỳ phép thuật nào ngoài [Giả Kim], cậu ta phải mượn sức mạnh của một vật phẩm để tạo lửa, không như các pháp sư khác.</p><p id="188">Tạch tạch.</p><p id="189">Vì vậy, tôi đã sử dụng một công cụ ma thuật để thắp đèn cồn.</p><p id="190">Tôi thấy khá thích thú khi nhớ lại những thí nghiệm khoa học thời còn đi học hồi nhỏ.</p><p id="191">“Tiếp theo.”</p><p id="192">Theo thứ tự đã ghi nhớ, tôi cho các nguyên liệu đa dạng vào một bình cầu lớn.</p><p id="193">Vốn dĩ, loại công việc này đòi hỏi đo lường và độ tinh khiết cực kỳ chính xác, cũng như kiểm soát nhiệt độ, độ ẩm và ma lực, nhưng may mắn thay, hệ thống đã xử lý những điều chỉnh tinh tế như vậy.</p><p id="194">Vai trò của tôi chỉ đơn giản là làm theo công thức.</p><p id="195">Nói đơn giản, nó giống như một hệ thống sẽ tự động làm món ăn trở nên ngon miệng chỉ bằng việc bắt chước một video nấu ăn.</p><p id="196">Tất nhiên, xác suất thất bại và độ phức tạp của nhiệm vụ sẽ tăng lên tùy thuộc vào cấp độ giả kim, mức độ thành thạo và độ khó của điều khiển ma thuật, nhưng trong trường hợp khôi phục độ bền mà tôi đang thực hiện bây giờ, tỷ lệ thành công là 99%.</p><p id="197">Nếu bạn đã chơi nhiều game gacha, bạn sẽ biết rằng cơ hội nhận được 1% đó gần như bằng không.</p><p id="198">Và sống đúng với xác suất và kỳ vọng đó.</p><p id="199"><strong>Ting.</strong></p><p id="200"><strong>[Bạn đã thành công mỹ mãn trong việc khôi phục độ bền của Nhẫn Derode.]</strong></p><p id="201"><strong>[Độ bền của Nhẫn Derode đã tăng lên đáng kể. 1 -&gt; 22]</strong></p><p id="202"><strong>[Bạn đã nhận được kinh nghiệm cho đặc tính Giả Kim. Hiện tại là Cấp Thấp Level 3. 85%]</strong></p><p id="203">(Ngon.)</p><p id="204">Tôi đã thành công trong việc khôi phục độ bền của chiếc nhẫn.</p><p id="205">Và đó là một thành công mỹ mãn, có nghĩa là tôi nhận được gấp đôi hiệu quả của một lần thành công bình thường.</p><p id="206">Xèo.</p><p id="207">Khói và ma lực đậm đặc thoát ra qua quạt thông gió trong phòng thí nghiệm.</p><p id="208">Tôi nhanh chóng tháo mặt nạ phòng độc và găng tay bảo hộ rồi cầm lấy chiếc nhẫn.</p><p id="209">Độ bền của nó chưa được khôi phục hoàn toàn, nhưng nó sẽ trụ được một thời gian.</p><p id="210">Với điều này, tôi sẽ không gặp vấn đề gì ngay cả khi đi gặp Eliana.</p><p id="211">(Đã ba mươi phút trôi qua rồi.)</p><p id="212">Tôi kiểm tra đồng hồ đeo tay và khẽ gật đầu.</p><p id="213">Mất nhiều thời gian hơn tôi dự kiến, nhưng cũng không sao.</p><p id="214">Eliana không thể sống thiếu đồ tráng miệng, vì vậy có lẽ cô ấy có thể ngồi trong quán cà phê với vẻ mặt hạnh phúc cả ngày.</p><p id="215">Vù.</p><p id="216">Tôi rời phòng thí nghiệm, lấy chiếc áo khoác mà Ciel đã treo và hướng đến địa điểm hẹn của chúng tôi.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275349-chuong-04" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3130945"
    class="ln-comment-item mt-3 clear"
    data-comment="3130945" 
    data-parent="3130945" 
    data-type="chapter" 
    data-typeid="275488">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua169662-feded39d-5945-475a-a921-2ea03814174d.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/169662">Trunfroggo</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        TFNC
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24342-cach-sinh-ton-o-hoc-vien-voi-tu-cach-la-chu-tich-hoi-hoc-sinh/c275488-chuong-05?comment_id=3130945#ln-comment-3130945"
                            class="text-slate-500">
                            <time class="timeago" title="19-12-2025 22:22:29"
                                datetime="2025-12-19T22:22:29+07:00">
                                19-12-2025 22:22:29
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'vhzJK86sGUQnrG72hPJmQIp9Huj0eFWaJkIJncDd';
        var comment_type = 'chapter';
        var comment_typeid = '275488';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'vhzJK86sGUQnrG72hPJmQIp9Huj0eFWaJkIJncDd';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24342');
    chapter_id = parseInt('275488');

    readingObject = {
        series_id: series_id,
        series_title: 'Cách sinh tồn ở học viện với tư cách là chủ tịch hội học sinh',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="vhzJK86sGUQnrG72hPJmQIp9Huj0eFWaJkIJncDd" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Những Người Bạn Cùng Lớp — Những Cô Gái Mà Tôi Đã Suýt Nữa Yêu” - chương 3 ( Part 2 ) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi lại rơi vào cùng một lớp với những cô gái mà ngày xưa tôi từng có “một khoảng thời gian rất tốt” với họ. Một câu chuyện rom-com học đường về những nuối tiếc và cảm xúc chưa từng được nói ra—nơi mối tình đã bị bỏ lỡ nay...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="3bsEVMFoM3q1Z9exNO36x3sUEZ8KPwFueo6NW7WH">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305774-chuong-3-part-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24884-0841dd37-c4a9-48d6-8d37-073913794099.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=c044c63e744fb1723a7d067aa1473af1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305767-chuong-3-hoc-sinh-chuyen-truong-gay-chan-dong-part-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305774-chuong-3-part-2" style="background: url('https://i.hako.vn/ln/series/covers/s24884-0841dd37-c4a9-48d6-8d37-073913794099.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu">Những Người Bạn Cùng Lớp...</a></h5>
                    <small><i class="fas fa-pen"></i>Miya Yu</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/t36341-vol-1">Vol 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c302634-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c302641-chuong-01-prologue">
                                                                        Chương 01 - Prologue
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c303998-chuong-1-nhung-co-gai-ma-toi-da-suyt-yeu">
                                                                        Chương 1 - Những cô gái mà tôi đã suýt yêu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c304435-chuong-1-part-2">
                                                                        Chương 1 (Part 2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c304446-chuong-1-part-3">
                                                                        Chương 1 (Part 3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c304462-chuong-1-part-4">
                                                                        Chương 1 (Part 4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305718-chuong-2-part-1-nhung-co-gai-da-tung-diu-dang-voi-toi-ngay-ay">
                                                                        Chương 2 ( Part 1 ) Những cô gái đã từng dịu dàng với tôi ngày ấy
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305744-chuong-2-part-2">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2 - ( Part 2 )
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305767-chuong-3-hoc-sinh-chuyen-truong-gay-chan-dong-part-1">
                                                                        Chương 3 - Học sinh chuyển trường gây chấn động ( Part 1 )
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305774-chuong-3-part-2">
                                                                        chương 3 ( Part 2 )
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=" disabled "><a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu">Minh họa ếu có j đâu ae cái này tôi nhầm</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">chương 3 ( Part 2 )</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305774-chuong-3-part-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,284 từ - Cập nhật: 
                        <time class="topic-time timeago" title="07-02-2026 22:56:39" datetime="2026-02-07T22:56:39+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">chương 3 ( Part 2 )</p>
                    <p id="1">“Bố mẹ bảo mình phải trông chừng cậu, vì cậu hậu đậu lắm.”</p><p id="2">Remi thỉnh thoảng nói vậy, nhưng trông cô ấy lúc nào cũng có vẻ rất vui.</p><p id="3">Có lẽ Remi cảm thấy thoải mái khi được tôi đối xử như một người bạn “cùng phe”, không hề giữ khoảng cách nam nữ.</p><p id="4">Càng lên lớp cao, Remi càng trở thành lớp trưởng.</p><p id="5">Và cô ấy là một lớp trưởng có sức hút.</p><p id="6">Tính cách có phần ích kỷ trước kia dần chuyển thành khí chất lãnh đạo, và cô ấy trở thành trung tâm, giỏi kéo mọi người xích lại gần mình.</p><p id="7">Khoảng năm lớp sáu tiểu học, tôi bắt đầu ý thức rõ ràng rằng Remi là con gái.</p><p id="8">Tóc cô ấy từ ngắn thành dài vừa, vóc dáng dần thay đổi, đường nét trở nên mềm mại hơn.</p><p id="9">Vào lúc tôi bắt đầu nhận ra nét nữ tính của Remi, tôi cũng nhận ra mình đã vô thức thích cô ấy — không còn chỉ là một người bạn nữa.</p><p id="10">Không chỉ vì ngoại hình.</p><p id="11">Tôi nghĩ mình bị cuốn hút bởi việc chứng kiến một người ở gần mình từng ngày lớn lên, dần trở thành người trưởng thành.</p><p id="12">Cô ấy xinh đẹp đến nao lòng, lại còn là lớp trưởng.</p><p id="13">Dù trở thành tâm điểm chú ý, Remi vẫn đối xử với tôi như trước — và chính điều đó khiến tình cảm của tôi lớn dần nhanh hơn.</p><p id="14">Nhưng tôi không biết phải tiến thêm một bước như thế nào.</p><p id="15">Hay đúng hơn… tôi hài lòng với mối quan hệ khi ấy.</p><p id="16">Cùng lớp, ngày nào tan học chúng tôi cũng đi chơi với nhau. Trong những dịp như dã ngoại, việc trao đổi đồ ăn kèm cho nhau cũng là chuyện tự nhiên.</p><p id="17">Dù vòng bạn bè của Remi ngày càng mở rộng, tôi vẫn tự nhiên được ở trong nhóm thân cận nhất của cô ấy.</p><p id="18">Bạn của Remi đều thân thiện và giao tiếp giỏi hơn tôi nhiều.</p><p id="19">Để không bị tụt lại, đôi khi tôi buột miệng trêu cô ấy bằng những câu vô duyên kiểu “Cậu tăng cân à?” — giờ nghĩ lại chỉ thấy xấu hổ. Trước mặt mọi người, Remi chỉ bình thản đáp một câu “Có lẽ.”</p><p id="20">Dĩ nhiên, khi chỉ có hai đứa, cô ấy sẽ mắng tôi: “Cậu nghĩ cái gì vậy, đồ ngốc!”</p><p id="21">Các cậu con trai khác vừa ghen tị, vừa có phần khó chịu với mối quan hệ của tôi và cô ấy.</p><p id="22">Tôi không thể phủ nhận rằng, khi thấy cô ấy nói chuyện với những đứa con trai khác, tôi có cảm giác mình “ở trên” họ một chút.</p><p id="23">Tuy vậy, ảnh hưởng của Remi khi ấy đã rất lớn, nên không ai dám công khai gây sự với tôi — người bạn thân của cô ấy.</p><p id="24">Trong khi tôi cứ ôm mãi tình cảm đơn phương, ngày tốt nghiệp dần đến vào mùa thu.</p><p id="25">Vẫn không thể thổ lộ, thì tôi nhận được một tin khó tin.</p><p id="26">“Tớ nghe nói Nikaido thích cậu đó!”</p><p id="27">— Remi thích tôi.</p><p id="28">Tin đồn phần lớn là hiểu lầm hoặc bịa đặt. Và với người như Remi, càng khó tin rằng cô ấy sẽ nói chuyện như thế với người khác.</p><p id="29">Nhưng tôi đúng là bạn thân khác giới gần gũi nhất với cô ấy.</p><p id="30">Tôi tin vào điều đó, và tôi muốn tin vào tin đồn ấy.</p><p id="31">“Remi, hôm nay mình cùng về nhé?”</p><p id="32">Ngày nghe được tin đồn, sau giờ học tôi đã hỏi cô ấy một cách nghiêm túc hơn bình thường.</p><p id="33">Khi mời cô ấy, tôi thấy má Remi đỏ hơn mọi khi.</p><p id="34">Có thể là do ánh hoàng hôn đánh lừa mắt tôi, hoặc có lẽ cô ấy hơi mệt.</p><p id="35">Nhưng cảnh tượng ấy khiến tim tôi càng đập mạnh, và lần đầu tiên, ý nghĩ phải tỏ tình một cách rõ ràng xuất hiện trong đầu.</p><p id="36">“Đ-đi thôi.”</p><p id="37">Remi chớp mắt trước lời rủ đi có phần gấp gáp của tôi.</p><p id="38">Nhưng rồi vẻ mặt cô ấy dịu lại.</p><p id="39">“Ừ. Lâu rồi tụi mình mới cùng về, chỉ hai đứa nhỉ.”</p><p id="40">“Phải ha? Dạo này lúc nào cũng đi theo nhóm, chưa khi nào chỉ có hai đứa.”</p><p id="41">“Đúng vậy. Thế… đi chứ?”</p><p id="42">Remi Nikaido thích tôi.</p><p id="43">Thế nhưng phản ứng của cô ấy lại quá bình thường.</p><p id="44">Khi ra khỏi cổng trường, tôi nhìn cô ấy thêm lần nữa, nhưng cô ấy vẫn như mọi khi.</p><p id="45">…Có lẽ chỉ là tin đồn thôi.</p><p id="46">Khi tôi còn đang cố che giấu sự hụt hẫng, Remi khẽ lên tiếng.</p><p id="47">“Ra rồi thì ghé công viên một chút nhé?”</p><p id="48">Tôi sững lại vì bất ngờ.</p><p id="49">Từ trước đến giờ, người đề nghị đi đâu luôn là tôi, và Remi thường gật đầu theo.</p><p id="50">Việc cô ấy chủ động rủ tôi là chuyện cực kỳ hiếm.</p><p id="51">Có lẽ chỉ vài lần trong đời.</p><p id="52">“Đến công viên làm gì?”</p><p id="53">Vừa nói xong tôi đã hối hận vì câu trả lời ngu ngốc của mình.</p><p id="54">Cô ấy đã chủ động rủ, vậy mà tôi lại phản ứng như vậy.</p><p id="55">Remi nghiêm túc suy nghĩ câu hỏi của tôi đến mức tôi thấy áy náy.</p><p id="56">“…Ừ nhỉ, làm gì đây? Đu xích đu? Hay bập bênh?”</p><p id="57">Đó đều là những trò chúng tôi từng chơi hồi tiểu học.</p><p id="58">Để che giấu sự xấu hổ, tôi buột miệng: “Xích đu với bập bênh là trò con nít mà!” Remi khịt mũi cười.</p><p id="59">Đó là biểu cảm cô ấy không còn thể hiện ở lớp nữa — gợi nhớ lại thời còn là cô bé nghịch ngợm.</p><p id="60">“Trẻ con thì sao chứ, tụi mình vẫn còn là trẻ con mà. Với lại, Ryota, chắc cậu sợ đu xích đu sau từng ấy năm đó chứ gì.”</p><p id="61">“G-gì cơ? Không có!”</p><p id="62">“Lâu rồi mới chơi chắc vui lắm… Dù là làm gì cũng được.”</p><p id="63">Vẻ mặt hơi khó chịu của Remi dần biến thành một nụ cười nhỏ ở cuối câu.</p><p id="64">Tôi đáp lại: “Thôi được, nếu cậu đã nói vậy,” để che đi sự lúng túng, trong khi trong lòng vui đến mức muốn nhảy lên.</p><p id="65">Cô ấy vừa nói “gì cũng được.”</p><p id="66">Tôi có cảm giác ẩn ý phía sau câu nói ấy là “miễn là đi cùng cậu.”</p><p id="67">Trong tâm trạng phấn chấn, con đường đến công viên như trôi qua trong chớp mắt.</p><p id="68">Khi đang đu xích đu, Remi khẽ hỏi:</p><p id="69">“Này, Ryota, cậu có người mình thích chưa?”</p><p id="70">Tôi bất ngờ khi cô ấy nhắc đến chủ đề đó.</p><p id="71">Trước đây chúng tôi từng nói đủ thứ.</p><p id="72">Nhưng từ khoảng lớp sáu, vì lý do nào đó, chúng tôi ngừng nói về chuyện này.</p><p id="73">“…Ờm… đợi chút, để mình nghĩ đã. Cậu nói trước đi?”</p><p id="74">“…Đồ nhát.”</p><p id="75">Remi lườm tôi, rồi ngay sau đó ngẩng lên nhìn bầu trời, trầm ngâm “Hmm.”</p><p id="76">“…Mình không có người mình thích, nhưng có thể có người mình quan tâm.”</p><p id="77">“Ồ? Ai vậy?”</p><p id="78">Tim tôi đập dồn dập.</p><p id="79">Là mong chờ? Hay điều gì khác?</p><p id="80">“Ngốc. Tớ đâu có nói sẽ kể tên. Tới lượt cậu rồi, nói đi.”</p><p id="81">“Hả!? Gì vậy trời!”</p><p id="82">Dù hụt hẫng vì kỳ vọng bị dập tắt, nhưng cũng không đủ dũng khí hỏi tới, tôi quyết định trả lời.</p><p id="83">“Mình à? Ừm… có người mình muốn ở bên lâu hơn một chút.”</p><p id="84">Remi đã trả lời mơ hồ, nên tôi nghĩ mức độ mập mờ như vậy là vừa.</p><p id="85">Tôi tưởng cô ấy sẽ trêu tôi là chán ngắt, nhưng ngạc nhiên thay, Remi chỉ khẽ mỉm cười.</p><p id="86">Hôm đó, Remi có gì đó khác lạ.</p><p id="87">“Hmm, không ngờ đấy… ra là vậy.”</p><p id="88">Nói xong, cô ấy lại ngẩng lên nhìn trời, rồi đột ngột đu xích đu mạnh hơn.</p><p id="89">…Không khí này là sao vậy?</p><p id="90">Tiếng xích đu kêu cót két khi dây xích cọ vào nhau.</p><p id="91">Chỉ có hai chúng tôi trong công viên.</p><p id="92">Chỉ hai đứa, cùng chia sẻ khoảnh khắc này.</p><p id="93">Xích đu dần chậm lại, và cả hai cùng nhìn về phía trước.</p><p id="94">Tiếng lá cây xào xạc, tiếng nước sông chảy xa xa.</p><p id="95">Sự im lặng giữa chúng tôi lại dễ chịu đến lạ.</p><p id="96">— Bầu không khí này… thật vừa vặn.</p><p id="97">Có lẽ bây giờ là lúc.</p><p id="98">“Remi, mình—”</p><p id="99">Nhưng lời không thể thốt ra.</p><p id="100">Gương mặt Remi khi nhìn thẳng vào tôi vẫn quá đỗi bình thường.</p><p id="101">Thấy cô ấy nhìn mình đầy thắc mắc, tôi đành chữa cháy bằng câu: “Mình không muốn tốt nghiệp.”</p><p id="102">Remi mỉm cười buồn, khẽ đáp: “…Ừ.”</p><p id="103">Cuối cùng, hôm đó tôi đã không thể tỏ tình.</p><p id="104">Chân tôi cứng đờ như một kẻ hèn nhát.</p><p id="105">Nếu lời tỏ tình thất bại, có lẽ chúng tôi sẽ không thể nói chuyện như thế này nữa.</p><p id="106">Bị những lo lắng quen thuộc nhưng nặng nề ấy đè nặng, chúng tôi tiếp tục cùng nhau đi về một đoạn, nhưng chẳng có thêm tiến triển nào.</p><p id="107">Khi tôi vẫn chưa thể vượt qua rào cản mang tên “tỏ tình”, Remi vẫn như mọi khi — cho đến ngày đó.</p><p id="108">“Cậu chuyển trường à?”</p><p id="109">Chỉ bốn chữ, quen thuộc đến đau lòng.</p><p id="110">Thế nhưng quá đột ngột, khiến suy nghĩ của tôi như ngừng lại.</p><p id="111">“Ừ… xin lỗi. Chuyện đã quyết định từ lâu rồi, nhưng mình lại báo cho cậu sát ngày quá.”</p><p id="112">Đôi mắt Remi ngấn nước.</p><p id="113">Ngay khoảnh khắc ấy, tôi hiểu ra.</p><p id="114">Hôm cô ấy rủ tôi cùng về, trong lớp sau giờ học — cô ấy đã khóc rồi.</p><p id="115">Gương mặt đỏ khi ấy là vì vừa khóc xong.</p><p id="116">“Không… ừm…”</p><p id="117">“Vui lên đi. Chúng ta sẽ còn gặp lại mà, đúng không?”</p><p id="118">Tôi cảm thấy nếu nói câu đó, tức là thừa nhận mối quan hệ này đã kết thúc.</p><p id="119">“— Mình nhất định sẽ quay lại.”</p><p id="120">Những giọt nước mắt lớn lăn dài khỏi mắt Remi.</p><p id="121">Đó là nỗi buồn vì rời khỏi nơi quen thuộc? Vì rời khỏi lớp học? Hay… vì không thể gặp tôi nữa?</p><p id="122">Chỉ cần nghĩ rằng mình có thể là một phần nhỏ trong những giọt nước mắt ấy cũng đủ khiến tôi thỏa mãn.</p><p id="123">Dù sau này tôi sẽ còn hối hận rất lâu.</p><p id="124">―――――</p><p id="125">“Đổi với tớ làm người hướng dẫn cho Nikaido-san được không?”</p><p id="126">“Không đời nào.”</p><p id="127">“Cái gì!? Thôi mà!”</p><p id="128">Ngay khi tiết sinh hoạt kết thúc, tôi thẳng thừng từ chối lời cầu xin của Takeru.</p><p id="129">Nhìn về phía chỗ ngồi của Remi, tôi thấy đã có một đám đông vây quanh cô ấy từ lúc nào.</p><p id="130">Toàn là con gái, không có lấy một cậu con trai nào.</p><p id="131">Đám con trai chỉ biết ngồi ở chỗ của mình, chờ nhóm con gái đang vây quanh Remi giải tán.</p><p id="132">Nhưng có lẽ phải đến giờ ra chơi sau — hoặc thậm chí là giờ sau nữa — họ mới có cơ hội nói chuyện với cô ấy.</p><p id="133">Còn tôi thì khác.</p><p id="134">Tôi có một “đặc quyền bắt buộc” do giáo viên — hay có khi là do ông trời — sắp đặt, rằng tôi phải nói chuyện với cô ấy.</p><p id="135">Tôi nhanh chóng đứng dậy, mặc kệ Takeru đang càm ràm phía sau, rồi bước về phía Remi.</p><p id="136">Khi Remi chuyển trường, chúng tôi đã không trao đổi số điện thoại.</p><p id="137">Tôi sợ cái quá trình dần dần xa cách nếu cứ giữ liên lạc.</p><p id="138">Vì thế, đây là lần đầu tiên tôi đối mặt với cô ấy kể từ ngày tốt nghiệp.</p><p id="139">“Ni–Nikaido.”</p><p id="140">“À, cậu đây rồi. Lâu quá không gặp nhỉ.”</p><p id="141">Remi nói vậy, khóe môi khẽ cong lên.</p><p id="142">— Trời ơi, cô ấy vẫn xinh đến mức đáng kinh ngạc.</p><p id="143">Suýt chút nữa tôi đã buột miệng nói ra thành tiếng.</p><p id="144">Thật đáng kinh ngạc khi cô ấy có thể để kiểu nhuộm tóc ẩn bên trong và đeo khuyên tai một cách tự nhiên đến vậy, trong khi ở trường này chẳng ai làm thế.</p><p id="145">Tôi muốn khen cô ấy một cách thẳng thắn như ngày xưa, nhưng lại không muốn trông giống như vừa gặp lại đã tán tỉnh.</p><p id="146">Dù sao thì, tôi cũng vừa bị Hanazono từ chối một cách vòng vo.</p><p id="147">Với lại, ánh mắt tôi cứ vô thức bị kéo xuống phía ngực cô ấy, khiến tôi hoàn toàn không thể bình tĩnh mà khen về gu thời trang được.</p><p id="148">…Nghiêm túc mà nói, cô ấy phát triển hơn trước khá nhiều.</p><p id="149">Trong lúc Remi chờ tôi đáp lời, tôi vội vàng lựa chọn câu chữ.</p><p id="150">“Ừ-ừ, lâu rồi thật đấy! Cậu làm mình bất ngờ ghê, tự nhiên lại chuyển đến đây.”</p><p id="151">“Ahaha, mình biết mà, đúng không? Mình cũng định liên lạc với cậu, nhưng lại không có thông tin liên hệ.”</p><p id="152">“À, phải rồi… gọi điện bàn về nhà thì chắc hơi quá nhỉ.”</p><p id="153">Thật ra, tuần trước tôi đã gọi năm, sáu lần rồi, nhưng mà…</p><p id="154">Nếu việc chuyển nhà bận rộn nhiều thứ, thì việc cô ấy không nghe máy cũng là điều dễ hiểu.</p><p id="155">“Đúng vậy. Với lại, Yoshiki-kun, cậu đâu có dùng mạng xã hội nhiều, đúng không? Mình chưa từng thấy cậu trên mấy tài khoản gì liên quan cả.”</p><p id="156">“À, ừ. Mình chỉ dùng ở mức tối thiểu thôi.”</p><p id="157">Tôi đáp ngắn gọn, rồi để dòng suy nghĩ trôi đi.</p><p id="158">…Cô ấy vừa gọi mình là “Yoshiki-kun” sao?</p><p id="159">Remi hôm nay lịch sự thật đấy, nhỉ?</p><p id="160">Remi ngày trước thường gọi tôi bằng một cái tên thân mật hơn nhiều.</p><p id="161">Thế nhưng Remi đang đứng trước mặt tôi lại dùng “-kun” và gọi tôi bằng họ.</p><p id="162">Nói đơn giản… cô ấy đã thay đổi rồi.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu/c305767-chuong-3-hoc-sinh-chuyen-truong-gay-chan-dong-part-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24884-nhung-nguoi-ban-cung-lop-nhung-co-gai-ma-toi-da-suyt-nua-yeu" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '3bsEVMFoM3q1Z9exNO36x3sUEZ8KPwFueo6NW7WH';
        var comment_type = 'chapter';
        var comment_typeid = '305774';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '3bsEVMFoM3q1Z9exNO36x3sUEZ8KPwFueo6NW7WH';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24884');
    chapter_id = parseInt('305774');

    readingObject = {
        series_id: series_id,
        series_title: 'Những Người Bạn Cùng Lớp — Những Cô Gái Mà Tôi Đã Suýt Nữa Yêu”',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="3bsEVMFoM3q1Z9exNO36x3sUEZ8KPwFueo6NW7WH" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ca43a070a71c277',t:'MTc3MDQ4MTM1Mg=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

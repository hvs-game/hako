<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Thành Phố Phù Thủy - #14 - Tài Năng (1) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="5 năm đã trôi qua kể từ khi tôi bị bắt cóc và biến thành nô lệ trong một thành phố đầy rẫy phù thủy.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="h5Optd4IO6Tlu2vJjmWGz0JYMwtUfyaNNnKB2fJL">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24548-0bd6f8e4-7ee5-4601-907e-c53123862cbd.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=c044c63e744fb1723a7d067aa1473af1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24548-thanh-pho-phu-thuy/c289451-13-song-sinh-phu-thuy-7"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24548-thanh-pho-phu-thuy"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24548-thanh-pho-phu-thuy/c289659-15-tai-nang-2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1" style="background: url('https://i.hako.vn/ln/series/covers/s24548-0bd6f8e4-7ee5-4601-907e-c53123862cbd.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24548-thanh-pho-phu-thuy">Thành Phố Phù Thủy</a></h5>
                    <small><i class="fas fa-pen"></i>Hoa Tàn</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/24548-thanh-pho-phu-thuy/c287641-phu-thuy-nuoc-hoa-amelia-marigold">Minh họa nhân vật</a></li>
                                        
                                                            <li class="current"><a href="/truyen/24548-thanh-pho-phu-thuy/t35553-1-100">1-100</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287332-01-no-le-cua-thanh-pho-phu-thuy-1">
                                                                        #01 - Nô Lệ Của Thành Phố Phù Thủy (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287397-02-no-le-cua-thanh-pho-phu-thuy-2">
                                                                        #02 - Nô Lệ Của Thành Phố Phù Thủy (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287657-03-no-le-cua-thanh-pho-phu-thuy-3">
                                                                        #03 - Nô Lệ Của Thành Phố Phù Thủy (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287835-04-no-le-cua-thanh-pho-phu-thuy-4">
                                                                        #04 - Nô Lệ Của Thành Phố Phù Thủy (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287917-05-no-le-cua-thanh-pho-phu-thuy-5">
                                                                        #05 - Nô Lệ Của Thành Phố Phù Thủy (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287918-06-no-le-cua-thanh-pho-phu-thuy-6">
                                                                        #06 - Nô Lệ Của Thành Phố Phù Thủy (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287919-07-song-sinh-phu-thuy-1">
                                                                        #07 - Song Sinh Phù Thủy (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c287920-08-song-sinh-phu-thuy-2">
                                                                        #08 - Song Sinh Phù Thủy (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c288341-09-song-sinh-phu-thuy-3">
                                                                        #09 - Song Sinh Phù Thủy (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c288488-10-song-sinh-phu-thuy-4">
                                                                        #10 - Song Sinh Phù Thủy (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c288774-11-song-sinh-phu-thuy-5">
                                                                        #11 - Song Sinh Phù Thủy (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289021-12-song-sinh-phu-thuy-6">
                                                                        #12 - Song Sinh Phù Thủy (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289451-13-song-sinh-phu-thuy-7">
                                                                        #13 - Song Sinh Phù Thủy (7)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1">
                                                                        #14 - Tài Năng (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289659-15-tai-nang-2">
                                                                        #15 - Tài Năng (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289895-16-thi-tran-bien-gioi-1">
                                                                        #16 - Thị Trấn Biên Giới (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c289963-17-thi-tran-bien-gioi-2">
                                                                        #17 - Thị Trấn Biên Giới (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290006-18-thi-tran-bien-gioi-3">
                                                                        #18 - Thị Trấn Biên Giới (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290274-19-thi-tran-bien-gioi-4">
                                                                        #19 - Thị Trấn Biên Giới (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290456-20-thi-tran-bien-gioi-5">
                                                                        #20 - Thị Trấn Biên Giới (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290607-21-thi-tran-bien-gioi-6">
                                                                        #21 - Thị Trấn Biên Giới (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290862-22-amelia-marigold-1">
                                                                        #22 - Amelia Marigold (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c290870-23-amelia-marigold-2">
                                                                        #23 - Amelia Marigold (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c291214-24-quan-tro-1">
                                                                        #24 - Quán Trọ (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c291434-25-quan-tro-2">
                                                                        #25 - Quán Trọ (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c292056-26-quan-tro-3">
                                                                        #26 - Quán Trọ (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c292280-27-quan-tro-4">
                                                                        #27 - Quán Trọ (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c292669-28-quan-tro-5">
                                                                        #28 - Quán Trọ (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c292810-29-mama-sophia-1">
                                                                        #29 - Mama Sophia (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c292914-30-mama-sophia-2">
                                                                        #30 - Mama Sophia (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c294107-31-mama-sophia-3">
                                                                        #31 - Mama Sophia (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c295263-32-thi-tran-ars-magna-1">
                                                                        #32 - Thị Trấn Ars Magna (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c295340-33-thi-tran-ars-magna-2">
                                                                        #33 - Thị Trấn Ars Magna (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c295360-34-thi-tran-ars-magna-3">
                                                                        #34 - Thị Trấn Ars Magna (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c295880-35-thi-tran-ars-magna-4">
                                                                        #35 - Thị Trấn Ars Magna (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296361-36-chung-mot-mai-nha-rieng-mot-noi-long-1">
                                                                        #36 - Chung Một Mái Nhà, Riêng Một Nỗi Lòng (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296381-37-chung-mot-mai-nha-rieng-mot-noi-long-2">
                                                                        #37 - Chung Một Mái Nhà, Riêng Một Nỗi Lòng (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296382-38-tinh-duoc-1">
                                                                        #38 - Tình Dược (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296384-39-tinh-duoc-2">
                                                                        #39 - Tình Dược (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296386-40-tinh-duoc-3">
                                                                        #40 - Tình Dược (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296390-41-tinh-duoc-4">
                                                                        #41 - Tình Dược (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c296869-42-tinh-duoc-5">
                                                                        #42 - Tình Dược (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c297405-43-dau-the-nao-chi-minh-ta-thiet-thoi-1">
                                                                        #43 - Đâu Thể Nào Chỉ Mình Ta Thiệt Thòi (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c297419-44-dau-the-nao-chi-minh-ta-thiet-thoi-2">
                                                                        #44 - Đâu Thể Nào Chỉ Mình Ta Thiệt Thòi (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c297425-45-dau-the-nao-chi-minh-ta-thiet-thoi-3">
                                                                        #45 - Đâu Thể Nào Chỉ Mình Ta Thiệt Thòi (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c297770-46-buoi-day-kem-dem-khuya-1">
                                                                        #46 - Buổi Dạy Kèm Đêm Khuya (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298304-47-buoi-day-kem-dem-khuya-2">
                                                                        #47 - Buổi Dạy Kèm Đêm Khuya (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298312-48-buoi-day-kem-dem-khuya-3">
                                                                        #48 - Buổi Dạy Kèm Đêm Khuya (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298325-49-buoi-day-kem-dem-khuya-4">
                                                                        #49 - Buổi Dạy Kèm Đêm Khuya (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298341-50-buoi-day-kem-dem-khuya-5">
                                                                        #50 - Buổi Dạy Kèm Đêm Khuya (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298359-51-buoi-day-kem-dem-khuya-6">
                                                                        #51 - Buổi Dạy Kèm Đêm Khuya (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c298848-52-latifundium-1">
                                                                        #52 - Latifundium (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c299426-53-latifundium-2">
                                                                        #53 - Latifundium (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c302637-54-latifundium-3">
                                                                        #54 - Latifundium (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c302647-55-latifundium-4">
                                                                        #55 - Latifundium (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c302651-56-latifundium-5">
                                                                        #56 - Latifundium (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c303336-57-latifundium-6">
                                                                        #57 - Latifundium (6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c303338-58-khoi-tran-1">
                                                                        #58 - Khởi Trận (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c303405-59-khoi-tran-2">
                                                                        #59 - Khởi Trận (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c303657-60-khoi-tran-3">
                                                                        #60 - Khởi Trận (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c303669-61-khoi-tran-4">
                                                                        #61 - Khởi Trận (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c304278-62-kho-tan-cam-lai-1">
                                                                        #62 - Khổ Tận Cam Lai (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c305103-63-kho-tan-cam-lai-2">
                                                                        #63 - Khổ Tận Cam Lai (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c305808-64-kho-tan-cam-lai-3">
                                                                        #64 - Khổ Tận Cam Lai (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c305853-65-kho-tan-cam-lai-4">
                                                                        #65 - Khổ Tận Cam Lai (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c308427-66-com-phu-song-sinh-1">
                                                                        #66 - Cơm Phủ Song Sinh (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c308458-67-com-phu-song-sinh-2">
                                                                        #67 - Cơm Phủ Song Sinh (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24548-thanh-pho-phu-thuy/c308461-68-com-phu-song-sinh-3">
                                                                        #68 - Cơm Phủ Song Sinh (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1-100</h2>
                    <h4 class="title-item text-base font-bold" align="center">#14 - Tài Năng (1)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1#chapter-comments" style="text-decoration: underline">11 Bình luận</a> -
                        Độ dài: 2,802 từ - Cập nhật: 
                        <time class="topic-time timeago" title="12-01-2026 22:44:35" datetime="2026-01-12T22:44:35+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">#14 - Tài Năng (1)</p>
                    <p id="1"><strong>1.</strong></p><p id="2">Dư vị u uẩn sau cơn hoan lạc nơi Siwoo dường như kéo dài bất tận.</p><p id="3">Hai ngày đã trôi qua kể từ cuộc truy hoan tại Thị trấn Tarot, mà y vẫn chìm trong dằn vặt khôn nguôi.</p><p id="4">“Chết tiệt, tại sao mình lại buông thả đến thế?”</p><p id="5">Dĩ nhiên, Odile và Odette mới là kẻ khơi mào.</p><p id="6">Tội của y, nếu có, chỉ là đã buông mình theo nhịp thở của hai phù thủy tập sự.</p><p id="7">Bản thân y vốn chẳng phải kẻ câu nệ đức hạnh, nên nói y dằn vặt vì khoái cảm có được khi vờn lừa cặp song sinh thì hoàn toàn là ngụy biện.</p><p id="8">Nói rằng y chẳng hề đắm chìm trong khoái lạc cũng là một lời dối trá.</p><p id="9">Chỉ là, điều thực sự khiến Siwoo canh cánh khôn nguôi lại là một lẽ khác.</p><p id="10">Kể từ giữa cuộc hoan lạc, y đã chủ động lừa dối cặp song sinh và đồng lõa với hành vi của họ.</p><p id="11">Vấn đề là, khi ngẫm lại, đây là một hành động vô cùng liều lĩnh.</p><p id="12">Mai này, nếu cuộc truy hoan đó vỡ lở, giữa việc biện minh rằng ‘Tôi chỉ bị trói và cưỡng ép!’ và việc thừa nhận ‘Khi đang hoan lạc, cơn khát ái tình bỗng trỗi dậy, tôi đã ra lệnh cho họ ngậm lấy dương vật của mình’ có một sự khác biệt tựa trời với vực.</p><p id="13">Trường hợp đầu may ra còn khó giữ mạng, nhưng trường hợp sau chắc chắn là án tử.</p><p id="14">Dù Siwoo có là một phù thủy đi nữa, y cũng sẽ không dung thứ cho một kẻ đồi bại đã đùa giỡn với những phù thủy tập sự, những người chẳng khác nào con cháu của mình.</p><p id="15">“Dù vậy, cảm giác đó thật tuyệt diệu.”</p><p id="16">Y lơ đãng hồi tưởng lại chuyện ngày hôm đó.</p><p id="17">Cảm giác mê ly khi xuất tinh, chiếc lưỡi mềm mại của cặp song sinh và khoang miệng nóng bỏng.</p><p id="18">Thỉnh thoảng, cảm giác ấy vẫn trỗi dậy như một cơn đau ma mị.</p><p id="19">Vỗ nhẹ vào dương vật đang ngóc đầu trỗi dậy, Siwoo cầm lấy cây chổi và tiếp tục dọn dẹp ký túc xá.</p><p id="20">Hôm nay không có lớp học, cũng chẳng có những mệnh lệnh vặt vãnh (thực chất là hành hạ) từ Amelia, nên công việc đã kết thúc khi hoàng hôn vừa buông.</p><p id="21">Với sự cần mẫn đã thấm vào xương tủy suốt gần năm năm qua, y đang dọn dẹp chuồng gia súc.</p><p id="22">“Cảm giác nào tuyệt diệu thế, hả trợ giảng?”</p><p id="23">“Ak!”</p><p id="24">“Ồn ào quá đấy.”</p><p id="25">Siwoo giật nảy mình vì tiếng cười khúc khích đột ngột vọng tới.</p><p id="26">“Chào trợ giảng. Anh vẫn khỏe chứ?”</p><p id="27">“Chào hai người.”</p><p id="28">Những vị khách không mời chính là Odile và Odette.</p><p id="29">Kể từ ngày hôm đó, y chưa từng vào lớp nên đã hai ngày rồi họ chưa gặp nhau.</p><p id="30">Nhìn Amelia và cặp song sinh, y nhận ra rằng những kẻ mang trong mình vẻ diễm lệ quả thực có thể nhuốm màu cả không gian quanh mình.</p><p id="31">Y ảo giác rằng chuồng gia súc tồi tàn này đã hóa thành một vũ phòng lộng lẫy.</p><p id="32">Ngoại hình tương đồng đến từng đường nét, kiểu tóc búi hệt nhau, trang sức và váy áo cũng không một chút khác biệt.</p><p id="33">Dáng vẻ yêu kiều của hai thiếu nữ mang nụ cười tinh nghịch giống nhau như tạc, đến mức tạo nên một cảm giác bất hòa kỳ lạ.</p><p id="34">Hôm nay trông họ cũng đã dốc hết tâm tư để khiến Amelia phải bối rối.</p><p id="35">Còn thành công hay không thì chẳng ai hay.</p><p id="36">“C-Cớ sao hai người lại đến nơi này?”</p><p id="37">Siwoo nghiêng cây chổi, tỏ rõ vẻ cảnh giác.</p><p id="38">Vì có tật giật mình, y không biết phải đối diện với họ ra sao.</p><p id="39">“Với lại, sao hai người lại đột ngột tìm đến đây? Đây là ký túc xá của người hầu! Nếu có ai nghi ngờ thì phải làm sao!”</p><p id="40">Cặp song sinh từ trước đến nay chưa từng tiếp xúc riêng tư với Siwoo, việc họ đột ngột tìm đến ký túc xá có thể khiến kẻ khác sinh nghi.</p><p id="41">Đó là lý do y hoảng hốt đến vậy.</p><p id="42">“Nghi ngờ? Chẳng lẽ chúng ta đã làm gì sai trái hay sao?”</p><p id="43">“Anh sống ở một nơi tồi tàn thế này ư...? Ah, ta xin lỗi...”</p><p id="44">Khác với Odile tương đối thản nhiên, Odette dường như bị sốc văn hóa trước ký túc xá chẳng khác nào chuồng gia súc.</p><p id="45">Nàng trông có vẻ bối rối.</p><p id="46">Dù phản ứng của mỗi người mỗi khác, Siwoo chỉ muốn mau chóng tiễn hai chị em rời đi.</p><p id="47">So với Amelia, họ có thể linh hoạt hơn, nhưng ở điểm không hề đoái hoài đến hoàn cảnh của kẻ khác, họ đích thị là những phù thủy.</p><p id="48">“Thật thất lễ. Dù sao thì, chúng ta đến đây là mang theo quà đấy.”</p><p id="49">“Quà?”</p><p id="50">Trước ánh mắt vẫn chưa nguôi ngoai vẻ ngờ vực của Siwoo, Odette tao nhã đưa cho y một chiếc hộp gỗ sang trọng.</p><p id="51">Đó là một món đồ đủ xa xỉ để thường dân dùng làm hộp đựng trang sức, nhưng lại quá đỗi giản dị so với Odile.</p><p id="52">“Thứ này là gì vậy?”</p><p id="53">“Là tiền bồi thường mà chủ cửa hàng lần trước gửi cho anh đó.”</p><p id="54">“Ahh.”</p><p id="55">Ngẫm lại thì đúng là có chuyện đó.</p><p id="56">Siwoo mở chiếc hộp.</p><p id="57">Bên trong là một túi da nhỏ căng phồng chứa đầy tiền bạc, một xấp truyền ma chỉ vừa nhìn đã biết là quý giá, và một chiếc lọ nhỏ chứa đầy chất lỏng sóng sánh.</p><p id="58">Kèm theo đó là một mảnh giấy nhỏ.</p><p id="59">[Gửi cậu Siwoo, ta vô cùng xin lỗi về chuyện lần trước. Vì ham cái lợi nhỏ mà ta đã quên mất lòng tin, đức tính tối quan trọng của một thương nhân, thật hổ thẹn không dám ngẩng mặt. Nếu được, liệu cậu có thể ghé lại cửa hàng lần nữa không? Ta muốn mời ân nhân cứu mạng của mình một bữa ăn]</p><p id="60">Dù không dài dòng, nhưng lá thư vẫn đủ để cảm nhận được sự chân thành.</p><p id="61">Trước đây vì quá bối rối nên không nhận ra, nhưng sau khi suy ngẫm lại, chủ cửa hàng cũng đã tỏ tường.</p><p id="62">Siwoo đã nhận ra sự thật rằng y đã liều mạng đối đầu với một phù thủy để cứu một kẻ lừa đảo đang cận kề cái chết.</p><p id="63">“Xem ra ông ta cũng có chút liêm sỉ. Có cả thư gửi cho ta nữa, ta đã để riêng ra rồi.”</p><p id="64">Trở thành nhân vật chính trong một câu chuyện đẹp như cổ tích khiến y cảm thấy có chút tự hào.</p><p id="65">“Đây là Dịch ma lực.”</p><p id="66">“Nói chính xác hơn, đây là sản phẩm được tạo ra từ công xưởng chung của ‘Học hội Ngọc Lục Bảo’. Là một thứ cực kỳ hiếm có đấy.”</p><p id="67">Lời giải thích tường tận của Odette.</p><p id="68">Siwoo nhấc chiếc lọ được kẹp giữa xấp truyền ma chỉ để không bị vỡ lên.</p><p id="69">Trên nhãn giấy có một dấu niêm phong bằng sáp chứng tỏ nó chưa được mở và là hàng thật.</p><p id="70">Chất lỏng bên trong mang một màu xanh lam trong suốt và rực rỡ.</p><p id="71">Đây là Dịch ma lực có độ tinh khiết cao đến mức các phù thủy cũng dùng trong nghiên cứu.</p><p id="72">Siwoo cố nén khóe môi đang chực cong lên vì vui sướng và hỏi.</p><p id="73">“Tôi có thể giữ hết tất cả những thứ này sao?”</p><p id="74">Odile phẩy tay như thể bảo y đừng bận tâm.</p><p id="75">“Được thôi, với ta những thứ này chẳng đáng gì. Nhân dịp này, sao anh không dùng số tiền đó để sửa sang lại căn nhà tồi tàn này đi?”</p><p id="76">“Thật sự cảm ơn hai người rất nhiều.”</p><p id="77">Siwoo cúi đầu thật thấp.</p><p id="78">Đây thực sự là một món hời bất ngờ.</p><p id="79">Không chỉ nhận được truyền ma chỉ mà y đang cần bổ sung, mà còn là Dịch ma lực do ‘Học hội Ngọc Lục Bảo’, hội giả kim thuật lớn nhất chế tạo ra.</p><p id="80">Vốn dĩ sau khi hoàn thành pháp trận, y vẫn đang mịt mờ về cách thu thập Dịch ma lực.</p><p id="81">Với lượng ma lực cô đọng trong lọ Dịch ma lực này, nó sẽ thừa đủ để kích hoạt thuật thức mà y đang kiến tạo.</p><p id="82">“Tôi muốn mời hai người thứ gì đó... nhưng như hai người thấy đấy, đây là chuồng gia súc. Tôi sẽ sử dụng tốt những món đồ hai người đã trao. Vậy bây giờ tôi xin phép tiễn hai người.”</p><p id="83">“Khoan đã.”</p><p id="84">Vừa thu được lợi ích, Siwoo định tiễn Odile và Odette đi thì nụ cười trên môi y chợt đông cứng.</p><p id="85">Chẳng lẽ lần này họ định thực hiện cái buổi giáo dục giới tính vô nghĩa đó ngay tại đây sao.</p><p id="86">Y nhất định sẽ từ chối và đuổi họ đi.</p><p id="87">“Ma thuật mở cánh cổng mà anh đang tạo ra. Ta có thể xem qua một chút.”</p><p id="88">“Sao cơ? Hai người không cần phải làm vậy đâu.”</p><p id="89">Đột nhiên thế này là sao.</p><p id="90">Chắc chắn nếu được Odile, một phù thủy tập sự của bá tước, góp ý về mặt lý thuyết thì sẽ giúp ích rất nhiều.</p><p id="91">Tuy nhiên, Siwoo cảm thấy xa lạ với sự tử tế đột ngột này.</p><p id="92">Hơn nữa, đây lại là lòng tốt của Odile, người mà y không biết đang toan tính điều gì...</p><p id="93">“Chẳng phải anh cũng đã tích cực hợp tác với chúng ta sao? Ta sẽ giúp anh trốn thoát. Đây là chuyện đã được thỏa thuận với Odette rồi.”</p><p id="94">“Vậy tôi phải làm gì?”</p><p id="95">Siwoo không chút do dự hỏi về điều kiện của giao kèo.</p><p id="96">Như thể hài lòng vì sự thẳng thắn đó, Odile cười táo bạo.</p><p id="97">“Đúng như anh đoán đấy. Sau này, cuối tuần nào cũng đến căn cứ bí mật ở Thị trấn Tarot.”</p><p id="98">Quả nhiên là vậy.</p><p id="99">Không đời nào họ lại làm một việc như vậy mà không có điều kiện.</p><p id="100">Nhưng nói vậy cũng không hẳn là y hoàn toàn chịu thiệt.</p><p id="101">Nếu Odile đã quyết tâm, thì dẫu sao Siwoo cũng không có quyền từ chối.</p><p id="102">Trong tình huống này, việc họ tỏ ra như đang đi đến một thỏa thuận đã là một ân huệ rồi.</p><p id="103">“Tôi hiểu rồi.”</p><p id="104">Y lật lớp rơm lên và mở chiếc rương giấu bên dưới.</p><p id="105">Đó là một tập tài liệu lý thuyết ma thuật dày 228 trang giấy cỡ A4.</p><p id="106">Trên đó, những công thức tính toán để xây dựng pháp trận, bản thiết kế của pháp trận và các giá trị dự đoán thông qua những thử nghiệm giả định được ghi chi chít, không chừa một kẽ hở.</p><p id="107">“Đây.”</p><p id="108">Nhận lấy những tờ giấy chi chít chữ và công thức ở cả hai mặt như một bản nháp, Odile thoáng sững sờ.</p><p id="109"><strong>2.</strong></p><p id="110">Việc kiến tạo một pháp trận có độ phức tạp vượt ngưỡng nhất định cũng chẳng khác nào việc sáng tác một bản giao hưởng.</p><p id="111">Như một bản giao hưởng hùng tráng là sự hòa quyện của nhạc cụ dây, bộ gõ, bộ gỗ, bộ đồng, đàn phím và vô vàn loại khác nữa.</p><p id="112">Giống như việc biến những giai điệu riêng biệt thành một bản hòa ca duy nhất, ma thuật cũng phải kết nên những công thức, ký tự và ma lực thành một sự hài hòa tuyệt mỹ.</p><p id="113">Liệu một nhạc sĩ thiên tài có thể nhắm mắt mà sáng tác một bản giao hưởng không?</p><p id="114">Không thể nào.</p><p id="115">Tương tự như vậy, ngay cả một phù thủy với trí tuệ phi thường cũng không thể tạo ra một pháp trận có quy mô vượt ngưỡng nhất định hoàn toàn bằng tính nhẩm.</p><p id="116">Họ phải tính toán và hoàn thiện hình dạng của pháp trận một cách chi tiết, ghi nhớ nó trong đầu rồi mới có thể kích hoạt.</p><p id="117">Nhìn theo cách này, việc kích hoạt ma thuật cũng giống như việc chỉ huy một dàn nhạc.</p><p id="118">Bởi lẽ, cũng như một nhạc trưởng không thể chỉ đơn thuần thuộc lòng bản nhạc, một phù thủy cũng cần sự chỉ huy và điều chỉnh xuất sắc để thi triển ma thuật thành công.</p><p id="119">Tóm lại, thứ mà Siwoo đã dốc lòng ba năm trời để viết ra trên giấy chính là bản phác thảo của pháp trận mở cánh cổng.</p><p id="120">Y dự định sau khi hoàn tất mọi tính toán, thử nghiệm phân mảnh và lên ý tưởng ở đây, y sẽ nối tất cả truyền ma chỉ lại với nhau để hoàn thành một thuật thức khổng lồ.</p><p id="121">Odile và Odette ngồi cạnh nhau, với vẻ mặt nghiêm túc lật xem bản phác thảo pháp trận của Siwoo.</p><p id="122">Khoảng ba phút trôi qua?</p><p id="123">Bàn tay của Odile, người đang lật giấy với tốc độ khiến người ta tự hỏi liệu nàng có đọc thật hay không, chợt khựng lại.</p><p id="124">““Không thể nào....””</p><p id="125">Siwoo, người đang lo lắng không yên rằng pháp trận mà y dày công tự mình tạo ra thực chất chỉ là một thứ thô thiển, cúi đầu nhìn vào trang giấy mà cặp song sinh đang xem.</p><p id="126">Đó là phần công thức tính toán để phân bổ Dịch ma lực thành lượng ma lực phù hợp nhằm kích hoạt pháp trận trong trạng thái không có Ấn ký, ngay sau khi phần đề cương vừa được hoàn thành.</p><p id="127">“Có vấn đề gì sao?”</p><p id="128">Thay cho Odile đang mím chặt môi và nhíu mày, Odette trả lời.</p><p id="129">“Thứ này thực sự là do anh viết ra sao?”</p><p id="130">“Vâng.”</p><p id="131">“Không có sự giúp đỡ hay chỉnh sửa của bất kỳ ai?”</p><p id="132">“Vâng.”</p><p id="133">“Một mình tự làm mà không có ai dạy ma thuật?”</p><p id="134">“Đúng vậy.”</p><p id="135">Sau cuộc đối đáp, Odette thở ra một hơi ngắn.</p><p id="136">Mặc cho Siwoo không hiểu chuyện gì đang xảy ra, cặp song sinh lại chìm vào suy tư.</p><p id="137">“Này, nó tệ đến mức đó sao?”</p><p id="138">Siwoo cảm thấy bất an.</p><p id="139">Pháp trận mở ‘cánh cổng’ mà y đã dốc lòng kiến tạo là một thuật thức biến đổi, được cấu thành từ sáu phép luyện thành, n phép biến hóa (thay đổi linh động theo các biến số), cùng một phép triển khai.</p><p id="140">540 trong số 34 loại cổ tự rune được sử dụng làm các phần tử ma lực, và khoảng 258 ‘nhánh’ được dùng để kết nối các pháp trận với nhau, nhằm đạt được sự ổn định cao và khả năng thích ứng linh hoạt với các biến số.</p><p id="141">Vì không thể liên tục thử nghiệm và tạo ra một pháp trận quy mô lớn như vậy, y đã chia nó thành 88 phần, viết lên truyền ma chỉ và kích hoạt từng phần để kiểm tra lỗi.</p><p id="142">Lúc đó mọi thứ đều ổn thỏa.</p><p id="143">Lẽ nào khi kết hợp lại đã xảy ra một vấn đề chí mạng?</p><p id="144">Tim y đập thình thịch vì sợ rằng mình sẽ nghe được câu trả lời rằng nỗ lực suốt ba năm qua về cơ bản là công cốc.</p><p id="145">“Không thể hiểu nổi. Làm sao lại ra được công thức này? Cứ như đã lược bỏ ba bước tính toán vậy...”</p><p id="146">“Xin lỗi... nếu không phiền, hai người có thể cho tôi biết vấn đề là gì trước được không?”</p><p id="147">Odile ngước lên nhìn Siwoo với ánh mắt như không thể tin nổi.</p><p id="148">“Vấn đề?”</p><p id="149">Siwoo nuốt khan.</p><p id="150">“Vấn đề là việc một trợ giảng nam nhân như anh, không có Ấn ký, lại đang dần hoàn thiện một ma thuật tự thân chăng?”</p><p id="151">“Sao lại?”</p><p id="152"><em>Ma thuật tự thân từ đâu ra thế?</em></p><p id="153">“Nó độc đáo và mới lạ. Một cách tiếp cận thoát ly khỏi hệ thống hiện có. Ta nói thật nhé? Ta không thể hiểu nổi dù chỉ một nửa. Odette cũng vậy.”</p><p id="154">“Không phải đâu? Em đã hiểu được khoảng 55% rồi.”</p><p id="155">Lời phản bác của Odette bên cạnh cũng không lọt vào tai y.</p><p id="156">“Về mặt cấu trúc, nó hoàn hảo. Việc sắp xếp các cổ tự rune cũng đúng đắn. Phải rồi, anh hỏi vấn đề là gì đúng không? Vấn đề lớn nhất là không có cách nào để tính toán và kiểm chứng điều này. Bởi vì đây là ma thuật tự thân đầu tiên do chính anh tạo ra.”</p><p id="157">Odile lắc đầu quầy quậy, như thể vô cùng bối rối, như thể không thể tin vào những gì mắt mình đang thấy, rồi quả quyết.</p><p id="158">“Trợ giảng, anh là một thiên tài. Một thiên tài đến mức phi lý.”</p><p id="159">“Nhưng chắc chắn không bằng chúng ta đâu.”</p><p id="160">Odette nói thêm.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24548-thanh-pho-phu-thuy/c289451-13-song-sinh-phu-thuy-7" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24548-thanh-pho-phu-thuy" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24548-thanh-pho-phu-thuy/c289659-15-tai-nang-2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(11)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">11 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3170360"
    class="ln-comment-item mt-3 clear"
    data-comment="3170360" 
    data-parent="3170360" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u164982-9bc39b4a-5d54-4d66-9ad8-76c654613e4f.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/164982">Chilamotreaderquaduong</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Giỏi toán là 1 lợi thế
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3170360#ln-comment-3170360"
                            class="text-slate-500">
                            <time class="timeago" title="19-01-2026 15:00:34"
                                datetime="2026-01-19T15:00:34+07:00">
                                19-01-2026 15:00:34
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3161129"
    class="ln-comment-item mt-3 clear"
    data-comment="3161129" 
    data-parent="3161129" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua137380-221f8b85-9292-4b69-a727-2b6665c28b21.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/137380">VAKiet</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161129#ln-comment-3161129"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:56:34"
                                datetime="2026-01-12T23:56:34+07:00">
                                12-01-2026 23:56:34
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3161118"
    class="ln-comment-item mt-3 clear"
    data-comment="3161118" 
    data-parent="3161118" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u33638-acbf3401-40ca-443e-b33a-1ec886a59f59.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/33638">&lt;button&gt;AltF4&lt;/button&gt;</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
                <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#e3953e]/50 dark:bg-[#9c662a]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#9c662a] dark:text-[#ecd8c2]">
                <img class="my-auto h-[14px]" src="/img/badge/cvter2.png" />
                <div class="leading-4">AI MASTER</div>
            </div>
        </div>
    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        vậy chúng ta có thể vẽ ra ma thuật nuke bằng toán học?
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161118#ln-comment-3161118"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:49:04"
                                datetime="2026-01-12T23:49:04+07:00">
                                12-01-2026 23:49:04
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3161074"
    class="ln-comment-item mt-3 clear"
    data-comment="3161074" 
    data-parent="3161074" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/169648">Agent Ace</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Chinh phục thế giới phù thủy bằng các con số và Khoa Học Tự Nhiên 🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161074#ln-comment-3161074"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:26:41"
                                datetime="2026-01-12T23:26:41+07:00">
                                12-01-2026 23:26:41
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

        <div class="ln-comment-reply">
            <div id="ln-comment-3161087"
    class="ln-comment-item mt-3 clear"
    data-comment="3161087" 
    data-parent="3161074" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/164761">LMAU</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        thiếu yếu tố quan trọng nhất rồi cây hàng của anh main thì lại không kể ra kìa 🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161074&amp;reply_id=3161087#ln-comment-3161087"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:31:51"
                                datetime="2026-01-12T23:31:51+07:00">
                                12-01-2026 23:31:51
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
            <div id="ln-comment-3161165"
    class="ln-comment-item mt-3 clear"
    data-comment="3161165" 
    data-parent="3161074" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/169648">Agent Ace</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        <a href="/thanh-vien/164761">@LMAU:</a> cái đó là thánh kiếm chứ hàng họ gì ở đây🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161074&amp;reply_id=3161165#ln-comment-3161165"
                            class="text-slate-500">
                            <time class="timeago" title="13-01-2026 00:22:40"
                                datetime="2026-01-13T00:22:40+07:00">
                                13-01-2026 00:22:40
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
    
                <div class="fetch_reply" data-parent="3161074">
            Xem thêm 2 trả lời <i class="fas fa-chevron-down" style="margin-left: 4px;"></i>
        </div>
        <img class="loading" src="/img/loading.svg" style="width: auto; height: 15px; margin-left: 10px; display: none">
                
    </div>
    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3161072"
    class="ln-comment-item mt-3 clear"
    data-comment="3161072" 
    data-parent="3161072" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua71697-b3119935-c589-4132-bba1-84f59d6c0e4f.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/71697">2years</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        <strong>Bú tiếp</strong>
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161072#ln-comment-3161072"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:26:10"
                                datetime="2026-01-12T23:26:10+07:00">
                                12-01-2026 23:26:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

        <div class="ln-comment-reply">
            <div id="ln-comment-3161377"
    class="ln-comment-item mt-3 clear"
    data-comment="3161377" 
    data-parent="3161072" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u217516-71ad82f9-2b7c-4215-84af-f56ebdcf28eb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/217516">T Đ Anh</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Chill bro 🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161072&amp;reply_id=3161377#ln-comment-3161377"
                            class="text-slate-500">
                            <time class="timeago" title="13-01-2026 08:01:12"
                                datetime="2026-01-13T08:01:12+07:00">
                                13-01-2026 08:01:12
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>
    
                
    </div>
    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3161060"
    class="ln-comment-item mt-3 clear"
    data-comment="3161060" 
    data-parent="3161060" 
    data-type="chapter" 
    data-typeid="289548">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u217516-71ad82f9-2b7c-4215-84af-f56ebdcf28eb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/217516">T Đ Anh</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tfnc
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24548-thanh-pho-phu-thuy/c289548-14-tai-nang-1?comment_id=3161060#ln-comment-3161060"
                            class="text-slate-500">
                            <time class="timeago" title="12-01-2026 23:19:02"
                                datetime="2026-01-12T23:19:02+07:00">
                                12-01-2026 23:19:02
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'h5Optd4IO6Tlu2vJjmWGz0JYMwtUfyaNNnKB2fJL';
        var comment_type = 'chapter';
        var comment_typeid = '289548';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'h5Optd4IO6Tlu2vJjmWGz0JYMwtUfyaNNnKB2fJL';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24548');
    chapter_id = parseInt('289548');

    readingObject = {
        series_id: series_id,
        series_title: 'Thành Phố Phù Thủy',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>



    <div id="mature_modal" class="modal">
    <div class="modal-content animation fade-in-down">
        <div class="modal-header">
            <span class="fs-3" style="color: white">Cảnh báo nội dung</span>
        </div>
        <div class="modal-body">
            <span>Truyện bạn muốn xem có chứa nội dung nhạy cảm, phù hợp với lứa tuổi 18 trở lên. Hãy cân nhắc trước khi tiếp tục.</span>
        </div>
        <div class="modal-footer">
            <button class="button button-red btn_confirm" id="mature_confirm" style="margin-top: 10px;">Tôi hiểu và đồng ý tiếp tục</button>
            <a class="button button-white" class="btn_exit" href="/" style="margin-left: 10px; margin-top: 10px;">Quay lại</a>
        </div>
    </div>
</div>

    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="h5Optd4IO6Tlu2vJjmWGz0JYMwtUfyaNNnKB2fJL" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cb6286738dd98ce',t:'MTc3MDY2OTM3NA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

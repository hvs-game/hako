<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc TS Medic&#039;s Battlefield Diary - Epilogue 4 - Tro Tàn Của Phù Thủy - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Những câu chuyện trong sáng và tích cực là điều hiếm có trong tiểu thuyết này . Một cựu game thủ FPS tái sinh vào một thế giới giả tưởng thấp(low-fantasy) ở Austin, đất nước đã trải qua 10 năm chiến tranh với thân phận mới là trẻ mồ côi...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="GWwawjOJUKmkJ0CXV9WLaHF2CR46ndaGIxBcCszr">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s22509-b5c8fb23-6b9d-411d-9218-101bcd26aedf.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/22509-rise-of-the-ts-medicsw/c237449-epilogue-3-dai-uy-gavel-noi-tieng"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/22509-rise-of-the-ts-medicsw"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/22509-rise-of-the-ts-medicsw/c242955-chuong-202"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy" style="background: url('https://i.hako.vn/ln/series/covers/s22509-b5c8fb23-6b9d-411d-9218-101bcd26aedf.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/22509-rise-of-the-ts-medicsw">TS Medic&#039;s Battlefield Di...</a></h5>
                    <small><i class="fas fa-pen"></i>Masa Kitama</small>
                    <small><i class="fas fa-paint-brush"></i>daichi</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c191992-chuong-01">LN illustration</a></li>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c191850-chuong-120">Arc 7 - Chiến tranh biên giới Flamel</a></li>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c199189-chuong-138">Arc 8 - Kì tích Argalia</a></li>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c212712-chuong-164">Arc 9 - Trận phòng thủ Engei</a></li>
                                        
                                                            <li class="current"><a href="/truyen/22509-rise-of-the-ts-medicsw/t30898-arc-10-chi-huy-ngu-ngoc-nhat-lich-su">Arc 10 - Chỉ huy ngu ngốc nhất lịch sử</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c222063-chuong-184">
                                                                        Chương 183
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c223136-chuong-184">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 184
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c223137-chuong-185">
                                                                        Chương 185
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c223555-chuong-186">
                                                                        Chương 186
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c224250-chuong-186">
                                                                        Chương 187
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c224739-chuong-188">
                                                                        Chương 188
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c225260-chuong-189">
                                                                        Chương 189
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c225844-chuong-190">
                                                                        Chương 190
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c226812-chuong-191">
                                                                        Chương 191
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c227377-chuong-192">
                                                                        Chương 192
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c227818-chuong-193">
                                                                        Chương 193
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c229161-chuong-194">
                                                                        Chương 194
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c230854-chuong-195">
                                                                        Chương 195
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c231368-chuong-197">
                                                                        Chương 196
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c232331-chuong-197">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 197
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c232347-chuong-198">
                                                                        Chương 198
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c233971-chuong-199">
                                                                        Chương 199
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c234004-chuong-200">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 200
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c236128-chuong-201">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 201
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c236769-epilogue-1-ki-thi-nhap-ngu-cua-anna">
                                                                        Epilogue 1 - Kì Thi Nhập Ngũ Của Anna
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c236878-epilogue-2-di-san-cua-sylph">
                                                                        Epilogue 2 - Di Sản Của Sylph
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c237449-epilogue-3-dai-uy-gavel-noi-tieng">
                                                                        Epilogue 3 - Đại Úy Gavel Nổi Tiếng
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy">
                                                                        Epilogue 4 - Tro Tàn Của Phù Thủy
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c242955-chuong-202">EX Arc - Mặt trận Giải phóng Dokupori</a></li>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c248277-chuong-01">Nội dung độc quyền LN</a></li>
                                        
                                                            <li class=""><a href="/truyen/22509-rise-of-the-ts-medicsw/c237901-garback-nguoi-sanh-an-arc-2-interlude-1">Những Interlude và những chương thêm của LN của Arc 1-6</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Arc 10 - Chỉ huy ngu ngốc nhất lịch sử</h2>
                    <h4 class="title-item text-base font-bold" align="center">Epilogue 4 - Tro Tàn Của Phù Thủy</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy#chapter-comments" style="text-decoration: underline">3 Bình luận</a> -
                        Độ dài: 2,518 từ - Cập nhật: 
                        <time class="topic-time timeago" title="21-12-2025 12:40:46" datetime="2025-12-21T12:40:46+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Epilogue 4 - Tro Tàn Của Phù Thủy</p>
                    <p id="1">Chương này diễn ra ngay sau Epilogue 4</p><p id="2">---------------</p><p id="3">“Ôi, Remi-sama… Sao ngài lại phải đi?”</p><p id="4">“Ngài còn quá trẻ. Tại sao…”</p><p id="5">Mùa đông, hai năm sau khi Thế Chiến kết thúc.</p><p id="6">Tôi đã đến Josegrad, thủ đô của Sabbath, để tham dự quốc tang của Remi.</p><p id="7">“Tên của Remi Ulyakov sẽ mãi được khắc ghi trong lịch sử SAbbath. Người phụ nữ vĩ đại đã mang lại hòa bình cho Sabbath sau khi nó bị tàn phá bởi mụ phù thủy Sylph Nova.”</p><p id="8">Thành phố tràn ngập những người thương tiếc cái chết của Remi.</p><p id="9">Cô ấy thực sự được nhân dân yêu quý vô cùng. Tôi thậm chí còn nghe nói có người đã tự tử để đi theo cô ấy.</p><p id="10">“…”</p><p id="11">Thở ra một làn hơi trắng xóa, tôi bước đi trên con phố chính của Josegrad giữa làn tuyết nhẹ rơi.</p><p id="12">Tôi được hôn phu của Sylph, người tôi gặp ở lễ quốc tang, giới thiệu đến cửa hàng đó.</p><p id="13">Hồi ức Vinh quang, Atgórlaski Slávi.</p><p id="14">Đó là một quán bar do Hiệp hội Cựu chiến binh Sabbath điều hành, chỉ phục vụ riêng cho các cựu binh.</p><p id="15">Sau chiến tranh, binh lính khao khát được uống rượu và hồi tưởng về những ngày xưa rực rỡ. Kết quả là, những quán bar chỉ dành cho cựu chiến binh như thế này đã mọc lên khắp nơi trên thế giới.</p><p id="16">Không phải vì bản thân chiến tranh thú vị. Có nhiều người muốn giải tỏa cảm xúc của họ, muốn kể cho ai đó nghe về những người đồng đội mà họ đã mất.</p><p id="17">.</p><p id="18">.</p><p id="19">.</p><p id="20">“Xin phép”</p><p id="21">Tôi tìm thấy địa điểm đó khá dễ dàng. Đó là một tòa nhà gỗ cũ, nhưng vẫn có rất nhiều khách hàng ghé qua dù đang là ban ngày.</p><p id="22">“Chào cô. Nơi này chỉ dành cho quân nhân. Cô có biết không?”</p><p id="23">“Đừng lo. Tôi là cựu binh.”</p><p id="24">“Thật sao? Vậy thì mời ngồi.”</p><p id="25">Tôi được chào đón như thế. Sau khi giải thích rằng tôi là một người lính, tôi được dẫn đến chỗ ngồi.</p><p id="26">…Mặc dù nghiêm túc mà nói thì, tôi là một cựu binh Austin từng chiến đấu cho lực lượng cựu chính phủ Sabbath, chứ không phải là một quân nhân Sabbath.</p><p id="27">“Ông chủ Marcotta, có ở đây không?”</p><p id="28">“Tôi là Marcotta.”</p><p id="29">“Tôi hiểu rồi. Rất hân hạnh được gặp bạn.”</p><p id="30">Tôi trao đổi nhanh với anh bồi bàn rồi ngồi xuống quầy.</p><p id="31">Người mà tôi đang tìm, ông Marcotta, chính là người đã dẫn tôi vào.</p><p id="32">“Cô muốn uống gì?”</p><p id="33">“Rượu vang trắng Vok và một ít nước khoáng.”</p><p id="34">“Ý cô là cô sẽ pha loãng rượu luôn, phải không?”</p><p id="35">“Đúng vậy.”</p><p id="36">Khi đã ngồi vào bàn, phép lịch sự là nên gọi món luôn.</p><p id="37">Khi tôi gọi Vok và nước để tránh bị say, anh ta nhìn tôi với vẻ khó hiểu.</p><p id="38">“Tôi chỉ linh cảm thôi, nhưng… cô đến từ Austin à?”</p><p id="39">“Vâng, đúng vậy. Anh biết được qua giọng của tôi à?”</p><p id="40">“Không. Bất cứ ai pha loãng Vok chắc chắn không thể là người Sabbath.”</p><p id="41">“Cũng hợp lý.”</p><p id="42">Chỉ cần gọi thêm nước thôi cũng đủ họ biết tôi tôi là người Austin. Văn hóa nhậu nhẹt ở đất nước này vẫn nồng nhiệt như xưa.</p><p id="43">“À? Một tên Aust đến đây à?! Cô tưởng cô được chào đón ở đây sao?!”</p><p id="44">“Cái gì thế này? Đừng tự mãn! Muốn tao đấm vỡ mặt mày không?!”</p><p id="45">Những lời chế giễu vang lên từ khắp mọi nơi ngay khi nguồn gốc của tôi bị lộ.</p><p id="46">Mặc dù chúng tôi đáng lẽ là đồng minh, nhưng dường như vẫn có khá nhiều người không ưa chúng tôi.</p><p id="47">“Này các anh, im lặng nào. Dù là Aust hay gì đi nữa, ai trả tiền cũng là khách hàng. Tôi sẽ không dung thứ cho bất kỳ hành vi gây rối nào.”</p><p id="48">“Nhưng, Marcotta—”</p><p id="49">“Quan trọng hơn, có chuyện gì? Cô tìm tôi có việc, phải không?”</p><p id="50">“Đúng.”</p><p id="51">Ngay lúc tôi đang phân vân không biết phải làm gì nếu xảy ra xô xát, ông Marcotta đã can thiệp để giúp đỡ.</p><p id="52">Ở tuổi này, tôi thực sự không muốn bị đánh tơi tả.</p><p id="53">“Tôi muốn anh cho tôi biết Phù thủy Chiến hào, Sylph Nova, được chôn cất ở đâu.”</p><p id="54">“…À?”</p><p id="55">Vừa nhấp ngụm rượu Vok pha loãng, tôi vừa hỏi ông chủ điều tôi cần.</p><p id="56">Thi hài của chỉ huy ngu ngốc nhất lịch sử được chôn cất ở đâu?</p><p id="57">“Ông biết mà nhỉ, ông Marcotta? Tôi nghe nói ông có tham gia vào việc chôn cất.”</p><p id="58">“Tại sao tôi lại phải nói cho cô biết?”</p><p id="59">“Đổi lại, tôi sẽ kể cho anh nghe về những giây phút cuối cùng của Sylph.”</p><p id="60">Hiện tại, nơi Sylph được chôn cất vẫn chưa được công khai. Chính Remi là người ra lệnh không tiết lộ cả phương pháp lẫn địa điểm chôn cất.</p><p id="61">“Làm sao cô biết về thời khắc của Sylph Nova?”</p><p id="62">“Vì tôi đứng ngay trước mặt cô ta khi cô ta chết.”</p><p id="63">“Tại sao cô lại hăng hái tìm mộ của Sylph đến vậy?”</p><p id="64">“Tôi chỉ muốn trút hết mọi bực tức mà tôi có thể nghĩ ra.”</p><p id="65">Nguyên nhân là để ngăn chặn việc mộ của Sylph trở thành một “địa điểm linh thiêng”.</p><p id="66">Vẫn còn những người, những thành viên của cựu lực lượng chính phủ, đã đi theo Sylph đến tận cùng và tiếp tục thần thánh hóa cô ta.</p><p id="67">Đối với họ, ngôi mộ của Sylph hoàn toàn có thể trở thành vùng đất linh thiêng.</p><p id="68">Ở Sabbath, theo truyền thống, những kẻ “không được ưa chuộng” sẽ bị xử lý theo cách không để lại dấu vết.</p><p id="69">“Anh không muốn biết về những giây phút cuối cùng của Sylph sao?”</p><p id="70">“Đó là nếu cô nói thật.”</p><p id="71">“Anh phải nghe mới biết được chứ.”</p><p id="72">“…Đúng vậy.”</p><p id="73">Tuy nhiên, nếu anh ta không nói cho tôi biết, thì tôi thực sự không thể làm gì được.</p><p id="74">Nếu có thể, tôi muốn đến thăm mộ Sylph ít nhất một lần. Với tư cách là kẻ thù không đội trời chung cũng như là bạn bè.</p><p id="75">“Tôi là Đại úy Marcotta. Tôi đã phục vụ trong Quân đội Sabbath hơn mười năm. Một cựu Ace.”</p><p id="76">“Vâng, nghe danh đã lâu.”</p><p id="77">“Khi chạy qua các chiến hào, số lính Aust tôi đã hạ nhiều không đếm xuể.”</p><p id="78">Sau khi nghiêm túc lắng nghe câu hỏi của tôi, ông Marcotta đột nhiên bắt đầu kể lại câu chuyện đời ông.</p><p id="79">“Tôi cứ chất xác Aust thành núi. Thậm chí họ còn gọi tôi là Song Thương. Hồi đó tôi ngầu lắm.”</p><p id="80">“…Tôi hiểu rồi.”</p><p id="81">“Thế nên, tôi biết chắc.”</p><p id="82">Lại cái gì thế này? Chẳng lẽ ông ta quyết định khoe khoang chiến tích chiến tranh của mình với một tên Aust không?</p><p id="83">Nghĩ theo hướng đó, tôi thờ ơ gật đầu.</p><p id="84">“Cô cũng là một Ace, phải không cô?”</p><p id="85">“…Ừm.”</p><p id="86">“Một Ace đã gây ra vô số thương vong cho quân Sabbath và giết hại bao đồng bào của chúng tôi. Đó là cảm giác tôi có được.”</p><p id="87">Vừa nói xong, ông Marcotta liếc nhìn tôi với ánh mắt viên đạn. Tôi có thể cảm nhận được một chút ác cảm trong ánh mắt ông ta.</p><p id="88">“Này Marcotta. Cậu thực sự nghĩ con nhóc này là Ace của Aust à?”</p><p id="89">“Haha! Vậy thì sao, nhóc? Cô có phải là Ace không?”</p><p id="90">“Tôi phải phủ nhận.”</p><p id="91">“Ừ, tôi cũng nghĩ vậy!”</p><p id="92">Tôi có linh cảm rõ rệt rằng mình sẽ bị giết nếu thừa nhận điều đó, vì vậy tôi đã cười và phủ nhận.</p><p id="93">Dù vậy, ông Marcotta vẫn nhìn tôi đầy nghi ngờ mà không nói một lời.</p><p id="94">…Tôi nghĩ mình nên giải thích cho chắc ăn.</p><p id="95">“Tôi chủ yếu chiến đấu ở tiền tuyến sau khi cuộc chiến với Flamel và Aerys bắt đầu. Trong Chiến tranh Đông-Tây, tôi là một quân y và thậm chí không được phép cầm súng.”</p><p id="96">“Ừm.”</p><p id="97">“Những thi thể tôi do tôi giết chủ yếu là của lực lượng Đồng minh. Như vậy đã làm anh hài lòng chưa?”</p><p id="98">“Ừm…”</p><p id="99">Thực tế, chỉ sau Trận Argalia tôi mới trở thành chỉ huy bộ binh.</p><p id="100">Trước đó tôi từng tham gia chiến đấu, nhưng với tư cách là một binh sĩ cấp thấp.</p><p id="101">“Tôi hiểu rồi. Vậy là cô không phủ nhận hoàn toàn việc cô là một Ace.”</p><p id="102">“Tôi không thể kiểm soát được cách người khác gọi tôi.”</p><p id="103">“Đừng đánh giá thấp bản thân. Tuy nhiên… với độ tuổi của cô, việc cô hầu như không tham gia chiến đấu trong cuộc chiến Đông-Tây cũng là dễ hiểu.”</p><p id="104">Tôi chỉ chiến đấu chống lại Sabbath trong một năm duy nhất, dưới sự chỉ huy của Trung đội trưởng Garback.</p><p id="105">Hồi đó, tôi chẳng phải là một Ace hay gì cả, chỉ là một tân binh thậm chí còn không được tin tưởng giao cho khẩu súng trường.</p><p id="106">“Được rồi. Tôi tin cô. Giờ thì kể cho tôi nghe. Mụ phù thủy đáng ghét đó đã chết như thế nào?”</p><p id="107">“Được.”</p><p id="108">Ông Marcotta có vẻ đã bị thuyết phục bởi lời giải thích của tôi.</p><p id="109">“Này Marcotta, thật đấy à? Con nhóc này thực sự là một Ace sao?”</p><p id="110">“Đúng vậy. Ít nhất thì trực giác của tôi mách bảo như thế.”</p><p id="111">Trong khi những khách hàng khác tỏ ra nghi ngờ về quá khứ của tôi, chỉ có ông Marcotta là chắc chắn.</p><p id="112">…Có lẽ chính trực giác nhạy bén đã giúp ông sống sót qua chiến tranh.</p><p id="113">“Vậy thì, tôi xin phép bắt đầu.”</p><p id="114">“Tôi nghe đây.”</p><p id="115">Và thế là, dưới ánh nhìn của mọi người trong quán bar, tôi bắt đầu kể lại những giây phút cuối cùng của người phụ nữ bị ghét nhất ở Sabbath.</p><p id="116">.</p><p id="117">.</p><p id="118">.</p><p id="119">Những giây phút cuối cùng của Sylph kết thúc với việc cô tự tử.</p><p id="120">Nhận ra không còn cơ hội chiến thắng, cô ta mỉm cười rồi tự bắn vào đầu.</p><p id="121">Đó là cách tôi kết thúc câu chuyện về cái chết của cô ấy.</p><p id="122">“Josegrad thực sự vẫn không thay đổi.”</p><p id="123">Tôi đã giấu kín ý định thực sự đằng sau hành động của cô ta: sự phản bội lực lượng Đồng minh và ác tâm của Bern.</p><p id="124">Sylph tự nguyện chọn trở thành Chỉ Huy Ngu Ngốc Nhất Lịch Sử để Sabbath được hưởng hòa bình.</p><p id="125">Tôi không hề có ý định để tình cảm nhỏ nhoi, cá nhân của tôi phá vỡ hòa bình mà cô mang lại.</p><p id="126">“Công trình đã được sửa chữa, nhưng khung cảnh phủ đầy tuyết vẫn không thay đổi.”</p><p id="127">Phản ứng của khách hàng khi nghe về những giây phút cuối cùng của Sylph rất khác nhau.</p><p id="128">Một số người phàn nàn rằng họ muốn cô ấy phải chịu đau khổ nhiều hơn, và hỏi tại sao cô ấy lại có thời gian để tự tử.</p><p id="129">Những người khác thì chế giễu, nói rằng không thể nào cô ta chết với nụ cười trên môi.</p><p id="130">“Sylph… Có quá nhiều điều tôi muốn trút lên cô.”</p><p id="131">Nhưng ông Marcotta làm chứng rằng lời kể của tôi trùng khớp với tình trạng thi thể mà ông đã nhìn thấy trước đó.</p><p id="132">…Không còn nghi ngờ gì nữa, Sylph mà ông nhìn thấy quả thật đã mỉm cười.</p><p id="133">“Tại sao cô lại giết Rodri? Tại sao cô lại đứng về lực lượng cựu chính phủ? Tại sao cô lại hợp tác với lực lượng Đồng minh? Nếu chỉ khác một điều thôi, có lẽ đã có một tương lai mà chúng ta có thể sát cánh bên nhau.”</p><p id="134">Đã khoảng năm năm kể từ cuộc Cách mạng Sabbath, khi tôi chiến đấu dưới sự chỉ huy của Sylph Nova.</p><p id="135">Những trận chiến khốc liệt đó, dưới sự chỉ huy của chiến lược gia thiên tài Sylph Nova, đã in sâu vào ký ức tôi.</p><p id="136">“Giá như cô chưa từng được sinh ra. Từ khi tham chiến, không một ngày nào tôi không nghĩ như vậy.”</p><p id="137">Con phố chính của Josegrad ngổn ngang xác của thường dân.</p><p id="138">Nếu đá vào tuyết, sẽ vấp phải một xác chết. Giẫm lên tuyết, bạn sẽ trượt ngã trên máu và mỡ.</p><p id="139">Tôi không bao giờ muốn trải qua chuyện như vậy lần nữa.</p><p id="140">“Nhưng Sylph à, Sabbath mến yêu của cô đã được tái thiết đẹp đẽ đến thế này rồi.”</p><p id="141">Đứng trên bờ sông Volga đóng băng, dòng sông chảy từ bắc xuống nam qua Josegrad, tôi trò chuyện như thể đang tâm sự với một người bạn cũ.</p><p id="142">“Chiến tranh đã kết thúc. Ngày này cuối cùng cũng đã đến, ngày mà mọi người có thể sống vui vẻ, không còn sợ hãi trước đạn dược cũng đã đến.”</p><p id="143">Sông Volga là huyết mạch của người dân Josegrad.</p><p id="144">Nơi đây nổi tiếng với loài cá nước ngọt, và mọi người còn thích trượt băng trên những đoạn sông lớn.</p><p id="145">“Đây chính là khung cảnh mà cô luôn luôn, luôn luôn muốn được thấy.”</p><p id="146">Kẻ thù không đội trời chung của tôi, và là đối thủ nguy hiểm nhất mà tôi từng đối mặt: cô gái tên Sylph Nova.</p><p id="147">Theo lời ông Marcotta, thi thể của cô đã được giao cho Sabbath và hỏa táng ngay lập tức.</p><p id="148">Tro cốt của cô sau đó được rải xuống sông Volga, và rồi lan rộng khắp Josegrad.</p><p id="149">“Sylph, cô cũng nhìn rõ chứ?”</p><p id="150">Chắc hẳn Remi rất căm thù Sylph.</p><p id="151">Theo quan điểm chung về sự sống và cái chết của Sabbath, người ta cho rằng con người chỉ được lên thiên đường sau khi đã được chôn cất.</p><p id="152">Nói cách khác, việc không chôn cất người chết mà rải tro cốt của họ xuống sông là một hình phạt đặc biệt nghiêm khắc.</p><p id="153">Điều đó chứng tỏ Sylph bị khinh ghét đến mức nào.</p><p id="154">“Sylph… Nếu tôi gặp cô sau chiến tranh, chúng ta sẽ có mối quan hệ như thế nào?”</p><p id="155">Tuy nhiên, tôi cũng không thể không nghĩ đến điều này.</p><p id="156">Tôi nghĩ rằng nếu là Sylph, cô ấy sẽ cười và nói, ‘Tôi không thể đòi hỏi gì hơn nữa,’ ngay cả khi tro cốt của cô ấy bị rải xuống sông.</p><p id="157">Cô yêu Sabbath đến nỗi sẵn sàng hy sinh cả mạng sống vì quê hương.</p><p id="158">Để cho thân xác kiệt sức của cô được an nghỉ trên mảnh đất quê hương mà cô yêu quý…</p><p id="159">Chắc chắn Sylph sẽ thích nó hơn là được chôn cất cẩn thận ở Austin.</p><p id="160">“Lạ thật. Hồi đó, tôi muốn giết cô hơn bất kì ai khác.”</p><p id="161">Một lớp băng mỏng đã hình thành trên sông, và tuyết bột đang tan chảy vào nước.</p><p id="162">Chắc chắn, tro cốt của cô đang yên nghỉ dưới lòng sông.</p><p id="163">“Giờ cô đã đi rồi, tôi không thể không muốn gặp cô thêm một lần nữa.”</p><p id="164">Nghĩ về cô ấy, người có cuộc đời mãnh mẽ, khó quên mà tôi sẽ không bao giờ được chứng kiến nữa…</p><p id="165">Tôi lặng lẽ dành một phút mặc niệm.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/22509-rise-of-the-ts-medicsw/c237449-epilogue-3-dai-uy-gavel-noi-tieng" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/22509-rise-of-the-ts-medicsw" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/22509-rise-of-the-ts-medicsw/c242955-chuong-202" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(3)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">3 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3132864"
    class="ln-comment-item mt-3 clear"
    data-comment="3132864" 
    data-parent="3132864" 
    data-type="chapter" 
    data-typeid="276385">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua70513-278cd482-43b9-481e-9efc-84bf4acbc4cb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/70513">Charlotte Zalki</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Thiết giáp hạm của tôi😢😢
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy?comment_id=3132864#ln-comment-3132864"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 15:01:20"
                                datetime="2025-12-21T15:01:20+07:00">
                                21-12-2025 15:01:20
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3132840"
    class="ln-comment-item mt-3 clear"
    data-comment="3132840" 
    data-parent="3132840" 
    data-type="chapter" 
    data-typeid="276385">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/200159">Thanks nhóm dịch</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        cảm xúc lẫn lộn phết
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy?comment_id=3132840#ln-comment-3132840"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 14:36:08"
                                datetime="2025-12-21T14:36:08+07:00">
                                21-12-2025 14:36:08
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3132738"
    class="ln-comment-item mt-3 clear"
    data-comment="3132738" 
    data-parent="3132738" 
    data-type="chapter" 
    data-typeid="276385">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u182395-7e89356f-b605-407c-a0d1-b5d448f33c16.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/182395">T2049</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Touri:mối quan hệ giữa chúng ta là gì
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/22509-rise-of-the-ts-medicsw/c276385-epilogue-4-tro-tan-cua-phu-thuy?comment_id=3132738#ln-comment-3132738"
                            class="text-slate-500">
                            <time class="timeago" title="21-12-2025 13:00:53"
                                datetime="2025-12-21T13:00:53+07:00">
                                21-12-2025 13:00:53
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'GWwawjOJUKmkJ0CXV9WLaHF2CR46ndaGIxBcCszr';
        var comment_type = 'chapter';
        var comment_typeid = '276385';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'GWwawjOJUKmkJ0CXV9WLaHF2CR46ndaGIxBcCszr';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('22509');
    chapter_id = parseInt('276385');

    readingObject = {
        series_id: series_id,
        series_title: 'TS Medic&#039;s Battlefield Diary',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="GWwawjOJUKmkJ0CXV9WLaHF2CR46ndaGIxBcCszr" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

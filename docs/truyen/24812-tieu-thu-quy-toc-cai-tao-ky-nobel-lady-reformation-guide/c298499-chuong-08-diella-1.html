<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tiểu thư quý tộc cải tạo ký - Nobel Lady Reformation Guide - Chương 08 : Diella (1) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Để miêu tả những tiểu thư quý tộc trẻ tuổi, họ hoặc là cực kỳ thô lỗ, hoặc là chẳng có chút nếp nhăn nào trong đầu. Nhưng mà, ngay cả khi những lời đồn đại như vậy đã truyền xa, vẫn có một chàng trai trẻ sẵn sàng đi...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="vLPh81dPlSWMEfCgjXsjmycEDgjik1OLiMbKr2J7">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298499-chuong-08-diella-1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24812-c103f459-f5b6-4c89-b85e-4951915fff04.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297909-chuong-07-duplain-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298500-chuong-09-diella-2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298499-chuong-08-diella-1" style="background: url('https://i.hako.vn/ln/series/covers/s24812-c103f459-f5b6-4c89-b85e-4951915fff04.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide">Tiểu thư quý tộc cải tạo...</a></h5>
                    <small><i class="fas fa-pen"></i>Corita (코리타)</small>
                    <small><i class="fas fa-paint-brush"></i>Shin Hee-bin (신희빈) / Team Pink Shark</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/t36070-tap-01">Tập 01</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297857-chuong-01-dereck-1">
                                                                        Chương 01 : Dereck (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297858-chuong-02-dereck-2">
                                                                        Chương 02 : Dereck (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297859-chuong-03-dereck-3">
                                                                        Chương 03 : Dereck (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297890-chuong-04-duplain-1">
                                                                        Chương 04 : Duplain (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297900-chuong-05-duplain-2">
                                                                        Chương 05 : Duplain (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297901-chuong-06-duplain-3">
                                                                        Chương 06 : Duplain (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297909-chuong-07-duplain-4">
                                                                        Chương 07 : Duplain (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298499-chuong-08-diella-1">
                                                                        Chương 08 : Diella (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298500-chuong-09-diella-2">
                                                                        Chương 09 : Diella (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298501-chuong-10-diella-3">
                                                                        Chương 10 : Diella (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 01</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 08 : Diella (1)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298499-chuong-08-diella-1#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,498 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-01-2026 15:43:56" datetime="2026-01-28T15:43:56+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 08 : Diella (1)</p>
                    <p id="1">“Rốt cuộc thì, dạy dỗ một người… có ý nghĩa gì vậy, thưa sư phụ?”</p><p id="2">Khi đang mải mê nghiên cứu ma pháp, Dereck đã hỏi Katia câu đó.</p><p id="3">Hai người đang ở trong xe ngựa, trên đường trở về sau một nhiệm vụ tiêu diệt quái vật gần biên giới.</p><p id="4">Dereck bị thương, còn Katia thì đang xử lý vết thương cho cậu, cẩn thận băng bó.</p><p id="5">“Sao đột nhiên con lại hỏi vậy?”</p><p id="6">“…Chỉ là tò mò thôi.”</p><p id="7">Từ nhỏ đã lăn lộn trong thế giới lính đánh thuê, Dereck thường xuyên chứng kiến những kẻ chiến đấu dưới danh nghĩa quan hệ sư đồ.</p><p id="8">Cậu thấy thật khó hiểu khi những người có tính khí thô bạo, tàn nhẫn đến vậy lại có thể tỏ ra cung kính tuyệt đối trước mặt sư phụ của mình.</p><p id="9">Chính điều đó đã khơi dậy sự tò mò trong hắn.</p><p id="10">“Con từng thấy những kẻ sẵn sàng đâm sau lưng người khác hay gào thét với người lạ, vậy mà trước mặt sư phụ thì lại hoàn toàn kìm nén bản tính của mình. Ừm… Có lẽ vì sư phụ Katia khá mạnh, nhưng đó là cách dạy dỗ người khác sao?”</p><p id="11">“Sẽ là vấn đề nếu cho rằng mọi thứ trong thế giới lính đánh thuê khắc nghiệt đều áp dụng được ở đây. Không phải mọi mối quan hệ sư đồ đều như thế.”</p><p id="12">Katia nhẹ nhàng nói, vừa quấn băng quanh cánh tay Dereck.</p><p id="13">“Còn con, Dereck, con là kiểu học trò tương đối dễ dạy. Con có thiên phú ma pháp xuất sắc, tiếp thu nhanh, lại luôn hợp tác.”</p><p id="14">“Chẳng phải nếu muốn học tập thì việc hợp tác là chuyện hiển nhiên sao?”</p><p id="15">“Trong điều kiện lý tưởng thì là vậy. Nhưng thế giới này đâu phải lúc nào cũng vận hành theo ý muốn của chúng ta, đúng không? Có những kẻ căm ghét sư phụ của mình, nghiến răng chịu đựng, chỉ chực chờ một cái cớ để bùng nổ.”</p><p id="16">Dereck xoa cằm, trầm ngâm.</p><p id="17">Nếu một đệ tử luôn nhe nanh với sư phụ của mình, liệu còn có thể gọi là đệ tử không? Và liệu có cần thiết phải dạy dỗ những người như vậy?</p><p id="18">Nhưng đúng như Katia nói, thế giới không phải lúc nào cũng đi theo con đường lý tưởng.</p><p id="19">“Vậy nếu phải dạy một học trò phản nghịch và vô ơn như vậy, người sẽ làm gì, sư phụ?”</p><p id="20">“Ta sẽ cố gắng thấu hiểu họ đến cùng, bao dung họ, và dẫn dắt họ.”</p><p id="21">“…Nghe lý tưởng quá mức rồi.”</p><p id="22">“...Ừ, con nói đúng. Nhưng suy cho cùng, bản chất của việc dạy dỗ chính là dẫn học trò đi trên một con đường tốt hơn, ôm lấy họ và dẫn đường cho họ.”</p><p id="23">Giọng nói của bà rất nhẹ nhàng, như thể đó là điều hiển nhiên.</p><p id="24">“Nếu con cảm thấy không thể giao tiếp bằng sự thấu hiểu và cảm thông, vậy thì còn hãy đi tìm một điểm khởi đầu khác. Nhưng tuyệt đối không được quên đi bản chất ấy.”</p><p id="25">“Điểm khởi đầu khác? Ý của người là gì?”</p><p id="26">Katia vẫn tiếp tục băng bó trong im lặng, ánh mắt cúi xuống.</p><p id="27">“Gieo rắc nỗi sợ hãi.”</p><p id="28">Dereck lặng lẽ khép miệng lại.</p><p id="29">“Có những lúc…chúng ta phải bắt đầu từ đó.”</p><p id="30">*****</p><p id="31">“Hãy học cách đối xử với người khác bằng sự tôn trọng và chừng mực.”</p><p id="32">Giọng nói lạnh lẽo của Dereck vang lên trong căn phòng tĩnh lặng.</p><p id="33">Giữa căn phòng của Tiểu thư Diella đang bừa bộn, sặc mùi nước bẩn, Dereck lại cất tiếng trong sự im lặng ngột ngạt.</p><p id="34">“Đứng lên.”</p><p id="35">Tiểu thư Diella, đôi mắt run rẩy, nhìn chằm chằm vào Dereck rồi, theo mệnh lệnh của cậu, chậm rãi đứng dậy.</p><p id="36">Sau đó, cô từng bước tiến lại gần Dereck, giơ tay lên và tát thẳng vào mặt hắn.</p><p id="37">Bốp!</p><p id="38">Đầu Dereck lệch sang một bên.</p><p id="39">Diella thở dốc, giọng nói cháy lên vì phẫn nộ.</p><p id="40">“Ngươi… nghĩ mình là ai chứ…? Ngươi…”</p><p id="41">Bốp!</p><p id="42">Chưa kịp nói hết câu, tay Dereck đã vung lên thêm một lần nữa.</p><p id="43">Lần này, đầu Diella bị đánh lệch sang hướng ngược lại. Đồng tử cô giãn ra đến cực hạn.</p><p id="44">Dereck nhìn cô, nét mặt không hề thay đổi. Đôi mắt đỏ của cậu chỉ chăm chú vào Diella.</p><p id="45">Cô lớn lên như một đóa hoa trong nhà kính, còn cậu là cỏ dại mọc ven đường.</p><p id="46">Ngay khoảnh khắc cả hai cảm nhận được vực sâu giữa họ, một cảm xúc chưa từng trải qua tràn ngập tâm trí cô.</p><p id="47">Đó là nỗi sợ — nỗi sợ đối với điều chưa biết.</p><p id="48">“Tôi đã nói rồi. Khi đối xử với người khác, cô phải biết chừng mực và tôn trọng.”</p><p id="49">“Im miệng đi!”</p><p id="50">Diella dùng đôi tay nhỏ bé của mình túm lấy cổ áo Dereck.</p><p id="51">Nhưng vô ích.</p><p id="52">Dù cô có lặp lại bao nhiêu lời cay độc, Dereck vẫn không hề lay chuyển.</p><p id="53">“Chuyện gì đang xảy ra vậy? Tại sao không ai ngăn hắn ta lại?!”</p><p id="54">Nghe thấy náo động, quản gia Delron lập tức chen qua các hầu cận và lao vào phòng.</p><p id="55">Vị quản gia già, mặt tái đi vì hoảng hốt, quát mắng đám hầu gái đang sững sờ rồi nhanh chóng đứng chắn giữa Dereck và Diella.</p><p id="56">Ông biết mặt Dereck. Chính là người đi cùng nhóm lính đánh thuê, được Tiểu thư Aiselin đưa đến để làm gia sư.</p><p id="57">“Dừng lại ở đây thôi. Nếu tiếp tục thi chuyện này sẽ cực kỳ nguy hiểm.”</p><p id="58">Nguy hiểm.</p><p id="59">Từ này giống như lời cảnh cáo dành cho Dereck hơn là cho Diella.</p><p id="60">Một thường dân dám ra tay với con gái của đại công tước, đó là một trọng tội đủ để bị xử phạt bằng cách chặt tay chân không chút do dự.</p><p id="61">Nếu dừng lại ở đây, ngươi có thể tàn phế suốt đời, nhưng ít nhất vẫn còn giữ được mạng — Đó chính là điều quản gia Delron muốn nói.</p><p id="62">Thế nhưng, Dereck thản nhiên rút từ trong áo ra một văn kiện có đóng ấn của công tước, rồi ném lên bàn trà.</p><p id="63">Nội dung rất đơn giản.</p><p id="64">“Đại Công tước Duplain đã trao cho ta toàn quyền đối với việc giáo dục Tiểu thư Diella. Nói cách khác, mọi phương pháp mà tôi sử dụng đều đã được ngài Công tước cho phép.”</p><p id="65">“Ngươi… đang nói cái gì vậy?”</p><p id="66">Đó là một văn kiện mà ngay cả quản gia cũng chưa từng thấy. Ông sững sờ.</p><p id="67">Điều đó có nghĩa là nó không được chuyển qua hệ thống quản gia. Đại Công tước Duplain đã trực tiếp viết và giao nó cho Dereck.</p><p id="68">Delron nghi ngờ tính xác thực của nó. Một thường dân có thể đánh quý tộc không chỉ là vấn đề bạo lực hay đạo đức, mà đó là sự thách thức đối với quyền uy của giới quý tộc.</p><p id="69">Nếu chuyện như vậy được cho phép, đó sẽ là nỗi sỉ nhục to lớn đối với cả gia tộc. Quý tộc phải luôn đứng ở vị trí tối cao.</p><p id="70">Làm sao Đại Công tước Duplain, người đứng trên đỉnh quyền lực, lại có thể cho phép chuyện này xảy ra?</p><p id="71">Khi Delron nhìn Dereck với nghi vấn đó, Dereck lên tiếng như thể đã đọc được suy nghĩ của ông.</p><p id="72">“Nhị công tử Leigh đã yêu cầu ông điều tra một chuyện, đúng không?”</p><p id="73">“…!”</p><p id="74">Leigh, người con trai thứ hai của công tước, đã từ bỏ hoàn toàn hy vọng cải thiện Diella.</p><p id="75">Cậu ta đã đổi hướng, dự định đưa cô đến một tu viện ở biên giới. Đó chính là kế hoạch mà cậu đã giao cho quản gia điều tra.</p><p id="76">Đại Công tước Duplain đã bác bỏ đề xuất đó, nhưng trong lòng ông đã mệt mỏi đến cực độ.</p><p id="77">Việc một kế hoạch như vậy được trình lên một cách công khai cho thấy tình hình đã vượt quá giới hạn chịu đựng.</p><p id="78">Không chỉ những hầu gái ở khu nhà phụ, mà ngay cả các gia nhân trong dinh chính cũng kiệt quệ vì những cơn nổi loạn của Diella.</p><p id="79">Với tư cách gia chủ, ông không thể mãi nhắm mắt làm ngơ.</p><p id="80">Vì vậy, quyết định này chính là biện pháp cuối cùng, được đưa ra với trái tim quyết tuyệt của một người cha yêu con.</p><p id="81">Nếu biện pháp cực đoan này vẫn thất bại, thì Diella sẽ bị xem là không thể cứu vãn.</p><p id="82">“...Tiểu thư Diella, tôi xin lỗi. Ngài không còn nhiều cơ hội đâu.”</p><p id="83">Nói ra lời ẩn chứa sự cảnh cáo ấy, nét mặt Delron trở nên cứng rắn.</p><p id="84">Quản gia Delron rời đi với vẻ mặt phức tạp. Quá nhiều những thứ lần đầu tiên xảy ra đã làm ông choáng ngợp, và quan trọng hơn cả, hành động của Dereck thật khó tin.</p><p id="85">Một thiếu niên, lính đánh thuê xuất thân đường phố, dù hoang dã như sinh vật của tự nhiên, cũng hiếm có thường dân nào dám ngông cuồng đến vậy.</p><p id="86">Ngay cả khi có văn kiện của Đại Công tước chống lưng, việc dám tát một tiểu thư quý tộc vẫn là điều gần như không tưởng.</p><p id="87">Đại Công tước Duplain vốn có con mắt sắc bén trong việc đánh giá con người.</p><p id="88">Liệu ngài ấy đã lường trước điều này hay chưa — Delron khi ấy không tài nào biết được.</p><p id="89">*****</p><p id="90">“Anh trai! Anh Valerian! Làm ơn bình tĩnh lại một chút đi, anh!”</p><p id="91">Rầm!</p><p id="92">Đêm đó, sau khi mọi chuyện đã tạm lắng xuống, trong khi Dereck đang sắp xếp lại hành lý trong căn phòng khách mà quản gia đã sắp xếp cho mình thì cậu đã vinh hạnh được đón tiếp hai vị khách tôn quý.</p><p id="93">Vị khách thứ nhất là một người đàn ông đầy phẫn nộ, không quá lịch sự xông thẳng vào căn phòng nơi Dereck đang ở.</p><p id="94">“Ngươi là tên lính đánh thuê mà Aiselin mang về đúng không? Ta đã thấy ngươi ở ngoài phòng nghị sự ban ngày rồi.”</p><p id="95">“Anh Valerian! Không—bình tĩnh lại trước khi hành động đã! Anh trai!”</p><p id="96">Valerian Leonard Duplain, con trai trưởng của gia tộc Duplain. Một người đàn ông cao lớn, mái tóc vàng để dài, dung mạo tuấn tú. Gương mặt anh ta đỏ bừng vì giận dữ trong khi túm chặt cổ áo của Dereck.</p><p id="97">Người kế vị được chỉ định của gia tộc Duplain luôn nổi tiếng là ôn hòa và giàu tình cảm. </p><p id="98">Thế nhưng lúc này, trong ánh mắt anh ta không còn chút dịu dàng nào khi chằm chằm nhìn thẳng vào Dereck, tay vẫn siết chặt cổ áo cậu.</p><p id="99">“Sao ngươi dám… ngươi dám…”</p><p id="100">“Anh!”</p><p id="101">Leigh cố kéo Valerian ra, gương mặt đầy tuyệt vọng.</p><p id="102">Dereck, vẫn bị túm cổ áo, lắng nghe rồi bình thản đáp lại.</p><p id="103">“Chuyện này đã được Đại Công tước cho phép, thưa thiếu gia Valerian.”</p><p id="104">Cậu nói ra sự thật hiển nhiên ấy bằng giọng vô cùng kính cẩn.</p><p id="105">Valerian trừng mắt trong chốc lát, rồi nhắm chặt mắt lại và buông tay khỏi Dereck.</p><p id="106">“…À.”</p><p id="107">Sau đó, anh thở dài thật sâu, xoa mặt như thể rửa đi cơn nóng giận vô hình, rồi nói:</p><p id="108">“Đi theo ta. Leigh, đi luyện tập ma pháp đi.”</p><p id="109">“Không! Nếu em không đi theo thì ai biết anh sẽ làm ra chuyện gì chứ…”</p><p id="110">“Anh sẽ không tranh cãi về chuyện này nữa.”</p><p id="111">Nói xong lời hứa hẹn với em trai mình, Valerian nhìn Dereck, ra hiệu cho cậu đi theo, rồi bước ra ngoài qua cánh cửa đang mở.</p><p id="112">Leigh nhìn theo bóng lưng Valerian, hít thật sâu một hơi, rồi vỗ vai Dereck.</p><p id="113">“Ừ. Ta nghe về chuyện ban nãy rồi. Không sao đâu, ta đứng về phía cậu. Diella cần một cú tát để tỉnh ra. Nó thật sự nghĩ thân phận quý tộc có thể che chắn cho mọi thứ sao?”</p><p id="114">“…”</p><p id="115">“Dù sao thì, nó cũng hết cứu rồi. Điểm đến cuối cùng của nó sẽ là một tu viện ở vùng biên giới. Ráng chịu thêm chút nữa đi, chàng trai trẻ. Valerian… anh ấy quá cưng chiều nó, nhưng anh ấy là một người tốt. Anh ấy sẽ không làm hại ngươi đâu, cho nên đừng căng thẳng… Thôi, ta đi đây.”</p><p id="116">Leigh, với vóc dáng vạm vỡ và gương mặt sắc bén, thở dài nặng nề rồi bước theo qua cánh cửa mở.</p><p id="117">“Thật tình… bám víu vào một thứ vô vọng để làm gì chứ… Anh trai thật đúng là…”</p><p id="118">Biểu cảm càu nhàu của Leigh khi rời đi cũng chẳng vui vẻ hơn là bao. Rõ ràng, cậu ta đã hoàn toàn tuyệt vọng với Diella.</p><p id="119">*****</p><p id="120">Căn phòng mà Valerian dẫn Dereck đến nằm ở tầng một của tòa nhà chính.</p><p id="121">Thoạt nhìn, có vẻ như nơi này đã lâu không có người ở. Nhưng kỳ lạ thay, căn phòng này không hề có lấy một hạt bụi, như thể nó vẫn được lau dọn đều đặn mỗi ngày.</p><p id="122">Vút!</p><p id="123">Chỉ với một động tác kích hoạt ma pháp của Valerian, những chiếc đèn chùm rải rác trong phòng đồng loạt sáng lên, để lộ toàn cảnh bên trong.</p><p id="124">Đó là một căn phòng nhỏ nhưng rất đẹp đẽ.</p><p id="125">Một bên là chiếc giường trang trí bằng nơ và ruy băng đáng yêu, bên kia là giá trưng bày những con búp bê nhỏ xinh được sắp xếp gọn gàng. Một tủ quần áo đầy váy ren dễ thương, cùng một kệ sách ngay ngắn với đủ loại sách — cổ điển nhưng mang nét trẻ thơ.</p><p id="126">Quá rộng đối với một cô bé, nhưng cân nhắc đến thân phận của chủ nhân căn phòng này thì cũng không có gì kỳ lạ.</p><p id="127">“Đây là phòng của Diella khi con bé còn ở trong toà nhà chính,” Valerian nói khẽ.</p><p id="128">Giờ cô sống gần như biệt lập trong khu nhà phụ, nhưng rõ ràng, Diella của ngày xưa đã từng rất khác.</p><p id="129">Ở một góc phòng, vài tấm toan vẽ và dụng cụ hội họa được đặt gọn gàng. Thấy Dereck nhìn về phía đó, Valerian giải thích:</p><p id="130">“Diella rất thích vẽ tranh. Chủ yếu là phong cảnh. Ban đầu chỉ là một phần của giáo dục thượng lưu, nhưng sau đó con bé thực sự say mê, lúc nào cũng hào hứng mang tranh đến khoe với ta.”</p><p id="131">“…”</p><p id="132">“Ta thường nhớ cảnh nó chạy thật nhanh trên đôi chân nhỏ đó về phía ta, hỏi ta xem tranh của nó trông như thế nào.”</p><p id="133">Bước giữa những tấm vải bạt, ánh mắt Dereck dừng lại ở một bức được phủ bằng tấm vải trắng tinh.</p><p id="134">Thấy vậy, Valerian hiểu ý vén tấm vải lên. Một bức tranh hoàng hôn được vẽ vô cùng tỉ mỉ hiện ra.</p><p id="135">Trong tranh là một cô bé ngồi trên lưng hầu gái, đang ngắm nhìn mặt trời lặn rực rỡ.</p><p id="136">Nhưng các mép tranh lại để trống.</p><p id="137">“Đây là bức cuối cùng con bé vẽ. Như ngươi thấy đấy, nó vẫn chưa được hoàn thành.”</p><p id="138">“Chưa hoàn thành?”</p><p id="139">“Diella thích vẽ, nhưng hiếm khi hoàn thành những tác phẩm của mình. Con bé thường để trống phần nền xung quanh, chỉ vẽ những gì mình thích.”</p><p id="140">Quả nhiên, nhìn kỹ sẽ thấy phong cảnh chỉ được tô vẽ từng phần, xen lẫn là những khoảng trắng.</p><p id="141">Trong lúc quan sát tranh, Valerian ngồi xuống mép chiếc bàn ở góc phòng.</p><p id="142">Rồi anh xoa trán, thở dài, nói:</p><p id="143">“…Ta xin lỗi vì lúc nãy đã để cảm xúc lấn át. Thật sự xin lỗi.”</p><p id="144">Sự hối hận hiện rõ trên gương mặt anh. Đối với một quý tộc địa vị như vậy, việc xin lỗi một thường dân đã là không hề dễ dàng.</p><p id="145">“Ta luôn tự nhắc nhở mình phải lý trí, nhưng lại hành động theo cảm xúc vào thời khắc quan trọng. Nhất là khi liên quan đến gia đình. Xét về điểm này, ta vẫn còn một chặng đường dài để trở thành một người cầm quyền thực thụ.”</p><p id="146">“…Vì sao ngài lại cho tôi xem căn phòng này?”</p><p id="147">“…Ta muốn cho ngươi thấy tận mắt. Rằng con bé không phải là người đáng bị sỉ nhục và đối xử như vậy.”</p><p id="148">Valerian nói bằng giọng trầm, giải thích một cách điềm tĩnh.</p><p id="149">“Con bé từng là một quý cô nhỏ rất đáng yêu. Nhưng bỗng một lúc nào đó, nó bắt đầu ám ảnh với huyết thống, coi thường những hạ nhân của mình. Ta không biết vì sao, hay điều gì đã tạo ra sự thay đổi đó. Ta chỉ biết rằng con bé đã thay đổi từng chút một, và rồi trở thành Diella mà ngươi đã nhìn thấy.”</p><p id="150">“….”</p><p id="151">“Ta thật sự không hiểu. Không hiểu vì sao nó lại cực đoan đến vậy với huyết thống của mình, điều gì khiến Diella trở nên cay nghiệt. Con bé học ma pháp rất chậm, không hoàn hảo ở nhiều mặt, nhưng nó từng sống rất rạng rỡ. Nó từng vẽ những thứ mình yêu thích, từng là một cô bé dễ thương, luôn vui vẻ trò chuyện cùng gia đình.”</p><p id="152">Valerian đứng dậy, chỉnh lại bộ lễ phục quý tộc, rồi cúi đầu trước Dereck, khiến cậu không thể che giấu được sự kinh ngạc.</p><p id="153">Dù Đại Công tước vẫn khỏe mạnh, Valerian vẫn là người kế vị tương lai của gia tộc Duplain.</p><p id="154">Địa vị của anh ta không cho phép anh cúi đầu tùy tiện trước một thường dân. Đó không chỉ là vấn đề về lòng kiêu hãnh, mà còn là phép tắc quý tộc.</p><p id="155">“Ta đã nghe cha nói. Nếu cứ tiếp diễn thế này, Diella sẽ bị đưa đến tu viện.”</p><p id="156">“Như vậy thì rắc rối thật.”</p><p id="157">“Nếu con bé có thể sử dụng được một ma pháp cấp một, chỉ cần một thôi là đủ, ta tự tin rằng mình có thể thuyết phục được cha mình tạm hoãn quyết định này. Ít nhất là cho đến khi con bé đủ tuổi để chuẩn bị cho buổi lễ trưởng thành. Vì vậy, ta cầu xin ngươi, xin hãy cho Diella thêm một cơ hội nữa.”</p><p id="158">Valerian ngẩng đầu lên, ánh mắt nghiêm túc.</p><p id="159">Dereck hiểu được sự cấp bách của anh ta, nhưng với cậu, đó lập tức là một cơn đau đầu.</p><p id="160">Theo lời của những người hầu gái, khi không vừa ý, Diella đánh người, đập phá đồ đạc, sỉ nhục gia nhân, khoe khoang thân phận.</p><p id="161">Vì vậy, những gì Valerian kể thật khó tin. </p><p id="162">Trong mắt Dereck, Diella chỉ là một đứa trẻ hư hỏng vì được cưng chiều, nhận được một nền giáo dục thất bại, và méo mó về mặt nhân cách. Việc cải tạo cô ta thành một tiểu thư đúng mực, lại còn dạy cho cô ta ma pháp, chẳng khác nào một phép màu.</p><p id="163">Việc “đốt” 20 gia sư trong 8 tháng giờ đã quá dễ hiểu.</p><p id="164">“…”</p><p id="165">Dù vậy, Dereck vẫn quyết định quan sát thêm căn phòng của Diella để sắp xếp lại suy nghĩ.</p><p id="166">Những bức tranh phong cảnh đủ loại. Chăn gối được gấp ngay ngắn. Những chiếc nơ, dải ruy băng tinh xảo.</p><p id="167">Khi lặng lẽ xem kệ sách, cậu nhìn thấy rất nhiều sách dùng cho giáo dục tại gia.</p><p id="168">Thêu thùa, cắm hoa, cưỡi ngựa. Ngay cả những quyển sách ma pháp đắt tiền cũng chỉ là một phần rất nhỏ trong đó. Rõ ràng, với tư cách con gái quý tộc, Diella có hẳn một chương trình giáo dục ma pháp riêng.</p><p id="169">“…Hừm.”</p><p id="170">Dereck xoa cằm, chậm rãi lướt qua kệ sách.</p><p id="171">Toàn là những sách ma pháp mang tính lễ nghi, khuôn mẫu. Đúng kiểu của Duplain.</p><p id="172">Cậu tiện tay lấy ra một quyển và lật xem. Quyển sách đó có dấu vết từng được đọc qua rất rõ ràng. Các ghi chú, những lời cảnh tỉnh khi luyện tập xuất hiện ở khắp nơi.</p><p id="173">Rõ ràng rồi.</p><p id="174">Diella không hề từ bỏ ngay từ đầu. Cô đã cố gắng. Nhưng dù nỗ lực nhiều đến đâu, kết quả vẫn không được như ý muốn.</p><p id="175">Mức độ nỗ lực quan trọng, nhưng hướng đi của nỗ lực cũng quan trọng không kém.</p><p id="176">Nhìn kệ sách chất đầy những lý thuyết hình thức, Dereck kh</p><p id="177">ông khỏi nghĩ vậy.</p><p id="178">“Được rồi, thử một lần xem sao.”</p><p id="179">Cậu đặt quyển sách trở lại kệ, và nói lời tạm biệt với Valerian.</p><p id="180">Sau đó, Dereck khoác áo choàng, đội mũ, rời khỏi căn phòng.</p><p id="181">Bước chân của cậu không hướng về phòng ngủ, mà về phía khu nhà phụ được bao quanh bởi dây hoa hồng.</p><p id="182">Bóng tối của màn đêm ôm lấy cậu khi cậu lặng lẽ băng qua khu vườn.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c297909-chuong-07-duplain-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24812-tieu-thu-quy-toc-cai-tao-ky-nobel-lady-reformation-guide/c298500-chuong-09-diella-2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'vLPh81dPlSWMEfCgjXsjmycEDgjik1OLiMbKr2J7';
        var comment_type = 'chapter';
        var comment_typeid = '298499';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'vLPh81dPlSWMEfCgjXsjmycEDgjik1OLiMbKr2J7';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24812');
    chapter_id = parseInt('298499');

    readingObject = {
        series_id: series_id,
        series_title: 'Tiểu thư quý tộc cải tạo ký - Nobel Lady Reformation Guide',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="vLPh81dPlSWMEfCgjXsjmycEDgjik1OLiMbKr2J7" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c507e68bcfdebbe',t:'MTc2OTYwMzM0OQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

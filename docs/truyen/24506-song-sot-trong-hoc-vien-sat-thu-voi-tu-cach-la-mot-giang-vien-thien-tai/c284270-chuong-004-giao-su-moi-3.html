<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Sống sót trong Học Viện Sát Thủ với tư cách là một Giảng Viên Thiên Tài - Chương 004. Giáo sư mới (3) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi đã vô tình trở thành một giảng viên trong một trò chơi. Tệ hơn nữa, tôi lại còn chọn nhầm độ khó. Giờ tôi bị kẹt phải chơi ở Chế Độ Địa Ngục. Một thế giới ở ngưỡng cửa chiến tranh với Quỷ Vương. Một Khoa Ám Sát nơi...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="WCpUZG2uQQDYaZnRVdDp8iMEu4KoOKKzs5G9yl3X">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284270-chuong-004-giao-su-moi-3">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24506-2436d30c-3d30-4ba0-ab0e-3cbdb5ef4d3f.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284195-chuong-003-giao-su-moi-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284270-chuong-004-giao-su-moi-3" style="background: url('https://i.hako.vn/ln/series/covers/s24506-2436d30c-3d30-4ba0-ab0e-3cbdb5ef4d3f.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai">Sống sót trong Học Viện S...</a></h5>
                    <small><i class="fas fa-pen"></i>Yuzu</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/t35454-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284274-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh Họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284193-chuong-001-tien-truyen-giao-su-anh-hung">
                                                                        Chương 001. Tiền Truyện: Giáo Sư Anh Hùng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284194-chuong-002-giao-su-moi-1">
                                                                        Chương 002. Giáo sư mới (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284195-chuong-003-giao-su-moi-2">
                                                                        Chương 003. Giáo sư mới (2)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284270-chuong-004-giao-su-moi-3">
                                                                        Chương 004. Giáo sư mới (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 004. Giáo sư mới (3)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284270-chuong-004-giao-su-moi-3#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,875 từ - Cập nhật: 
                        <time class="topic-time timeago" title="03-01-2026 18:13:07" datetime="2026-01-03T18:13:07+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 004. Giáo sư mới (3)</p>
                    <p id="1">Một ngày xuân, với một làn gió mát mẻ thổi qua cửa sổ.</p><p id="2">Từng người một, các học viên bước vào giảng đường.</p><p id="3">Để tham dự lớp học đầu tiên của Giáo Sư Dante Hiakapo mới được bổ nhiệm: Hiểu về Ám Sát và các Năng Lực.</p><p id="4">Có khoảng ba mươi học viên.</p><p id="5">Trong số đó, từ Viện Nguyệt Ảnh, một học viên tóc đỏ tên Joaquin bước vào với đôi bàn tay của cậu bên trong túi quần—dẫn đầu một băng đảng gồm sáu hay bảy người khác.</p><p id="6">Và rồi cậu ta tiếp cận bao cát của lớp.</p><p id="7">"Forte."</p><p id="8">Forte của Viện Nguyệt Ảnh không hề quay đầu lại. Bên cạnh cậu, Hwaru và Dominic chỉ liếc qua với biểu cảm trống rỗng.</p><p id="9">"Thằng ngu. Tao nghe rằng mày bị cho ăn hành bởi giáo sư mới."</p><p id="10">Đôi mắt của Forte giật.</p><p id="11">Hwaru và Dominic, cảm thấy nhột, ngoảnh mặt đi.</p><p id="12">Mấy thằng khốn nạn đó.</p><p id="13">"...Cút."</p><p id="14">"Nhìn vào mấy thằng ngu này tận hưởng bữa tiệc thương hại của chúng kìa."</p><p id="15">Tiếng cười vang lên và lan ra sáu hay bảy học viên đứng sau Joaquin.</p><p id="16">"Tại sao mày còn cố bám víu vào Viện Nguyệt Ảnh vậy? Mày sẽ bị lưu ban. Mày bị cho ăn hành bởi một giáo sư mà còn chưa bắt đầu dạy. Mày còn làm cây súng của mày bị tịch thu nữa. Đừng có làm ô nhục chúng ta nữa mà rời khỏi viện đi."</p><p id="17">"Tao bảo mày cút đi rồi mà, Joaquin."</p><p id="18">"Mày thực sự đáng xấu hổ lắm đấy con. Mày đang hủy hoại danh tiếng của viện chúng ta."</p><p id="19">Đó là khi mọi việc bắt đầu.</p><p id="20">Forte bỗng nhiên đứng dậy và nắm lấy cổ áo Joaquin.</p><p id="21">"Thằng khốn điên khùng này—tao bảo mày cút đi."</p><p id="22">Đồng bọn của Joaquin bước vào.</p><p id="23">"Thằng này bị cái quái gì thế."</p><p id="24">"Yo. Mày nên thả cái tay của mày ra đi chứ?"</p><p id="25">Và ngay lúc họ định đẩy tay của Forte ra—</p><p id="26">Nắm đấm của Forte đập mạnh vào một trong số họ.</p><p id="27"><em>Thud!</em></p><p id="28">Với cái đầu bị nghiêng sang một bên, hai người trong số đó lăn ra sau.</p><p id="29">Không khí trong giảng đường ngay lập tức chùng xuống. Một làn sóng căng thẳng lây lan giữa các học viên.</p><p id="30">Mặt của Joaquin cứng lại.</p><p id="31">"Làm thế với tao thử xem."</p><p id="32">"Ồ vậy á?"</p><p id="33">"Làm đi, thằng khốn nạn này. Tao đã luôn muốn tìm lý do lắm rồi đấy. Tao chắc chắn sẽ giết mày hôm nay."</p><p id="34">"Mày nghĩ tao không làm được à?"</p><p id="35">Forte với tới khẩu súng lục ở trên thắt lưng cậu. Joaquin cũng với tới con dao găm ở trên thắt lưng.</p><p id="36">Ngay đúng lúc sự căng thẳng lên đến đỉnh điểm, một trong số các học viên hét lên, "Này! Dừng lại đi! Tiết học sắp bắt đầu rồi!" Và quả thật, giáo sư có thể đến bất cứ lúc nào.</p><p id="37">"Nhìn cho kĩ vào, thằng khốn nạn ngu dốt này."</p><p id="38">"...Mày vừa nói gì cơ?"</p><p id="39">"Nhìn cách tao làm việc đây này. Mày và lũ bạn bè ngu ngốc của mày. Tao sẽ là người bước đi với bằng tốt nghiệp chứ không phải mày."</p><p id="40">Hwaru buột miệng nói vì giận dữ.</p><p id="41">"...Tớ không có ngu, cậu biết chứ?"</p><p id="42">Forte thực sự ước rằng cô ấy có thể im mồm lại đúng lần này thôi.</p><p id="43">"Đi thôi."</p><p id="44">Joaquin di chuyển với đồng bọn của cậu ta.</p><p id="45">Cậu rút ra một con dao găm từ thắt lưng của cậu và biến mất vào không gian. Một năng lực tàng hình cấp trung trong các loại năng lực che giấu: Che phủ hình thức.</p><p id="46">Những học viên khác cũng kích hoạt [Tàng hình], trốn ở gần của lớp học—bên cạnh nó, bao quanh nó, treo từ phía trên.</p><p id="47">Chờ đợi con mồi bước vào.</p><p id="48">"Này... chẳng phải chúng ta nên ngăn họ lại sao? Đây là lớp học đầu tiên của giáo sư..."</p><p id="49">"Để yên đi. Đừng nhúng tay vào."</p><p id="50">Một số học viên nhìn cảnh tượng với sự lo lắng.</p><p id="51">"...Đúng là mấy tên rác rưởi."</p><p id="52">"Thực sự đấy, họ bị gì vậy?"</p><p id="53">Một số khác cau mày lại—nhưng vẫn xem với sự thích thú. Cấp độ của [Tàng hình] cao đến bất ngờ đối với các học viên.</p><p id="54">Một vị giáo sư yếu đuối chắc chắn sẽ mắc bẫy.</p><p id="55"><em>Tick-tock. Tick-tock.</em></p><p id="56">Thời điểm bắt đầu lớp học đến gần hơn.</p><p id="57">Mặc dù sự bất an vẫn còn đó, cảm giác hiếu kỳ về chuyện sẽ xảy ra thu hút ánh nhìn của các học viên vào cảnh tượng này.</p><p id="58"><em>Tick-tock.</em></p><p id="59">Cuối cùng, thời khắc đã đến.</p><p id="60">Nhưng lạ thay—cánh cửa không mở ra.</p><p id="61">Mặc dù tiếng bước chân có thể được nghe thấy.</p><p id="62">"......"</p><p id="63">Joaquin nhíu mày.</p><p id="64">Cái quái gì vậy?</p><p id="65">Cậu có thể nghe thấy tiếng bước chân.</p><p id="66">Họ ở ngay ngưỡng cửa rồi.</p><p id="67">Điều đó đồng nghĩa với việc giáo sư này đang ở ngay trước cửa.</p><p id="68">Tiếng bước chân cũng ồn ảo không kém. Như thể người này không biết ám sát là cái gì.</p><p id="69">Nhưng bỗng nhiên—họ dừng lại ở ngay trước cửa.</p><p id="70"><em>Clack—</em></p><p id="71">Ngay giây phút tiếp theo, âm thanh của một khẩu súng trường được lên cò vang lên từ bên ngoài.</p><p id="72">Một âm thanh không thể nhầm lẫn được của một khẩu súng hoạt động đòn bẩy lên đạn.</p><p id="73">— "Giáo Sư?"</p><p id="74">Âm thanh của trợ lý Adele phát lên từ bên kia cánh cửa. Ngay sau đó, Joaquin cử chỉ một cách nhanh chóng.</p><p id="75">Giáo sư này đang chuẩn bị bắn!</p><p id="76">Đồng bọn của cậu bỏ [Tàng Hình] và nhảy khỏi đó.</p><p id="77">Và rồi, cánh cửa mở ra—và vị giáo sư bước vào, vắt khẩu súng trường trên vai anh ta.</p><p id="78">"Bẫy Máy Chém" mà chúng đã chuẩn bị đã được kích hoạt.</p><p id="79">Một lưỡi dao rơi xuống—ngay lên đầu của vị giáo sư...!</p><p id="80"><em>BOOM—!!</em></p><p id="81">Với một âm thanh va chạm như sấm sét, cái [Bẫy] tan tành hoàn toàn.</p><p id="82">Giáo sư đã bắn nó—phá hủy cái bẫy.</p><p id="83">Mặt của Joaquin nhăn nhó. Forte nghiến răng. Đó là súng của cậu.</p><p id="84">Nhưng Joaquin vẫn giữ vững sự tập trung. Vẫn còn cơ hội. Giáo Sư Dante xoay khẩu súng trường để thực hiện thao tác lên đạn thêm một lần nữa và bước ra trước.</p><p id="85">Ba bước chân.</p><p id="86">Hai bước chân...</p><p id="87">Chỉ cần thêm một bước nữa thôi là được rồi.</p><p id="88">Chỉ cần thầy ta bước thêm một bước nữa—</p><p id="89">...Nòng súng đã nhắm thẳng vào đầu cậu.</p><p id="90">"Âm mưu ám sát này là ý tưởng của cậu à?"</p><p id="91">Đôi mắt của Joaquin mở to ra. Giáo sư Dante nhắm thẳng khẩu súng trường—vào cậu.</p><p id="92">'...!'</p><p id="93">Cậu hoảng loạn và vấp ngã ra sau.</p><p id="94"><em>Crash!</em></p><p id="95">Viện Nguyệt Ảnh được dựng nên từ các học viên phi thường. Chỉ có ba mươi trong số 1.200 học viên năm nhất đủ ưu tú để được tham gia vào bên trong viện.</p><p id="96">Và kĩ năng [Tàng Hình] của cậu gần với cấp độ của một sát thủ đang hoạt động. Ngay cả "Viện Ẩn Long" ưu tú của ưu tú với chỉ bảy thành viên cũng đã thừa nhận tài năng của cậu.</p><p id="97">Không có lý do nào để nghi ngờ rằng tàng hình được sử dụng. Toàn bộ đồng bọn của cậu đã di chuyển với sự đồng bộ và đã gây ra rất nhiều những xao nhãng. Và bằng cách nào đó—giáo sư này nhìn qua được nó?</p><p id="98">Joaquin cuối cùng cũng hỏi.</p><p id="99">"...Làm sao thầy biết được?"</p><p id="100">"Cái gì?"</p><p id="101">"[Tàng Hình] của em thuộc hàng đầu trong khối."</p><p id="102">Sự hiếu kỳ của cậu đã lấn át âm mưu ám sát.</p><p id="103">"Cậu đang nói cái gì vậy? Ngay cả người mù còn thấy được đấy."</p><p id="104">Tiếng cười vang lên ở giữa các học viên.</p><p id="105">Ở dưới sức nặng của những ánh nhìn—và nụ cười chế giễu mờ nhạt của Forte—khuôn mặt của Joaquin đông cứng lại.</p><p id="106">"Giáo sư này có đôi mắt tinh đấy."</p><p id="107">Cậu nói trong khi quay trở về chỗ ngồi, cố gắng để ít nhất vẫn tung ra được vài cú.</p><p id="108">Nhưng vị giáo sư kệ cậu ta luôn.</p><p id="109">Chỉ ngay câu tiếp theo đâm vào đầu của Joaquin như búa bổ.</p><p id="110">"Cô tính coi đến khi nào nữa?"</p><p id="111">Ngay lúc đó, sự hoang mang lan tỏa khắp khuôn mặt của Joaquin.</p><p id="112">Dante nhìn thẳng vào vị trí mà cậu khi nãy đã trốn.</p><p id="113">Cái quái gì ở đó thế...?</p><p id="114">Ngay lúc đó, một hình tượng xuất hiện vào tầm mắt từ phía sau bức tường trần nhà—ngay phía trên nơi mà khi nãy Joaquin trốn.</p><p id="115">"...!"</p><p id="116">Joaquin giờ còn cảm thấy bàng hoàng hơn.</p><p id="117">Một học viên với mái tóc màu hồng với khuôn mặt cún con nhảy từ trên xuống.</p><p id="118">Đó là Elize, một học viên thuộc Viện Ẩn Long và là con gái của một sát thủ huyền thoại, Ngôi Sao Tĩnh Lặng ◯.</p><p id="119">Thực sự kinh khủng.</p><p id="120">Cô ấy vốn đã ẩn mình nãy giờ từ đằng sau Joaquin á?</p><p id="121">Từ khi nào?</p><p id="122">...Và giáo sư—thầy ấy nhìn thấy ư? Một thứ mà cậu thậm chí còn chẳng nhận ra nữa?</p><p id="123">"Về chỗ ngồi đi."</p><p id="124">"Vâng ạ."</p><p id="125">Elize cúi đầu nhẹ nhàng và quay người bước trở lại.</p><p id="126">Dante quay đầu, ánh mắt của anh ta liếc nhìn toàn bộ lớp học. Anh còn chưa nói một lời nào, nhưng toàn bộ các học viên đều đã cố gắng để quan sát biểu cảm, nhất cử nhất động của ảnh. Ai cũng biết Joaquin và Elize mạnh cỡ nào.</p><p id="127">Ngay khi Elize quay về chỗ ngồi, anh di chuyển.</p><p id="128">Anh bước lên bục giảng.</p><p id="129">---</p><p id="130">Từ góc nhìn của tôi, một sát thủ là một kẻ săn mồi được xã hội hóa.</p><p id="131">"Tôi là Dante Hiakapo, giáo sư mới của Khoa Ám Sát."</p><p id="132">Một con sư tử bò qua đám lau sậy, tiếp cận đến gần hơn một con nai—chẳng qua đeo lên mặt nạ người.</p><p id="133">"Bắt đầu từ ngày hôm nay, tôi sẽ dạy tại lớp học này về Hiểu Ám Sát và các Năng Lực cho đến cuối kì."</p><p id="134">Bây giờ tôi là người dạy những con sư tử này. Tôi không được phép tỏ ra yếu đuối. Không bao giờ quay lưng lại.</p><p id="135">"Mục tiêu tối thượng và hướng đi của lớp học này cho các cô cậu—yếu đuối như thế—là để trở nên mạnh hơn qua việc hiểu rõ hơn về các năng lực đặc biệt."</p><p id="136">Mặc dù vậy, nói thật tôi là người yếu nhất ở đây.</p><p id="137">May mắn thay, trông có vẻ như xác định các âm mưu ám sát khi nãy—dựa vào [⚪ Nhãn Tên] lơ lửng trên đầu của chúng—đã hoạt động. Hiện tại không có học viên này cố gắng để giết tôi cả.</p><p id="138">Trong 【Cửa Sổ Kịch Bản】, các cảm xúc về tôi đa dạng từ sự bối rối đến giận giữ rồi sợ hãi và sốc. Nhưng tất cả những suy nghĩ này đều có một điểm chung:</p><p id="139">Chúng đều đang rất căng thẳng.</p><p id="140">Những kẻ săn mồi trong căn phòng này.</p><p id="141">Bởi vì tôi.</p><p id="142">'...Huh.'</p><p id="143">Và rồi—nó xảy ra. Ngay lúc tôi chuẩn bị bắt đầu tiết học đầu tiên, tôi cảm thấy đầu mình trống trơn.</p><p id="144">'Mình nên nói gì đầu tiên?'</p><p id="145">Tôi vốn không có nhiều thời gian, chắc chắn rồi. Nhưng tôi rõ ràng đã chuẩn bị.</p><p id="146">Tôi có tận một thứ tự để giảng theo. Giờ tôi không nhớ được gì cả.</p><p id="147">'Tại sao mình không nhớ gì thế này...?'</p><p id="148">Và vấn đề là—còn tận 45 phút nữa.</p><p id="149">Mọi ánh mắt đều đổ dồn về tôi. Nhưng tôi càng im lặng, biểu cảm của các học viên càng trở nên bối rối.</p><p id="150">Ánh mắt đầy nghi ngờ của chúng càng làm cho đầu óc tôi rối bời hơn.</p><p id="151">'Chết tiệt.'</p><p id="152">Tôi cần nói gì đó.</p><p id="153">Nhưng nói gì...?</p><p id="154">Trong lúc tôi đang đứng đây, tâm trạng của căn phòng dần chuyển dịch.</p><p id="155">【Khoa Ám Sát, Năm Nhất, Evelyn:<em> 'Sao thầy ấy cứ đứng đó miết vậy?'</em>】</p><p id="156">【Viện Nguyệt Ảnh, Năm Nhất, Joaquin: <em>'Cái quái gì đây?'</em>】</p><p id="157">【Khoa Ám Sát, Năm Nhất, Derek: <em>'Có lẽ giờ mình nên bắt đầu ám sát thầy ấy.'</em>】</p><p id="158">Tôi cứ mở mồm ra và nói bất cứ thứ gì tôi nghĩ ra được.</p><p id="159">"Nhưng trước khi chúng ta bắt đầu bài giảng..."</p><p id="160">Ngay lúc này, tôi suy nghĩ lại. Tôi có nên nói không?</p><p id="161">Nhưng mà trong đầu tôi chẳng còn gì khác cả.</p><p id="162">"Tôi, với tư cách là giáo sư của các cô cậu, cảm thấy thực sự thất vọng vào trình độ của Khoa Ám Sát của Hiaka."</p><p id="163">Trong chốc lát, không khí trong căn phòng như đứng yên lại.</p><p id="164">Có lẽ chúng cảm thấy bối rối bởi những gì tôi vừa nói.</p><p id="165">"Đây là ngày đầu tôi đi làm. Là tiết học đầu tiên của tôi. Và từ sáng nay đến bây giờ, đã có mười học viên cố ám sát tôi. Tất cả đều thất bại."</p><p id="166">Để mà nói thật ý, thì tôi chẳng biết mình đang nói cái quái gì cả.</p><p id="167">Tôi cứ nói tiếp, một cách chậm rãi.</p><p id="168">"Thất bại thì có thể đoán được. Cũng giống như một đứa trẻ thì không thể đánh bại một người lớn, những học viên thiếu chín chắn như các cô cậu không thể nào hạ gục một giáo sư như tôi được. Nhưng... không đứa nào trong các cô cậu thực sự nỗ lực cả."</p><p id="169">Giọng của tôi lạnh hơn dự kiến. Mặt của Forte và Joaquin trở nên cứng hơn nữa.</p><p id="170">"Các cậu quá quen với việc giết những giáo sư nửa vời với cái kĩ năng dở hơi đấy, mà giờ các cô cậu còn chẳng nhận ra rằng các cậu chẳng qua là ếch ngồi đáy giếng. Nghĩ mà xem, các cậu cố ám sát tôi với [Bẫy] và [Tàng Hình] cẩu thả như thế... Bộ các cậu nghĩ tôi đến đây để chơi đuổi bắt với trẻ em à?"</p><p id="171">Và đó là lúc mà một tin nhắn bất thình lình.</p><p id="172">⧉ Mẹo: Giơ tay lên</p><p id="173">...Cái gì?</p><p id="174">Tôi làm y như nó bảo và giơ tay lên.</p><p id="175">Ping!</p><p id="176">Ôi cái đ-t!</p><p id="177">Có gì đó nảy từ tay của tôi và rơi xuống bàn.</p><p id="178">Một cái phi tiêu.</p><p id="179">Thằng này bị gì vậy? Ai lại ném phi tiêu trong khi giáo sư đang giảng bài chứ?</p><p id="180">【Viện Nguyệt Ảnh, Năm Nhất, Forte: <em>'Cái gì!?'</em>】</p><p id="181">【Khoa Ám Sát, Năm Nhất, Derek: <em>'Thầy ấy thực sự làm chệch hướng cái phi tiêu của Joaquin trong khi không cần nhìn kìa...!'</em>】</p><p id="182">【Khoa Ám Sát, Năm Nhất, Evelyn:<em> 'Cái tốc độ phản xạ nó thực sự điên rồ đấy...'</em>】</p><p id="183">Tất cả các học viên đều sững sờ.</p><p id="184">Tôi nhìn chằm chằm vào kẻ đã ném cái phi tiêu.</p><p id="185">Cậu ta quay mặt đi một cách cứng nhắc.</p><p id="186">【Viện Nguyệt Ảnh, Năm Nhất, Joaquin: <em>'Ah, chết tiệt...'</em>】</p><p id="187">Là thằng khốn này nữa. Tên cầm đầu của đội phục kích.</p><p id="188">Tôi lại suýt chết. Thêm một lần nữa.</p><p id="189">Toàn bộ cái nơi này đúng là một bãi mìn. Tôi cố gắng buộc trái tim đang đập mạnh của tôi dịu xuống và cất tiếng.</p><p id="190">"Học viên."</p><p id="191">"...Vâng?"</p><p id="192">"Tôi vừa nói cái gì?"</p><p id="193">"Thì... thầy muốn bọn em nghiêm túc hên về ám sát..."</p><p id="194">"Cái dáng người của cậu lúc ném rõ ràng quá mức cần thiết. Tốc độ của cậu chậm đến đáng thương."</p><p id="195">"......"</p><p id="196">"Mục tiêu của cậu là cái cổ—phần mỏng nhất của phần thân trên. Và thời điểm cậu chọn thực sự rất tệ. Sau một chuỗi các âm mưu ám sát, tôi dĩ nhiên phải ở trạng thái cảnh giác với các cuộc tấn công bất ngờ. Cậu biết điều đó, nhưng vẫn lựa chọn cố tình ném à? Ngay cả một con chuột cống khi đi săn một con bọ cũng chẳng hành động thiếu suy nghĩ như thế."</p><p id="197">"......"</p><p id="198">Cậu ta không nói gì cả.</p><p id="199">Chỉ nghiến răng vì bực bội.</p><p id="200">"Đó là lần thứ hai rồi."</p><p id="201">Tôi nhìn thẳng mặt cậu ta trong vài giây. Rồi nói.</p><p id="202">"Cậu bỏ học lớp này đi."</p><p id="203">Joaquin đông cứng lại vì sốc, trong khi các học viên trong căn phòng đều thốt lên với vẻ kinh ngạc.</p><p id="204">Bởi vì đó là một giáo sư nói.</p><p id="205">Tôi quay đầu và nhìn xung quanh toàn bộ giảng đường. Lớp học đầu tiên này sẽ là tiền đề cho mối quan hệ của tôi vấy các học sinh này. Đó là lý do vì sao tôi đã chuẩn bị kĩ càng.</p><p id="206">Những kí ức mà tôi đã quên mất đang dần hiện về.</p><p id="207">Bây giờ—tôi có thể dạy được rồi.</p><p id="208">"...Nếu cái lớp học này tính làm một cái trò chơi sandbox, thì tôi không có hứng thú dạy cái lớp này."</p><p id="209">Vậy nhưng tôi đổi ý rồi.</p><p id="210">Các học viên, những người mà vốn đang nghịch ngợm với sách của chúng, cứng đờ lại.</p><p id="211">Nếu các học sinh thể hiện sự thiếu thiện chí học tập như vậy, thì giáo sư còn có một lựa chọn khác.</p><p id="212">"Lớp học hôm nay bị hủy."</p><p id="213">Bên trong sự im lặng bao trùm căn phòng.</p><p id="214">Tôi quay người đi và bước ra khỏi giảng đường.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai/c284195-chuong-003-giao-su-moi-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24506-song-sot-trong-hoc-vien-sat-thu-voi-tu-cach-la-mot-giang-vien-thien-tai" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'WCpUZG2uQQDYaZnRVdDp8iMEu4KoOKKzs5G9yl3X';
        var comment_type = 'chapter';
        var comment_typeid = '284270';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'WCpUZG2uQQDYaZnRVdDp8iMEu4KoOKKzs5G9yl3X';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24506');
    chapter_id = parseInt('284270');

    readingObject = {
        series_id: series_id,
        series_title: 'Sống sót trong Học Viện Sát Thủ với tư cách là một Giảng Viên Thiên Tài',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="WCpUZG2uQQDYaZnRVdDp8iMEu4KoOKKzs5G9yl3X" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

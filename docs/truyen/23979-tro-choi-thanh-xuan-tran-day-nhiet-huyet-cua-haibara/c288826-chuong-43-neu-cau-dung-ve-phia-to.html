<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Trò chơi thanh xuân tràn đầy nhiệt huyết của Haibara - Chương 4.3: Nếu cậu đứng về phía tớ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Haibara’s Teenage New Game+!” (灰原くんの強くて青春ニューゲーム) đã đạt giải Grand Prize (Giải toàn cầu) tại HJ Novel Award 2020. --- Natsuki Haibara, sinh viên năm cuối mắc chứng lo âu xã hội. Mỗi lần nghĩ về những năm tháng ấy, cậu chỉ còn lại những hồi ức mơ hồ về một...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="FKMMfuCPA2qpKmWPaWT1PLpGPwfmENdmwE8t1zkI">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c288826-chuong-43-neu-cau-dung-ve-phia-to">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23979-8f532462-491f-4587-8d9e-23c5dcfcb6d5.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c287277-chuong-42-neu-cau-dung-ve-phia-to"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c258902-minh-hoa"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c288826-chuong-43-neu-cau-dung-ve-phia-to" style="background: url('https://i.hako.vn/ln/series/covers/s23979-8f532462-491f-4587-8d9e-23c5dcfcb6d5.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara">Trò chơi thanh xuân tràn...</a></h5>
                    <small><i class="fas fa-pen"></i>Kazuki Amamiya</small>
                    <small><i class="fas fa-paint-brush"></i>Gin</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/t34361-vo1">Vol 1 &lt;&lt;Đang tiến hành&gt;&gt;</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c255714-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh hoạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c255715-prologue-nhung-nam-thang-tuoi-thanh-xuan-day-hoi-tiec">
                                                                        Prologue: Những Năm Tháng Tuổi Thanh Xuân Đầy Hối Tiếc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c255755-chuong-11-ke-hoach-tuoi-thanh-xuan-ruc-ro">
                                                                        Chương 1.1: Kế hoạch tuổi thanh xuân rực rỡ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c256536-chuong-12-ke-hoach-tuoi-thanh-xuan-ruc">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.2: Kế hoạch tuổi thanh xuân rực rỡ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c258678-chuong-13-ke-hoach-tuoi-thanh-xuan-ruc-ro">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.3: Kế hoạch tuổi thanh xuân rực rỡ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c260891-chuong-14-ke-hoach-tuoi-thanh-xuan-ruc-ro">
                                                                        Chương 1.4: Kế hoạch tuổi thanh xuân rực rỡ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c261905-chuong-15-ke-hoach-tuoi-thanh-xuan-ruc-ro">
                                                                        Chương 1.5: Kế hoạch tuổi thanh xuân rực rỡ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c263021-chuong-21-nhung-ngay-nhu-mo">
                                                                        Chương 2.1: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c263593-chuong-22-nhung-ngay-nhu-mo">
                                                                        Chương 2.2: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c264671-chuong-23-nhung-ngay-nhu-mo">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.3: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c265767-chuong-24-nhung-ngay-nhu-mo">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.4: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c267372-chuong-25-nhung-ngay-nhu-mo">
                                                                        Chương 2.5: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c269408-chuong-26-nhung-ngay-nhu-mo">
                                                                        Chương 2.6: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c271587-chuong-27-nhung-ngay-nhu-mo">
                                                                        Chương 2.7: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c272797-chuong-28-nhung-ngay-nhu-mo">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 2.8: Những ngày như mơ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c274797-chuong-31-su-hoan-hao-day-khuyet-diem">
                                                                        Chương 3.1: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c276543-chuong-32-su-hoan-hao-day-khuyet-diem">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.2: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c279993-chuong-33-su-hoan-hao-day-khuyet-diem">
                                                                        Chương 3.3: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c279997-chuong-34-su-hoan-hao-day-khuyet-diem">
                                                                        Chương 3.4: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c280003-chuong-35-su-hoan-hao-day-khuyet-diem">
                                                                        Chương 3.5: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c284598-chuong-36-su-hoan-hao-day-khuyet-diem">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 3.6: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c285873-chuong-37-su-hoan-hao-day-khuyet-diem">
                                                                        Chương 3.7: Sự hoàn hảo đầy khuyết điểm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c286776-chuong-41-neu-cau-dung-ve-phia-to">
                                                                        Chương 4.1: Nếu cậu đứng về phía tớ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c287277-chuong-42-neu-cau-dung-ve-phia-to">
                                                                        Chương 4.2: Nếu cậu đứng về phía tớ
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c288826-chuong-43-neu-cau-dung-ve-phia-to">
                                                                        Chương 4.3: Nếu cậu đứng về phía tớ
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c258902-minh-hoa">Vol 2</a></li>
                                        
                                                            <li class=""><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c262212-minh-hoa">Vol 3</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 1 &lt;&lt;Đang tiến hành&gt;&gt;</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 4.3: Nếu cậu đứng về phía tớ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c288826-chuong-43-neu-cau-dung-ve-phia-to#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,089 từ - Cập nhật: 
                        <time class="topic-time timeago" title="11-01-2026 19:23:21" datetime="2026-01-11T19:23:21+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 4.3: Nếu cậu đứng về phía tớ</p>
                    <p id="1"><strong><em>Trans: </em></strong>Hagghh</p><p id="2"><strong><em>Edit: </em></strong>Ph4ng:3</p><p id="3">---</p><p id="4">Tôi có thể nghe rõ tiếng mưa lộp bộp bên ngoài cửa sổ khi bản thân cứ mải miết trút hết mọi tâm sự một cách lan man.</p><p id="5">Khi câu chuyện kết thúc, một khoảng im lặng nặng nề bao trùm lấy căn phòng trong chốc lát. Miori vốn nhanh nhẹn là thế, vậy mà ngay cả cậu ấy cũng phải ngây người ra trước một vấn đề quá lớn để giải quyết như thế này. Mà cũng phải thôi, cứ nhìn xem tôi đã phải đau đầu vì chuyện này đến nhường nào thì biết!</p><p id="6">Một lúc sau, Miori khẽ phá vỡ sự tĩnh lặng bằng một tiếng thì thầm.</p><p id="7">“À... hóa ra là vậy.”</p><p id="8">Cậu ấy đứng phắt dậy chẳng hề báo trước.</p><p id="9">“Trời ạ, cậu đúng là cái tên ngốc nhất quả đất!”</p><p id="10">Vừa dứt lời, một chiếc gối bay thẳng vào mặt tôi khiến tầm nhìn trắng xóa trong tích tắc.</p><p id="11"><em>Ây da, cái mũi của tôi!</em></p><p id="12">“Tớ đã cố nhịn để nghe hết rồi, nhưng cái sự đần độn của cậu cũng phải có giới hạn thôi chứ…”</p><p id="13">“Này! Tớ biết là lỗi của tớ, nhưng sao cậu lại—”</p><p id="14">“Sai bét!” </p><p id="15">Miori cắt ngang, chỉ thẳng ngón tay vào mũi tôi. </p><p id="16">“Chẳng việc gì cậu phải ủ rũ như thể ngày tận thế đến nơi rồi cả!”</p><p id="17">“Hả?” Tôi nhìn cậu ấy, ngây người ra. </p><p id="18">“Đừng có mà ‘hả’ với tớ, đồ đần! Nghe cho kỹ đây, dù có nhìn kiểu quái nào đi nữa thì đây rõ ràng là lỗi của Tatsuya. Cậu định hành động thế nào, hay chơi thân với cô nàng nào là việc của cậu—chẳng ai có quyền xía vào hết!”</p><p id="19">“Nh-Nhưng... gốc rễ vấn đề vẫn là do tớ…” Tôi yếu ớt lên tiếng.</p><p id="20">Miori thở dài mà buông một câu không chút nương tay.</p><p id="21">“Tớ không thể tin nổi là cậu lại để mình trông thảm hại thế này chỉ vì cái chuyện đó đấy.” </p><p id="22">“Nghe này, cậu chẳng làm gì sai hết nên cứ ngẩng cao đầu mà tự tin lên! Ít nhất thì đừng có trưng ra cái bộ mặt như thể gặp thảm họa ấy nữa. Và tuyệt đối không cần phải xin lỗi! Thậm chí, đừng có dại mà mở mồm xin lỗi cậu ta!”</p><p id="23">Những lời Miori vừa giảng giải nghe cứ quen quen, hình như Reita cũng từng nói với tôi điều gì đó tương tự rồi. Có lẽ họ đã đúng, nhưng việc đó cũng chẳng thay đổi được sự thật là Tatsuya đã chủ động vạch ra ranh giới với chúng tôi. </p><p id="24">Cứ nghĩ đến một tương lai thiếu vắng cậu ta, tôi lại thấy nó chẳng còn chút màu sắc hay niềm vui nào nữa. Chính vì thế, tôi thực sự muốn làm một điều gì đó để cứu vãn.</p><p id="25">“Natsuki, cậu tử tế quá đó.” </p><p id="26">Miori tiếp tục bằng cái giọng không chút nương tay. </p><p id="27">“Cái tính đó của cậu vẫn chẳng thay đổi gì so với ngày xưa cả. Nhưng vấn đề nằm ở chỗ đó đấy! Tatsuya sẽ chỉ càng thấy tồi tệ hơn nếu cậu mở lời xin lỗi thôi.”</p><p id="28">Tôi định hỏi tại sao, nhưng rồi kịp nuốt lời định nói vào trong. Đúng thật là nếu đặt mình vào vị trí của Tatsuya thì việc được người khác xin lỗi chính là cảm giác tệ hại nhất trên đời. </p><p id="29">Rõ ràng bản thân mình mới là kẻ gây chuyện, còn đối phương chẳng làm gì sai cả... Nhận lời xin lỗi từ họ chỉ khiến bản thân thêm dằn vặt vì đã khiến họ phải hạ mình xin lỗi ngược lại mình thôi.</p><p id="30">“Vậy tớ phải làm gì đây?” </p><p id="31">Tôi hỏi sau khi đã tiêu hóa hết mớ lý lẽ vừa rồi. </p><p id="32">“Ý tớ là, sau tất cả những chuyện này.”</p><p id="33">Dù có đánh giá lại tình hình bao nhiêu lần đi nữa thì tôi vẫn chẳng tìm thấy lối thoát nào cả. Tôi chẳng thể làm gì, thậm chí lúc này còn chẳng biết mình nên đối mặt ra sao. Giữa lúc mải nghĩ về vấn đề đó, lời cảnh báo của Miori từ rất lâu trước đây bất chợt hiện về trong tâm trí tôi.</p><p id="34">“Này, khoan đã. Chẳng phải lúc trước cậu từng nói gì đó về chuyện này sao? Chính cậu đã cảnh báo là kế hoạch của tớ có vấn đề mà.”</p><p id="35">“Ừ thì đúng là vậy, nhưng tớ cũng chẳng ngờ mọi chuyện lại đổ bể theo kiểu này đâu.” Miori đáp, tay vô thức đặt lên môi với vẻ suy tư.</p><p id="36">“Dù sao thì tớ cũng không hẳn là đoán sai. Chỉ là trông cậu lúc nào cũng như đang gồng mình lên để diễn vậy. Cậu thực sự thấy hạnh phúc khi mọi thứ cứ gượng ép như thế sao?”</p><p id="37">Đúng là tôi luôn cố tình tính toán từng hành động với sự thận trọng đến mức tỉ mỉ. Nhưng tôi buộc phải làm thế! Vì nếu tôi vứt cái lớp mặt nạ này đi... chắc chắn tất cả sẽ ghét bỏ tôi, giống hệt như cái kết thảm hại lần trước vậy…</p><p id="38">“Tớ biết cậu đang nỗ lực đến nhường nào mà. Vì chúng ta đã biết nhau quá lâu rồi nên tớ mới thấy thôi. Nhưng nói thật nhé, cậu cố gắng đến mức ngoài tớ ra thì chẳng ai nhận ra nổi đâu. Ý tớ là... cậu hiện tại hoàn hảo đến mức chẳng còn lấy một kẽ hở nào.”</p><p id="39"><em>Mình cũng nên bắt đầu học cách tạm gạt bỏ những định kiến về bản thân sang một bên, để thử hình dung xem trong mắt người khác, mình thực sự là người như thế nào.</em></p><p id="40">“Đừng hiểu lầm ý tớ, hoàn hảo thì cũng có cái tốt của nó, nhưng quá mức như cậu thì người ta sẽ thấy khó mà lại gần được. Dù cho nó có khác xa so với con người thật của cậu đi nữa. Tớ cá là Tatsuya-kun còn nghĩ cậu là siêu nhân rồi ấy chứ!”</p><p id="41"><em>Được rồi, vậy thì tớ phải làm cái quái gì bây giờ?! </em></p><p id="42">Tôi thầm nghĩ rồi miễn cưỡng thừa nhận. </p><p id="43">“Tớ không nghĩ là bản thân còn đủ sức để thay đổi thêm bất cứ điều gì nữa đâu. Chỉ riêng việc duy trì hình tượng hiện tại thôi đã vắt kiệt sức lực của tớ rồi.”</p><p id="44">Miori nhìn chằm chằm tôi trong khi cân nhắc câu trả lời. </p><p id="45">“Tớ vừa nghĩ ra một cách để giải quyết chuyện này. Mà có lẽ nó hơi trực diện quá để gọi là một kế hoạch.”</p><p id="46">“Thật sao?” </p><p id="47">Tôi không còn ý tưởng nào khác nên chỉ cần là cách cậu ấy đề xuất, tôi sẽ làm theo mà chẳng cần suy nghĩ.</p><p id="48">“Tớ xin cậu đấy Miori. Làm ơn, giúp tớ với!”</p><p id="49">Tôi tin rằng chỉ cần là Miori, người thấu hiểu tôi còn hơn cả bản thân mình, thì có lẽ vẫn còn hy vọng.</p><p id="50">“Đơn giản thôi. Hãy cứ để họ thấy con người thật của cậu đi.”</p><p id="51">Miori nói điều đó bằng chất giọng nhẹ nhàng và chân thành đến mức ai cũng có thể thấu hiểu. Nhưng tôi thì cứng người, đầu óc cố gắng tiêu hóa xem câu nói đó thực sự có nghĩa là gì.</p><p id="52"><em>Chuyện đó là không thể nào.</em></p><p id="53">Bởi vì con người thật của tôi chỉ là một kẻ cô độc mà thôi! Tôi chẳng biết cách trò chuyện, lại còn nhút nhát và không có lấy một chút can đảm để bắt chuyện với bất kỳ ai. </p><p id="54">Thậm chí tôi còn tệ hại đến mức vì ghen tị mà phớt lờ cả Miori dù cho bản thân cực kỳ ghét cảm giác cô độc! Tôi chỉ là một thằng nhóc vô dụng đến từ một thế giới xám xịt.</p><p id="55">Trên đời này chẳng có lấy một ai lại đi yêu thích một kẻ như tôi cả. Đó là lý do tại sao tôi đã phải nỗ lực đến nhường này để thay đổi bản thân.</p><p id="56">“Nghe cho kỹ đây! Tớ thích cậu.” Miori bất ngờ thú nhận.</p><p id="57">Tôi cứ ngỡ cậu ấy đang trêu chọc mình, nhưng ánh mắt kiên định của cậu ấy đã khiến trái tim tôi dao động.</p><p id="58">“Tớ thích cậu khi cậu luôn nỗ lực để thay đổi, nhưng tớ cũng thích cả con người thật của cậu nữa.”</p><p id="59">Miori nói chậm rãi như thể đang muốn thuyết phục tôi. Từng câu chữ ấy cứ thế thấm đẫm vào sâu trong trái tim tôi.</p><p id="60">Tôi cảm nhận được đôi gò má mình đang nóng bừng lên. Có lẽ vì nhận ra sự ngượng ngùng của tôi nên mặt Miori cũng dần đỏ ửng và cậu ấy vội né tránh ánh mắt tôi.</p><p id="61">Sau một khoảnh khắc ngượng ngùng, Miori mới lên tiếng. </p><p id="62">“Nhưng mà, đừng có hiểu lầm đấy nhé. Ý tớ là thích kiểu bạn bè thôi. Chúng ta là thanh mai trúc mã, cái kiểu duyên nợ cứ chạm mặt nhau suốt ấy mà. Hiểu chưa? Vấn đề là cậu không việc gì phải giấu giếm bất cứ điều gì trước mặt tớ hết! Cứ nói bất cứ điều gì cậu muốn đi!” [note86834]</p><p id="63">Tôi ngập ngừng một lúc rồi rụt rè hỏi lại. </p><p id="64">“Cậu nói thật chứ? Tớ thực sự có thể sao?”</p><p id="65">“Thôi nào! Natsuki này, năm người kia là bạn của cậu đúng không?”</p><p id="66">Tôi gật đầu. Ít nhất thì tôi nghĩ họ là bạn mình.</p><p id="67">“Liệu có thể thực sự gọi ai đó là bạn, khi mà cậu lúc nào cũng dựng lên một bức tường ngăn cách và chưa bao giờ thành thật với họ không?”</p><p id="68">Tôi đờ người ra, chẳng thể tìm nổi một lời nào để đáp lại. Thế nhưng, tôi biết rất rõ rằng những gì Miori vừa mô tả lại chính xác là những gì tôi đang làm.</p><p id="69">“Liệu mối quan hệ giữa cậu và mọi người lúc này có thực sự đưa cậu tới được ‘tuổi thanh xuân rực rỡ’ mà cậu hằng ao ước không?” </p><p id="70">Miori nói không sai một chút nào. Tuy vậy, thừa nhận lời cậu ấy cũng đồng nghĩa với việc tôi đang tự tay phủ nhận mọi nỗ lực thay đổi của chính mình bấy lâu nay. Dù rất sợ phải nghe câu trả lời, tôi vẫn phải hỏi.</p><p id="71">“Vậy ý cậu là... tất cả những cố gắng bấy lâu nay để thay đổi bản thân của tớ đều là phí công vô ích sao?”</p><p id="72"><em>Mình sẽ phải làm gì nếu cậu ấy đồng ý đây? </em></p><p id="73"><em>Nếu mọi nỗ lực của bản thân bị phủ nhận hoàn toàn thì mình biết phải tiếp tục sống thế nào đây? </em></p><p id="74">Hàng loạt nỗi nghi hoặc cứ thế hiện lên, vây quanh và khiến lòng tôi trĩu nặng.</p><p id="75">“Tớ đâu có nói thế. Nhìn cậu bây giờ mà xem! Cậu đã có những người bạn rất tuyệt vời đấy thôi.” </p><p id="76">“Nhưng thay đổi bản thân và che giấu bản thân là hai việc hoàn toàn khác nhau. Tớ không bảo che giấu là xấu, nhưng tớ nghĩ nếu cứ tiếp tục như thế này, bạn bè sẽ cảm thấy giữa họ và cậu luôn có một bức tường ngăn cách.”</p><p id="77">Miori lại chỉ tay vào mũi tôi lần nữa. </p><p id="78">“Chẳng phải đó chính là lý do Tatsuya-kun giữ khoảng cách với cậu sao? Tất nhiên, nếu con người thật của cậu có chỗ nào xấu xí, tớ sẽ ở đây để chỉ thẳng ra cho mà biết. Thế nên đừng sợ nữa, hãy cứ thành thật với họ đi!” Cậu ấy tuyên bố một cách đầy tự hào.</p><p id="79">Tôi không biết liệu đó có phải là bước đi đúng đắn hay không, nhưng vì lời này được nói ra từ chính miệng cô bạn thanh mai trúc mã vốn hiểu tôi nhất.</p><p id="80"><em>Có lẽ mình thực sự có thể chạm tay vào thanh xuân rực rỡ đó, nếu có Miori ở bên cạnh tiếp sức. </em></p><p id="81">Tôi quyết định tin tưởng vào cậu ấy.</p><p id="82">Cuối cùng, tôi đã chính thức công nhận Miori là đồng minh trong kế hoạch tuổi thanh xuân rực rỡ của mình.</p><p id="83"><em>Được rồi, mình sẽ làm. Mình sẽ thú nhận tất cả với bọn họ.</em></p><p id="84">Dù ý nghĩ đó có đáng sợ đến mức nào đi chăng nữa thì tôi vẫn sẽ làm. Bởi đó là cách duy nhất để tôi có thể trở thành một người bạn thực sự của họ.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note86834"><a href="#anchor-note86834" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86834" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Sau này đừng hối hận:)</span></div><span class="note-content_real long-text">Sau này đừng hối hận:)</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c287277-chuong-42-neu-cau-dung-ve-phia-to" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c258902-minh-hoa" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'FKMMfuCPA2qpKmWPaWT1PLpGPwfmENdmwE8t1zkI';
        var comment_type = 'chapter';
        var comment_typeid = '288826';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'FKMMfuCPA2qpKmWPaWT1PLpGPwfmENdmwE8t1zkI';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23979');
    chapter_id = parseInt('288826');

    readingObject = {
        series_id: series_id,
        series_title: 'Trò chơi thanh xuân tràn đầy nhiệt huyết của Haibara',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="FKMMfuCPA2qpKmWPaWT1PLpGPwfmENdmwE8t1zkI" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

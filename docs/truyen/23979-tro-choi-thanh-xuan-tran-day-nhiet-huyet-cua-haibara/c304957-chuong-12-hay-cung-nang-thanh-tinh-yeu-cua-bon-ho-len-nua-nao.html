<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Trò chơi thanh xuân tràn đầy nhiệt huyết của Haibara - Chương 1.2: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào! - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Haibara’s Teenage New Game+!” (灰原くんの強くて青春ニューゲーム) đã đạt giải Grand Prize (Giải toàn cầu) tại HJ Novel Award 2020. --- Natsuki Haibara, sinh viên năm cuối mắc chứng lo âu xã hội. Mỗi lần nghĩ về những năm tháng ấy, cậu chỉ còn lại những hồi ức mơ hồ về một...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="VnafvBhBVeJ5Haiv6riN6z5J6UaeUGtRtIXPP8fw">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c304957-chuong-12-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23979-261bd944-35f3-435b-88c8-deef96a43d3f.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c298934-chuong-11-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c305069-chuong-13-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c304957-chuong-12-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao" style="background: url('https://i.hako.vn/ln/series/covers/s23979-261bd944-35f3-435b-88c8-deef96a43d3f.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara">Trò chơi thanh xuân tràn...</a></h5>
                    <small><i class="fas fa-pen"></i>Amamiya Kazuki</small>
                    <small><i class="fas fa-paint-brush"></i>Gin</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c255714-minh-hoa">Vol 1 &lt;&lt;Đã hoàn thành&gt;&gt;</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/t34446-vol-2">Vol 2 &lt;&lt;Đang tiến hành&gt;&gt;</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c258902-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh hoạ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c297856-prologue-chi-la-mot-moi-tinh-dau-binh-thuong-ma-thoi">
                                                                        Prologue: Chỉ là một mối tình đầu bình thường mà thôi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c298934-chuong-11-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao">
                                                                        Chương 1.1: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào!
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c304957-chuong-12-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.2: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c305069-chuong-13-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương 1.3: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào!
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c262212-minh-hoa">Vol 3</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 2 &lt;&lt;Đang tiến hành&gt;&gt;</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1.2: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào!</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c304957-chuong-12-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,882 từ - Cập nhật: 
                        <time class="topic-time timeago" title="06-02-2026 22:38:26" datetime="2026-02-06T22:38:26+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1.2: Hãy cùng nâng thanh tình yêu của bọn họ lên nữa nào!</p>
                    <p id="1"><strong><em>Trans: </em></strong>Hagghh</p><p id="2"><strong><em>Edit: </em></strong>Ph4ng:3</p><p id="3">---</p><p id="4">Sau giờ tan học, tôi cùng Nanase đến nơi làm thêm là quán Café Mares. Suốt quãng đường đi cả hai chẳng nói với nhau mấy lời, nhưng thật may là tôi không còn cảm thấy sự im lặng khi ở riêng với cậu ấy là điều gì đó ngượng nghịu nữa. Có lẽ tôi đã dần quen với việc này, vì ngay cả lúc làm việc chúng tôi cũng ít khi tán gẫu.</p><p id="5">Vừa bắt đầu ca làm, tôi đã bị cuốn phăng vào guồng quay công việc, chẳng còn tâm trí đâu để nghĩ đến chuyện gì khác. Cho đến khi mọi thứ tạm ổn, tôi mới khẽ than thở.</p><p id="6">“Phù... Oải quá đi mất.”</p><p id="7">Hai tiếng đồng hồ trôi qua lúc nào chẳng hay. Tôi dùng khăn lau vội mồ hôi rồi tranh thủ nghỉ tay một chút. Mặt trời đã lặn hẳn, cơn gió thổi vào có chút lạnh lẽo nên tôi bước tới đóng cửa sổ lại.</p><p id="8">“Haibara-kun, của cậu này.”</p><p id="9">Nanase vừa nói vừa đưa cho tôi một chiếc khay.</p><p id="10">“Tuân lệnh, thưa sếp.”</p><p id="11">Tôi đón lấy chiếc khay từ tay cậu ấy rồi bắt đầu rửa. Lúc này đã là tám giờ tối, lượng khách đã thưa dần chỉ còn lác đác vài người. Nanase đứng cạnh bên tranh thủ uống chút nước trong lúc nghỉ ngơi. Vị khách duy nhất còn lại trong quán đang vừa nhâm nhi cà phê vừa mải mê đọc tiểu thuyết. Có lẽ sau khi giải quyết xong đống bát đĩa này, chúng tôi sẽ chẳng còn việc gì nhiều để làm cho đến hết ca.</p><p id="12">“Haibara-kun, trông cậu có vẻ đang rất vui nhỉ?”</p><p id="13">Tôi khẽ gật đầu, nhưng dễ nhận ra đến thế sao? </p><p id="14">Nhưng đúng là tâm trạng tôi đang cực kỳ tốt. Khoảng thời gian tôi yêu thích nhất tại Café Mares chính là lúc quán vắng khách như thế này. Cảm giác như thời gian đang trôi chậm lại một cách thư thái, thật tuyệt khi được thả mình vào những bản nhạc Jazz đang được bật ở mức âm lượng vừa vặn. Tôi tận hưởng bầu không khí êm dịu của bản nhạc nền và nhớ lại lời Nanase từng kể rằng chủ quán ở đây là một fan cứng của dòng nhạc này.</p><p id="15">Nanase bỗng khẽ lẩm bẩm. </p><p id="16">“Waltz for Debby.”[note88604]</p><p id="17">“Hả?” </p><p id="18">“Đó là một bản nhạc Jazz Piano nổi tiếng đấy.” Cậu ấy vừa nói vừa chỉ tay về phía chiếc loa gắn gần trần nhà.</p><p id="19">Hóa ra đó là tên của bản nhạc đang phát. Tôi tò mò hỏi thêm. </p><p id="20">“Cậu am hiểu về nhạc Jazz lắm sao?”</p><p id="21">“Cũng không am hiểu bằng quản lý đâu. Sở trường của tớ thực ra là nhạc cổ điển cơ.”</p><p id="22"><em>À đúng rồi, Nanase có học piano mà. </em></p><p id="23">Tôi nhớ lại chuyện cậu ấy từng nhắc đến khi cả nhóm sáu người chúng tôi cùng đi dạo trong buổi giới thiệu các câu lạc bộ.  </p><p id="24">“Cậu bắt đầu chơi piano từ khi nào vậy?”</p><p id="25">“Tớ học từ năm ba tuổi. Có lẽ tớ đã chơi đàn từ trước cả khi bắt đầu có những ký ức rõ ràng cơ. Bố mẹ tớ đều yêu âm nhạc và làm việc trong ngành này, ở nhà tớ còn có hẳn một cây đại dương cầm nữa.”</p><p id="26">Nanase vừa nói với vẻ mặt dịu dàng hơn hẳn thường ngày.</p><p id="27">“Lúc nào đó tớ muốn được nghe cậu đàn quá.” </p><p id="28">“Tớ cũng chẳng giỏi giang gì lắm đâu.” </p><p id="29">Dù Nanase khiêm tốn là vậy, nhưng thần thái của cậu ấy lại toát lên một vẻ tự tin đầy cuốn hút. Tôi thầm nghĩ, một người vốn đã giỏi giang đủ đường như Nanase, lại còn khổ luyện âm nhạc từ năm ba tuổi đến tận bây giờ, chắc chắn trình độ phải ở đẳng cấp đáng nể chứ chẳng chơi.</p><p id="30">“Còn Haibara-kun, cậu có thích âm nhạc không?”</p><p id="31">“Có chứ. Nhưng tớ chỉ nghe mỗi Rock thôi.”</p><p id="32">Những câu chuyện và âm nhạc chính là hai điểm tựa duy nhất đã nâng đỡ tôi suốt những ngày tháng thanh xuân xám xịt và ảm đạm ấy. Nếu như việc đọc sách đã cứu rỗi tôi khỏi nỗi tuyệt vọng của thực tại nghiệt ngã, thì âm nhạc lại mang đến sự đồng cảm và an ủi mỗi khi tôi thấy mình cô độc giữa thế gian. Nếu thiếu đi một trong hai, có lẽ tôi đã chẳng thể tìm thấy chút niềm vui nào trong sự tồn tại này. Thay vì chỉ đơn thuần là hối tiếc về tuổi trẻ, có lẽ tôi đã phải rời bỏ thế gian này trong sự hối hận về cả cuộc đời mình.</p><p id="33">“Nhạc Rock à? Đúng rồi, đợt đi karaoke cậu hát nhiều bài Rock lắm mà.”</p><p id="34">Những lời của Nanase khiến ký ức trong tôi ùa về. Tôi nhớ lại chuyện xảy ra sau kỳ thi giữa kỳ khi cả nhóm cùng đi hát karaoke. Lúc đó tôi và Uta đã song ca rất nhiều bài Rock của đủ các nhóm nhạc khác nhau.</p><p id="35">“Ừ, Uta cứ chọn bài liên tục không nghỉ tay luôn.” </p><p id="36">Thật bất ngờ khi gu âm nhạc của hai đứa lại hợp nhau đến thế. Cả hai chúng tôi đều phấn khích vì tìm được người cùng sở thích nên đã hơi quá đà và trở nên cực kỳ hưng phấn.</p><p id="37">“Hai người có nhiều điểm chung thật đấy.” Nanase nhận xét.</p><p id="38">Nếu suy nghĩ một cách tỉnh táo thì tôi cũng chẳng ngạc nhiên nếu lúc đó trông mình và Uta giống hệt một cặp đôi đang hẹn hò. </p><p id="39"><em>Ôi trời, đúng là xấu hổ quá đi. Giờ mới nhận ra thì cũng đã quá muộn rồi.</em></p><p id="40">Nanase cười khúc khích rồi chống tay lên quầy thu ngân. </p><p id="41"><img src="https://i2.hako.vip/ln/chapters/illusts/258902/001d8f72-3dca-46fa-af5e-5bdce6ffe4b7.jpg" alt="001d8f72-3dca-46fa-af5e-5bdce6ffe4b7.jpg">“Lúc đó Uta đáng yêu cực kỳ. Đôi mắt cậu ấy cứ lấp lánh mỗi khi nhìn cậu vậy.”</p><p id="42">“Làm gì có chuyện đó chứ.” Tôi vội vàng phủ nhận.</p><p id="43">“Ồ? Chắc hẳn đến giờ cậu cũng tự nhận ra rồi chứ.” </p><p id="44">Có lẽ vì thân thiết hơn nhờ làm việc chung, hoặc cũng có thể vì đã nắm thóp được cái quá khứ u ám của tôi mà dạo này Nanase chẳng còn nể nang gì cả. Cậu ấy cứ trêu chọc tôi không thương tiếc.</p><p id="45">“Aaa! Thôi đi mà.” </p><p id="46">Tôi chẳng biết phải đối đáp sao cho phải nên đành tìm cách lảng chuyện.</p><p id="47">Nanase nở một nụ cười rạng rỡ như hoa nở. Đó là một nụ cười trẻ thơ hoàn toàn trái ngược với tính cách điềm đạm thường ngày của cậu ấy. Cái sự tương phản này thực sự có sức sát thương quá lớn. </p><p id="48"><em>Chết tiệt thật. Cậu nghĩ là tớ sẽ tha thứ chỉ vì cậu dễ thương sao. Nhưng mà nói thật nhé, tớ chính thức trở thành fan của cậu luôn rồi.</em></p><p id="49">Ngay lúc tôi sắp sửa biến thành một fan cuồng idol thực thụ thì tiếng chuông cửa vang lên. Tôi và Nanase lập tức ngừng tán gẫu để quay trở lại với công việc.</p><p id="50">“Chào mừng quý khá—”</p><p id="51">Tôi khựng lại giữa chừng khi đang cất lời chào theo phản xạ. Một nữ sinh trong bộ đồng phục vừa bước vào cửa hàng. Đó là một người mà tôi đã quá đỗi quen mặt.</p><p id="52">“Hế lô! Tớ ghé chơi chút nè!”</p><p id="53">Đó là Motomiya Miori, cô bạn thanh mai trúc mã chẳng hiểu bằng cách nào mà lại học cùng trường với tôi suốt từ hồi tiểu học cho đến tận bây giờ.</p><p id="54"><em>Đừng có nói mấy câu nghe như kiểu bạn gái đang đến thăm người yêu đang đi làm thêm như thế chứ! </em></p><p id="55">Thế nhưng Miori vốn là kiểu người hay bóp méo lời tôi nói rồi cứ thế mà lấy đó làm cái cớ để nhắc đi nhắc lại mãi không thôi, vì vậy tốt nhất là tôi cứ giữ im lặng cho lành.</p><p id="56">“Cậu đến đây làm gì?” Tôi hỏi thẳng thừng.</p><p id="57">"Tớ có nói là đến gặp cậu đâu." Cậu ấy hừ nhẹ, quay mặt đi chỗ khác.</p><p id="58"><em>Cũng đúng.</em></p><p id="59">Nanase nhanh chóng chớp lấy khoảng lặng giữa hai đứa để xen vào. Bằng nụ cười và chất giọng chuẩn mực của nhân viên phục vụ, cậu ấy nhẹ nhàng dẫn Miori đi.</p><p id="60">“Mời cậu đi lối này nhé.”</p><p id="61">Vừa thấy Nanase, Miori đã tươi cười chào hỏi ngay. </p><p id="62">“Ô, Yuino-chan! Cảm ơn cậu nhiều nha!”</p><p id="63">"Không có gì đâu."  </p><p id="64">“Hôm nay có chuyện gì đặc biệt sao? Đã muộn thế này rồi mà cậu vẫn còn ra ngoài á.”</p><p id="65">Cậu ấy lập tức đổi sang tông giọng thân mật để bắt nhịp với sự nhiệt tình của Miori. Khả năng đọc vị tình huống của Nanase đúng là không đùa được đâu. Đó chính là bí quyết giúp cậu ấy có cực nhiều bạn bè dù sở hữu vẻ ngoài có phần lạnh lùng.</p><p id="66">“Buổi tập hôm nay vừa xong, tớ muốn có một buổi bàn kế hoạch với cái tên đằng kia một chút.” Miori vừa nói vừa nở một nụ cười đầy ẩn ý rồi chỉ tay về phía tôi.</p><p id="67"><em>Chỉ tay vào người khác là bất lịch sự lắm đấy nhé. Với lại, cái quái gì thế này!? Hóa ra cậu đến để gặp tớ thật à. Lúc nào cũng chẳng chịu thành thật hay đồng tình với tớ lấy một câu, đúng là vẫn y hệt như hồi còn nhỏ vậy.</em></p><p id="68">"Bàn kế hoạch sao?" Nanase nghiêng đầu thắc mắc.</p><p id="69">“Cũng không có gì to tát đâu. Hai cậu sắp xong việc rồi đúng không?” </p><p id="70">“Ừ, tụi tớ làm đến mười giờ.” Nanase vừa nói vừa liếc nhìn đồng hồ. Lúc này đã là chín giờ rưỡi tối rồi.</p><p id="71">“Tụi tớ không được ở lại đây quá mười giờ đâu, quản lý mà biết là mắng chết đấy.” Tôi nhắc nhở Miori.</p><p id="72">Làm học sinh cấp ba đúng là có nhiều cái bất tiện thật. Hồi còn là sinh viên đại học, tôi có thể làm đến tận đêm khuya, nhưng giờ theo luật thì chỉ được làm đến mười giờ tối. Mà thôi, phận học sinh thì cũng đành chịu vậy.</p><p id="73">“Thế à? Vậy lát nữa cùng về chung nhé.” Miori đề nghị một cách thản nhiên.</p><p id="74">Tôi chần chừ giây lát rồi miễn cưỡng gật đầu. </p><p id="75">"Ừ, được thôi."</p><p id="76">Chắc là cậu ấy rất muốn bàn kế hoạch rồi. Không biết chuyện cậu ấy với Reita tiến triển thế nào nhỉ?</p><p id="77">“Tớ ngồi đây đợi đến lúc cậu tan ca nhé? À mà, cho tớ một ly cà phê nhé!” Miori tự quyết định luôn mà chẳng thèm đợi tôi có ý kiến gì rồi cứ thế ngồi xuống ghế.</p><p id="78"><em>Vẫn lắm chuyện như mọi khi, đúng là “Chị đại nhỏ”. </em></p><p id="79">Tuy cửa hàng lúc này không còn mấy khách, nhưng vì vẫn đang trong ca làm nên tôi không thể tiếp tục đứng đó buôn chuyện với Miori được. Tôi để mặc cậu ấy ở đó rồi quay lại khu vực phía sau quầy thu ngân.</p><p id="80">Nanase đi theo sau tôi rồi khẽ nhận xét. </p><p id="81">“Hai cậu thân nhau thật đấy.”</p><p id="82">“Thì cũng đại loại là vậy, vì tụi tớ học chung trường từ hồi tiểu học rồi mà.” </p><p id="83">Nói vậy chứ trước khi tôi quay trở lại đây, mối quan hệ giữa Miori và tôi không thân thiết đến mức cậu ấy có thể tự nhiên ghé chỗ làm như vậy. Chúng tôi chỉ có một thỏa thuận hỗ trợ lẫn nhau, không hơn không kém. Cậu ấy nói là để bàn kế hoạch, nên tôi đoán chắc nội dung cuộc nói chuyện chỉ xoay quanh việc đó thôi.</p><p id="84">Cổ họng tôi khô khốc nên đành hớp một ngụm nước. Đúng lúc ấy, Nanase bỗng hỏi bằng một tông giọng thản nhiên như không.</p><p id="85">“Hai cậu đang hẹn hò à?”</p><p id="86">“Phụttt!?”</p><p id="87">Tôi bị sặc nước, suýt chút nữa là phun hết sạch ra ngoài. Phải vất vả lắm mới nuốt ngược được đống nước đó xuống trước khi nó kịp bắn tung tóe. </p><p id="88"><em>Hú hồn, suýt thì xong đời thật. Nanase, cậu hỏi cái quái gì thế hả!? </em></p><p id="89">“K-Không đời nào!” Tôi kịch liệt phủ nhận.</p><p id="90">“Thật sao? Cậu ấy vừa tập xong đã lặn lội đến tận đây để gặp cậu, lại còn ngồi đợi cậu tan làm để cùng về nữa. Nhìn khách quan mà nói thì hai người trông chẳng khác nào một cặp đôi cả.”</p><p id="91">Nanase liếc nhìn Miori lúc này đang thản nhiên nghịch điện thoại.</p><p id="92">“Với lại, bàn kế hoạch? Mà là kế hoạch gì mới được chứ?”</p><p id="93">“Thì... ừm... Chuyện là vậy đó, cậu biết mà.” </p><p id="94">“Cậu có thể giải thích cho tớ về việc hai người đang định bàn kế hoạch gì được không?”</p><p id="95">“Ư... ờm...”</p><p id="96">Tôi ấp úng chẳng biết phải nói gì. Bản giao kèo giữa tôi và Miori là tôi sẽ giúp cậu ấy hẹn hò với Reita, đổi lại cậu ấy phải hỗ trợ tôi thực hiện Kế hoạch Thanh xuân rực rỡ. </p><p id="97">Nanase đã biết về màn thay đổi ngoại hình khi lên cấp ba của tôi nên việc tiết lộ một nửa thỏa thuận chắc cũng không sao, nhưng vấn đề là tôi sẽ phải nói ra chuyện Miori đang nhắm đến Reita. </p><p id="98">Dù tôi tin Miori chẳng bận tâm nếu Nanase biết chuyện, nhưng đây không phải là điều tôi nên tự tiện nói ra khi chưa được sự đồng ý của cậu ấy. Tôi vắt óc suy nghĩ xem làm cách nào để xóa tan hiểu lầm này mà không để lộ bí mật của Miori.</p><p id="99">“Tớ xin lỗi nhé. Nếu thấy không thoải mái thì cậu không cần phải nói đâu.” Nanase khẽ lắc đầu.</p><p id="100">“Không phải là tớ thấy không thoải mái, nhưng mà...” </p><p id="101">“Nhìn phản ứng của cậu là tớ cũng lờ mờ đoán được rồi. Để lần tới tớ hỏi thẳng Miori-san vậy.”</p><p id="102">“Xin lỗi nhé, phiền cậu hỏi cậu ấy giúp tớ vậy.”</p><p id="103">Tôi thở phào nhẹ nhõm vì thoát được bàn thua trông thấy.</p><p id="104">“Mà khoan đã, hai cậu thân nhau từ lúc nào thế?”</p><p id="105">Hai người họ từng chạm mặt nhau vào buổi giới thiệu các câu lạc bộ và cả lần học nhóm nữa. Tôi từng thấy Miori nói chuyện với mấy người khác rồi, nhưng chẳng nhớ nổi lấy một lần nào cậu ấy và Nanase trao đổi với nhau.</p><p id="106">“Cũng không hẳn, nhưng cậu ấy cùng câu lạc bộ với Uta nên tụi tớ vốn đã khá thân rồi mà. Bạn của bạn thì về cơ bản cũng là bạn của tớ thôi.”</p><p id="107">Cái logic của hội hướng ngoại đúng là ở một cái tầm khác rồi… Cậu nói thật đấy hả? Thú thật là từ trước đến giờ tôi cứ thầm mặc định rằng Nanase thuộc kiểu người hướng nội giống tôi... Với tôi thì bạn của bạn cũng chỉ là người dưng nước lã mà thôi. </p><p id="108">Ồ khoan, tôi làm gì có lấy một mống bạn nào đâu. Ha ha ha! Phải cười cho qua vậy thôi. Cuối cùng thì tất cả cũng chỉ nằm ở cái trình độ giao tiếp mà tôi đang thiếu hụt một cách thảm hại này.</p><p id="109">Cuộc trò chuyện giữa Nanase và Miori nãy giờ chẳng hề có lấy một chút gượng gạo nào. Cả hai đều giữ được sự thân mật vừa đủ và nói chuyện vô cùng tự nhiên. Nếu là tôi mà thử bắt chuyện với bạn của bạn mình thì chắc chắn là sẽ biến mọi thứ thành một thảm họa khó đỡ ngay. Tôi sẽ cứ đứng đó lưỡng lự xem có nên chào người ta ở trường hay không, rồi cuối cùng lại lảng mắt đi chỗ khác để trốn tránh thực tại cho mà xem!</p><p id="110">Nanase cắt ngang dòng suy nghĩ dở hơi của tôi. </p><p id="111">“Tớ muốn trở thành bạn tốt với Miori-san. Cậu ấy dễ thương thật đấy... Với lại các đường nét cũng rất tuyệt vời. Quá chuẩn bài luôn!” Cậu ấy vừa nhìn về phía Miori vừa gật đầu vẻ tâm đắc.</p><p id="112">“Ừ, nếu chỉ nhìn ngoại hình thôi thì đúng là tuyệt thật.” </p><p id="113">“Đó mới là phần quan trọng nhất chứ. Phụ nữ đẹp là nhất trên đời.”</p><p id="114">“N-Nanase?” </p><p id="115">Tôi bàng hoàng trước tông giọng của cậu ấy. Là do tôi tưởng tượng hay tính cách của cậu ấy vừa bị văng ra khỏi đường ray thế này? </p><p id="116">“A-À, t-tớ chỉ đùa chút thôi mà. Tớ mới chỉ nói chuyện với cậu ấy vài lần nhưng tớ thấy tính cách cậu ấy rất thú vị. Đúng vậy, chắc chắn là thế rồi! Đó là lý do tớ muốn làm bạn với cậu ấy chứ tớ không hề có ý đồ đen tối nào đâu.” Nanase khẽ thốt lên một tiếng đầy bối rối.</p><p id="117">“V-Vậy hả?”</p><p id="118">Tôi thực sự muốn tin rằng cái bầu không khí đáng báo động mà cậu vừa tỏa ra chỉ là do tôi tưởng tượng mà thôi. Thỉnh thoảng Nanase như vô tình để lộ một phần con người thật bên trong, có lẽ là vì chúng tôi đã thân thiết hơn trước. Mong rằng cậu ấy kìm lại một chút và che giấu chúng tốt hơn.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note88604"><a href="#anchor-note88604" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note88604" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text"><a href="https://share.google/G2YQCONSzJYB3ZETS" rel="nofollow noreferrer noopener" target="_blank">https://share.google/G2YQCONSzJYB3ZETS</a></span></div><span class="note-content_real long-text"><a href="https://share.google/G2YQCONSzJYB3ZETS" rel="nofollow noreferrer noopener" target="_blank">https://share.google/G2YQCONSzJYB3ZETS</a></span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c298934-chuong-11-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23979-tro-choi-thanh-xuan-tran-day-nhiet-huyet-cua-haibara/c305069-chuong-13-hay-cung-nang-thanh-tinh-yeu-cua-bon-ho-len-nua-nao" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'VnafvBhBVeJ5Haiv6riN6z5J6UaeUGtRtIXPP8fw';
        var comment_type = 'chapter';
        var comment_typeid = '304957';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'VnafvBhBVeJ5Haiv6riN6z5J6UaeUGtRtIXPP8fw';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23979');
    chapter_id = parseInt('304957');

    readingObject = {
        series_id: series_id,
        series_title: 'Trò chơi thanh xuân tràn đầy nhiệt huyết của Haibara',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="VnafvBhBVeJ5Haiv6riN6z5J6UaeUGtRtIXPP8fw" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c9c1201fc54e5f8',t:'MTc3MDM5NTgyNw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

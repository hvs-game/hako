<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Chuyện tôi cứu vớt dàn nữ chính khỏi cái kết bi thảm của Eroge - Mở đầu: Chuyển sinh thành phản diện trong Eroge - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="&quot;&quot;&quot;Tớ muốn…… ở bên cậu mãi mãi&quot;&quot;&quot; Harem phần thưởng nhờ cứu vớt nữ chính Tôi đã chuyển sinh thành Ibuse Reo, gã phản diện chuyên đi cắm sừng trong một tựa game Eroge. Những cái kết trầm cảm của các nữ chính trong game này vô cùng thê thảm,...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="26VZhrZ9prJYj0m6XvY8KFmRjRuIm8sgUpOsFok5">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281565-mo-dau-chuyen-sinh-thanh-phan-dien-trong-eroge">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24458-35828059-0304-4830-af63-9abf314c2edb.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281564-illustrations"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281714-chapter-1-nu-chinh-tomboy-muon-duoc-ngam-nhin"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281565-mo-dau-chuyen-sinh-thanh-phan-dien-trong-eroge" style="background: url('https://i.hako.vn/ln/series/covers/s24458-35828059-0304-4830-af63-9abf314c2edb.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge">Chuyện tôi cứu vớt dàn nữ...</a></h5>
                    <small><i class="fas fa-pen"></i>HaLu_</small>
                    <small><i class="fas fa-paint-brush"></i>雨</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/t35351-volume-1">Volume. 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281564-illustrations">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Illustrations
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281565-mo-dau-chuyen-sinh-thanh-phan-dien-trong-eroge">
                                                                        Mở đầu: Chuyển sinh thành phản diện trong Eroge
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281714-chapter-1-nu-chinh-tomboy-muon-duoc-ngam-nhin">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chapter 1: Nữ chính Tomboy muốn được ngắm nhìn
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Volume. 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Mở đầu: Chuyển sinh thành phản diện trong Eroge</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281565-mo-dau-chuyen-sinh-thanh-phan-dien-trong-eroge#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,854 từ - Cập nhật: 
                        <time class="topic-time timeago" title="29-12-2025 23:21:06" datetime="2025-12-29T23:21:06+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Mở đầu: Chuyển sinh thành phản diện trong Eroge</p>
                    <p id="1">Mái tóc nhuộm màu vàng kim. Cơ thể được tôi luyện rắn chắc đến mức có thể nhận ra ngay cả qua lớp đồng phục. Và hàng tá lời đồn đại xấu xa đúng như vẻ bề ngoài ấy. Chỉ đơn giản là đi bộ dọc hành lang thôi mà những ánh nhìn từ xung quanh đâm vào người tôi đau đớn khủng khiếp.</p><p id="2">Tôi là kẻ cực ác số một của cái trường này, kẻ mà ai cũng phải khiếp sợ. Vốn dĩ chẳng có ai lại thích thú dây dưa với một kẻ như vậy, và tôi cũng đã định sẵn là sẽ như thế. Đáng lẽ ra phải là như thế, vậy mà...</p><p id="3">“Ah, Senpai! Tackle!”</p><p id="4">“Guh... đã bảo đừng có bất ngờ lao vào thế mà...”</p><p id="5">“Em xin lỗi! Em lỡ tay!”</p><p id="6">Mặc kệ những ánh nhìn từ xung quanh, cô bé hậu bối Akari tung ra một cú húc toàn lực vào người tôi. Tôi biết đó là cách Akari thể hiện sự thân thiết, nhưng làm ơn đừng có đột ngột như vậy chứ.</p><p id="7">Trong lúc tôi đang chống cự để cố gỡ Akari ra, một nữ sinh khác vừa thở dài vừa tiến lại gần.</p><p id="8">“Thật tình... Hai người thân thiết quá nhỉ.”</p><p id="9">“...Có thân thiết gì đâu chứ.”</p><p id="10">Người vừa đến là đàn chị kiêm Hội trưởng Hội học sinh, Shiori. Chị ấy chỉ đứng đó nhìn chúng tôi với vẻ mặt kiểu “hết thuốc chữa” chứ chẳng hề có ý định giúp tôi gỡ Akari ra.</p><p id="11">“Ah, Ibuse-kun... về cuốn manga tớ cho mượn hôm trước ấy...”</p><p id="12">Lại thêm một nữ sinh khác tiến đến chỗ tôi, kẻ mà mới lúc nãy thôi còn đang đứng một mình. Tôi vừa cố gắng tách Akari vẫn đang dính chặt lấy mình ra, vừa trả lời cô bạn đó.</p><p id="13">“Ờ. Phải nói là cực phẩm.”</p><p id="14">“...! Đúng không nào!! Tớ biết là Ibuse-kun sẽ hiểu mà!”</p><p id="15">Nanami, cô bạn cùng lớp và cũng là bạn cùng sở thích Otaku với tôi, gật đầu vui sướng trước câu trả lời của tôi, rồi cô ấy bước vào cái vòng tròn ồn ào này, nơi mà lẽ ra cô ấy sẽ thấy rất ngại ngùng.</p><p id="16">Bị hậu bối bám dính, bị đàn chị càm ràm, rồi hào hứng bàn chuyện sở thích với bạn cùng lớp. Một bố cục tựa như Harem mà bất cứ thằng đàn ông nào cũng phải ghen tị đã hình thành. Mới trước đây thôi, tôi chưa bao giờ tưởng tượng nổi chuyện này sẽ xảy ra.</p><p id="17">“...Tại sao mọi chuyện lại thành ra thế này nhỉ.”</p><p id="18">Quay ngược lại khoảng một tháng trước.</p><p id="19">“N-này...”</p><p id="20">“Sao hắn lại ở đây chứ...”</p><p id="21">Tiếng xì xào, bàn tán và những ánh nhìn soi mói từ xung quanh đâm chọc vào người tôi. Cũng phải thôi, một kẻ trước giờ chẳng mấy khi đến trường nay lại ngoan ngoãn ngồi vào chỗ ngay từ giờ sinh hoạt chủ nhiệm buổi sáng thì phản ứng thế này cũng là lẽ thường...</p><p id="22">“S-sắp thi cuối kỳ rồi... Đừng có thấy sắp nghỉ hè mà lơ là đấy nhé...”</p><p id="23">Thầy chủ nhiệm đứng trên bục giảng cũng vừa nói vừa liếc nhìn về phía tôi đầy e dè. Cảm giác khó ở kinh khủng. </p><p id="24">Dù một phần cũng do những hành vi trong quá khứ của tên này, nhưng bị đối xử thế này thì càng khiến người ta chẳng muốn đến trường thêm chút nào.</p><p id="25">Giờ sinh hoạt chủ nhiệm trôi qua trong sự sợ sệt của cả lớp, và những người ngồi quanh chỗ tôi đều nhất loạt rời khỏi chỗ ngồi. Nhưng tôi chẳng bận tâm đến điều đó, mắt tôi đang hướng về một cặp nam nữ nọ.</p><p id="26">Cậu nam sinh thì không có đặc điểm gì quá nổi bật, nhưng gương mặt khá ưa nhìn. Nếu phải xếp loại thì cũng thuộc dạng ikemen. Tên cậu ta là Miyano Kaede. Dù thuộc câu lạc bộ về nhà nhưng khả năng giao tiếp của cậu ta trên mức trung bình, và cũng có kha khá bạn bè.</p><p id="27">Mà, cậu ta thế nào cũng được. Quan trọng hơn là cô gái kia.</p><p id="28">Mái tóc bob bồng bềnh cùng góc nghiêng vẫn còn vương nét ngây thơ. Dáng người tạo cảm giác hơi đầy đặn, mềm mại. Tính cách thì vô cùng tháo vát và dịu dàng với bất kỳ ai. Tên cô ấy là Mizukami Noa. Bạn thuở nhỏ của cậu nam sinh kia.</p><p id="29">Được học cùng lớp thế này tôi mới thấm thía. Là đàn ông bình thường thì ai mà chẳng đổ. So với những cô gái khác, cô ấy nổi bật hơn hẳn. Route chinh phục của cô ấy khá khó nhằn, nhưng chính điều đó lại tạo nên sức hút Happy End mà tôi nhìn thấy sau bao lần bị cốt truyện làm cho phá hủy não bộ, quả thực vô cùng tuyệt vời... À, nhân tiện thì tôi cũng nên tự giới thiệu về mình đã.</p><p id="30">Tên tôi là Ibuse Reo. Mái tóc nhuộm vàng, chiều cao hơn 1 mét 80 cùng khối cơ bắp rắn chắc đến mức tưởng chừng như có thể cân tất nếu đi tập võ. Tướng mạo cực ác như tội phạm. Thanh kiếm lủng lẳng giữa háng tựa như rồng.</p><p id="31">Đích thị là vai phản diện. Chính xác là gã chuyên đóng vai người tình trong các cảnh nóng.</p><p id="32">Đúng vậy. Đó chính là tôi, Ibuse Reo.</p><p id="33">Trong tựa game 18+ 『Các nữ chính trong dàn Harem của tôi đã cắm sừng tôi từ lúc nào không hay...』, tôi là một trong những tên phản diện cặn bã nhắm vào cô bạn thuở nhỏ của nhân vật chính, Mizukami Noa.</p><p id="34">.........Đến tận bây giờ tôi vẫn không thể tin được. Mới hôm qua tôi vẫn chỉ là một sinh viên đại học bình thường. Trên đường đi làm thêm về, tôi bị xe tông nhẹ một cái, và khi tỉnh dậy thì đã thấy mình đang ở trong một căn phòng lạ lẫm.</p><p id="35">Sau khi kiểm tra đông tây nam bắc, tôi đi đến kết luận rằng mình đã chuyển sinh vào thế giới của tựa game Eroge mà tôi từng chơi khi còn sống.</p><p id="36">Hơn nữa, lại là trong vai Ibuse Reo, thiên địch trong route của Mizukami Noa, cái route mà tôi đã thất bại không biết bao nhiêu lần. Nhưng thú thật, tôi lại thấy mừng vì được chuyển sinh vào vai này.</p><p id="37">Tựa game này có một cơ chế cực kỳ tàn khốc. Từ bìa đĩa cho đến diễn biến đầu game đều tỏa ra cái không khí Harem vui vẻ, nhưng cuối cùng, bên cạnh nhân vật chính chỉ còn lại duy nhất một nữ chính. Dù có cố gắng thế nào đi nữa, khoảnh khắc người chơi bước vào route của ai đó, flag của các nữ chính khác sẽ gãy sạch, và những cô gái đáng lẽ đang vui vẻ tán tỉnh nhau sẽ dần dần biến mất.</p><p id="38">Thế nhưng, ngay cả khi vào được route, chưa chắc nhân vật chính đã được hạnh phúc bên cô gái đó. Sau đó vẫn phải nỗ lực hết mình để không bị cuốn vào những biến cố.</p><p id="39">Harem route ư? Không bao giờ có chuyện đó đâu, đúng như cái tựa đề game đã gợi ý.</p><p id="40">Tóm lại, nếu cứ theo đúng game, chắc chắn các nữ chính sẽ có quan hệ với những gã đàn ông khác. Nếu chuyện đó mang lại hạnh phúc thì chẳng có vấn đề gì. Nhưng hầu hết đều phải trải qua những quá trình ức chế đến lộn ruột, để rồi đi đến một tương lai hủy diệt. Đã thế còn kèm theo cả H-scene đúng chất Eroge. Và những cảnh H này lại có cơ chế quỷ súc là không thể skip ở lần chơi đầu tiên, buộc người chơi phải xem, và sự chấn động của nó khủng khiếp đến mức xem một lần là ám ảnh cả đời.</p><p id="41">Trong bối cảnh đó, Ibuse Reo thì sao?</p><p id="42">Nếu là Reo, kẻ không phải nhân vật chính, tôi sẽ không bị ràng buộc bởi sức mạnh của cốt truyện, và biết đâu tôi có thể đập tan toàn bộ những diễn biến ức chế đó.</p><p id="43">NTR hay những chuyện gây ức chế được chấp nhận vì đó là hư cấu. Nhưng với tư cách là một con người đang sống trong cùng một thế giới, việc cứu người khác khỏi sự diệt vong mà mình đã biết trước thì có gì là sai? Mong muốn tất cả những nữ chính đáng thương kia đều được hạnh phúc thì có gì là sai?</p><p id="44">Đó là tựa game chứa đầy kỷ niệm mà tôi đã hoàn thành dù bao lần nát óc, bao lần định bỏ cuộc. Dù không biết do nhân quả nào đưa đẩy, nhưng tôi của hiện tại đã khác với lúc bất lực trước màn hình máy tính.</p><p id="45">Thay cho nhân vật chính đang bị kịch bản trói buộc, tôi sẽ đập tan từng Bad End của các nữ chính!</p><p id="46">Chính vì vậy, để tránh những cái kết ức chế cho các nữ chính, việc đầu tiên là quan sát. Điều này rất quan trọng. Tôi phải xác định xem nhân vật chính sẽ đi vào route nào.</p><p id="47">Game bắt đầu vào ngày 3 tháng 6. Thật trùng hợp, đó cũng là ngày tôi chuyển sinh đến thế giới này. Cái ngày tháng lưng chừng này có nghĩa là nhân vật chính đã gặp gỡ và có mức độ thân thiết nhất định với các nữ chính rồi mới bắt đầu game.</p><p id="48">Vốn dĩ độ khó của game đã rất cao, lại thêm một tuần đã trôi qua kể từ đó, đến hôm nay là ngày 10 tháng 6, tùy vào động thái của nhân vật chính mà có thể nhiều flag đã được dựng lên rồi. </p><p id="49">Vậy nên, cùng với kết quả quan sát mấy ngày nay, tôi sẽ tổng hợp lại thông tin về các cô gái xung quanh nhân vật chính.</p><p id="50">Đầu tiên là cô bạn thuở nhỏ Mizukami Noa... Về phần Noa, nếu tôi không làm gì thì sẽ không có vấn đề gì cả. Có thể nói là an toàn nhất.</p><p id="51">Tiếp theo là cô bạn Otaku cùng lớp, Kinoshita Nanami. Mái tóc mái dày cộm và cặp kính cận quê mùa. Thoạt nhìn thì chẳng có chút dáng dấp nào của một nữ chính, nhưng thực ra mặt mộc lại là siêu mỹ nhân. Kích thước vòng một cũng thuộc hàng top trong các nữ chính. Đây là kiểu nữ chính khiến mấy tên u ám cô độc xung quanh hay nghĩ kiểu “Sự dễ thương của Kinoshita chỉ có mình ta biết thôi”.</p><p id="52">Cuộc gặp gỡ với nhân vật chính diễn ra ở thư viện, khi cả hai cùng định lấy một cuốn Light Novel, tay chạm tay... một tình huống sến súa kinh điển. Mà, như thế cũng dễ hiểu, tốt thôi.</p><p id="53">Và tiếp theo là...</p><p id="54">“Senpa~i!”</p><p id="55">Khi tôi đang lơ đãng nhìn về phía nhóm nhân vật chính, một giọng nói đầy năng lượng vang lên từ cửa sau lớp học.</p><p id="56">“Em đến đưa cơm hộp mà Senpai để quên thay cho Sakura đây ạ!”</p><p id="57">“Cảm ơn em đã cất công nhé.”</p><p id="58">“Không có gì ạ! Chuyện nhỏ ấy mà! Vậy em đi nhé!”</p><p id="59">Cô gái lao đến đưa hộp cơm cho nhân vật chính với tốc độ như vũ bão rồi rời khỏi lớp chính là nữ chính thứ ba.</p><p id="60">Cô nàng Tomboy xưng Boku, “Sera Akari”. Đặc điểm nhận dạng là làn da bánh mật khỏe khoắn và mái tóc cắt ngắn hơn cả con trai. So với Noa hay Nanami thì phần ngực có hơi khiêm tốn. Cô bé thuộc câu lạc bộ điền kinh và là một vận động viên khá cừ khôi.</p><p id="61">Cơ duyên để Akari và nhân vật chính gặp nhau phần lớn là nhờ sự tồn tại của nhân vật tên “Miyano Sakura”. Sakura là bạn của Akari, và cũng là em gái của nhân vật chính. Nghe Sakura thường xuyên khoe về ông anh trai đáng tự hào, Akari sinh ra tò mò và bắt đầu tiếp cận nhân vật chính.</p><p id="62">Nói thêm là, em gái và nhân vật chính không cùng huyết thống. Để biết được điều đó thì phải chơi route ẩn là route Sakura, nhưng mà... có lẽ biên kịch game vẫn còn chút lương tâm, nên route em gái không có yếu tố gây ức chế nào, thậm chí lúc ra tay với cô em gái kiêm người nhà này lại là lúc tâm lý thoải mái nhất.</p><p id="63">Thực ra, vẫn còn một nữ chính nữa, nhưng mà...</p><p id="64">“Cậu kia, tôi nói chuyện một chút được không.”</p><p id="65">Đột nhiên có tiếng gọi từ sau lưng. Một giọng nữ trầm, lạnh lùng và oai nghiêm mà tôi từng nghe qua.</p><p id="66">“...Gì thế?”</p><p id="67">Vừa nhắc Tào Tháo, Tào Tháo đến. Đứng sau lưng tôi chính là nữ chính thứ tư của tựa game này.</p><p id="68">“Ở đây gây chú ý quá. Đổi chỗ khác đi.”</p><p id="69">Cô gái dáng người cao ráo, rất hợp với kiểu tóc đuôi ngựa, dẫn tôi đến phòng Hội học sinh. Tự dưng lại tạo không gian riêng tư với một thằng côn đồ như tôi... Chính vì thế này nên cô mới gặp rắc rối đấy.</p><p id="70">“Rồi, tôi sẽ nói thẳng... Gần đây tôi nghe báo cáo rằng cậu đang có hành vi quấy rối.”</p><p id="71">“...Tôi có làm gì đâu.”</p><p id="72">“Vậy sao. Theo nạn nhân thì cậu cứ lườm nguýt họ một cách đáng sợ... Cậu thực sự không thấy có gì đáng ngờ à?”</p><p id="73">“Chỉ là mắt tôi sinh ra đã dữ tướng thế thôi.”</p><p id="74">“...Lúc nãy tôi cũng thấy cậu lườm một nam sinh nào đó mà?”</p><p id="75">“............Haa.”</p><p id="76">Cô gái mang trong mình tinh thần chính nghĩa thừa thãi và không có ý định nhượng bộ này tên là “Fujita Shiori”. Là nhân vật chính duy nhất học năm ba, và là một trong các heroine kiêm Hội trưởng Hội học sinh đương nhiệm. Điểm đặc trưng là mái tóc đuôi ngựa, chiều cao chắc cũng phải 1m70. Ngay cả qua lớp đồng phục cũng thấy được sự căng tràn của vòng một, xứng đáng đứng đầu bảng xếp hạng những nữ chính khiến người ta muốn nghe câu thoại “Thà giết ta đi còn hơn”.</p><p id="77">Cơ duyên gặp gỡ với nhân vật chính là khi cô đánh rơi tập tài liệu ở hành lang và được cậu ta nhặt giúp. Từ đó, nhân vật chính thường xuyên giúp đỡ công việc của Shiori... đại loại là thế.</p><p id="78">Shiori có tính cách khá nghiêm túc và cực ghét những chuyện sai trái. Chính vì tính cách đó mà cô dễ gây thù chuốc oán, và đó cũng là nguyên nhân dẫn đến biến cố... nhưng chuyện đó để sau hãy tính.</p><p id="79">Quan trọng hơn là tôi phải tìm cách thoát khỏi tình huống này. Bị ghim thì sẽ rất khó hành động.</p><p id="80">“Đánh giá người khác qua vẻ bề ngoài là không tốt đâu nhé, Hội trưởng.”</p><p id="81">“C-cũng đúng. Nhưng nếu vậy thì sao Kaede-kun lại............ Hả!? Khoan, không có gì đâu nhé!?”</p><p id="82">Shiori từng bị bắt nạt hồi cấp hai vì vóc dáng to cao của mình. Tức là chỉ cần đụng đến chuyện ngoại hình thì cô nàng sẽ không thể phản bác được. </p><p id="83">Hơn nữa, cô nàng này rất dễ bị bắt thóp. Có lẽ là người dễ bị dắt mũi nhất.</p><p id="84">“Xong chưa vậy? Tôi còn chưa ăn trưa xong nữa.”</p><p id="85">“A-ah! Xin lỗi. Nhưng nếu tôi còn nhận được báo cáo tương tự từ người khác thì...”</p><p id="86">“Biết rồiiii. Tôi sẽ chú ý màa.”</p><p id="87">Tôi trả lời Shiori một cách hờ hững rồi rời khỏi phòng Hội học sinh.</p><p id="88">Thế này là được rồi. Dù sao thì chuyện tôi quan sát họ mấy ngày nay là sự thật, lấp liếm trót lọt là tốt rồi. Tôi cũng chẳng có ý định làm người tốt. Chỉ cần ngăn chặn được sự diệt vong là đủ.</p><p id="89">Qua một lượt quan sát thì tôi cũng nắm được nhiều điều... nhưng e là nhân vật chính sẽ đi vào route Noa. Cậu ta trông không có vẻ gì là chủ động hành động cả. Trong game, nếu không làm gì thì sẽ tự động vào route Noa, nên chắc diễn biến cũng sẽ y hệt thôi.</p><p id="90">Vậy vấn đề trong trường hợp này là gì?</p><p id="91">Đó là sự kiện đầu tiên của game sẽ xảy ra vào cuối tuần này.</p><p id="92">Cú sốc lần đầu chơi game lớn đến nỗi tôi nhớ như in cả ngày tháng. Một cú First Blood không có cách nào đối phó, đánh thẳng vào tâm lý người chơi ngay từ phát đầu tiên để phô bày bản chất của tựa game này. Một sự kiện tồi tệ nhất.</p><p id="93">Thứ Sáu, ngày 14 tháng 6.</p><p id="94">Tên sự kiện, 『Vì em cũng muốn được nữ tính』</p><p id="95">Nữ chính mục tiêu: Sera Akari</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281564-illustrations" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281714-chapter-1-nu-chinh-tomboy-muon-duoc-ngam-nhin" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3143093"
    class="ln-comment-item mt-3 clear"
    data-comment="3143093" 
    data-parent="3143093" 
    data-type="chapter" 
    data-typeid="281565">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://docln.net/img/noava.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/225173">Có yan thì đến</a>
    </div>
                                        <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#49d0b2]/50 dark:bg-[#36a189]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#36a189] dark:text-[#eaeaea]">
                <img class="my-auto h-[14px]" src="/img/badge/trans5.png" />
                <div class="leading-4">TRANS</div>
            </div>
        </div>
                <div class="self-center">
            <div
                class="flex gap-1 rounded-sm bg-[#e3953e]/50 dark:bg-[#9c662a]/50 px-1.5 py-0.5 align-middle text-[10px] font-bold text-[#9c662a] dark:text-[#ecd8c2]">
                <img class="my-auto h-[14px]" src="/img/badge/cvter2.png" />
                <div class="leading-4">AI MASTER</div>
            </div>
        </div>
    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Khoái liền🤡🤡
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24458-chuyen-toi-cuu-vot-dan-nu-chinh-khoi-cai-ket-bi-tham-cua-eroge/c281565-mo-dau-chuyen-sinh-thanh-phan-dien-trong-eroge?comment_id=3143093#ln-comment-3143093"
                            class="text-slate-500">
                            <time class="timeago" title="29-12-2025 22:36:30"
                                datetime="2025-12-29T22:36:30+07:00">
                                29-12-2025 22:36:30
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '26VZhrZ9prJYj0m6XvY8KFmRjRuIm8sgUpOsFok5';
        var comment_type = 'chapter';
        var comment_typeid = '281565';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '26VZhrZ9prJYj0m6XvY8KFmRjRuIm8sgUpOsFok5';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24458');
    chapter_id = parseInt('281565');

    readingObject = {
        series_id: series_id,
        series_title: 'Chuyện tôi cứu vớt dàn nữ chính khỏi cái kết bi thảm của Eroge',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="26VZhrZ9prJYj0m6XvY8KFmRjRuIm8sgUpOsFok5" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

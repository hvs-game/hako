<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Luân hồi khốn kiếp - Chương 4: Lionheart (2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hamel Dyphus, một trong những anh hùng đã cùng đồng đội tiêu diệt Quỷ Vương, chết một cách nhục nhã ngay trước thời khắc cuối cùng. Hắn không phải anh hùng cao thượng, cũng chẳng phải kẻ chính trực — chỉ là một kẻ liều mạng chiến đấu để sinh...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="Tc3OX5drxD1LfvKTyFKrcD01HpyofC6jQKBYg0at">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24740-luan-hoi-khon-kiep/c296119-chuong-4-lionheart-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24740-ba442451-e020-422b-bc9c-7614eb40dc1f.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24740-luan-hoi-khon-kiep/c296118-chuong-3-lionheart-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24740-luan-hoi-khon-kiep"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24740-luan-hoi-khon-kiep/c296120-chuong-5-lionheart-3"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24740-luan-hoi-khon-kiep/c296119-chuong-4-lionheart-2" style="background: url('https://i.hako.vn/ln/series/covers/s24740-ba442451-e020-422b-bc9c-7614eb40dc1f.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24740-luan-hoi-khon-kiep">Luân hồi khốn kiếp</a></h5>
                    <small><i class="fas fa-pen"></i>목마</small>
                    <small><i class="fas fa-paint-brush"></i>Park Jung-yeol</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24740-luan-hoi-khon-kiep/t35971-bo-sung">Bổ sung</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296116-chuong-1-mo-dau">
                                                                        Chương 1: Mở đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296117-chuong-2-hamel-ngu-ngoc">
                                                                        Chương 2: Hamel Ngu Ngốc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296118-chuong-3-lionheart-1">
                                                                        Chương 3: Lionheart (1)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296119-chuong-4-lionheart-2">
                                                                        Chương 4: Lionheart (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296120-chuong-5-lionheart-3">
                                                                        Chương 5: Lionheart (3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24740-luan-hoi-khon-kiep/c295192-chuong-86-kristina-rogeris-4">Web novel</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Bổ sung</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 4: Lionheart (2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24740-luan-hoi-khon-kiep/c296119-chuong-4-lionheart-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,219 từ - Cập nhật: 
                        <time class="topic-time timeago" title="23-01-2026 17:53:27" datetime="2026-01-23T17:53:27+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 4: Lionheart (2)</p>
                    <p id="1">"Gerhard là ai cơ?"</p><p id="2">"Là cái gã đó, người sống ở một góc xó xỉnh nào đó thuộc tỉnh Gidol ấy."</p><p id="3">"Thế cái tỉnh Gidol đấy nằm ở đâu?"</p><p id="4">"Nó nằm ở cực tây của đế quốc… à mà, quan tâm làm gì? Dù sao thì chúng ta cũng chẳng bao giờ phải đặt chân đến cái vùng khỉ ho cò gáy đó đâu."</p><p id="5">Hai đứa trẻ khúc khích cười chế giễu khi bàn tán về người mới đến. Hai đứa này là Cyan và Ciel, cặp song sinh khác trứng do người vợ thứ hai của gia tộc chính sinh ra.</p><p id="6">Dù mẹ chúng chỉ là vợ lẽ, nhưng không có gì bí mật khi Gia chủ sủng ái bà hơn cả người vợ chính thức. Chính vì thế, hai đứa trẻ mười ba tuổi này kiêu ngạo đến mức mũi chúng lúc nào cũng hếch lên tận trời xanh.</p><p id="7">"Tên thằng đó là gì nhỉ…?" Cyan bỏ lửng câu nói.</p><p id="8">"Em nghe nói là Eugene, và cậu ta bằng tuổi chúng ta đấy," Ciel nói.</p><p id="9">"Thì sao nào? Đâu phải cứ bằng tuổi là sẽ thành bạn bè đâu," Cyan tuyên bố một cách ngạo mạn rồi cười khúc khích.</p><p id="10">Nhìn về phía khu nhà phụ ở đằng xa, cậu ta tiếp tục: "Nghe nói đây là lần đầu tiên thằng đó đến thủ đô. Lúc nãy Gordon kể với anh là nó cứ dán mắt vào cửa sổ suốt thời gian ngồi trong xe ngựa. Chà, cũng dễ hiểu thôi. Dù sao thì nó cũng đến từ cái nơi vô danh tiểu tốt như tỉnh Gidol mà. Chỗ đó có gì để ngắm ngoài rừng với ruộng không nhỉ?" Cyan hỏi em gái mình.</p><p id="11">"Làm sao em biết được, em cũng đã bao giờ đến đó đâu, nhưng chắc là vậy rồi vì nó ở vùng quê mà. Anh có nghe nói chuyện cậu ta bị say xe khi đi qua cổng dịch chuyển không?" Ciel hỏi lại.</p><p id="12">"Anh nghe bảo mặt nó trông buồn nôn lắm."</p><p id="13">"Vậy là cậu ta không nôn ra thật à. A, chán thật đấy. Nếu cậu ta nôn ra xe, em đã định bắt cậu ta phải tự tay lau dọn cỗ xe rồi," Ciel nói với một nụ cười tinh quái.</p><p id="14">Trước câu trả lời nghịch ngợm của cô em gái sinh sau mình vài giây, Cyan chậc lưỡi và lắc ngón tay về phía cô bé.</p><p id="15">"Ngốc ạ. Nếu em muốn ra lệnh cho nó lau xe, thì đâu cần đợi đến lúc nó nôn ra."</p><p id="16">"Ý anh là sao?" Ciel hỏi.</p><p id="17">"Vì thằng nhãi đó đến từ vùng quê, nên người nó chắc chắn phải bốc mùi phân bò. Theo ý kiến của anh, cả đời nó chắc cầm cái chĩa cào cỏ còn nhiều hơn cầm kiếm gỗ đấy," Cyan nói đầy khinh miệt.</p><p id="18">"Aha!" Ciel thốt lên như vừa giác ngộ.</p><p id="19">"Vì nó đã ngồi trong xe ngựa vài ngày, cái mùi phân bò bám trên người nó chắc chắn đã ám sang cả cỗ xe rồi," Cyan giải thích cặn kẽ.</p><p id="20">"Eo ôi, ghê quá đi," Ciel nhăn mặt tỏ vẻ ghê tởm rồi thè lưỡi.</p><p id="21">Tuy nhiên, sự ghê tởm chỉ nằm trên nét mặt, còn đôi mắt cô bé lại ánh lên vẻ tinh nghịch vui đùa.</p><p id="22">"Cỗ xe nó đi là tài sản của gia đình ta. Bất kể quan hệ thế nào, nếu cỗ xe bị bẩn vì nó, thì nó phải chịu trách nhiệm, đúng không?" Cyan hỏi.</p><p id="23">"Chuẩn luôn, đúng là thế," Ciel đồng tình.</p><p id="24">"Anh tình cờ nghe nói là ngay khi thằng nhãi đó đến khu nhà phụ, nó đã đi thẳng đến phòng tập và bắt đầu vung kiếm gỗ," Cyan nói.</p><p id="25">"Đúng là đồ khoe mẽ," Ciel bật cười.</p><p id="26">Cặp song sinh, sinh ra cùng ngày cùng tháng cùng năm, luôn rất hợp ý nhau.</p><p id="27">"Chà, đây là lần đầu tiên nó đến thủ đô, lại còn được đến dinh thự chính nữa. Chắc vì thế nên nó mới phải làm màu như vậy," Cyan cười khẩy.</p><p id="28">"Làm màu á? Cứ nói thẳng ra đi anh hai. Cậu ta đang cố thể hiện đấy."</p><p id="29">Ciel tiếp tục cười và vỗ vào tay anh trai mình đầy thích thú. Tuy nhiên, trái ngược với cô bé, Cyan lại trưng ra vẻ mặt nghiêm nghị và thẳng lưng lên.</p><p id="30">"Nhắc đến người họ hàng ngu ngốc này của chúng ta, có vẻ như nó đến Nghi Thức Kế Thừa Huyết Thống với kỳ vọng cao lắm đấy. Xem ra nó không được cha mình dạy dỗ tử tế rồi."</p><p id="31">"Đúng, đúng," Ciel gật gù tán thành.</p><p id="32">"Đầu tiên, nó làm hỏng cỗ xe bằng cách để lại mùi hôi thối khắp nơi, và giờ nó lại cố khoe khoang với người lớn bằng cách giả vờ chăm chỉ luyện tập, thật trơ trẽn làm sao," Cyan nói.</p><p id="33">"Có vẻ cậu ta cần bị trừng phạt rồi," Ciel nói.</p><p id="34">"Này, trừng phạt thì hơi quá. Sao chúng ta không chỉ nhắc nhở nó về những việc nên và không nên làm thôi? Cũng là muốn tốt cho nó cả. Dù sao thì, chúng ta cũng đâu muốn nó bị người lớn mắng sau này đâu."</p><p id="35">"Anh tốt bụng quá, anh hai à." Ciel cười toe toét đồng ý nhiệt liệt dù thừa biết ý định thực sự của anh mình. Cặp song sinh trẻ tuổi này đã sớm học được rằng những trò chơi khăm lén lút kiểu này vui hơn nhiều so với việc bắt nạt thẳng mặt.</p><p id="36">"Đi thôi!" Cyan dẫn đầu với một tiếng hô đầy khí thế.</p><p id="37">Ciel tung tăng theo sau anh trai trước khi ngoái đầu lại vì cảm thấy có ánh mắt đang quan sát mình từ xa. Cặp song sinh đã luyện tập mana từ nhỏ nên có thể cảm nhận được cả những thứ vô hình như ánh mắt.</p><p id="38">Bên trong tòa dinh thự uy nghi và lộng lẫy, một thiếu niên đang đứng bên cửa sổ tầng ba. Sau khi chạm mắt với Ciel, cậu ngả người ra sau và kéo rèm lại. Ciel mỉm cười bẽn lẽn trước cảnh tượng này và thè lưỡi trêu chọc.</p><p id="39">Cho đến khi Nghi Thức Kế Thừa Huyết Thống diễn ra, con cái của các dòng phân gia không được phép sử dụng vũ khí sắc bén.</p><p id="40">Trong khi Eugene hoàn toàn không tôn trọng cái truyền thống nực cười như vậy, thì cha cậu, Gerhard, lại không bao giờ dám phớt lờ quy tắc của gia tộc Lionheart. Có quá nhiều tai mắt trong dinh thự của họ để có thể giữ bí mật với gia tộc chính.</p><p id="41">'Quá nhẹ.'</p><p id="42">Eugene cau mày nhìn xuống thanh kiếm gỗ. Cậu đã dùng kiếm gỗ lõi sắt từ năm bảy tuổi, và đến năm mười hai tuổi, cậu đã bắt đầu tập vung một thanh sắt trông chẳng giống kiếm gỗ chút nào. Dù có thể được bọc một lớp gỗ mỏng bên ngoài, nhưng "thanh kiếm gỗ" mà Eugene sử dụng hơn một năm nay nặng đến mức có thể đập nát xương chỉ với một cú vung nhẹ.</p><p id="43">Tuy nhiên, nó không phải là vũ khí sắc bén, nên vẫn được chấp nhận. Dù có thêm bao nhiêu sắt để tăng trọng lượng, và dù nó có to đến mức ít ai nhấc nổi, thì nó vẫn chỉ là một thanh kiếm gỗ mà thôi.</p><p id="44">Để kiểm soát cơ thể một cách hoàn hảo, Eugene đã luyện tập mỗi ngày, không cho phép bản thân lười biếng dù chỉ một ngày.</p><p id="45">Vì đã có cơ hội thứ hai nhờ chuyển sinh, cậu phải tận dụng triệt để cuộc đời mới này. Nhưng buồn cười thay, đó không phải là lý do khiến cậu tập luyện chăm chỉ đến thế.</p><p id="46">Eugene đã như vậy ngay từ đầu. Kể cả khi du hành cùng Vermouth và những người bạn khác, cậu chưa bao giờ bỏ lỡ cơ hội luyện tập trừ khi bất khả kháng.</p><p id="47">'Mặc dù vậy, cái thằng chó chết đó vẫn còn mặt mũi bảo rằng mình chưa đủ cố gắng.'</p><p id="48">Vermouth, cái tên khốn kiếp đáng ghét; Eugene nghiến răng khi nhớ lại ánh mắt u ám của gã đó.</p><p id="49">Eugene nhận ra rằng cậu đang thúc ép cơ thể mình còn khắc nghiệt hơn cả kiếp trước. Mỗi lần cậu đẩy bản thân đến giới hạn thể xác, cảm giác như cơ thể cậu lại phá vỡ những giới hạn mà trước đó cậu từng tưởng tượng ra.</p><p id="50">Cậu vẫn chưa thể chắc chắn liệu cơ thể mình được sinh ra với tư cách hậu duệ của Vermouth có vượt trội hơn chính Vermouth hay không. Tuy nhiên, rõ ràng là cơ thể này vượt xa cơ thể của "Hamel Ngu ngốc". Cậu thậm chí còn chưa bắt đầu đụng đến mana. Vậy nên, là một đứa trẻ mười ba tuổi với cơ thể chưa phát triển hoàn thiện, việc cậu có thể sử dụng một khối sắt nặng nề như vậy có thực sự hợp lý không?</p><p id="51">"Ở đây không có thanh kiếm gỗ nào nặng hơn cái này sao? Nếu nó to hơn một chút thì càng tốt," Eugene hỏi.</p><p id="52">Cảm giác như cậu đã vung nó cả trăm lần rồi, nhưng mồ hôi mới chỉ lấm tấm. Eugene cau mày quay sang nhìn Nina.</p><p id="53">"Với lại, ta đã bảo cô ngồi trong bóng râm đằng kia rồi mà. Sao cô cứ đứng ngoài nắng thế này?"</p><p id="54">"T-Tôi ổn mà," Nina đáp.</p><p id="55">"Ổn cái nỗi gì khi mồ hôi nhễ nhại thế kia. Đừng có bướng nữa, vào bóng râm mà ngồi. Khoan đã, trước khi đi, cô có thấy thanh kiếm gỗ nào khác không?"</p><p id="56">Dù Nina đang đổ mồ hôi đầm đìa, cô vẫn giữ vẻ mặt bối rối. Người đứng trước mặt cô là một đứa trẻ mười ba tuổi từ dòng phân gia. Tuy nhiên, là một người hầu cấp thấp của gia tộc chính, cậu không phải là người mà cô có thể coi thường. Dù chỉ là tạm thời, cô đã được chỉ định làm người hầu riêng của cậu, nên cô không thể nào nghỉ ngơi trong bóng râm trong khi chủ nhân đang luyện tập được.</p><p id="57">"Kiếm gỗ thì... kho của phòng tập chắc sẽ có tất cả những loại hiện có. Những thanh kiếm gỗ khác có lẽ nằm ở phòng tập chính..."</p><p id="58">"Cô có thể lấy vài cái đến đây không?"</p><p id="59">"Chuyện đó... Tôi... Tôi e là mình không thể tự quyết định được. Nếu ngài muốn, tôi có thể đi hỏi, nhưng..."</p><p id="60">"Nếu thế thì thôi, khỏi cần. Cô không cần đi đâu."</p><p id="61">Eugene lắc đầu không chút do dự. Lúc nãy cậu có nghe nói Nina mới chỉ mười sáu tuổi. Cô ấy vừa mới hoàn thành khóa học việc, nên cậu không muốn làm khó cô bằng những yêu cầu vô lý.</p><p id="62">'Lộ liễu quá mức rồi đấy.'</p><p id="63">Eugene nén cười khi đặt thanh kiếm gỗ xuống. Tại sao họ lại chỉ định cho cậu một cô hầu gái vừa mới ra nghề? Chẳng phải quá rõ ràng sao? Nếu cậu trút giận lên cô khi người hầu vụng về này mắc lỗi hoặc tỏ ra thiếu tôn trọng, cậu sẽ tự biến mình thành kẻ đáng bị trừng phạt.</p><p id="64">'Mình không biết đây là ý tưởng của ai, nhưng chúng chơi cũng thâm thật.'</p><p id="65">Nếu cứ tiếp tục vung thanh kiếm gỗ này, cậu thậm chí còn chẳng thể làm nóng người. Vung vẩy cánh tay một cách thoải mái, Eugene đi về phía nhà kho. Điều này khiến Nina ngay lập tức cố gắng đuổi theo cậu.</p><p id="66">"Thiếu gia Eugene, nếu ngài cần gì, xin hãy sai bảo tôi ạ."</p><p id="67">"Nếu là việc gì khác thì được, nhưng nếu là đồ để ta tập luyện thì ta cần tự mình chọn. Nhờ cô đi lấy mà không vừa ý ta thì ích gì? Chẳng lẽ lại lãng phí thời gian của cả hai bằng cách bắt cô đi đi lại lại cho đến khi lấy được thứ ta dùng được sao? Thay vào đó, nếu ta tự đi lấy thì sẽ nhanh hơn nhiều."</p><p id="68">Nhà kho cho thấy đã lâu không được sử dụng thường xuyên vì mọi thứ đều phủ đầy bụi. Nina cảm thấy lạnh toát sống lưng khi thấy bụi bay mù mịt trong gió. Thực ra, cô đã muốn dọn dẹp nơi này từ vài ngày trước, nhưng người quản lý khu nhà phụ đã mắng cô, bảo rằng không cần thiết, nên nó mới bị bỏ mặc như thế này.</p><p id="69">"X-xin thứ lỗi cho tôi," Nina nói.</p><p id="70">"Vì cái gì?" Eugene không để ý đến việc Nina đang cúi đầu xin lỗi sau lưng mình. Cậu lục lọi trong đám bụi bặm cho đến khi tìm thấy thứ mình cần — những bao cát có thể đeo lên người. Cậu cũng tìm thấy một thứ hữu dụng trên kệ.</p><p id="71">Đó là một chiếc áo giáp lưới chưa được tra dầu tử tế và phủ đầy bụi. Mặc dù nó to hơn nhiều so với thân hình của Eugene, nhưng cậu thích cái trọng lượng nặng trịch khi mặc thử nó vào. Sau đó, Eugene lôi ra một cây thương lớn dài hơn cả chiều cao của mình.</p><p id="72">"...Dạ... Có gì tôi có thể giúp ngài không...?" Nina hỏi.</p><p id="73">"Thử giẫm lên cái này xem," Eugene nói rồi chỉ vào cây thương cậu vừa lôi ra và đặt trên sàn.</p><p id="74">Làm theo lệnh cậu, Nina bước lên cây thương. Việc này giữ cho nó không bị lăn, cho phép Eugene buộc các bao cát vào thân thương.</p><p id="75">Nina nhìn cảnh tượng đó với ánh mắt kinh hãi. Eugene hiện đang mặc một chiếc áo giáp lưới rộng thùng thình quá khổ và đeo bao cát lủng lẳng trên mỗi cánh tay. Nhưng chưa hết, còn nhiều bao cát hơn nữa đang được treo lên cây thương.</p><p id="76">'Không thể nào.'</p><p id="77">Chỉ nhìn qua thôi cũng thấy, riêng cây thương đã phải nặng gấp đôi trọng lượng cơ thể Eugene. Tuy nhiên, Eugene phẩy tay ra hiệu cho cô tránh ra với vẻ mặt hài lòng.</p><p id="78">"Cô có thể tránh ra được rồi."</p><p id="79">"V-Vâng."</p><p id="80">Eugene khuỵu gối và nâng cây thương lên bằng cả hai tay. Mặc dù cậu phải nghiến răng trong giây lát vì trọng lượng đáng kinh ngạc của nó, nhưng cái cách cơ bắp căng lên và xương cốt run rẩy khiến cậu tràn ngập niềm vui sướng.</p><p id="81">"Lùi lại... Không, xa hơn nữa... Cứ đi cho đến khi cô vào trong bóng râm ấy!" Eugene ra lệnh.</p><p id="82">"V-vâng!" Giật mình, Nina lùi lại phía sau.</p><p id="83">Sau khi kiểm tra thấy Nina không còn ngáng đường, Eugene vung cây thương theo một vòng cung rộng.</p><p id="84">Vút!</p><p id="85">Cây thương nặng hơn cả người cậu, nhưng vì cậu đã đeo thêm trọng lượng lên người nên cậu không bị nó kéo lê đi. Đó là mục đích phụ của việc mặc áo giáp và đeo bao cát lên mình.</p><p id="86">Vừa bước những bước chân nặng nề, Eugene vừa vung cây thương một cách dữ dội. Mỗi lần vung, cảm giác như cánh tay cậu sắp bị giật khỏi khớp, và thắt lưng, nơi kiểm soát lực xoay, gào thét trong đau đớn. Trước cảnh tượng này, Nina che miệng thảng thốt. Cô cảm thấy bài tập này có thể gây ra một thảm họa không thể cứu vãn cho một cơ thể non nớt như vậy.</p><p id="87">Tuy nhiên, ngay cả khi trông như Eugene có thể sụp đổ bất cứ lúc nào, cậu vẫn đứng vững. Mỗi khi cơ thể cậu có vẻ sắp loạng choạng, cậu lại vung thương nhanh hơn nữa. Sau đó, Eugene ép bản thân hãm lại đà quán tính đang tăng lên và ngay lập tức chuyển sang động tác đâm.</p><p id="88">Bụp!</p><p id="89">Cậu cảm thấy những vết chai trên cả hai tay rách toạc ra. Cơn đau này! Cậu không thể không cảm thấy biết ơn vì mình không đeo găng tay, nếu không, cậu sẽ chẳng thể cảm nhận được nỗi đau tuyệt vời này.</p><p id="90">Eugene tiếp tục vung thương, cười khúc khích vì sung sướng tột độ. Cậu siết chặt cán thương hơn nữa để bù cho đôi tay đẫm máu đang trơn trượt. Đôi mắt cậu đã chuyển sang màu đỏ ngầu và vằn lên tia máu, hơi thở dồn dập vì dùng sức quá độ.</p><p id="91">"Này."</p><p id="92">Khi Nina đang nhìn cảnh tượng này trong sự kinh ngạc, cô giật mình bởi một giọng nói vang lên bên cạnh.</p><p id="93">"Thằng đó đang làm cái quái gì thế?"</p><p id="94">Đó là Cyan và Ciel. Cặp song sinh ác quỷ đã khiến không biết bao nhiêu hầu gái phải thấm đẫm nước mắt lên gối mỗi đêm. Hai đứa đã lẻn đến ngay bên cạnh cô, đôi mắt chúng lấp lánh vẻ tò mò.</p><p id="95">"T-thiếu gia, tiểu thư, sao hai người lại đến đây...?"</p><p id="96">"Ta hỏi ngươi thằng đó đang làm cái gì," Cyan gắt gỏng với cái cau mày.</p><p id="97">Cậu khó chịu vì người hầu vô danh này không trả lời câu hỏi của mình ngay lập tức. Trong hoàn cảnh bình thường, cậu ta sẽ mắng cô một trận tơi bời để cô không bao giờ dám mắc sai lầm đó nữa. Nhưng hiện tại, cậu ta tò mò hơn nhiều về việc tên nhà quê kia đang làm gì.</p><p id="98">"Nhìn mà không biết à?"</p><p id="99">Câu trả lời này không đến từ Nina. Hít một hơi thật sâu, Eugene dừng lại và hạ cây thương xuống đất.</p><p id="100">"Cậu biết cái này là gì không?" Eugene hỏi khi đá vào cây thương.</p><p id="101">Thằng khốn này đang nghĩ gì vậy? Cyan không trả lời ngay mà nheo mắt lại, nhưng Ciel đứng bên cạnh cậu ta cười toét miệng và trả lời.</p><p id="102">"Đồ ngốc, là cái thương chứ cái gì. Có thế mà cũng không biết à?"</p><p id="103">"Đúng rồi, là một cây thương," Eugene nói.</p><p id="104">"Thì sao?" Ciel hỏi.</p><p id="105">"Đã biết là thương, thì không biết vung thương là thế nào à?" Eugene nói.</p><p id="106">"Ta biết chứ!"</p><p id="107">"Thế tại sao cậu lại hỏi cô ấy là tôi đang làm gì?"</p><p id="108">"Không phải ta hỏi. Là anh trai ta hỏi đấy chứ."</p><p id="109">"Thế thì sao cậu không thử giải thích cho ông anh trai ngốc nghếch của cậu đi. Bảo với cậu ta là, 'thằng đó đang vung thương đấy'," Eugene nói.</p><p id="110">Mắt Ciel mở to tròn xoe trước lời xúc phạm này.</p><p id="111">Trái lại, mắt Cyan nheo lại còn bé hơn.</p><p id="112">"Ngốc? Ta á?"</p><p id="113">"Thấy cái cách cậu nhìn chằm chằm vào mà vẫn không biết chuyện gì đang xảy ra, thì có vẻ cậu cũng chẳng thông minh lắm đâu."</p><p id="114">"Anh hai, tên nhà quê đó đang chửi anh là đồ ngốc đấy."</p><p id="115">Ciel khúc khích cười và chọc vào sườn Cyan. Thay vì nổi giận như anh trai, cô bé biết ngay rằng mình có thể làm tình hình thú vị hơn bằng cách kích động cơn giận của anh trai mình theo cách này.</p><p id="116">Lời khích bác yếu ớt này từ đứa em sinh sau vài giây là quá đủ để khiến Cyan hét lên: "Ngươi dám!"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24740-luan-hoi-khon-kiep/c296118-chuong-3-lionheart-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24740-luan-hoi-khon-kiep" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24740-luan-hoi-khon-kiep/c296120-chuong-5-lionheart-3" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'Tc3OX5drxD1LfvKTyFKrcD01HpyofC6jQKBYg0at';
        var comment_type = 'chapter';
        var comment_typeid = '296119';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'Tc3OX5drxD1LfvKTyFKrcD01HpyofC6jQKBYg0at';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24740');
    chapter_id = parseInt('296119');

    readingObject = {
        series_id: series_id,
        series_title: 'Luân hồi khốn kiếp',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="Tc3OX5drxD1LfvKTyFKrcD01HpyofC6jQKBYg0at" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Luân hồi khốn kiếp - Chương 7: Ciel (1) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Hamel Dyphus, một trong những anh hùng đã cùng đồng đội tiêu diệt Quỷ Vương, chết một cách nhục nhã ngay trước thời khắc cuối cùng. Hắn không phải anh hùng cao thượng, cũng chẳng phải kẻ chính trực — chỉ là một kẻ liều mạng chiến đấu để sinh...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="5lwSiFtZmCbIssAhXYsAldEn4XYqfHgctJS52BN7">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24740-luan-hoi-khon-kiep/c298406-chuong-7-ciel-1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24740-ba442451-e020-422b-bc9c-7614eb40dc1f.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24740-luan-hoi-khon-kiep/c298405-chuong-6-lionheart-4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24740-luan-hoi-khon-kiep"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24740-luan-hoi-khon-kiep/c298409-chuong-8-ciel-2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24740-luan-hoi-khon-kiep/c298406-chuong-7-ciel-1" style="background: url('https://i.hako.vn/ln/series/covers/s24740-ba442451-e020-422b-bc9c-7614eb40dc1f.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24740-luan-hoi-khon-kiep">Luân hồi khốn kiếp</a></h5>
                    <small><i class="fas fa-pen"></i>목마</small>
                    <small><i class="fas fa-paint-brush"></i>Park Jung-yeol</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24740-luan-hoi-khon-kiep/t35971-bo-sung">Bổ sung</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296116-chuong-1-mo-dau">
                                                                        Chương 1: Mở đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296117-chuong-2-hamel-ngu-ngoc">
                                                                        Chương 2: Hamel Ngu Ngốc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296118-chuong-3-lionheart-1">
                                                                        Chương 3: Lionheart (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296119-chuong-4-lionheart-2">
                                                                        Chương 4: Lionheart (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c296120-chuong-5-lionheart-3">
                                                                        Chương 5: Lionheart (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c298405-chuong-6-lionheart-4">
                                                                        Chương 6: Lionheart (4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c298406-chuong-7-ciel-1">
                                                                        Chương 7: Ciel (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c298409-chuong-8-ciel-2">
                                                                        Chương 8: Ciel (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c298410-chuong-9-gilead-1">
                                                                        Chương 9: Gilead (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24740-luan-hoi-khon-kiep/c298411-chuong-10-gilead-2">
                                                                        Chương 10: Gilead (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24740-luan-hoi-khon-kiep/c295192-chuong-86-kristina-rogeris-4">Web novel</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Bổ sung</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 7: Ciel (1)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24740-luan-hoi-khon-kiep/c298406-chuong-7-ciel-1#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,185 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-01-2026 10:36:12" datetime="2026-01-28T10:36:12+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 7: Ciel (1)</p>
                    <p id="1">"...Vậy là..." Ancilla ngừng lại, cố gắng trấn tĩnh cơn kích động của mình.</p><p id="2">Tuy nhiên, mỗi khi nhìn thấy đứa con trai với đôi mắt sưng húp vì khóc quá nhiều, bà lại đứng trước nguy cơ mất kiểm soát cảm xúc. Ancilla vỗ ngực để kìm nén nỗi thất vọng đang dâng trào và cầm lấy chiếc quạt để làm mát khuôn mặt.</p><p id="3">"...Con trai ta, Cyan, đã thách đấu một hậu duệ của phân gia... và thua cuộc sao?"</p><p id="4">"Vâng," Hazard đáp.</p><p id="5">Hazard cúi gằm mặt, không dám ngẩng lên. Ông không muốn phải nhận thêm những lời quở trách từ vị phu nhân nóng tính này chỉ vì ngẩng đầu lên một cách vô ích.</p><p id="6">"Hơn nữa, ngươi nói rằng thằng nhóc đó chưa hề tu luyện mana?"</p><p id="7">"Vâng..."</p><p id="8">"Chuyện đó thật vô lý" Ancilla tuyên bố, phản ứng của bà vô tình giống hệt Cyan lúc trước.</p><p id="9">Bà nhìn con trai mình với vẻ không thể tin nổi. Cyan chỉ đứng đó, sụt sịt mũi và nhìn xuống đất.</p><p id="10">"Lại đây."</p><p id="11">"...Mẹ..."</p><p id="12">"Ta bảo con lại đây!" Ancilla hét lên chói tai, không thể kìm nén thêm được nữa.</p><p id="13">Vai Cyan run lên, cả cơ thể cậu cũng vậy. Dù vậy, với những bước chân ngập ngừng, cậu vẫn tiến lại gần cho đến khi đứng trước mặt Ancilla.</p><p id="14">Hít một hơi thật sâu, Ancilla bất ngờ thọc mạnh tay ra.</p><p id="15">"Ư!" Cyan kêu lên đau đớn.</p><p id="16">Bàn tay bà ấn mạnh vào chấn thủy của cậu, dù cơn đau từ trận đấu trước đó vẫn chưa hề thuyên giảm... Hazard liếc nhìn Cyan đầy hối tiếc trước khi cúi đầu xuống một lần nữa.</p><p id="17">"Chỉ bằng một đòn thôi sao?" Ancilla rít lên.</p><p id="18">"M-mẹ, đau quá...!"</p><p id="19">"Đứng yên!"</p><p id="20">Ngay khi cậu định lùi lại, cơ thể Cyan lập tức cứng đờ trước mệnh lệnh đó. Ancilla dùng hết sức lực, liên tục ấn vào chấn thủy của con trai không chút do dự. Mỗi lần bà làm vậy, Cyan buộc phải nghiến chặt răng để kìm nén tiếng hét.</p><p id="21">Ciel đang quan sát cảnh tượng này với vẻ mặt hờ hững từ chỗ ngồi phía sau căn phòng. Cô bé gần như muốn bùng nổ khao khát được nói điều gì đó, nhưng dù còn nhỏ, Ciel hiểu rất rõ rằng mở miệng lúc này chẳng mang lại lợi ích gì.</p><p id="22">"Hazard, ngươi có dám thề rằng mình đã nhìn đúng không?" Ancilla quay sang Hazard.</p><p id="23">"..." Hazard do dự.</p><p id="24">"Ta hỏi ngươi có dám thề không," Ancilla lặp lại. "Thằng ranh đó, nó thực sự chưa tu luyện mana sao?"</p><p id="25">"Vâng, thần sẵn lòng thề" Hazard cuối cùng cũng lên tiếng.</p><p id="26">Trong bất kỳ hoàn cảnh nào, một lời thề không nên được thốt ra một cách nhẹ nhàng. Tuy nhiên, nếu ông giữ im lặng lúc này, chắc chắn một điều tồi tệ sẽ xảy đến với ông. Hazard chắc chắn về điều đó.</p><p id="27">"Con trai của Lãnh chúa Gerhard, cậu chủ Eugene, chưa hề tu luyện mana. Không một chút dấu vết mana nào có thể cảm nhận được từ cơ thể cậu ta."</p><p id="28">"Là vậy sao?"</p><p id="29">Ancilla lục lọi trí nhớ về cái tên Gerhard. Cái tên đó không xuất hiện ngay lập tức, chứng tỏ bà đã xếp nó vào loại không đáng nhớ. Điều này có nghĩa là... ông ta chắc chắn là kẻ đến từ vùng Gidol.</p><p id="30">Bà dường như nhớ mang máng rằng Gerhard là tên của một gã sâu bọ nào đó, kẻ thậm chí còn chẳng có tước hiệu chính thức và bị chôn vùi ở vùng quê hẻo lánh. Ông ta thuộc một nhánh phụ đã tách khỏi gia tộc chính từ hàng trăm năm trước, và cho đến nay, chưa một thành viên nào của hộ gia đình đó tạo được bất kỳ ảnh hưởng nào.</p><p id="31">"Con trai ta..." Ancilla nói trong khi kéo áo Cyan lên.</p><p id="32">Cyan nhắm mắt lại, cơ thể run lên vì sợ hãi.</p><p id="33">Ancilla tiếp tục: "...đã bị đánh bại chỉ bằng một đòn... bởi một kẻ thậm chí còn chưa tu luyện mana."</p><p id="34">Bề mặt bụng cậu bé bầm tím, hiện rõ những mảng màu đen và xanh. Ancilla khịt mũi khi nhìn thấy vết bầm sâu đó. Bà cũng là con dòng cháu giống của một gia tộc võ thuật. Cha bà, Bá tước Caines, giữ một vị trí quan trọng trong quân đội đế quốc.</p><p id="35">"Phải, cái này chắc chắn được gây ra bởi một đòn duy nhất. Ciel, anh trai con đã thua như thế nào hả?" Ancilla hỏi.</p><p id="36">"M-mẹ. Đó là—" Cyan lắp bắp.</p><p id="37">"Ta không hỏi con," Ancilla ném cho con trai một cái nhìn sắc lẹm. Ánh mắt bà đáng sợ đến mức khó tin rằng bà đang nhìn đứa con trai mười ba tuổi của chính mình.</p><p id="38">"...Ngay khi trận đấu bắt đầu, Eugene đã đâm thương tới," Ciel nói với đôi môi mím chặt. "Anh hai đã giật mình và cố gắng lùi lại, nhưng ngọn thương của Eugene quá nhanh để anh ấy có thể né tránh."</p><p id="39">"Khoảng cách giữa hai người?" Ancilla chất vấn.</p><p id="40">"Hơi xa một chút ạ."</p><p id="41">"Và anh trai con đang làm gì vào lúc đó?"</p><p id="42">"Anh ấy đang cố giơ kiếm lên."</p><p id="43">Tất cả chuyện này chỉ mới xảy ra một giờ trước, chưa đủ lâu để ký ức trở nên mơ hồ. Mỗi khi Ciel trả lời một câu hỏi của Ancilla, cơ thể Cyan lại run lên vì lo lắng.</p><p id="44">"Câ—" Cyan định lên tiếng bảo vệ bản thân.</p><p id="45">Tuy nhiên, Ancilla, người đã xâu chuỗi xong toàn bộ câu chuyện, rít lên: "Đồ ngu xuẩn!"</p><p id="46">Chát!</p><p id="47">Đầu Cyan vẹo sang một bên. Cậu nghiến răng kìm nén tiếng rên rỉ, vì đã đoán trước điều này sẽ xảy ra.</p><p id="48">"Một kẻ thậm chí còn chưa tu luyện mana! Một thằng ranh bằng tuổi con...! Con lại để nó ra đòn trước sao?! Con thậm chí còn không thể né tránh đàng hoàng! Con để nó thu hẹp khoảng cách! Và khi nó đánh trúng con, con đã gục xuống và nôn thốc nôn tháo khắp nơi?!"</p><p id="49">Ancilla nhấn mạnh từng tiếng hét chói tai bằng một cái tát vào má Cyan. Với mỗi cú đánh, đầu Cyan quay cuồng từ bên này sang bên kia. Những cú tát không nhằm mục đích gây sát thương, vì không có mana trong đó. Tuy nhiên, việc trừng phạt thể xác một đứa trẻ nhỏ như vậy là quá mức cần thiết.</p><p id="50">"Ngay giữa chốn đông người... nơi bất cứ ai, ngay cả bọn hạ đẳng, cũng có thể nhìn thấy rõ ràng! Con dám thua cuộc sau khi chính mình là người thách đấu trước sao?! Con muốn nhìn thấy mẹ treo cổ vì xấu hổ à?!"</p><p id="51">"X... xin lỗi... Con xin lỗi, mẹ ơi..."</p><p id="52">Cậu có thể kìm nén tiếng kêu đau đớn, nhưng không thể ngăn được tiếng nấc nghẹn ngào. Những dòng nước mắt tuôn rơi từ đôi mắt Cyan khi cậu sụt sùi. Tuy nhiên, Ancilla chỉ cảm thấy giận dữ thay vì cảm thông trước những giọt nước mắt của con trai.</p><p id="53">"Con nghĩ mình xứng đáng để khóc sao?" Ancilla gắt gỏng.</p><p id="54">"Hức..." Cyan nấc lên.</p><p id="55">"Tại sao con lại làm một việc vô nghĩa chỉ khiến mọi thứ khó khăn hơn cho mẹ?! Cha con sắp trở về cho Nghi Thức Kế Thừa Huyết Thống, nhưng ta không biết liệu mình có dám nhìn vào mắt ông ấy nữa hay không...! Còn con ả Tanis kia nữa, ta phải đối mặt với ả thế nào sau chuyện này đây?!"</p><p id="56">Để phục vụ cho việc tu luyện, Gilead Lionheart, gia chủ của dòng tộc Lionheart chính tông, đã rời khỏi dinh thự trong ba năm.</p><p id="57">Trong hoàn cảnh đó, quyền lực của người đứng đầu lẽ ra thường nằm trong tay Tanis, người vợ cả chính thức. Tuy nhiên, trong thời gian gia chủ vắng mặt hiện tại, quyền lực không rơi vào tay người vợ cả, mà lại thuộc về Ancilla.</p><p id="58">Có một lý do đơn giản cho việc này. Sau khi sinh hạ đứa con của mình là Eward, cơ thể Tanis đã trở nên cằn cỗi, không thể mang thai thêm lần nào nữa. Gilead, người muốn chuẩn bị đầy đủ cho việc nối dõi tông đường, không thể hài lòng chỉ với một đứa con trai.</p><p id="59">Đó là lý do tại sao ông lấy người vợ thứ hai, Ancilla, người đã sinh hạ một cặp song sinh.</p><p id="60">—Nếu có ba đứa, thì là đủ rồi.</p><p id="61">Đó là điều Gilead nói mỗi khi vấn đề này được nhắc đến, nhưng Ancilla không bao giờ đồng ý với điều này. Lý do khiến bà, con gái của Bá tước Caines, từ chối nhiều lời cầu hôn tốt đẹp để gia nhập gia tộc Lionheart qua con đường đáng xấu hổ là làm vợ lẽ, chính là vì Ancilla bị ám ảnh bởi uy danh của cái tên Lionheart.</p><p id="62">"Tất cả bọn họ... bọn họ chắc chắn sẽ cười vào mặt ta" Ancilla lẩm bẩm trong khi cắn móng tay, đã tưởng tượng ra khuôn mặt của Tanis khi ả biết chuyện này.</p><p id="63">Cyan, kẻ đang bị nỗi kinh hoàng nuốt chửng trước vẻ điên cuồng của mẹ mình, lắp bắp cố gắng nói: "Con-con sẽ thách đấu hắn lần nữa. Để mẹ không phải xấu hổ, con sẽ—"</p><p id="64">"Lần nữa?" Ancilla hỏi, giọng bà cao vút lên đầy sắc sảo. "Tại sao con lại nghĩ đến việc thách đấu nó lần nữa khi đã bị đánh bại một lần rồi?! Đừng làm bất cứ điều gì vô dụng, và tránh xa rắc rối cho đến khi Nghi Thức Kế Thừa Huyết Thống bắt đầu!"</p><p id="65">"Nhưng—" Cyan phản đối.</p><p id="66">Không để cậu nói hết câu, Ancilla hét lên: "Hazard!"</p><p id="67">Đầu Hazard vẫn cúi thấp, vai ông run lên khi đáp lại: "Vâng, thưa phu nhân."</p><p id="68">"Ta ước gì có thể tống khứ ngươi đi cho khuất mắt" Ancilla nói, nắm đấm run lên vì giận dữ. "Nhưng... ta không thể làm thế, ngay cả khi ngươi để chuyện như thế này xảy ra...! Bởi vì ngươi... là kỵ sĩ được chồng ta trọng dụng. Điều đó có nghĩa là không có vấn đề gì với những gì ngươi dạy con trai ta, phải không?"</p><p id="69">"..." Hazard giữ im lặng.</p><p id="70">"Nếu sự dạy dỗ của ngươi không phải là vấn đề, thì... vấn đề là ở con trai ta...! Vì nó không học hành đàng hoàng nên mới bị đánh bại bởi thằng ranh nhà quê đó."</p><p id="71">"...Thần xin lỗi."</p><p id="72">Trong tình huống này, khi không thể khẳng định hay phủ nhận lời buộc tội, và im lặng không phải là một lựa chọn, thì đưa ra lời xin lỗi là điều tốt nhất Hazard có thể làm.</p><p id="73">"...Đưa Cyan đi đi" Ancilla ra lệnh.</p><p id="74">"Mẹ..." Cyan bỏ lửng câu nói.</p><p id="75">Ancilla phớt lờ tiếng gọi của cậu: "Đi và làm cho nó mạnh lên, đủ mạnh để nó không bao giờ làm vấy bẩn danh tiếng của ta lần nữa."</p><p id="76">Hazard gật đầu và lùi lại. Mặc dù Cyan đang khóc, cậu bé vẫn tuân theo mệnh lệnh của Ancilla không chút thắc mắc, rời khỏi phòng cùng với Hazard.</p><p id="77">"Ciel, con ở lại một chút," Ancilla gọi với theo.</p><p id="78">Bị bắt gặp ngay khi định lẻn ra ngoài cùng những người khác, khuôn mặt Ciel nhăn lại khi cô bé đáp: "...Vâng ạ."</p><p id="79">Cô bé lặng lẽ trở lại chỗ ngồi và kiên nhẫn chờ đợi, thỉnh thoảng liếc nhìn biểu cảm của Ancilla.</p><p id="80">Cuối cùng Ancilla cũng lên tiếng: "...Thằng ranh đó, con nói tên nó là Eugene, phải không?"</p><p id="81">"Vâng."</p><p id="82">"Con cũng đã thách đấu thằng ranh đó à?"</p><p id="83">"Không, con không thách đấu cậu ta."</p><p id="84">"Tại sao không?"</p><p id="85">"Anh hai đã thua chỉ với một đòn. Nếu bọn con đánh nhau, con cũng sẽ không thể thắng được" Ciel trả lời lí nhí.</p><p id="86">Dù đã quyết định bắt đầu bằng việc trả lời trung thực, cô bé vẫn sợ rằng mẹ mình có thể nổi giận hơn nữa trước câu trả lời như vậy.</p><p id="87">Tuy nhiên, Ancilla không nổi cơn tam bành như trước mà thay vào đó nói: "Con làm tốt lắm."</p><p id="88">Gần như biến thành một người khác, giờ đây bà nhìn con gái mình với ánh mắt bình tĩnh.</p><p id="89">"Nếu ngay cả con cũng xuất hiện ở đây sau khi bị đánh bại... Ta thực sự sẽ treo cổ vì xấu hổ mất," Ancilla thú nhận.</p><p id="90">"Xin đừng nói những điều như vậy, Mẹ ơi," Ciel kêu lên.</p><p id="91">Tất nhiên, Ciel thừa hiểu mẹ mình không phải là kiểu người sẽ tự kết liễu đời mình trong bất kỳ hoàn cảnh nào. Tuy nhiên, cô bé đã học được từ khi còn nhỏ rằng mình có thể cải thiện tâm trạng của mẹ bằng cách làm nũng như thế này.</p><p id="92">"...Thằng bé đó, Eugene, thế nào?" Ancilla hỏi.</p><p id="93">"Con không chắc con hiểu ý mẹ muốn hỏi gì," Ciel thừa nhận.</p><p id="94">"Ta đang nói về ngoại hình và ấn tượng về nó."</p><p id="95">"Ngoại hình cậu ta... ừm... Con nghĩ cậu ta đẹp trai hơn anh hai. Còn về ấn tượng, cậu ta hơi kỳ lạ..."</p><p id="96">"Kỳ lạ? Như thế nào?"</p><p id="97">"Khi tranh cãi với anh hai, cậu ta rất trẻ con và xấu tính, nhưng khi nói chuyện với Hazard, cậu ta lại có vẻ già dặn hơn nhiều."</p><p id="98">Nghe những lời này, Ancilla trầm ngâm suy nghĩ trong vài khoảnh khắc. Vì thằng bé mới mười ba tuổi, bà có thể hiểu việc nó trẻ con và xấu tính, nhưng việc nó tỏ ra như người lớn khi nói chuyện với Hazard ư?</p><p id="99">Ciel tiếp tục: "Cậu ta... cậu ta cứ nói gì đó về danh dự. Và cậu ta cũng nói rằng tỏ ra nương tay trong một trận đấu là một sự sỉ nhục đối với đối thủ. Vì Eugene nói vậy nên Hazard thực sự đã xin lỗi."</p><p id="100">"...Ông ta đã xin lỗi?"</p><p id="101">"Vâng. Ông ấy nói rằng mình đã đưa ra một 'nhận xét xấc xược'."</p><p id="102">Khi Ciel nhớ lại khoảnh khắc đó, cô bé bắt đầu mỉm cười mà không hề nhận ra. Cô bé sớm nhớ ra rằng đây không phải là tình huống để vui vẻ và ngay lập tức lấy lại vẻ mặt nghiêm túc, nhưng Ancilla đang quá phân tâm nên không nhận ra sự mất kiểm soát của Ciel.</p><p id="103">'...'Nhận xét xấc xược' sao...?' Ancilla suy ngẫm.</p><p id="104">Có vẻ như sau này bà sẽ phải gọi Hazard đến lần nữa và nghe toàn bộ câu chuyện từ ông ấy.</p><p id="105">Gật đầu nhẹ, Ancilla hỏi: "Con có giận vì Eugene đã đánh anh trai con không?"</p><p id="106">"...Có ạ," Ciel cuối cùng cũng nói.</p><p id="107">Đó là một lời nói dối. Mặc dù không ghét anh trai mình, nhưng cô bé thấy cảnh anh ta khóc lóc trong khi vẫn cố tỏ ra kiêu ngạo khá là buồn cười.</p><p id="108">"Con không được ngây thơ tìm cách trả thù cho anh trai con," Ancilla cảnh báo, dù bà thực sự nhận thức được cảm xúc thật của con gái mình.</p><p id="109">Vì là song sinh, Cyan và Ciel đã ở bên nhau từ khi mới lọt lòng. Ciel đã bộc lộ tính cách của mình từ khi còn nhỏ, thường xuyên bày trò trêu chọc và phá phách ngay cả khi đi theo anh trai khắp nơi. Ancilla biết Ciel là đứa trẻ ưu tiên niềm vui của bản thân hơn là tình cảm dành cho anh trai.</p><p id="110">"...Tạm thời, anh trai con sẽ bận rộn nhận sự hướng dẫn của Hazard."</p><p id="111">"Con sẽ tập luyện cùng họ," Ciel xung phong.</p><p id="112">"Tất nhiên là con sẽ tập. Tuy nhiên, đừng tập trung quá nhiều vào việc đó, và hãy kết bạn với đứa trẻ đó... Eugene."</p><p id="113">"Tại sao ạ?"</p><p id="114">"Có nhiều bạn bè là điều tốt," Ancilla lảng tránh, đôi mắt bà trở nên lạnh lẽo.</p><p id="115">Thằng ranh đó đã đánh bại con trai bà và bôi nhọ danh tiếng của bà. Tuy nhiên, việc nghe tin Eugene đánh bại con trai bà mà không cần tu luyện mana đã khiến bà ngạc nhiên.</p><p id="116">"...Hiện tại, thằng bé đó, Eugene, vẫn đủ mạnh để đánh bại anh trai con. Vì vậy, tốt hơn hết là hãy tạo quan hệ tốt với nó" Ancilla giải thích.</p><p id="117">"Là vậy sao ạ?" Ciel hỏi vẻ bối rối.</p><p id="118">"Đúng vậy."</p><p id="119">Ancilla trấn tĩnh lại những cảm xúc đang sôi sục. Thành thật mà nói, bà muốn làm theo sự thôi thúc của mình và đánh gãy chân tay Eugene để nó không thể cử động trong suốt quãng đời còn lại. Nhưng bà không thể làm thế.</p><p id="120">Hàng trăm năm trước, đã có một cuộc tranh đấu dữ dội về việc ai sẽ thừa kế dòng chính của Lionheart. Bằng cách nào đó, hòa bình đã được đàm phán, nhưng kể từ đó, việc sát hại người thân được coi là một điều cấm kỵ nghiêm trọng trong gia tộc Lionheart.</p><p id="121">Lý do Gilead, gia chủ hiện tại, nói: 'Nếu có ba đứa, thì là đủ rồi', ngay từ đầu là vì ông sợ việc gia tăng số lượng người thừa kế cho gia tộc chính một cách vô nghĩa, vì nó sẽ chỉ dẫn đến việc anh em ruột thịt tìm cách giết hại lẫn nhau vì tham vọng.</p><p id="122">Bản thân Ancilla không muốn mạo hiểm phá vỡ điều cấm kỵ đã được truyền lại hàng trăm năm này chỉ vì chuyện cỏn con này.</p><p id="123">'Và nếu nó bị hại, ta là người sẽ bị nghi ngờ nhiều nhất,' Ancilla suy luận.</p><p id="124">Mặc dù theo truyền thống, các thành viên của dòng chính có thể công khai chèn ép các thành viên của phân gia trong những ngày trước Nghi Thức Kế Thừa Huyết Thống, nhưng vẫn có một 'ranh giới' cần phải tuân thủ. Ví dụ, gán một người hầu vụng về làm người phục vụ riêng cho họ, xếp cho họ một gian nhà phụ bỏ hoang, và quấy rối họ vì những chuyện vặt vãnh; dù những việc này có gây ầm ĩ đến đâu, chúng vẫn chưa vượt qua 'ranh giới'.</p><p id="125">Tuy nhiên, nếu ranh giới này bị phá vỡ, những Hộ Pháp bảo vệ Gia quy sẽ can thiệp vào tình hình.</p><p id="126">Chỉ cần tưởng tượng đến điều đó cũng khiến cơ thể Ancilla run lên vì khiếp sợ. Ancilla không muốn dính líu đến các Hộ Pháp, đặc biệt là vì một chuyện đáng xấu hổ như thế này.</p><p id="127">"Con hiểu rồi, thưa mẹ" Ciel nói, gật đầu và mỉm cười nhẹ nhàng sau vài giây suy nghĩ. "Con sẽ đảm bảo mình trở nên thân thiết với Eugene. Đó là tất cả những gì con cần làm, đúng không ạ?"</p><p id="128">Cô bé không có chút do dự nào khi làm việc đó. Thay vào đó, Ciel đang cảm thấy vô cùng tò mò về người họ hàng khó hiểu này của mình.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24740-luan-hoi-khon-kiep/c298405-chuong-6-lionheart-4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24740-luan-hoi-khon-kiep" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24740-luan-hoi-khon-kiep/c298409-chuong-8-ciel-2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '5lwSiFtZmCbIssAhXYsAldEn4XYqfHgctJS52BN7';
        var comment_type = 'chapter';
        var comment_typeid = '298406';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '5lwSiFtZmCbIssAhXYsAldEn4XYqfHgctJS52BN7';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24740');
    chapter_id = parseInt('298406');

    readingObject = {
        series_id: series_id,
        series_title: 'Luân hồi khốn kiếp',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="5lwSiFtZmCbIssAhXYsAldEn4XYqfHgctJS52BN7" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c4dd37ea9736178',t:'MTc2OTU3NTM3Nw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

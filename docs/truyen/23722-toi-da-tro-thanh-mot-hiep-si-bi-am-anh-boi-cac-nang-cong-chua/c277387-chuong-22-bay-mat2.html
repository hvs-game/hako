<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi đã trở thành một hiệp sĩ bị ám ảnh bởi các nàng công chúa - Chương 22: Bẫy mật(2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi đã cống hiến cả đời mình để phục vụ công chúa. Còn hiện tại thì tất cả những gì tôi muốn làm là nghỉ ngơi.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="pyK3mHLiIUo8ALgWI6zObtzJtwaWThguaRteg17r">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277387-chuong-22-bay-mat2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23722-cfb8eef7-dc10-4af3-8688-898ef4e42bdf.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277386-chuong-21-bay-mat1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277388-chuong-23-bay-mat3"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277387-chuong-22-bay-mat2" style="background: url('https://i.hako.vn/ln/series/covers/s23722-cfb8eef7-dc10-4af3-8688-898ef4e42bdf.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua">Tôi đã trở thành một hiệp...</a></h5>
                    <small><i class="fas fa-pen"></i>sajerak (사제락)</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/t33841-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244299-chuong-00-cai-ket">
                                                                        Chương 00: Cái kết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244300-chuong-01-le-bo-nhiem-hiep-si1">
                                                                        Chương 01: Lễ bổ nhiệm hiệp sĩ(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244565-chuong-02-le-bo-nhiem-hiep-si2">
                                                                        Chương 02: Lễ bổ nhiệm hiệp sĩ(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c248143-chuong-03-le-bo-nhiem-hiep-si3">
                                                                        Chương 03: Trận quyết đấu(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273119-chuong-04-tran-quyet-dau2">
                                                                        Chương 04: Trận quyết đấu(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273153-chuong-05-tran-quyet-dau3">
                                                                        Chương 05: Trận quyết đấu(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273170-chuong-06-tran-quyet-dau4">
                                                                        Chương 06: Trận quyết đấu(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273227-chuong-07-loi-de-nghi-khong-the-choi-tu1">
                                                                        Chương 07: Văn phòng mới(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273255-chuong-08-loi-de-nghi-khong-the-choi-tu2">
                                                                        Chương 08: Văn phòng mới(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273386-chuong-09-van-phong-moi3">
                                                                        Chương 09: Văn phòng mới(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273406-chuong-10-van-phong-moi4">
                                                                        Chương 10: Văn phòng mới(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273721-chuong-11-giao-dich-bi-mat1">
                                                                        Chương 11: Giao dịch bí mật(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273779-chuong-12-giao-dich-bi-mat2">
                                                                        Chương 12: Giao dịch bí mật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277377-chuong-13-giao-dich-bi-mat3">
                                                                        Chương 13: Giao dịch bí mật(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277378-chuong-14-giao-dich-bi-mat4">
                                                                        Chương 14: Giao dịch bí mật(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277380-chuong-15-tiec-sinh-nhat1">
                                                                        Chương 15: Tiệc sinh nhật(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277381-chuong-16-tiec-sinh-nhat2">
                                                                        Chương 16: Tiệc sinh nhật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277382-chuong-17-tiec-sinh-nhat3">
                                                                        Chương 17: Tiệc sinh nhật(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277383-chuong-18-tiec-sinh-nhat4">
                                                                        Chương 18: Tiệc sinh nhật(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277384-chuong-19-tiec-sinh-nhat5">
                                                                        Chương 19: Tiệc sinh nhật(5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277385-chuong-20-tiec-sinh-nhat6">
                                                                        Chương 20: Tiệc sinh nhật(6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277386-chuong-21-bay-mat1">
                                                                        Chương 21: Bẫy mật(1)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277387-chuong-22-bay-mat2">
                                                                        Chương 22: Bẫy mật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277388-chuong-23-bay-mat3">
                                                                        Chương 23: Bẫy mật(3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 22: Bẫy mật(2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277387-chuong-22-bay-mat2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,122 từ - Cập nhật: 
                        <time class="topic-time timeago" title="23-12-2025 15:20:31" datetime="2025-12-23T15:20:31+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 22: Bẫy mật(2)</p>
                    <p id="1">"Người muốn dành thời gian sao?"</p><p id="2">Lời đề nghị về một cuộc gặp gỡ riêng tư từ Đại Công chúa.</p><p id="3">Đề nghị ấy khiến sống lưng tôi lạnh toát.</p><p id="4">Leah mỉm cười ngọt ngào khi đặt hai tay lên bàn.</p><p id="5">Rồi cô ấy chống cằm và hỏi tôi đầy chăm chú.</p><p id="6">"Sao thế? Cậu sợ phải đối thoại riêng với ta đến vậy à?"</p><p id="7">Cô ấy chắc chắn có tài khiến một chuyện rõ ràng là đáng lo ngại trở nên nhẹ nhàng.</p><p id="8">Vị hiệp sĩ nào lại dám cả gan diện kiến riêng một nàng công chúa cơ chứ?</p><p id="9">"Hoàn toàn không. Làm sao thần có thể sợ hãi người mà thần có nghĩa vụ phải bảo vệ chứ?"</p><p id="10">"Ôi trời, vậy là cậu đang thừa nhận rằng cậu muốn bảo vệ ta sao?"</p><p id="11">Với lời khẳng định cuối cùng của cô ấy, gian phòng hoàng gia rơi vào im lặng.</p><p id="12">Hai nàng công chúa còn lại đang phóng những ánh nhìn đầy gay gắt về phía tôi.</p><p id="13">"Thật đáng tiếc, thần đã nguyện hiến dâng bản thân cho quốc gia này. Sẽ rất khó để thần chỉ phục vụ duy nhất một mình công chúa."</p><p id="14">Tôi gượng cười.</p><p id="15">Rồi, tôi thản nhiên ra hiệu về phía toán hộ vệ của Leah và tiếp lời.</p><p id="16">"Hơn nữa, chẳng phải Điện hạ vốn đã có nhiều hiệp sĩ xuất sắc hơn thần gấp bội rồi đó sao?"</p><p id="17">Tôi vừa khen ngợi vừa khéo léo từ chối cùng lúc.</p><p id="18">Bất ngờ trước phản ứng đầy linh hoạt của tôi, Leah khẽ nở một nụ cười nhạt.</p><p id="19">"Ta nghe nói cậu có xuất thân bình dân, nhưng cách cậu đối đáp lại chẳng khác gì quý tộc cả."</p><p id="20">Tôi nương theo lời cô ấy mà khẽ nhướng cao khóe miệng.</p><p id="21">Dĩ nhiên rồi, tôi đã từng chôn vùi năm năm thanh xuân trong hoàng cung này ở kiếp trước mà.</p><p id="22">"Đúng như cậu nói, ta vốn đã có không ít hiệp sĩ ưu tú dưới trướng rồi."</p><p id="23">Leah nhấc tách trà lên.</p><p id="24">Rồi cô ấy bắt đầu thả những viên đường vào đó.</p><p id="25">"Tuy nhiên..."</p><p id="26">Nhiều.</p><p id="27">"Quân đội càng đông thì càng tốt, cậu có nghĩ vậy không?"</p><p id="28">Rất nhiều.</p><p id="29">Chẳng mấy chốc, một hương thơm ngọt lịm đến mê người tỏa ra từ tách trà.</p><p id="30">Leah chậm rãi thưởng thức nó với đôi mắt khép hờ.</p><p id="31">"Cậu có đồng tình với ta không?"</p><p id="32">Tôi mím chặt môi trước câu hỏi của cô ấy.</p><p id="33">Đại Công chúa Leah.</p><p id="34">Năm nay cô ấy vừa tròn hai mươi bốn tuổi.</p><p id="35">Xứng danh là một nhà chiến lược đại tài đã kinh qua vô số cuộc đấu đá chính trị, cô ấy nhất quyết không chịu nhượng bộ dù chỉ nửa lời.</p><p id="36">Chứng kiến sự ngoan cường ấy, tôi thầm trút ra một tiếng thở dài não nề trong lòng.</p><p id="37">"Được rồi. Thần không thể khước từ mệnh lệnh của công chúa."</p><p id="38">Đến nước này, tôi chẳng còn cách nào khác ngoài việc trực tiếp đối mặt.</p><p id="39">Dù cô ấy có đưa ra đề nghị gì, tôi cũng sẽ đáp trả bằng một thái độ sắt đá nhất.</p><p id="40">"Thần nên đi đâu đây?"</p><p id="41">Leah chậm rãi đứng dậy.</p><p id="42">Điều này giúp tôi nhìn rõ toàn bộ dáng vẻ của cô ấy.</p><p id="43">Khác hẳn với hình ảnh nhã nhặn thường ngày, nàng công chúa hôm nay khoác lên mình một bộ váy vô cùng tinh tế.</p><p id="44">Lớp vải trắng ôm sát lấy cơ thể, tôn lên trọn vẹn những đường nét trưởng thành của cô ấy.</p><p id="45">Trong bộ trang phục đầy chín chắn đó, cô ấy chỉ tay về hướng hành lang.</p><p id="46">"Ta đã chuẩn bị sẵn một phòng tiếp khách. Chúng ta hãy nói chuyện ở đó."</p><p id="47">Tôi đứng dậy để đi theo cô ấy.</p><p id="48">Rồi tôi liếc nhìn hai nàng công chúa còn lại.</p><p id="49">Irina trông có vẻ lo lắng.</p><p id="50">Biểu cảm của cô ấy cho thấy cô ấy cũng không rõ ý đồ của Leah là gì.</p><p id="51">Lidia cũng vậy.</p><p id="52">Cô ấy khoanh tay đứng một mình với vẻ mặt hậm hực, như thể đang nghi ngờ Đại Công chúa.</p><p id="53">"Vail, anh ổn chứ? Cứ từ chối nếu anh muốn."</p><p id="54">"Phải đó, chị ta nghĩ mình là ai mà dám mang một hiệp sĩ nhà nước đi như vậy?"</p><p id="55">Hai nàng công chúa lườm Leah như thể cô ấy là một mụ phù thủy.</p><p id="56">Cuộc chiến bằng ánh mắt vẫn diễn ra vô cùng dữ dội.</p><p id="57">Cảm thấy kiệt sức, tôi lịch sự trấn an họ.</p><p id="58">"Không sao đâu. Điện hạ chỉ muốn hỏi thần vài điều thôi, thần sẽ quay lại ngay lập tức."</p><p id="59">…</p><p id="60">…</p><p id="61">…</p><p id="62">Hành lang vắng lặng.</p><p id="63">Không gian yên tĩnh đến mức rợn người, cứ như thể nơi này đã được dọn dẹp sạch bóng người từ trước.</p><p id="64">Leah bước đi duyên dáng rồi dừng lại trước một cánh cửa đá trang nhã.</p><p id="65">"Lối này."</p><p id="66">Rõ ràng đây là một không gian đầy khả nghi.</p><p id="67">Thậm chí, một mùi hương kỳ lạ đang thoang thoảng tỏa ra từ bên trong.</p><p id="68">"Đừng quá lo lắng, đây chỉ là một phòng tiếp khách đơn giản có khả năng ngăn chặn mana thôi."</p><p id="69">Cánh cửa mở ra.</p><p id="70">Bên trong chỉ có một chiếc bàn và hai chiếc ghế.</p><p id="71">"Cậu có thể coi đây là nơi để những người trong hoàng tộc bàn tán bí mật về nhau."</p><p id="72">Leah lấy bàn tay thanh mảnh che miệng cười khúc khích.</p><p id="73">Như thể gợi ý rằng chính cô ấy cũng thường xuyên sử dụng nơi này.</p><p id="74">"Thần đã hiểu."</p><p id="75">Ngay khi vừa đặt chân vào phòng, tôi lập tức cảm nhận được luồng mana trong cơ thể mình bị đóng băng.</p><p id="76">Tuy nhiên, có vẻ như không có gì đặc biệt đe dọa.</p><p id="77">Cánh cửa đóng sập lại.</p><p id="78">Cuối cùng, tôi đã bị nhốt trong một không gian kín mít với Đại Công chúa.</p><p id="79">"Chà, đã mất công đến đây rồi thì làm thêm một tách trà nữa nhé."</p><p id="80">Leah tiến lại gần chiếc bàn đặt ở góc phòng.</p><p id="81">Rồi cô ấy bắt đầu đun nước bằng những động tác vô cùng thuần thục.</p><p id="82">"Mời ngồi. Cậu hẳn là đang thắc mắc tại sao ta lại gọi cậu đến đây chứ?"</p><p id="83">Tôi ngồi xuống ghế với một linh cảm chẳng lành.</p><p id="84">Ấm nước bắt đầu reo lên sùng sục.</p><p id="85">Tuy nhiên, Leah chẳng hề có ý định tắt bếp.</p><p id="86">Cô ấy chỉ lặng lẽ nhìn chằm chằm vào làn hơi nước trắng xóa đang bốc lên nghi ngút.</p><p id="87">"Mùi hương này không tệ chứ?"</p><p id="88">"Vâng... đây là mùi hương thần chưa từng ngửi qua, nhưng nó khá dễ chịu."</p><p id="89">Leah đưa những ngón tay thon dài chạm vào làn hơi nước.</p><p id="90">Rồi cô ấy phẩy nhẹ tay để mùi hương lan tỏa rộng hơn.</p><p id="91">"Mẹ ta đã từng kể cho ta nghe về nó. Ngày trước, đây chính là mùi hương đã mê hoặc hoàn toàn Bạch Sư của Đế quốc."</p><p id="92">Bạch Sư của Đế chế.</p><p id="93">Đó là biệt danh của vị Hoàng đế chinh phạt năm xưa.</p><p id="94">Chẳng lẽ ý cô ấy là mùi hương này thực sự đã khiến ông ta mê muội?</p><p id="95">"Mẹ ta từng được mệnh danh là 'Phù thủy phương Nam'. Bà ấy là bậc thầy trong việc sử dụng các loại hương liệu và thuật phù thủy."</p><p id="96">Leah đưa tay thu gọn mái tóc.</p><p id="97">Rồi cô ấy bắt đầu nhẹ nhàng buộc nó sang một bên cổ.</p><p id="98">Hành động ấy vô tình để lộ ra phần gáy trắng ngần như tuyết.</p><p id="99">Có một nốt ruồi đen điểm xuyết ngay trên chiếc gáy ấy.</p><p id="100">"Đó là cách mà mẹ ta đã kết hôn với Bạch Sư và bảo vệ vương quốc Ekina. Dù sau đó nơi ấy chỉ còn là một quốc gia bù nhìn."</p><p id="101">Leah nhấc ấm nước lên và chậm rãi tiến về phía tôi.</p><p id="102">Rồi cô ấy cúi người để nhìn thẳng vào mắt tôi.</p><p id="103">"Bà ấy rất đẹp. Một vẻ đẹp rực rỡ đối với một phù thủy."</p><p id="104">Bộ váy tinh xảo ôm khít lấy cơ thể.</p><p id="105">Vòng một của cô ấy càng lộ rõ khi cúi xuống.</p><p id="106">Hương sung tỏa ra từ cơ thể cô ấy.</p><p id="107">Mùi hương ấy hòa quyện với hương trà khiến đầu óc tôi bắt đầu trở nên mụ mị.</p><p id="108">"Nhờ thừa hưởng dòng máu của bà ấy mà ta cũng sở hữu những tài năng tương tự."</p><p id="109">Tôi nhíu mày.</p><p id="110">Chỉ đến khi cô ấy tiến lại gần, tôi mới nhận ra bản chất thực sự của mùi hương này.</p><p id="111">Silver Rose.</p><p id="112">Một loại ma thảo thường được dùng trong các bùa chú mê hoặc.</p><p id="113">"Làm sao một công chúa lại có thể sở hữu thứ này cơ chứ...?"</p><p id="114">"Dường như cậu đã nhận ra rồi nhỉ?"</p><p id="115">Leah càng áp sát lại gần hơn khi nhận thấy ý chí của tôi đang ngày một mơ hồ.</p><p id="116">Cách nói chuyện của cô ấy lúc này cũng đã hoàn toàn thay đổi.</p><p id="117">"Cậu nghĩ cậu có thể phá hỏng trận đấu của ta rồi rời khỏi bữa tiệc mà không hề hấn gì sao?"</p><p id="118">Nàng công chúa trang nghiêm lúc nãy đã biến mất.</p><p id="119">Cô ấy nói chuyện với tôi bằng một gương mặt đầy gợi cảm, như một vị nữ hoàng.</p><p id="120">"Vùng vẫy cũng vô ích thôi. Hộ vệ của ta đã phong tỏa toàn bộ khu vực này rồi."</p><p id="121">Leah đưa tay vén lọn tóc ra sau tai.</p><p id="122">Hành động này khiến một mùi hương còn nồng nặc hơn tỏa ra.</p><p id="123">"Nào, Vail. Chúng ta hãy nói chuyện chút đi."</p><p id="124">Nàng công chúa khuỵu gối xuống để ngang tầm mắt tôi.</p><p id="125">Rồi, cô ấy dùng ngón tay ấn nhẹ vào má tôi và cất giọng hỏi.</p><p id="126">"Tại sao cậu lại phá hủy sân khấu để can thiệp vào trận đấu của ta?"</p><p id="127">Tôi không trả lời câu hỏi của cô ấy ngay lập tức.</p><p id="128">Thay vào đó, tôi dùng sức ấn thật mạnh vào ngón tay cái đang dần trở nên tê liệt của mình.</p><p id="129">Mạnh đến nỗi máu bắt đầu rỉ ra từ dưới móng tay.</p><p id="130">Nhờ vậy, hiệu ứng thôi miên dần dần tan biến.</p><p id="131">"Thần chỉ không muốn mọi chuyện trở nên phức tạp thôi."</p><p id="132">Một câu trả lời dứt khoát với một tâm trí tỉnh táo.</p><p id="133">Trước phản ứng đó, đôi mắt lờ đờ của Leah bỗng mở to.</p><p id="134">"Cái gì... chỉ vì nó phiền phức sao?"</p><p id="135">"Vâng, nếu các vị khách quý bị thương, đó sẽ là trách nhiệm của thần với tư cách là một hiệp sĩ phòng thủ."</p><p id="136">Leah vuốt cằm.</p><p id="137">Cuối cùng, cô ấy dường như đã chấp nhận điều này và chậm rãi gật đầu.</p><p id="138">"Tại sao cậu lại che giấu việc mình là một Sword Master?"</p><p id="139">"Bởi vì thần không muốn dính dáng đến hoàng tộc."</p><p id="140">Có lẽ vì tôi hoàn toàn khác biệt với những kẻ tham vọng mà cô ấy từng hình dung,</p><p id="141">Leah lặng người mà không nói nên lời.</p><p id="142">"C-Cái gì...? Tại sao lại không?"</p><p id="143">"Bởi vì thần nghĩ điều đó sẽ dẫn đến những tình huống phiền phức."</p><p id="144">Hàng mi dưới của Leah run rẩy khi tôi liên tục nhắc đến hai chữ "phiền phức".</p><p id="145">Chưa bao giờ trong đời cô ấy bị ai đó từ chối vì một lý do tầm thường đến thế.</p><p id="146">"Khoan đã, vậy khi cậu từ chối ta tại buổi lễ bổ nhiệm, đó cũng chỉ là vì cậu thấy nó phiền phức thôi à?"</p><p id="147">Mái tóc buộc sau của Leah có chút rối bời.</p><p id="148">Một gương mặt lộ rõ vẻ phẫn nộ mà cô ấy chưa từng để lộ trước đây.</p><p id="149">Tôi suýt chút nữa không kìm được mà nhếch mép cười.</p><p id="150">"Chính xác là như vậy."</p><p id="151">"Lần này ta còn chưa hỏi!"</p><p id="152">"Đã rõ."</p><p id="153">Khi mọi chuyện hoàn toàn chệch khỏi kế hoạch, khuôn mặt trắng bệch của Leah bỗng chốc đỏ bừng lên.</p><p id="154">"Chẳng lẽ thuật thôi miên này lại yếu đến thế sao? Mình chắc chắn đã thực hiện đúng từng bước trong công thức của mẹ mà..."</p><p id="155">Đôi môi đỏ mọng mím chặt.</p><p id="156">Chúng dường như đang tỏa ra một hương hoa hồng nồng đậm.</p><p id="157">"Chà, ta đoán là mình vẫn có thể dần dần nuôi dưỡng tham vọng cho cậu, một khi đã nắm giữ được cậu ở bên cạnh..."</p><p id="158">Nàng công chúa sớm buông tay khỏi mặt tôi.</p><p id="159">Rồi cô ấy nói một cách kiên quyết, như thể đã đưa ra quyết định.</p><p id="160">"Được thôi... vậy thì đây chính là mệnh lệnh cuối cùng của ta dành cho cậu."</p><p id="161">Ý đồ thực sự của cô ấy cuối cùng cũng lộ ra rồi sao?</p><p id="162">Tôi nuốt nước bọt trước vẻ mặt trang nghiêm của cô ấy.</p><p id="163">Liệu cô ấy định ép tôi phải phục tùng?</p><p id="164">Hay có lẽ là bảo tôi hãy rời khỏi thủ đô vì tôi là cái gai trong mắt cô ấy?</p><p id="165">Đối với một người như Leah, một kẻ có năng lực mà không thể điều khiển được thì chẳng khác gì một mối họa.</p><p id="166">Chẳng mấy chốc, đôi môi đỏ mọng ấy hé mở.</p><p id="167">Nàng công chúa nhìn chằm chằm vào tôi, như thể đang nhìn vào một chiếc gương và hỏi.</p><p id="168">"Có điều gì... đang khiến cậu phải bận tâm dạo gần đây không?"</p><p id="169">Lông mày tôi suýt nữa thì giật nảy trước câu hỏi hoàn toàn nằm ngoài dự tính này.</p><p id="170">Ý đồ của câu hỏi này là gì đây...?</p><p id="171">Đây cũng là một phần của kế hoạch tinh vi nào đó à?</p><p id="172">"Điều làm thần bận tâm sao?"</p><p id="173">Tôi hỏi lại một cách cứng nhắc, giả vờ như đang bị thôi miên.</p><p id="174">Trước câu hỏi của tôi, Leah che môi và khẽ hắng giọng.</p><p id="175">"P-Phải. Thứ gì đó mà cậu cứ nghĩ mãi về nó hoặc khiến cậu thấy khó chịu."</p><p id="176">Leah lắp bắp như thể đang lo lắng.</p><p id="177">Cô ấy đang cố tìm hiểu xem là tôi đang đứng về phía phe hoàng tộc nào à?</p><p id="178">Thái độ của nàng công chúa có thể quay ngoắt 180 độ chỉ dựa trên câu trả lời của tôi cho câu hỏi này.</p><p id="179">Hoặc là kẻ thù, hoặc là đồng minh.</p><p id="180">Bây giờ đến lượt tôi đưa ra quyết định.</p><p id="181">Tôi trả lời bằng một giọng lờ đờ, cố gắng giả vờ bị thôi miên hết mức có thể.</p><p id="182">"Có một thứ."</p><p id="183">Đây có phải câu trả lời cô ấy muốn?</p><p id="184">Chỉ đến lúc này, môi Leah mới nở một nụ cười.</p><p id="185">"Thật sao? Chính xác thì đó là cái gì vậy?"</p><p id="186">Đại Công chúa tiến lại sát bên và nhìn xuống tôi.</p><p id="187">Với đôi mắt xanh mờ đục, nàng công chúa hỏi lại, như thể đã nắm chắc phần thắng.</p><p id="188">"Đó là..."</p><p id="189">"Nói đi ta nghe...?"</p><p id="190">Nàng công chúa lặp lại lời thúc giục, tràn đầy tự tin vào chiến thắng của mình.</p><p id="191">Không phải Lidia.</p><p id="192">Cũng không phải Irina.</p><p id="193">Cô ấy đang chờ đợi cái tên của mình thốt ra từ miệng tôi.</p><p id="194">"Leah..."</p><p id="195">Câu trả lời mà cô ấy hằng mong đợi.</p><p id="196">Leah mỉm cười rạng rỡ như một thiếu nữ.</p><p id="197">Rồi cô ấy nhẹ nhàng vuốt ve gò má tôi, một cử chỉ đầy âu yếm như đang cưng nựng một con thú cưng.</p><p id="198">"Phải rồi, dĩ nhiên là vậy! Ta vượt xa con bé hỗn huyết và kẻ thuộc bộ tộc vùng biên giới hoang dã kia mà."</p><p id="199">Tuy nhiên, cái chạm tay của cô ấy sớm dừng lại đột ngột.</p><p id="200">Bởi vì câu nói của tôi vẫn chưa kết thúc.</p><p id="201">"Chiếc sofa da... mà Điện hạ Leah đã tặng thần."</p><p id="202">Tiếng nước sôi trong ấm chợt tắt lịm.</p><p id="203">Căn phòng kín bỗng trở nên im lặng như nấm mồ.</p><p id="204">Khuôn mặt vốn đã nhợt nhạt của Leah nay bỗng trắng bệch ra hoàn toàn.</p><p id="205">Hàng mi dưới của cô ấy run rẩy.</p><p id="206">"V-Vậy là... cậu đang nói cậu thà chọn cái ghế sofa chết tiệt đó thay vì ta sao?"</p><p id="207">Gương mặt Leah bỗng đỏ rực như vệt máu vẫn đang rỉ ra từ ngón tay tôi.</p><p id="208">Chẳng mấy chốc, toàn thân cô ấy bắt đầu run rẩy dữ dội không khác gì cái ấm nước vừa sôi xong.</p><p id="209">"Cậu... cái tên thường dân to gan này, sao cậu dám nhạo báng một công chúa?"</p><p id="210">Đại Công chúa túm lấy cổ áo tôi.</p><p id="211">"Không, thần thực sự rất thích chiếc sofa đó mà..."</p><p id="212">"Câm miệng ngay!"</p><p id="213">Nàng công chúa đẩy mạnh khiến tôi ngã ngửa lại vào ghế.</p><p id="214">Kết quả là toàn thân tôi đổ sụp xuống chỗ ngồi một cách đầy bất lực.</p><p id="215">"Để tuột mất một cơ hội ngàn vàng tự lăn đến tận chân mình như thế này..."</p><p id="216">Nàng công chúa vớ lấy một tách trà trong khi đang bốc hỏa.</p><p id="217">Khác hẳn với vẻ thanh lịch đầy giả tạo trước đó, cô ấy nốc cạn sạch tách trà chỉ trong một hơi.</p><p id="218">"Đầu óc cậu bị chập mạch vì múa kiếm suốt cả ngày rồi sao?"</p><p id="219">Những giọt nước rơi xuống ngực cô ấy.</p><p id="220">Trong cơn thịnh nộ, Leah siết chặt lấy bộ váy của mình.</p><p id="221">Rồi cô ấy bắt đầu hầm hầm sải bước tiến thẳng về phía lối ra.</p><p id="222">"Thật phí thời gian, không ngờ mình lại từng cân nhắc đầu tư vào một kẻ ngu ngốc như vậy!"</p><p id="223">Tiếng gót giày của nàng công chúa nện xuống sàn xa dần rồi nhỏ hẳn.</p><p id="224">Ngay sau đó, cô ấy đóng sầm cửa phòng tiếp khách lại.</p><p id="225">"Điện hạ, người ổn chứ? Sắc mặt của người..."</p><p id="226">"Ta ổn, mau gọi xe ngựa ngay đi. Ta không còn lý do gì để ở lại đây nữa."</p><p id="227">Có lẽ vì quá kích động, cô ấy thậm chí chẳng thèm giữ lấy cách nói chuẩn mực ngay cả khi đã bước ra ngoài.</p><p id="228">Cô ấy dứt khoát rời khỏi hoàng cung với những bước chân vội vã.</p><p id="229">Sau khi tiếng bước chân hoàn toàn tan biến.</p><p id="230">Tôi chậm rãi mở mắt ra.</p><p id="231">Rồi tôi nhẹ nhàng phủi đi vệt nhăn trên chiếc áo sơ mi mà Leah đã túm lấy.</p><p id="232">"Mùi hương đó quả thực rất nồng."</p><p id="233">Tôi nhìn xuống ngón tay cái của mình.</p><p id="234">Lúc này, những giọt máu đen đã hình thành trên vết thương.</p><p id="235">Lý do máu chuyển sang màu đen rất đơn giản.</p><p id="236">Đó là chất dẫn dụ từ bùa chú của Leah đang bị cơ thể tôi đào thải ra ngoài cùng với máu.</p><p id="237">Tôi vốn đã nằm lòng cách phá giải những loại bùa chú mê hoặc này từ khi còn đối đầu với pháp sư riêng của Thái tử trong quá khứ rồi.</p><p id="238">Tôi rẩy ngón tay đang đau nhức.</p><p id="239">Rồi thong thả quay trở lại sảnh yến tiệc.</p><p id="240">"Dù sao thì, chuyện mình thích chiếc sofa đó là nói thật lòng mà..."</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277386-chuong-21-bay-mat1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277388-chuong-23-bay-mat3" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'pyK3mHLiIUo8ALgWI6zObtzJtwaWThguaRteg17r';
        var comment_type = 'chapter';
        var comment_typeid = '277387';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'pyK3mHLiIUo8ALgWI6zObtzJtwaWThguaRteg17r';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23722');
    chapter_id = parseInt('277387');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi đã trở thành một hiệp sĩ bị ám ảnh bởi các nàng công chúa',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="pyK3mHLiIUo8ALgWI6zObtzJtwaWThguaRteg17r" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

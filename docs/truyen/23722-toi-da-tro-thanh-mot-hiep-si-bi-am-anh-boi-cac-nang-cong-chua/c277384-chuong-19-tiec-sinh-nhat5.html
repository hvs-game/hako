<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi đã trở thành một hiệp sĩ bị ám ảnh bởi các nàng công chúa - Chương 19: Tiệc sinh nhật(5) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi đã cống hiến cả đời mình để phục vụ công chúa. Còn hiện tại thì tất cả những gì tôi muốn làm là nghỉ ngơi.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="3KMqMibfKITH85GOyOjixnFAK4otSND6ECgNAqUK">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277384-chuong-19-tiec-sinh-nhat5">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23722-cfb8eef7-dc10-4af3-8688-898ef4e42bdf.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277383-chuong-18-tiec-sinh-nhat4"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277385-chuong-20-tiec-sinh-nhat6"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277384-chuong-19-tiec-sinh-nhat5" style="background: url('https://i.hako.vn/ln/series/covers/s23722-cfb8eef7-dc10-4af3-8688-898ef4e42bdf.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua">Tôi đã trở thành một hiệp...</a></h5>
                    <small><i class="fas fa-pen"></i>sajerak (사제락)</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/t33841-web-novel">Web Novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244299-chuong-00-cai-ket">
                                                                        Chương 00: Cái kết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244300-chuong-01-le-bo-nhiem-hiep-si1">
                                                                        Chương 01: Lễ bổ nhiệm hiệp sĩ(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c244565-chuong-02-le-bo-nhiem-hiep-si2">
                                                                        Chương 02: Lễ bổ nhiệm hiệp sĩ(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c248143-chuong-03-le-bo-nhiem-hiep-si3">
                                                                        Chương 03: Trận quyết đấu(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273119-chuong-04-tran-quyet-dau2">
                                                                        Chương 04: Trận quyết đấu(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273153-chuong-05-tran-quyet-dau3">
                                                                        Chương 05: Trận quyết đấu(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273170-chuong-06-tran-quyet-dau4">
                                                                        Chương 06: Trận quyết đấu(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273227-chuong-07-loi-de-nghi-khong-the-choi-tu1">
                                                                        Chương 07: Văn phòng mới(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273255-chuong-08-loi-de-nghi-khong-the-choi-tu2">
                                                                        Chương 08: Văn phòng mới(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273386-chuong-09-van-phong-moi3">
                                                                        Chương 09: Văn phòng mới(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273406-chuong-10-van-phong-moi4">
                                                                        Chương 10: Văn phòng mới(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273721-chuong-11-giao-dich-bi-mat1">
                                                                        Chương 11: Giao dịch bí mật(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c273779-chuong-12-giao-dich-bi-mat2">
                                                                        Chương 12: Giao dịch bí mật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277377-chuong-13-giao-dich-bi-mat3">
                                                                        Chương 13: Giao dịch bí mật(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277378-chuong-14-giao-dich-bi-mat4">
                                                                        Chương 14: Giao dịch bí mật(4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277380-chuong-15-tiec-sinh-nhat1">
                                                                        Chương 15: Tiệc sinh nhật(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277381-chuong-16-tiec-sinh-nhat2">
                                                                        Chương 16: Tiệc sinh nhật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277382-chuong-17-tiec-sinh-nhat3">
                                                                        Chương 17: Tiệc sinh nhật(3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277383-chuong-18-tiec-sinh-nhat4">
                                                                        Chương 18: Tiệc sinh nhật(4)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277384-chuong-19-tiec-sinh-nhat5">
                                                                        Chương 19: Tiệc sinh nhật(5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277385-chuong-20-tiec-sinh-nhat6">
                                                                        Chương 20: Tiệc sinh nhật(6)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277386-chuong-21-bay-mat1">
                                                                        Chương 21: Bẫy mật(1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277387-chuong-22-bay-mat2">
                                                                        Chương 22: Bẫy mật(2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277388-chuong-23-bay-mat3">
                                                                        Chương 23: Bẫy mật(3)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web Novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 19: Tiệc sinh nhật(5)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277384-chuong-19-tiec-sinh-nhat5#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,505 từ - Cập nhật: 
                        <time class="topic-time timeago" title="23-12-2025 15:18:56" datetime="2025-12-23T15:18:56+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 19: Tiệc sinh nhật(5)</p>
                    <p id="1">“Chuyện gì đã xảy ra với trận đấu tay đôi vậy?”</p><p id="2">Leah hỏi với đôi lông mày nhíu lại.</p><p id="3">“Khói vẫn còn quá đặc để có thể nhìn rõ bên trong.”</p><p id="4">Các hộ vệ khác cũng đang hoang mang. Tất cả những gì họ có thể thấy qua làn khói mờ ảo là...</p><p id="5">Bóng của ba người.</p><p id="6">Chỉ có hai hiệp sĩ đang đối mặt trực tiếp với tôi mới có thể nhận ra khuôn mặt của tôi.</p><p id="7">“Ngươi là tên khốn kiêu ngạo lúc nãy...!”</p><p id="8">Bache tự vỗ vào má mình vì không thể tin được. </p><p id="9">Sau khi xác nhận khuôn mặt của tôi, biểu cảm của hắn méo mó dữ dội.</p><p id="10">“Chuyện gì thế này? Ngươi biết hắn ta à?”</p><p id="11">Allen cau mày, vẻ mặt lộ rõ sự khó chịu.</p><p id="12">Tôi nhặt một chiếc bao kiếm của Allen đang rơi trên mặt đất lên. </p><p id="13">Sau đó tôi giơ nó lên không trung và tập trung mana của mình.</p><p id="14">Nhớ lại đám bụi đã bốc lên khi Bache vung thương xuống đất lúc nãy, tôi vung mạnh bao kiếm xuống với tất cả sức bình sinh.</p><p id="15">—.</p><p id="16">Chẳng mấy chốc, một làn sương mù hòa quyện cùng mana bốc lên. </p><p id="17">Làn khói bao phủ hoàn toàn sân khấu, tách biệt nó với hàng ghế VIP như một tấm màn che. </p><p id="18">Nhờ vậy, các quan khách không còn có thể nhìn thấy chúng tôi nữa.</p><p id="19">“Như các người thấy đấy, tôi là một Hiệp sĩ Phòng thủ Thủ đô.”</p><p id="20">Các hộ vệ nhìn tôi với vẻ mặt đờ đẫn. </p><p id="21">Như thể họ đã biết tôi đến từ Đội Phòng thủ Thủ đô từ trước.</p><p id="22">Ngay sau đó Bache khịt mũi. </p><p id="23">Vẫn còn tức giận vì lời khiêu khích của Allen, hắn cảnh báo tôi với vẻ mặt nghiêm trọng.</p><p id="24">“Đừng có can thiệp, tên lính mới kia. Ngươi nghĩ việc là một Hiệp sĩ Phòng thủ cho ngươi cái quyền xen vào chuyện của Hoàng gia sao?”</p><p id="25">Hắn nói cũng có lý. </p><p id="26">Bất kỳ hiệp sĩ nào đang mưu cầu thăng tiến đều không nên làm mất lòng Hoàng tộc.</p><p id="27">Nhưng. </p><p id="28">Đối với một kẻ không màng đến quân hàm như tôi thì lại khác.</p><p id="29">“Về lý mà nói, tôi hoàn toàn có quyền. Hành động của các người suýt chút nữa đã khiến những vị khách quý bị thương rồi đấy.”</p><p id="30">Bởi vì việc bị Đội Phòng thủ Thủ đô kỷ luật còn rắc rối hơn nhiều so với việc bị cản trở con đường sự nghiệp.</p><p id="31">“Vậy nên hãy kết thúc chuyện này một cách êm đẹp đi, được chứ? Tôi cũng sẽ bị vạ lây nếu không thể đứng ra hòa giải.”</p><p id="32">Tôi đã cố gắng hết sức để giải thích tình cảnh của mình. </p><p id="33">Tuy nhiên, thay vì bị thuyết phục, họ thậm chí còn cau mày sâu hơn.</p><p id="34">“Một Hiệp sĩ Phòng thủ sao?”</p><p id="35">Đặc biệt là cậu ta, gã ngang tàng Allen, chẳng hề có ý định hợp tác với tôi dù chỉ một chút.</p><p id="36"> “À—có phải ngươi là kẻ mà Đệ nhị Công chúa muốn chiêu mộ làm quân đoàn trưởng không?”</p><p id="37">“Hóa ra đó là lý do tại sao ngươi lại kiêu ngạo như vậy ở cổng vào.”</p><p id="38">Tôi không có phản ứng đặc biệt nào trước lời nói của họ. </p><p id="39">Mục tiêu duy nhất của tôi là tránh bị Đội Phòng thủ Thủ đô kỷ luật.</p><p id="40">“Tôi xin lỗi về chuyện ở cổng vào. Vậy nên hãy kết thúc ở đây đi.”</p><p id="41">Tôi chỉ muốn dập tắt trận đấu tay đôi này.</p><p id="42">Nhưng... Allen còn là một kẻ gây rối hơn tôi tưởng.</p><p id="43">“Nếu ta từ chối thì sao?”</p><p id="44">Cậu ta đẩy mạnh vào ngực tôi. </p><p id="45">Sau đó cậu ta kề lưỡi kiếm vào cổ tôi.</p><p id="46">“Liệu ngài ‘Quân đoàn trưởng’ đáng kính đây sẽ đích thân ngăn cản bọn ta sao?”</p><p id="47">Vùng dưới mắt tôi giật giật. </p><p id="48">Đúng là... đúng như danh tiếng của một kẻ ngang tàng, cậu ta khá khó đối phó. </p><p id="49">Chả trách Bache lại kích động đến vậy.</p><p id="50">Tự hỏi nên xử lý những gã này thế nào, tôi nhìn về phía hàng ghế Hoàng gia.</p><p id="51">Lidia, người đã đứng dậy và đi xuống sát lan can vì sự xâm nhập của ai đó.</p><p id="52">Irina, đang theo dõi màn khói với vẻ mặt căng thẳng, hai tay đan chặt vào nhau. </p><p id="53">Mọi người đều đang lo lắng cho thuộc hạ của mình.</p><p id="54">“...”</p><p id="55">Tôi quay đầu lại nhìn gã ngang tàng và Bache. </p><p id="56">Không giống như các công chúa, họ vẫn đang có ý định xé xác nhau.</p><p id="57">“Allen, cậu thực sự cần ai đó gục xuống thì mới chịu dừng trận đấu tay đôi này lại sao?”</p><p id="58">Tôi chỉ bao kiếm về phía hai hiệp sĩ. </p><p id="59">Cậu ta nhìn chằm chằm vào bao kiếm.</p><p id="60">“Dĩ nhiên rồi. Đó là cách duy nhất để ta cảm thấy hài lòng đôi chút.”</p><p id="61">Ngay sau đó cậu ta lườm tôi với đôi mắt như thú dữ. </p><p id="62">Và chỉ cặp song kiếm sắc bén của mình về phía cổ tôi.</p><p id="63">“Vậy thì ta sẽ xử lý cái bản mặt kiêu ngạo của ngươi trước!”</p><p id="64">Dứt lời, cậu ta lao về phía tôi với tốc độ cực nhanh. </p><p id="65">Tôi cẩn thận quan sát cơ thể Allen khi cậu ta lao tới. </p><p id="66">Một cú chém đơn giản nhắm vào cổ tôi. </p><p id="67">Tôi khẽ xoay người, dễ dàng đưa mình ra khỏi quỹ đạo của lưỡi kiếm.</p><p id="68">Ngay lập tức, tôi dùng bao kiếm giáng một đòn mạnh vào hông cậu ta. </p><p id="69">Trọng tâm của Allen lập tức bị phá vỡ. </p><p id="70">Cậu ta loạng choạng một cách đầy vụng về.</p><p id="71">Tuy nhiên, cậu ta không dễ gục ngã đến thế. </p><p id="72">Trái lại, ngay trong lúc đang mất đà, cậu ta vẫn cố vung kiếm nhắm vào cánh tay tôi.</p><p id="73"> “Thằng ngu, ngươi nghĩ mình có thể dùng tay không đỡ kiếm sao?”</p><p id="74">Khoảng cách quá gần khiến tôi không thể vừa né vừa phản đòn. </p><p id="75">Cậu ta gào lên đắc thắng, tin chắc mình đã nắm phần thắng trong tay.</p><p id="76"> “Ta sẽ chém gục ngươi cùng với ta...!”</p><p id="77">Nhưng lưỡi kiếm của cậu ta đã không thể xuyên thấu cánh tay tôi. </p><p id="78">Thay vì máu tươi, chỉ có những tia mana xanh lam bắn tung tóe từ vị trí va chạm.</p><p id="79"> “...!”</p><p id="80">Sau trận đấu tay đôi với Richard, tôi đã trở nên khá quen thuộc với cơ thể quá khứ của mình. </p><p id="81">Những giờ phút cuốc đất và đào bới trong vườn rau không đếm xuể. </p><p id="82">Tôi đã rèn luyện cơ thể mình hết mức có thể thông qua những công việc đó.</p><p id="83">Nhờ vậy, tôi đã gạt phăng thanh kiếm của cậu ta chỉ bằng sức mạnh thuần túy từ cánh tay. </p><p id="84">Không để lỡ nhịp, tôi chộp lấy cổ tay cậu ta và truyền mana của mình vào.</p><p id="85"> “Cái... cái gì thế này!”</p><p id="86">Mana của tôi bắt đầu quấn chặt lấy cánh tay của Allen. </p><p id="87">Chẳng mấy chốc, cậu ta hoàn toàn mất quyền kiểm soát cánh tay mình.</p><p id="88">Cậu ta sau đó vội vàng lùi lại, và nhanh chóng cố gắng tập trung để ổn định lại mana của mình. </p><p id="89">Tuy nhiên, mana của cậu ta từ lâu đã trở nên đục ngầu như nước bùn.</p><p id="90">“Rốt cuộc ngươi đã làm cái quái gì với ta vậy...?”</p><p id="91">Khi nhận ra mana không còn tuân theo ý muốn, đôi mắt cậu ta đảo liên hồi như một con thú nhỏ đang bị dồn vào đường cùng.</p><p id="92"> “Loại hiệp sĩ nào mà lại dùng những chiêu trò bẩn thỉu, hèn hạ như vậy chứ...!”</p><p id="93">“Hèn hạ sao? Có phải mọi thứ cậu không hiểu đều là hèn hạ không?”</p><p id="94">Tôi giơ bao kiếm lên với vẻ mặt không cảm xúc. </p><p id="95">Và đập mạnh vào đầu cậu ta, như thể đang đập một quả dưa hấu.</p><p id="96"><em>BỐP-!!</em></p><p id="97">Cùng với âm thanh đó, máu đỏ bắn ra từ mũi của Allen. </p><p id="98">Chẳng mấy chốc cậu ta ngã xuống sân khấu với một tiếng rên rỉ.</p><p id="99">‘Cậu ta sẽ không thể ngồi dậy trong một thời gian đâu.’</p><p id="100">Tâm trí tôi dần dịu lại sau khi hạ đo ván một gã ngang tàng. </p><p id="101">Đúng thật là, chó điên thì chỉ có dùng đòn roi mới trị được.</p><p id="102">Tuy nhiên, mọi chuyện vẫn chưa kết thúc. </p><p id="103">Trong khi tôi đang xác nhận việc cậu ta bất tỉnh, bóng người to lớn của ai đó hiện lên sau lưng tôi.</p><p id="104">“Đừng có mà phân tâm!”</p><p id="105">Một hiệp sĩ với cây thương giơ cao. </p><p id="106">Hắn đập mạnh cây thương xuống sàn sân khấu một cách dữ dội. </p><p id="107">Nhưng chuyển động của hắn dù mạnh mẽ nhưng lại chậm chạp. </p><p id="108">Một kẻ chỉ tập trung vào rèn luyện sức mạnh không thể đuổi kịp tôi.</p><p id="109">“Sao một hiệp sĩ thường dân như ngươi dám can thiệp vào một trận đấu tay đôi?”</p><p id="110">Sau đó hắn liên tục xoay thương để gây áp lực lên tôi. </p><p id="111">Tốc độ nhanh đến mức ngay cả màn khói tôi tạo ra cũng bắt đầu lung lay.</p><p id="112">“Ta sẽ dạy cho ngươi một bài học thích đáng vào ngày hôm nay!”</p><p id="113">Tôi không lùi bước mà lao thẳng về phía cây thương đang xoay như chong chóng của hắn. </p><p id="114">Bằng một động tác cực kỳ chính xác, tôi tra chiếc bao kiếm vào ngay giữa lưỡi thương đang chuyển động. </p><p id="115">Hắn gồng mình hết cỡ để rút mũi thương ra, nhưng nó vẫn nằm bất động trong tay tôi như thể đã bị đóng đinh.</p><p id="116">Thật không ngờ một kẻ với trình độ cỡ này lại được xưng tụng là thần thánh của Đế quốc. </p><p id="117">Hắn sẽ bị nghiền nát trong vòng vài giây nếu phải đối đầu với các hiệp sĩ của Thái tử.</p><p id="118"> “Nếu có ai đó cần một bài học, thì đó là cậu.”</p><p id="119">Trước những lời đanh thép của tôi, làn da tối màu của Bache đỏ bừng lên. </p><p id="120">Không thể giải thoát cây thương dù đã dùng hết sức bình sinh, hắn lại một lần nữa bỏ mặc nó.</p><p id="121">Và giống như hắn đã làm với Allen. </p><p id="122">Giống như tôi đã chiến đấu với hiệp sĩ của Thái tử năm năm sau đó. </p><p id="123">Hắn lao vào tôi với một đòn tấn công bất ngờ.</p><p id="124">Ngay khoảnh khắc ấy, tôi rút bao kiếm ra khỏi mũi thương, và giáng những đòn chí mạng vào các điểm yếu trên người hắn, chính xác theo cách mà hiệp sĩ của Thái tử đã từng thực hiện.</p><p id="125">Đầu gối trái. Hông phải.</p><p id="126">Tôi đánh vào tất cả các dây thần kinh nơi mana chảy qua.</p><p id="127">“AARGH...!!”</p><p id="128">Đôi chân đồ sộ của hắn vặn vẹo khi lao tới. </p><p id="129">Chẳng mấy chốc Bache đã ngã xuống và kết thúc bằng việc quỳ gối.</p><p id="130">“Đôi, đôi chân của ta...!!”</p><p id="131">Khuôn mặt hắn tái mét vì cơn đau lạ lẫm. </p><p id="132">Đôi chân hắn sưng vù lên như bị ong bắp cày đốt.</p><p id="133">Tôi tiến lại gần Bache, kẻ đang ôm chặt lấy đôi chân của mình. </p><p id="134">Và nhặt cây thương của hắn lên để cắm nó xuống bên cạnh hắn.</p><p id="135">“Thằng khốn kiếp....”</p><p id="136">Hắn lườm tôi như thể muốn ăn tươi nuốt sống tôi vậy. </p><p id="137">Tuy nhiên, đôi chân hắn thậm chí còn không thể nhúc nhích. </p><p id="138">Giống hệt như khi hắn bị tàn tật vào thời điểm đó vậy.</p><p id="139">‘Thế là xong chuyện.’</p><p id="140">Mặc dù đã sử dụng bạo lực, tôi sau cùng đã dừng được trận đấu tay đôi. </p><p id="141">Khi tôi chuẩn bị rời đi và hài lòng với kết quả, tôi khựng lại khi nghe thấy tiếng thở dốc từ phía sau.</p><p id="142">“Hà....”</p><p id="143">Là Allen. </p><p id="144">Cậu ta đã xua tan được mana mà tôi đưa vào và đứng dậy lần nữa.</p><p id="145">“Ngươi nghĩ mình có thể đánh bại ta bằng những chiêu trò tà thuật bẩn thỉu đó sao?”</p><p id="146">Cậu ta giơ kiếm lên. </p><p id="147">Một luồng kiếm khí màu màu xanh lam sống động bùng phát. </p><p id="148">Không giống như lần đầu giao đấu, nó đã trở nên đậm hơn và mang sắc xanh lam mãnh liệt hơn.</p><p id="149">Thấy vậy, tôi nhếch mép cười. </p><p id="150">Cậu ta đã tự rèn luyện bản thân trong khi lọc bỏ mana của tôi sao?</p><p id="151">‘Có vẻ cậu ta không chỉ nổi tiếng vì sự điên rồ.’</p><p id="152">Tinh thần chiến đấu tràn trề. </p><p id="153">Tài năng kiệt xuất. </p><p id="154">Nó giống như được thấy chính mình khi còn trẻ và đầy tham vọng thăng tiến. </p><p id="155">Nhờ vậy, tôi cũng hiểu thêm phần nào lý do Irina lại chọn cậu ta.</p><p id="156">Và tôi trở càng thêm chắc chắn. </p><p id="157">Để khuất phục một kẻ lì lợm như thế này, tôi cần thay đổi cách tiếp cận.</p><p id="158">‘Mình sẽ phá hủy cái sân khấu này luôn.’</p><p id="159">Nếu chẳng còn nơi nào để đấu, gã ngang tàng này cũng chẳng còn chỗ để lộng hành. </p><p id="160">Và quan khách cũng sẽ được an toàn.</p><p id="161">Tôi nhặt thanh kiếm của Allen đang nằm dưới sàn lên, giơ cao nó lên không trung và bắt đầu tập trung tâm trí. </p><p id="162">Ngay lập tức, mana xanh lam của tôi bao phủ trọn vẹn lưỡi kiếm.</p><p id="163">Allen đờ đẫn nhìn chằm chằm vào luồng sáng ấy. Màu sắc của nó vốn chỉ là sắc xanh thuần túy, nay bắt đầu chuyển hóa. </p><p id="164">Cậu ta thẫn thờ đánh rơi luôn thanh kiếm đang cầm cự xuống sàn, chỉ biết ngây người nhìn vào luồng mana vàng kim rực rỡ đang tỏa ra.</p><p id="165"> “Kiếm khí....”</p><p id="166">Cậu ta ngước nhìn tôi với biểu cảm không thể tin nổi. </p><p id="167">Bởi lẽ một Hiệp sĩ Phòng thủ, lại còn là lính mới như tôi, lại có thể thi triển được kỹ thuật của cấp quân đoàn trưởng.</p><p id="168"> “Làm sao một Hiệp sĩ Phòng thủ quèn lại có thể...!”</p><p id="169">Đối diện với Allen lúc này, tôi chỉ bình thản đáp lời:</p><p id="170">“Chính tôi cũng thắc mắc điều đó. Tại sao tôi lại chọn làm một Hiệp sĩ Phòng thủ và trải qua mớ rắc rối này.”</p><p id="171">Tôi giơ thanh kiếm đã thấm đẫm sắc vàng về phía bầu trời. Và vung nó thật mạnh về phía cậu ta.</p><p id="172">“Vì vậy, làm ơn hãy giữ im lặng giùm cái.”</p><p id="173"><em>KWAAANG--!!</em></p><p id="174">Kiếm ý màu vàng cô đặc giáng xuống sân khấu. </p><p id="175">Kết quả là, mặt sàn vốn bằng phẳng đã bắt đầu sụp đổ. </p><p id="176">Đủ để khiến cho trận đấu tiếp theo mà Đệ nhất Công chúa dày công chuẩn bị trở nên bất khả thi. </p><p id="177">“Để tôi không còn phải ra tay thêm một lần nào nữa.”</p><p id="178">Chứng kiến cảnh tượng này, khuôn mặt của hộ vệ hai công chúa tái mét. </p><p id="179">Với vẻ mặt tự hỏi xem là liệu họ có thể xử lý được tình huống này hay không.</p><p id="180">“Ngươi... ngươi nghĩ mình có thể sống sót sau khi làm loạn thế này ngay tại Hoàng cung sao?”</p><p id="181">Đối với một kẻ ngang tàng, cậu ta đã đặt ra một câu hỏi khá hợp lý.</p><p id="182">“Không sao đâu.”</p><p id="183">Tôi trả lời bằng một nụ cười nhẹ.</p><p id="184">“Bởi vì tôi sẽ đổ hết mọi tội lỗi lên đầu các người.”</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277383-chuong-18-tiec-sinh-nhat4" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23722-toi-da-tro-thanh-mot-hiep-si-bi-am-anh-boi-cac-nang-cong-chua/c277385-chuong-20-tiec-sinh-nhat6" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '3KMqMibfKITH85GOyOjixnFAK4otSND6ECgNAqUK';
        var comment_type = 'chapter';
        var comment_typeid = '277384';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '3KMqMibfKITH85GOyOjixnFAK4otSND6ECgNAqUK';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23722');
    chapter_id = parseInt('277384');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi đã trở thành một hiệp sĩ bị ám ảnh bởi các nàng công chúa',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="3KMqMibfKITH85GOyOjixnFAK4otSND6ECgNAqUK" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

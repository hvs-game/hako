<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Majutsushi kunon Wa Mieteiru - Chương 255 : Chuẩn bị cho chuyến đi đến Vương Quốc Huglia p2. - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Trên đời này có thực sự tồn tại việc nhân sinh của một ai đó thay đổi hoàn toàn chỉ vì một câu nói. Kunon grion, kẻ mang trong mình lời nguyền khiến cậu bị cướp đi thị lực từ lúc được sinh ra với một cái tên mỹ miều...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ZO96XtyhIjdFm7lV3ZaoKTMwmxxBxSSOHmPNYymg">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/18751-aaaaaaaaaaaa/c284877-chuong-255-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s18751-32e7ed7c-f69b-4675-b3c1-04c131467775.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/18751-aaaaaaaaaaaa/c284406-chuong-254-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/18751-aaaaaaaaaaaa"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/18751-aaaaaaaaaaaa/c284877-chuong-255-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p2" style="background: url('https://i.hako.vn/ln/series/covers/s18751-32e7ed7c-f69b-4675-b3c1-04c131467775.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/18751-aaaaaaaaaaaa">Majutsushi kunon Wa Miete...</a></h5>
                    <small><i class="fas fa-pen"></i>南野海風</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c139119-chuong-01-an-tich-cua-nguoi-hung">Tập 01 Ấn Tích của Người Hùng</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c152967-chuong-41-gap-go-va-chia-ly">Tập 02 : Cuộc sống mới ở trường ma thuật</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c156121-chuong-68-thu-nay-chinh-la-ma-dao-cu">Tập 03 : Saa, jikken wo hajimemashouka?</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c163427-chuong-88-giao-vien-thuc-tap-jennie-coase">Tập 04 : Trải nghiệm học lớp khóa dưới và trận chiến sinh tử</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c179768-chuong-01">Tập 05 : Ma Đới Hộp, Hiện Tượng Sáng Thế và... Chích Điện</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c200397-chuong-147-truong-ma-thuat-nam-hai">Tập 06 : Bắt đầu năm hai.</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c226265-chuong-196-tai-ngo-ngo-lo">Tập 07 : Hẹn hò, lĩnh vực tri thức mới.</a></li>
                                        
                                                            <li class="current"><a href="/truyen/18751-aaaaaaaaaaaa/t34407-tap-08">Tập 08 : Tôi có ý này!</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c257330-chuong-233-mua-dong-thu-hai-va-tao-ma-hoc">
                                                                        Chương 233 : Mùa đông thứ hai và Tạo Ma Học.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c258719-chuong-234-tao-ma-dau-tien">
                                                                        Chương 234 : Tạo Ma đầu tiên.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c262597-chuong-235-muon-thay-doi-phuong-huong-cua-giao-vien">
                                                                        Chương 235 : Muốn thay đổi phương hướng của giáo viên.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c263432-chuong-236-bi-cuon-vao-tran-ty-thi">
                                                                        Chương 236 : Bị cuốn vào trận tỷ thí.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c264154-chuong-237-bang-thu-co-ich-cho-con-nguoi">
                                                                        Chương 237 : Bằng thứ có ích cho con người.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c265898-chuong-238-cha-con-khong-mau-mu">
                                                                        Chương 238 : Cha Con Không Máu Mủ.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c267288-chuong-239-ngay-ty-thi">
                                                                        Chương 239 : Ngày tỷ thí.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c267516-chuong-240-cai-dau-ma-thuat-truyen-tai-thong-tin">
                                                                        Chương 240 : Cái đầu ma thuật truyền tải thông tin.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c271235-chuong-241-that-lung-bo-tro-co">
                                                                        Chương 241 : Thắt lưng bổ trợ cơ.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c272378-chuong-242-tinh-hinh-ty-thi-bon-vi-lu-khach">
                                                                        Chương 242 : Tình Hình Tỷ Thí, Bốn Vị Lữ Khách.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c273005-chuong-243-cha-cua-thanh-nu">
                                                                        Chương 243 : Cha của Thánh Nữ.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c275067-chuong-244-chuyen-ve-cuoc-gap-go-ngay-hom-qua">
                                                                        Chương 244 : Chuyện về cuộc gặp gỡ ngày hôm qua.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c275325-chuong-245-ban-dem-tien-ve-truong-ma-thuat">
                                                                        Chương 245 : Ban đêm, tiến về Trường Ma Thuật.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c275826-chuong-246-cau-nguyen-dac-san">
                                                                        Chương 246 : Cầu nguyện, Đặc Sản.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c276765-chuong-247-ban-luan-du-dinh-cho-tuong-lai">
                                                                        Chương 247 : Bàn Luận, dự định cho tương lai.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c278956-chuong-248-muon-mot-na-ban-hai-chim">
                                                                        Chương 248 : Muốn một ná bắn hai chim.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c279129-chuong-249-lan-dong-bo-suy-nghi-hiem-hoi">
                                                                        Chương 249 : Lần đồng bộ suy nghĩ hiếm hoi.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c279358-chuong-250-noi-sau-cua-nhung-nguoi-ban-cung-lop">
                                                                        Chương 250 : Nỗi sầu của những người bạn cùng lớp.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c281503-chuong-251-tin-tot-va-tin-xau">
                                                                        Chương 251 : Tin Tốt và Tin Xấu.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c282493-chuong-252-ung-cu-vien-chinh-la-vi-giao-vien-ay">
                                                                        Chương 252 : Ứng cử viên chính là vị giáo viên ấy.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c284245-chuong-253-thong-bao-tu-be-tren">
                                                                        Chương 253 : Thông báo từ bề trên.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c284406-chuong-254-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p1">
                                                                        Chương 254 : Chuẩn bị cho chuyến đi đến Vương Quốc Huglia p1.
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c284877-chuong-255-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p2">
                                                                        Chương 255 : Chuẩn bị cho chuyến đi đến Vương Quốc Huglia p2.
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 08 : Tôi có ý này!</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 255 : Chuẩn bị cho chuyến đi đến Vương Quốc Huglia p2.</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/18751-aaaaaaaaaaaa/c284877-chuong-255-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,278 từ - Cập nhật: 
                        <time class="topic-time timeago" title="04-01-2026 18:15:35" datetime="2026-01-04T18:15:35+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 255 : Chuẩn bị cho chuyến đi đến Vương Quốc Huglia p2.</p>
                    <p id="1">Sau khi đợi hầu gái Zirni và Flera đến lấy chậu cây.</p><p id="2">"Thầy Surf ơi, mình đi thôi ạ."</p><p id="3">Thánh Nữ mới chịu di chuyển.</p><p id="4">--- Phù Thủy Mạnh Nhất Thế Giới-Grey • Ruva, khi nghe thấy cái tên của bà ấy thì không có một ma thuật sư nào tỏ ra không hứng thú cả.</p><p id="5">Và nếu được bà ấy gọi, người bình thường đã tức tốc bay đến rồi, dĩ nhiên là 80~90% trường hợp là vậy.</p><p id="6">Nhưng với Reyes, cô đã chọn để bà ấy phải chờ thêm một lúc, vì chuyện cá nhân của mình.</p><p id="7">"Nếu không tốn thời gian đến vậy thì thầy sẽ cảm thấy biết ơn đấy..."</p><p id="8">Reyes bị khiếm khuyết cảm xúc, nên phản ứng của cô luôn như vậy.</p><p id="9">Và thế quái nào người có nhiệm vụ gọi cô đến là thầy Surf lại xuất hiện dao động tinh thần?</p><p id="10">[Em định cho Grey • Ruva chờ à?]</p><p id="11">Dù nghe thấy cái tên của Phù Thủy Mạnh Nhất Thế Giới, nhưng cô chả có bao nhiêu phản ứng cả. Và cũng chẳng tỏ ra sợ hãi khi được 1 người như vậy gọi mình đến.</p><p id="12">Một phản ứng rất 'Reyes'.</p><p id="13">"--- Thầy Surf, xin chào thầy ạ. Có chuyện gì thế?"</p><p id="14">Khi cả hai đang quay về khuôn viên trường từ khu tiếp tân thì bắt gặp Liya • Horse đang tiến đến cùng đám chậu cây.</p><p id="15">"Chào em, Liya, thầy có chuyện phải mượn trò Reyes một lúc."</p><p id="16">"V, vâng ạ. Em hiểu rồi."</p><p id="17">Thầy Surf đang trả lời cho Liya-người vẫn chưa hiểu chuyện gì xảy ra.</p><p id="18">Và Thánh Nữ cũng đã bồi thêm một câu :</p><p id="19">"Hiện tại có chị hầu gái của tớ ở khu tiếp tân, cậu hãy bàn bạc với chị ấy để giải quyết phần công việc còn lại đi.</p><p id="20">Còn tớ vì được gọi nên phải đi giải quyết công chuyện đây."</p><p id="21">"A, ừm, tớ hiểu rồi."</p><p id="22">Cả hai trao đổi ngắn gọn rồi ai đi đường nấy.</p><p id="23">".... Vẫn còn hả trời."</p><p id="24">Sau khi tiễn Liya cùng đám chậu cây, thầy Surf lẩm bẩm.</p><p id="25">Đã có một đống nhung nhúc chậu cây ở khu tiếp tân rồi, vậy mà sẽ lại có thêm 1 đống nữa tham gia.</p><p id="26">"Em nghĩ chỉ còn 1 vòng đi lẫn về nữa là cậu ấy sẽ xong."</p><p id="27">"Em giỡn hả?"</p><p id="28">"Toàn bộ chúng đều là những thực vật rất quan trọng ạ."</p><p id="29">"Thật đấy à...x"</p><p id="30">Mà, nếu xét trường hợp của một người nghiên cứu thì câu chuyện này không lạ lắm.</p><p id="31">Dưới sự dẫn đường của thầy Surf, cô đã đến căn phòng thi viết hồi thi nhập học.</p><p id="32">Bên trong chẳng có ai cả.</p><p id="33">Cũng không hẳn---</p><p id="34">"Xin chào, thưa cô Grey."</p><p id="35">Có 'Quan Tài Đen' đang đứng đấy.</p><p id="36">[Khí tức này---]</p><p id="37">Reyes có ký ức về Ám Ma Thuật này.</p><p id="38">"Cuối cùng đã tới, Reyes • Sentrans."</p><p id="39">Cái bóng phát ra âm thanh của một bà lão.--- Đó không phải chân dạng của bà ấy, mà là một loại ứng xử.</p><p id="40">"Vậy thì tôi xin phép..."</p><p id="41">"Không sao, sẽ nhanh thôi, cứ ở lại đây."</p><p id="42">Khi thầy Surf định rời đi, cái bóng đã ngăn lại.</p><p id="43">Grey • Ruva - đây là lần gặp thứ 2 của Reyes với bà ấy. Lần đầu tiên là phỏng vấn hồi thi nhập học.</p><p id="44">Mà, chính xác mà nói thì có lẽ là chưa gặp lần nào, nếu xét theo bản chất.</p><p id="45">"Người có chuyện gì ạ?"</p><p id="46">Với Reyes thì đối phương là ai không quan trọng.</p><p id="47">[Mình muốn làm cho nhanh để còn về sớm nữa.]</p><p id="48">[Mình muốn đặt chúng ở một vị trí thích hợp, mình cũng để ý đến hướng nắng và thông gió nữa.]</p><p id="49">[Chỉ mỗi việc suy nghĩ nên đặt ở đâu cũng khó rồi, có lẽ mình sẽ tốn nửa ngày cho việc này.]</p><p id="50">[Nhưng mà không sao, việc ấy cũng là niềm vui của mình.]</p><p id="51">Cho nên cô muốn đi về, giờ cô bắt đầu cảm thấy việc bị gọi đến đây quá ư là phiền phức. Dù đối phương có là ai thì cô muốn họ không làm phiền cô.</p><p id="52">---- Dù không biết cô có suy nghĩ đến mức đó hay không.</p><p id="53">Nhưng nhìn thấy những lời nói và hành vi cực kỳ hờ hững của Reyes khiến cho thầy Surf bắt đầu hồi hộp thay cho cô.</p><p id="54">Vì đối tượng trước mặt của cô chính là Phù Thủy Mạnh Nhất Thế Giới.</p><p id="55">"Ta có chuyện muốn nhờ nhóc, chờ mãi mới có cơ hội này đó."</p><p id="56">Không hề biết gì về cảm xúc hiện tại của thầy Surf, cái bóng vẫn nói chuyện cực kỳ bình thản.</p><p id="57">"Nhờ? Thỉnh cầu ạ?"</p><p id="58">"Thỉnh cầu đó, là chuyện công việc."</p><p id="59">Bên cạnh cái bóng xuất hiện một cái thùng lớn trong chớp mắt.</p><p id="60">Đó là một cái thùng cũ kĩ khiến cho người nhìn vào cảm nhận rõ về dòng chảy tuế nguyệt. Nó khá lớn, nếu Reyes mà còn là con nít thì có lẽ cô sẽ chui vào bên trong được.</p><p id="61">"Xin thất lễ."</p><p id="62">Reyes tiến thẳng về hướng cái thùng.</p><p id="63">Nếu chỉ là cái thùng thì cũng chả có gì phải để ý, nhưng vì cô cảm nhận ma lực tỏa ra từ nó nên cũng hơi quan tâm.</p><p id="64">Phần cạnh bên của nó được khắc ghi những văn tự cổ.</p><p id="65">Reyes dùng ngón tay mình viết đè lên : </p><p id="66">"A, gena, geharu... O,ga."</p><p id="67">"Auge • Naruu • Zuiga!?"</p><p id="68">Chính thầy Surf là người đã phản ứng với giọng đọc lắp bắp kia.</p><p id="69">Thầy Surf đứng bên cạnh nhìn chằm chằm vào những khắc ấn kia đến mức vai thầy ấy chạm vai của Reyes.</p><p id="70">[--- Không hề nhầm lẫn!]</p><p id="71">"Nó thật sự có tồn tại ư!"</p><p id="72">"Zuiga?"</p><p id="73">Đối với Reyes đang nghiêng đầu thắc mắc, thầy Surf đã giải thích :</p><p id="74">"Khắc ấn đã phai mờ vì thời gian nên em đã nhìn thành chữ khác đấy.</p><p id="75">Nhưng nội dung thật sự của nó lại như thế này --- Auge/dâng lên rượu • Naruu • Zuiga/hãy xoa dịu cơn khát của thần.</p><p id="76">Túm lại thì đây là thùng rượu của thần linh đó. Thần khí bị thất lạc trong thời đại chiến loạn."</p><p id="77">Thầy Surf giải thích trong sự hưng phấn tột cùng.</p><p id="78">[Đây chính là thùng rượu của thần linh, vì được tạo ra bởi thần linh nên nó sở hữu sức mạnh không tưởng.</p><p id="79">Dựa theo ma lực mình đã cảm thấy thì chắc là đồ thật---]</p><p id="80">"Là thần khí ạ, em hiểu rồi.</p><p id="81">Thế thì thưa cô Grey, thỉnh cầu của cô là gì ạ?"</p><p id="82">Reyes chẳng hề có chút Hưng Phấn nào, dường như với cô thì sau khi biết được chân tướng thì là thùng rượu hay cái thứ quỷ gì cũng được.</p><p id="83">Vẫn chỉ có thầy Surf là người lo lắng ở đây, thầy ấy vẫn phấn khích dù cho bị chính người trong cuộc cho ra rìa.</p><p id="84">"Dùng thứ này chế rượu cho ta đi."</p><p id="85">Chế rượu bằng thùng rượu của thần linh.</p><p id="86">[Chuyện này coi bộ khá căng đấy.] - Thầy Surf nghĩ.</p><p id="87">Và rồi...</p><p id="88">[Nếu là Reyes thì trò ấy chắc chắn sẽ.]</p><p id="89">Đúng hơn là trông chờ hơn là suy đoán.</p><p id="90">"Được ạ."</p><p id="91">[Quả nhiên --- em ấy sẽ đồng ý với vẻ mặt thờ ơ đó!]</p><p id="92">"Tại sao chứ!"</p><p id="93">Dù đoán đúng phốc, nhưng tại sao thầy lại cảm thấy không hề vui vẻ tý nào.</p><p id="94">Ngược lại thì thầy còn nghĩ 'tại sao!?'.</p><p id="95">"Sao em lại không phản ứng gì cả vậy! Đây là chuyện cực kỳ tuyệt vời em có biết không!"</p><p id="96">Grey • Ruva- người nói về thùng rượu của thần linh một cách tỉnh bơ, và Reyes- người cũng tiếp nhận nó một cách tỉnh bơ.</p><p id="97">Chỉ có một mình thầy Surf là phấn khích. Điều này chẳng phải sẽ khiến cho thầy ấy thành phần không không hài hòa trong bức tranh hay sao? Trong khi phản ứng của thầy ấy mới là chính xác nhất.</p><p id="98">Rõ ràng với tư cách của một ma thuật sư hay người yêu thích rượu thì phản ứng này là đúng mà!.</p><p id="99">"Thầy Surf."</p><p id="100">[Đừng có hướng ánh mắt lạnh lùng đó về phía thầy.] -  suýt nữa thì thầy đã thốt ra theo phản xạ, bởi vì ánh mắt của Reyes không hề có chút cảm xúc nào cả.</p><p id="101">"Nếu là về thùng rượu của thần linh thì em biết đấy ạ.</p><p id="102">Thứ rượu được tạo ra từ nó có thể trị được bách bệnh, thanh tẩy ô uế, chỉ cần uống một ngụm cũng giúp tăng thêm tuổi thọ. Nó đã chuốc say rất nhiều vị thần, nó cũng là thứ đã ban hạnh phúc cho rất nhiều sinh vật.</p><p id="103">--- Là Thần Đạo Cụ được bện lại bằng tóc của Tửu Thần Orgrindam, đúng không ạ?"</p><p id="104">Đối với Reyes - người tỏ ra am hiểu, thì lần này Thầy Surf đã thực sự nói ra theo phản xạ.</p><p id="105">"Thế thì em phải bất ngờ đi chứ! Em đang đứng trước vĩ nghiệp/ tạo tác của thần linh đó!"</p><p id="106">Reyes vẫn đáp lại Thầy Surf với vẻ mặt vô cảm.</p><p id="107">"Vì đó không phải là vị thần mà em tin phụng."</p><p id="108">[Là vấn đề đó à?] - thầy Surf đã nghĩ.</p><p id="109">Nhưng mà, giờ mà lôi chuyện tôn giáo ra để tranh luận thì phiền chết, nên thầy đã quyết định nhịn, không cãi nữa.</p><p id="110">Vốn dĩ từ đầu thì thầy Surf có phải người trong cuộc quái đâu, thầy chỉ là một người ngòai cuộc trong vở kịch 'là tự ta đa tình' mà thôi.</p><p id="111">--- Dù vậy đi nữa thì thật khó chấp nhận cái phản xạ đó của Reyes.</p><p id="112">[Em hãy bất ngờ đi chứ! Trước thần khí lẫn Phù Thủy Mạnh Nhất Thế Giới đi chứ!]</p><p id="113">"Thú vị ghê."</p><p id="114">Khi nghe về cách sử dụng thùng rượu của thần linh, cuối cùng Reyes mới chịu thể hiện cảm xúc hứng thú.</p><p id="115">Dù mặt ngoài của cô vẫn là cái vẻ 'vô tâm' ấy.</p><p id="116">"Bỏ nước, thảo mộc, trái cây vào rồi đậy nắp. Đặt ở một nơi thoáng đãng và không có ánh sáng tầm 5 ngày thì rượu sẽ được hoàn thành... Cơ ạ.</p><p id="117">Công đoạn sao mà đơn giản thế nhỉ."</p><p id="118">'Thùng rượu của thần linh' - nói một cách dễ hiểu thì là một ma đạo cụ chuyên ủ rượu.</p><p id="119">"Đã có rượu trong vòng 5 ngày...."</p><p id="120">[Cái tốc độ quái quỉ gì vậy.] - thầy Surf nghĩ.</p><p id="121">"Đây là công thức ta muốn đề nghị. Bởi vì ta đã thử nghiệm rất nhiều loại, ta cũng đã thử đại khái các loại trái cây và thảo mộc rồi.</p><p id="122">Nếu được thì cứ chế rượu ngon ngoài công thức ta đã cho cũng được."</p><p id="123">Tờ giấy chứa chi chít văn tự. Vô vàn phương pháp chế rượu, nó ghi chép cực kỳ chi tiết về tỷ lệ giữa nước, trái cây và thảo mộc.</p><p id="124">--- Sau khi nhìn đại khái tờ công thức, Reyes đã nhìn thấu.</p><p id="125">"Tóm lại là người muốn có thảo mộc và trái cây ạ?"</p><p id="126">"Ừa, nấu cho ta loại rượu vang đơn giản cũng được."</p><p id="127">Bà ấy biết về chất lượng trái cây lẫn thực vật mà Reyes nuôi dưỡng rất tốt nên mới đưa ra thỉnh cầu này.</p><p id="128">Mấy loại trái cây bình thường thì bà đã làm thử từ lâu rồi, cho nên bà muốn tạo ra những công thức nấu rượu mới từ những thứ được Reyes trồng.</p><p id="129">"Hạn chót là khi nào ạ?"</p><p id="130">"Nhóc đi viễn chinh mà đúng không? Trong khoảng thời gian đó cứ nấu 1 loại trong công thức này.</p><p id="131">Được thì ta cho phép tiếp tục, không được thì ta sẽ thu hồi."</p><p id="132">"Vậy còn thù lao?"</p><p id="133">"Ta sẽ cố đáp ứng mọi yêu cầu của nhóc trong phạm vi khả năng của ta. Vật chất hay tiền bạc gì đều được."</p><p id="134">"-- Con hiểu rồi, con sẽ chấp nhận thỉnh cầu này."</p><p id="135">[Việc phải làm không quá khó, chừng này thì mình sẽ làm được thôi.] - nghĩ như vậy, Reyes đáp ứng.</p><p id="136">Theo luật pháp của Thánh Giáo Quốc thì chỉ được uống rượu sau 16 tuổi.</p><p id="137">Reyes vẫn còn lâu mới tới tuổi uống rượu, nhưng không sao, bên cạnh cô còn có 1 cô hầu gái siêu cấp nghiện rượu mà!</p><p id="138">Nếu yêu cầu thử vị rượu thì kiểu gì chị hầu gái kia sẽ vui vẻ đồng ý thôi.</p><p id="139">"Có một chuyện con muốn xác định một chút ạ.</p><p id="140">Rượu được tạo ra bởi thùng rượu của thần linh có thật sự trị được bách bệnh hay kéo dài tuổi thọ không ạ?"</p><p id="141">"Nếu làm đúng quy trình, đúng loại tài liệu, đúng phương pháp thì vẫn sẽ được.</p><p id="142">Nếu không thì có cũng chỉ là loại rượu cường thân kiện thể thôi.</p><p id="143">Vậy thì cứ yên tâm mà chế rượu cho ta đi, uống cũng không sao, chỉ cần có loại rượu mà ta đã yêu cầu thì không sao."</p><p id="144">Cô nhận được một thỉnh cầu ngoài ý muốn từ một người ngoài ý muốn. Lần viễn chinh này cô sẽ phải mang theo thùng rượu to tổ bố.</p><p id="145">"Độ lớn của nó khiến nó trở nên hơi phiền phức ạ."</p><p id="146">"Thùng rượu của thần linh sao mà phiền phức hả em..."</p><p id="147">--- Thầy Surf đã nhận ra.</p><p id="148">Lý do tại sao bản thân lại phải ở đây đến phút cuối.</p><p id="149">"Nếu được xin nhờ thầy mang đến tận nhà em ạ."</p><p id="150">"Vâng vâng thầy hiểu rồi."</p><p id="151">Đó chính là vì thực một nhiệm vụ cực kỳ cao cả--- Culi ship hàng!</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/18751-aaaaaaaaaaaa/c284406-chuong-254-chuan-bi-cho-chuyen-di-den-vuong-quoc-huglia-p1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/18751-aaaaaaaaaaaa" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/18751-aaaaaaaaaaaa" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ZO96XtyhIjdFm7lV3ZaoKTMwmxxBxSSOHmPNYymg';
        var comment_type = 'chapter';
        var comment_typeid = '284877';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ZO96XtyhIjdFm7lV3ZaoKTMwmxxBxSSOHmPNYymg';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('18751');
    chapter_id = parseInt('284877');

    readingObject = {
        series_id: series_id,
        series_title: 'Majutsushi kunon Wa Mieteiru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ZO96XtyhIjdFm7lV3ZaoKTMwmxxBxSSOHmPNYymg" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

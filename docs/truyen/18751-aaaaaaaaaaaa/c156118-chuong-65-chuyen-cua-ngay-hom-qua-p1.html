<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Majutsushi kunon Wa Mieteiru - Chương 65 : Chuyện của ngày hôm qua. ( p1 ) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Trên đời này có thực sự tồn tại việc nhân sinh của một ai đó thay đổi hoàn toàn chỉ vì một câu nói. Kunon grion, kẻ mang trong mình lời nguyền khiến cậu bị cướp đi thị lực từ lúc được sinh ra với một cái tên mỹ miều...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="nptAcWUvk1CTrKhJyCcpPs9FL51Jy67q5b6GCzL0">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s18751-32e7ed7c-f69b-4675-b3c1-04c131467775.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/18751-aaaaaaaaaaaa/c156116-chuong-64-chac-chan-dinh-dang-den-nu-tinh"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/18751-aaaaaaaaaaaa"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/18751-aaaaaaaaaaaa/c156119-chuong-66-chuyen-cua-ngay-hom-qua-p2"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1" style="background: url('https://i.hako.vn/ln/series/covers/s18751-32e7ed7c-f69b-4675-b3c1-04c131467775.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/18751-aaaaaaaaaaaa">Majutsushi kunon Wa Miete...</a></h5>
                    <small><i class="fas fa-pen"></i>南野海風</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c139119-chuong-01-an-tich-cua-nguoi-hung">Tập 01 Ấn Tích của Người Hùng</a></li>
                                        
                                                            <li class="current"><a href="/truyen/18751-aaaaaaaaaaaa/t27423-tap-02-cuoc-song-moi-o-truong-ma-thuat">Tập 02 : Cuộc sống mới ở trường ma thuật</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152967-chuong-41-gap-go-va-chia-ly">
                                                                        Chương 41 : gặp gỡ và chia ly
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152968-chuong-42-tai-cua-hang-chuyen-ve-ma-thuat-cua-thanh-giao-quoc">
                                                                        Chương 42 : tại cửa hàng chuyên về ma thuật của thánh giáo quốc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152969-chuong-43-luot-qua-nhau">
                                                                        Chương 43 : lướt qua nhau.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152971-chuong-44-tim-nha-va-bat-dau-cuoc-song-moi">
                                                                        Chương 44: tìm nhà và bắt đầu cuộc sống mới .
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152972-chuong-45-dinh-luat-da-bi-pha-vo-va-dinh-luat-moi">
                                                                        Chương 45  Định luật đã bị phá vỡ và định luật mới
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152973-chuong-46-toi-dia-diem-thi">
                                                                        Chương 46 : Tới địa điểm thi.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c152986-chuong-4748-thi-thuc-hanh">
                                                                        Chương 47+48 : thi thực hành
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156088-chuong-49-thi-ly-thuyet-va-phong-van">
                                                                        Chương 49 : Thi lý thuyết và phỏng vấn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156090-chuong-50-phong-van">
                                                                        Chương 50 : Phỏng vấn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156094-chuong-51-suy-nghi-ve-nhung-dieu-quan-trong-khi-nhap-hoc">
                                                                        Chương 51 : Suy nghĩ về những điều quan trọng khi nhập học
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156097-chuong-52-ngay-nhap-hoc">
                                                                        Chương 52 : ngày nhập học
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156101-chuong-53-huong-dan-nhap-hoc">
                                                                        Chương 53 : Hướng dẫn nhập học
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156106-chuong-54-ngay-thu-10-sau-khi-nhap-hoc">
                                                                        Chương 54 : Ngày thứ 10 sau khi nhập học
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156107-chuong-55-su-quyet-tam-cua-thanh-nu">
                                                                        Chương 55 : Sự quyết tâm của Thánh nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156108-chuong-56-ma-thuat-dac-trung-cua-thanh-nu">
                                                                        Chương 56 : ma thuật đặc trưng của Thánh nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156109-chuong-57-de-xuat-y-tuong">
                                                                        Chương 57 : đề xuất ý tưởng.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156110-chuong-58-nguoi-thanh-nien-ten-la-hank">
                                                                        Chương 58 : Người thanh niên tên là Hank
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156111-chuong-59-nguoi-thieu-nien-ten-la-liya">
                                                                        Chương 59 : Người thiếu niên tên là Liya
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156112-chuong-19">
                                                                        Chương 60: Tứ đại phe phái p1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156113-chuong-19">
                                                                        Chương 61: Tứ đại phe phái p2.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156114-chuong-62-doan-tien-nu-thap-tung">
                                                                        Chương 62 : Đoàn tiên nữ tháp tùng.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156115-chuong-63-dinh-luat">
                                                                        Chương 63 : Định luật.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156116-chuong-64-chac-chan-dinh-dang-den-nu-tinh">
                                                                        Chương 64 : Chắc chắn dính dáng đến con gái.
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1">
                                                                        Chương 65 : Chuyện của ngày hôm qua. ( p1 )
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156119-chuong-66-chuyen-cua-ngay-hom-qua-p2">
                                                                        Chương 66 : Chuyện của ngày hôm qua ( p2 ).
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c156120-chuong-67-buc-thu">
                                                                        Chương 67 : bức thư.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/18751-aaaaaaaaaaaa/c175319-prologue">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh Hoạ
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c156121-chuong-68-thu-nay-chinh-la-ma-dao-cu">Tập 03 : Saa, jikken wo hajimemashouka?</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c163427-chuong-88-giao-vien-thuc-tap-jennie-coase">Tập 04 : Trải nghiệm học lớp khóa dưới và trận chiến sinh tử</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c179768-chuong-01">Tập 05 : Ma Đới Hộp, Hiện Tượng Sáng Thế và... Chích Điện</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c200397-chuong-147-truong-ma-thuat-nam-hai">Tập 06 : Bắt đầu năm hai.</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c226265-chuong-196-tai-ngo-ngo-lo">Tập 07 : Hẹn hò, lĩnh vực tri thức mới.</a></li>
                                        
                                                            <li class=""><a href="/truyen/18751-aaaaaaaaaaaa/c257330-chuong-233-mua-dong-thu-hai-va-tao-ma-hoc">Tập 08</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 02 : Cuộc sống mới ở trường ma thuật</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 65 : Chuyện của ngày hôm qua. ( p1 )</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,270 từ - Cập nhật: 
                        <time class="topic-time timeago" title="16-11-2025 17:16:15" datetime="2025-11-16T17:16:15+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 65 : Chuyện của ngày hôm qua. ( p1 )</p>
                    <p id="1">Ngày hôm đó đã có rất nhiều việc bắt đầu sôi động giống như là đã được chuẩn bị sẵn rồi để chờ ai đó hoặc một thứ gì đó vậy. Lúc đầu thì có thể nghĩ là chuyện ngẫu nhiên... Không, một nửa là cố ý, nửa còn lại là tất nhiên.</p><p id="2">Việc đầu tiên là từ sáng sớm các giáo viên đã tới phòng của Thánh Nữ.</p><p id="3">"tuyệt diệu! Đẹp đẽ! Tuyệt vời!" [note83897]</p><p id="4">Quý cô Sleya • Gaulin, 32 tuổi, Quang ma thuật sư. Cô ấy hiện đang đứng run rẩy trước 5 cây Linh Thảo Shi shirula vì xúc động.</p><p id="5">"Tớ đã mua hạt giống Linh Thảo từ cô Sleya đó."</p><p id="6">Khuôn mặt vô cảm của Thánh Nữ hiện lên sự bất ngờ, một người chưa gặp lần nào tới đây rồi tỏ ra hưng phấn khiến cô trở nên bối rối.</p><p id="7">Nhưng ngay sau đó cô đã trở nên bình tĩnh và hiểu sau khi nghe Kunon giải thích, tại sao có vài điểm không hiểu cho đến giờ hay là lí do cô Sleya lại đến đây.</p><p id="8">Đúng vậy, trong 2~3 tuần nay cô bắt đầu chú ý đến hạt giống Linh Thảo Shi shirula mà bản thân đang bồi dưỡng. Kunon khi nói rằng "sẽ chuẩn bị" nhưng đã đem đến ngay sau đó, cô không nghĩ mấy thứ xa xỉ và chất lượng cao như hạt giống Linh Thảo Shi shirula lại có thể được bày bán sẵn ở mấy cửa hàng tạp hóa được.</p><p id="9">Nếu muốn sở hữu chúng thì kiểu gì cũng phải đặt hàng, vậy mà chưa được bao lâu Kunon đã mang tới chỗ cô.</p><p id="10">"Vậy ra cô Sleya là người cung cấp Linh Thảo sao ạ?"</p><p id="11">[Nếu như vậy thì mọi thứ đã thông rồi] - Reyes hiểu được lí do tại sao cô Sleya lại xúc động đến vậy.</p><p id="12">[Có lẽ cô ấy cũng nghiên cứu chủ đề <em>Bồi dưỡng Linh Thảo Shi shirula</em> vì vậy nên Kunon có thể mang hạt giống đến ngay lập tức vì cô ấy đã có hạt giống từ đầu rồi.]</p><p id="13">"Nhân tiện thì bao nhiêu thế? Tớ không nghĩ là miễn phí đâu."</p><p id="14">Linh Thảo rất đắt, dù cho là hạt giống cũng cực kỳ đắt. Thánh Nữ đến giờ mới hỏi vì trước kia nếu hỏi cô sợ mình sẽ bị đòi tiền nên không dám tiếp xúc vấn đề này.</p><p id="15">"Một hạt 20 vạn neck." </p><p id="16">Một hạt 20 vạn, 5 hạt là 100 vạn.</p><p id="17">[Số tiền này lớn quá.]</p><p id="18">Thánh Nữ trước đây khi sống ở quê nhà chưa nghĩ đến tiền bạc bao giờ, sau khi nhập học và chạy lòng vòng tìm cách xoay sở chuyện tiền nong cô mới biết cách quý trọng đồng tiền.</p><p id="19">20 vạn neck bằng với lương một tháng của một người bình thường, hơn thế còn là gấp 5 lần. Những cây Linh Thảo mà Thánh Nữ thản nhiên bồi dưỡng một cách thuận lợi giờ đây lại có một sức nặng không tưởng.</p><p id="20">Thẳng thắn mà nói nó khiến cô có chút đau bụng, có một áp lực vô hình sau khi cô biết được sự thật rằng...</p><p id="21">[Mình tuyệt đối không thể thất bại được.]</p><p id="22">"Nhưng mà nếu bồi dưỡng thành công và đưa ra tờ ghi chú thì sẽ miễn phí đó, thật may quá đi. Tớ không cần phải trả 100 vạn neck rồi."</p><p id="23">Đây là quà khuyến mãi của cô Sleya, cuộc thực nghiệm này cũng nhận lại điểm tín chỉ và không ai phải chịu thiệt cả.</p><p id="24">---Theo lý thuyết là như vậy.</p><p id="25">Trong lòng của Thánh Nữ không thể bình thản sau khi biết được có người đã phụ trách nguy cơ trả 100 vạn cho mình. Cô đã thoát trách nhiệm về giá tiền hạt giống lại còn để Kunon gánh lấy nó, từ cách Kunon nói ra với vẻ bình thản có lẽ cậu sẽ chịu trách nhiệm nếu thất bại.</p><p id="26">Khi nghĩ về điều đó thì dường như cảm xúc nghèo nàn của cô cũng dâng trào.</p><p id="27">"Kunon, tớ xin lỗi vì đã làm phiền cậu đến như vậy."[note83898]</p><p id="28">Thánh Nữ, một người lúc nào cũng chỉ nghĩ cho bản thân đã xấu hổ vì chính mình. Đúng vậy, xấu hổ.</p><p id="29">Ngay cả một người khiếm khuyết cảm xúc như Thánh Nữ cũng biết được cảm giác này, bây giờ cô đang cảm thấy rằng mình đang xin lỗi với cảm xúc e thẹn và cảm ơn trộn lẫn với nhau.</p><p id="30">Đối mặt với một Thánh Nữ cúi đầu, Kunon chỉ nói:</p><p id="31">"Tớ muốn nghe câu 'cảm ơn' hơn là 'xin lỗi' từ con gái đấy, tớ thích nghe lắm."</p><p id="32">Hank và Liya đứng bên cạnh chỗ của Sleya quan sát vì không có gì để làm đã há hốc mồm cảm thán.</p><p id="33">[[Những lúc như thế này Kunon vẫn cứ là Kunon]]</p><p id="34">--Không, chỉ có lần này là cảm xúc cảm thán mạnh hơn.</p><p id="35">Hôm nay là một ngày tuyệt vời, đã đến giai đoạn thu hoạch Linh Thảo Shi shirula, vì thế mà Kunon đã gọi cô Sleya đến.</p><p id="36">Cô Sleya đã thảo luận chủ đề chuyên môn cùng Reyes với tư cách Quang ma thuật sư, cũng nhờ vào đống ghi chép với tần suất kinh khủng của Kunon nên cô ấy cũng nắm giữ được phần nào.</p><p id="37">Đám con trai biết mình ở lại cũng chỉ thêm phiền nên đã rủ nhau rời khỏi phòng của Thánh Nữ, tuy nhìn giống như bị đuổi ra nhưng mọi người hôm nay ai cũng đều có việc cần làm của mình cả nên không có vấn đề gì.</p><p id="38">"Hank, hôm nay tớ nhờ cậu xử lý đống thịt nhé."</p><p id="39">"Ok."</p><p id="40">Hôm nay Hank vẫn sẽ chế biến thịt xông khói, bên trong túi da thuộc mà Kunon đưa cho có chứa rất nhiều khối thịt nhỏ để thuận tiện cho phép thử của Hank.</p><p id="41">"Liya chỉ cần làm đến hết buổi sáng hôm nay thôi, tớ nghĩ phần ghi chép đã đủ rồi."</p><p id="42">"Thật không?"</p><p id="43">Ma thuật Phi Hành của Liya sau khi thành công đã được cậu luyện tập và kiểm chứng rất nhiều lần, bản báo cáo dường như cũng đã hoàn thiện đến mức làm Kunon hài lòng.</p><p id="44">Tuy được trả lương theo ngày nhưng nếu thành công thì Kunon hứa sẽ trả công cho cậu, với chừng đó tiền đã đủ cho Liya sống sót tới tháng sau.</p><p id="45">Không những vậy, nếu sử dụng <em>Phi Hành</em> cậu có thể di chuyển với tốc độ cao, tuy mang vác vật nặng có hơi quá sức nhưng vận chuyển tình báo hay những vật đơn giản thì cậu có thể làm được.</p><p id="46">Nói cách khác từ giờ cậu có thể mưu sinh bằng công việc của một Phong ma thuật sư, thù lao của ma thuật sư rất cao. Lúc đầu tuy khó khăn trong việc lĩnh hội nhưng nó sẽ trở thành tài sản quý báu trong tương lai.</p><p id="47">Khoảng tầm gần trưa.</p><p id="48">"---- Liya Horse."</p><p id="49">Có hai cô gái đã tiến lại gần sau khi Kunon ghi chép lại phần thử nghiệm Phi Hành lần cuối cùng, một bên là cô gái đã chỉ đạo và đưa ra những manh mối quan trọng cho Liya khi cậu vấp ngã, người còn lại là một Mỹ Thiếu Nữ... Người con trai tên là Cassis đẹp đến mức khiến người khác ngưng thở. </p><p id="50">"Lãnh đạo của Hợp Lý đã ra lệnh cho bọn tôi đến mời cậu, sau khi chào hỏi xong thì cùng bọn tôi đi ăn trưa chút nhé."</p><p id="51">Liya liếc nhìn một người đẹp đến mức dù nói là con trai thì vẫn khó mà tin nổi còn bản thân Cassis nói khi lộ ra nét mặt thất vọng, từ giọng có vẻ như cô... cậu ấy đang không vui.</p><p id="52">"Xin chào các Nhân Ngư đang vui đùa trên đất liền, có vẻ như hai người bọn họ đến đây là vì cậu đó Liya."</p><p id="53">"Ừ, ừm... Nhân Ngư...?"</p><p id="54">Mặc dù luôn để ý đến lời nói của Kunon nhưng cậu có cảm giác nó thật vô nghĩa vì để ý hay không thì nó cũng chẳng có ý nghĩa gì, nhưng cậu cũng chú ý đến một chuyện khác.</p><p id="55">"...Thiếu nữ? Cassis tiền bối ấy, anh ấy là... con trai sao?"</p><p id="56">Sau khi chuyển từ trạng thái lơ lửng sang trạng thái tiếp đất, Liya hỏi Kunon.</p><p id="57">"Chị ấy nói là 'tôi mang trái tim của một thiếu nữ.'"</p><p id="58">Đôi mắt của Kunon dưới lớp bịt mắt rõ ràng là bị mù vậy mà lại khiến cho Liya cảm giác được đó là một đôi mắt thất thần.</p><p id="59">"Tớ thật sự rất sốc khi nghe chị ấy nói rằng 'ĐÀN ÔNG AI CŨNG GIỐNG NHAU CẢ, TẤT CẢ ĐỀU CHỈ MUỐN CƠ THỂ CỦA PHỤ NỮ MÀ THÔI!'. Rõ ràng tớ không nhìn thấy gì để có những ham muốn trần tục đó vậy mà...</p><p id="60">Cách chị ấy nói như bảo rằng mình chưa bao giờ nhìn thấy được nội tâm của người khác vậy, điều đó khiến tớ bị tổn thương đôi chút." </p><p id="61">Tuy Liya cũng chả hiểu câu chuyện mà Kunon đang kể lắm nhưng có vẻ đó là một chuyện khá là quan trọng.</p><p id="62">"Cho nên tớ đã chấp nhận chị ấy như một người phụ nữ, bản ngã Quý Ông nói cho tớ rằng 'hãy làm như thế đi.'"</p><p id="63">Mà, tóm lại thì <em>cậu ấy vẫn là cậu ấy còn bên trong thì là cô ấy</em>.</p><p id="64">[Chị ấy chính là sự huyền bí của chốn đô thị] - Liya tự giải thích cho bản thân.</p><p id="65">Cuối cùng thì cậu cũng chả hiểu tại sao lại có chuyện khó hiểu như vậy nữa.</p><p id="66">"Cassis tiền bối, em nên nói gì cho phải đây ạ? Chuyện hôm qua ấy..."</p><p id="67">"Im lặng, tạm thời đừng có nói gì với tôi hết, tính tôi thù dai lắm đó."</p><p id="68">"Vâng ạ."</p><p id="69">Quả nhiên sự tức giận của Cassis đến từ Kunon, cũng là trường hợp hiếm hoi khi thấy cảnh Kunon có chút buồn rầu như thế.</p><p id="70">[Ắt hẳn hôm qua Kunon không muốn kể ra cho mình nghe về vụ phe phái liên quan đến thiếu niên xinh đẹp này.]</p><p id="71">Vẻ mặt buồn rầu của Kunon và sự hờn dỗi của Cassis, ai nhìn vào cũng sẽ liên tưởng đến một khúc mắc nào đó mà thôi.</p><p id="72">"Hôm qua có nhiều chuyện đã xảy ra nhỉ."</p><p id="73">Đây có thể là một câu chuyện không hay ho nên Liya buộc phải tránh đụng chạm bằng cách đánh trống lảng.</p><p id="74">"Liya, việc ghi chú coi như hoàn thành rồi nên cậu cứ đi theo bọn họ cũng được, không có ai dám bắt người cá quên đi mùi vị biển cả phải chờ đợi cả."</p><p id="75">Liya không nghĩ là cái người vừa bắt hơn 10 tiên nữ phải chờ mình ăn trưa lại có thể nói ra những lời như thế này, nhưng một người bình thường sẽ không bắt người khác chờ nên cậu quyết định làm theo lời Kunon nói.</p><p id="76">"--- Chào mừng đến Phái Hợp Lý."</p><p id="77">Tại một căn phòng rộng lớn thuộc Phái Hợp Lý Liya đã gặp được Luluomet lần đầu tiên, sau đó là đến những thành viên quan trọng của hội.</p><p id="78">Gần 30 người đối xử tử tế với Liya dù cậu vẫn chưa đưa ra câu trả lời nhưng có vẻ cậu đã được mọi người chấp nhận tham gia phe phái này.</p><p id="79">"Hôm qua mọi người có mời Kunon đến, không biết cậu ấy chọn phe nào...."</p><p id="80">Cho đến khi Liya hỏi ra câu hỏi đó.</p><p id="81">" "....." "</p><p id="82">Ngay lập tức bầu không khí nơi mọi người của Phái Hợp Lý đang ăn uống vui vẻ với nhau bỗng ai nấy đều im lặng và lộ ra một khuôn mặt nghiêm trọng.</p><p id="83">[Gì đây? Phản ứng gì đây trời?]</p><p id="84">"Cậu chưa nghe Kunon kể gì à?"</p><p id="85">Chỉ có duy nhất Luluomet là mặt không đổi sắc và còn hỏi ngược lại Liya, người còn lại cũng hiểu đây là một vấn đề mà bản thân không nên động tới nhưng cũng gật đầu đáp lại.</p><p id="86">[Có vẻ mình vừa chạm vào vết thương của bọn họ nhưng mình lại không biết nguyên nhân của vết thương đó, coi bộ sau này sẽ khó khăn đây.]</p><p id="87">Liya nghĩ mình là bạn bè của Kunon, vì vậy cậu muốn biết bạn bè mình đã làm gì và thái độ của Phái Hợp Lý dành cho Kunon như thế nào. Tùy thuộc vào câu trả lời mà cậu có thể thay đổi quyết định tham gia phe phái. [note83899]</p><p id="88">"Hiểu rồi, cậu ta không nói cho cậu, là vậy à..." - Luluomet vừa nói vừa gật gù.</p><p id="89">"Các thành viên cốt cán của ba phe đã có một trận đấu ma thuật với Kunon."</p><p id="90">[Đó là trận đấu mà một mình Kunon phải đấu với các tiền bối lớp đặc cấp] - nghĩ đến thôi sống lưng của Liya cũng phát lạnh.</p><p id="91">Cậu chỉ đơn giản là sợ hãi câu trả lời kế tiếp mà thôi.</p><p id="92">"Kết quả... Cậu nhìn phản ứng của bọn tôi là hiểu."</p><p id="93">[Quả nhiên là như vậy sao? Kunon... đã thắng ư?]</p><p id="94">Tuy cậu cũng có hứng thú với hình thức thi đấu nhưng dù hình thức có như thế nào đi nữa thì một tập hợp những bậc tiền bối tài năng đã thua cuộc chỉ bằng một mình Kunon.</p><p id="95">Có vẻ chuyện hôm qua còn đặc sắc hơn cả những gì Liya có thể tưởng tượng ra được.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note83897"><a href="#anchor-note83897" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note83897" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">(「――まあ！まあまあ！素晴らしい！！」: từ まあ : maa này lúc đầu tôi học thì nó có nghĩa là "cũng tàm tạm, bình thường" giờ lại lòi ra nghĩa mới. Các bạn biết đấy, tiếng Nhật khá dễ, đến người Nhật còn lên mạng tra nghĩa mà)</span></div><span class="note-content_real long-text">(「――まあ！まあまあ！素晴らしい！！」: từ まあ : maa này lúc đầu tôi học thì nó có nghĩa là "cũng tàm tạm, bình thường" giờ lại lòi ra nghĩa mới. Các bạn biết đấy, tiếng Nhật khá dễ, đến người Nhật còn lên mạng tra nghĩa mà)</span></div>
                                                    <div style="margin-bottom: 20px;" id="note83898"><a href="#anchor-note83898" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note83898" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">(trans: giờ thân rồi dịch tớ - cậu cho đỡ mệt)</span></div><span class="note-content_real long-text">(trans: giờ thân rồi dịch tớ - cậu cho đỡ mệt)</span></div>
                                                    <div style="margin-bottom: 20px;" id="note83899"><a href="#anchor-note83899" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note83899" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">(腫れ物に触れた: chạm vào nỗi đau...)</span></div><span class="note-content_real long-text">(腫れ物に触れた: chạm vào nỗi đau...)</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/18751-aaaaaaaaaaaa/c156116-chuong-64-chac-chan-dinh-dang-den-nu-tinh" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/18751-aaaaaaaaaaaa" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/18751-aaaaaaaaaaaa/c156119-chuong-66-chuyen-cua-ngay-hom-qua-p2" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-2895044"
    class="ln-comment-item mt-3 clear"
    data-comment="2895044" 
    data-parent="2895044" 
    data-type="chapter" 
    data-typeid="156118">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u213723-5c5efa8b-74bc-41da-9ae0-69c46cb65caf.gif" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/213723">Maede</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        :)
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1?comment_id=2895044#ln-comment-2895044"
                            class="text-slate-500">
                            <time class="timeago" title="17-06-2025 20:39:59"
                                datetime="2025-06-17T20:39:59+07:00">
                                17-06-2025 20:39:59
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-2732565"
    class="ln-comment-item mt-3 clear"
    data-comment="2732565" 
    data-parent="2732565" 
    data-type="chapter" 
    data-typeid="156118">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u200059-f8742c70-2f75-4a89-87d0-80d034d38e8e.png" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/200059">You are an idiot</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Tem
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/18751-aaaaaaaaaaaa/c156118-chuong-65-chuyen-cua-ngay-hom-qua-p1?comment_id=2732565#ln-comment-2732565"
                            class="text-slate-500">
                            <time class="timeago" title="30-01-2025 02:12:48"
                                datetime="2025-01-30T02:12:48+07:00">
                                30-01-2025 02:12:48
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'nptAcWUvk1CTrKhJyCcpPs9FL51Jy67q5b6GCzL0';
        var comment_type = 'chapter';
        var comment_typeid = '156118';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'nptAcWUvk1CTrKhJyCcpPs9FL51Jy67q5b6GCzL0';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('18751');
    chapter_id = parseInt('156118');

    readingObject = {
        series_id: series_id,
        series_title: 'Majutsushi kunon Wa Mieteiru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="nptAcWUvk1CTrKhJyCcpPs9FL51Jy67q5b6GCzL0" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

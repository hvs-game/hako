<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Ma Pháp Thiếu Nữ Này Khá Kì Lạ - Chap 07: Tuyệt Vọng - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một thế giới nơi tồn tại những hiện tượng siêu nhiên và các truyền thuyết kì lạ, một cậu bé tin rằng bản thân đã mất tất cả. Cho đến khi cô ấy xuất hiện, mang phép màu đến với cuộc sống vô vị của cậu dưới cái thân phận...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="2wkeIWJaZP7QTmNJqKsJaLFmpmXMKhkl3KaThrHZ">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c282942-chap-07-tuyet-vong">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24128-038ce725-eff1-4417-b800-c00087ad05e6.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c281423-chap-06-su-kien-bat-buoc"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c282942-chap-07-tuyet-vong" style="background: url('https://i.hako.vn/ln/series/covers/s24128-038ce725-eff1-4417-b800-c00087ad05e6.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la">Ma Pháp Thiếu Nữ Này Khá...</a></h5>
                    <small><i class="fas fa-pen"></i>冷冬阳</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/t34700-volume-1">Volume 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c265626-chap-1-cam-giac-bat-an">
                                                                        Chap 1: Cảm Giác Bất An
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c266086-chap-2-ma-phap-thieu-nu">
                                                                        Chap 2: Ma Pháp Thiếu Nữ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c271740-chap-25-bo-sung">
                                                                        Chap 2.5: Bổ Sung
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c274322-chap-03-cai-chet-chua-phai-la-cham-het">
                                                                        Chap 3: Cái Chết Chưa Phải Là Chấm Hết.
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c276853-chap-04-loi-keo-boi-loi-noi-va-hanh-dong">
                                                                        Chap 04: Lôi Kéo Bởi Lời Nói Và Hành Động
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c277445-chap-05-buom-buom">
                                                                        Chap 05: Bươm Bướm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c281423-chap-06-su-kien-bat-buoc">
                                                                        Chap 06: Sự Kiện Bắt buộc
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c282942-chap-07-tuyet-vong">
                                                                        Chap 07: Tuyệt Vọng
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Volume 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chap 07: Tuyệt Vọng</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c282942-chap-07-tuyet-vong#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,725 từ - Cập nhật: 
                        <time class="topic-time timeago" title="31-12-2025 22:27:21" datetime="2025-12-31T22:27:21+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chap 07: Tuyệt Vọng</p>
                    <p id="1">"Sao tớ lại ở đây?!"</p><p id="2">Lâm Uyển Nhi kêu lên một tiếng, chân của cô trượt đến gần mép tầng thượng.</p><p id="3">Cô chỉ còn cách 0.5s trước thật sự ngã xuống, nhưng một bàn tay đã đưa ra và giữ cô lại.</p><p id="4">"Ẩu, ẩu. Nếu cô thật sự rơi thì tôi sẽ đau lòng lắm đấy."</p><p id="5">Một giọng nữ phát ra bên tai cô, rồi hai tay từ đằng sau ôm chầm lấy cô, chặt chẽ và khó lòng thoát ra được.</p><p id="6">Giọng nói đó- cô biết nó rõ hơn ai khác. Và càng quen thuộc, thì càng đáng sợ với cô.</p><p id="7">"Thả tôi ra!"</p><p id="8">Cô giãy dụa liên tục. Điện thoại của cô rớt ra khỏi túi và rơi bịch xuống sàn.</p><p id="9">Dù cho cô có phản kháng mạnh mẽ đến mức nào đi chăng nữa, thì những cánh tay kia vẫn không hề hấn- chúng chỉ càng ôm cô chặt hơn.</p><p id="10">"Bình tĩnh nào bảo bối của ta. Chúng ta còn có một giao kèo cần phải hoàn thành mà."</p><p id="11">Những lời nói này làm cô nhận ra ngay lập tức.</p><p id="12">"Là ngươi đã nhắn cho ta?"</p><p id="13">Trước khi cô nói xong, một cánh tay đen khác bịt miệng cô lại.</p><p id="14">"Còn ai khác? Hay ngươi nghĩ là tên bạn trai mới của ngươi sẽ nhắn cho ngươi sao?"</p><p id="15">Một cánh tay đen đúa khác nhặt chiếc điện thoại đã rơi của cô lên và giữ nó trước mặt cô. Giọng hối hả của Hứa Minh bên kia đầu máy phát ra, gọi tên cô.</p><p id="16">"Nghe này, nếu ngươi rơi xuống ngay lúc này- thì khuôn mặt của cậu ta sẽ nhìn như thế nào?"</p><p id="17">Lâm Uyển Nhi đã bị ép buộc tiếng lên trước khi cô chỉ còn một bước là rơi xuống.</p><p id="18">Rồi cô ngừng lại.</p><p id="19">Nó đang để cô đi?</p><p id="20">Hi vọng loé lên- cho đến khi giọng nói như ma nữ kia cười lên lần nữa.</p><p id="21">"Ngươi thật dễ để dụ thật đấy, Lâm Uyển Nhi."</p><p id="22">"Chỉ nhận được một chút trợ giúp từ người lạ, và ngươi nghĩ rằng đó là 'hi vọng' sao?"</p><p id="23">Xúc tu đen đúa kết nối thẳng vào não cô. Mọi thứ trong tâm trí cô đều có thể bị nó nhìn thấy.</p><p id="24">"Không- Đừng nhìn!"</p><p id="25">Cô cầu xin trong thâm tâm. Cô càng cầu xin, thì cô càng tuyệt vọng ở trong lòng, và giọng nói kia càng khoái chí hơn.</p><p id="26">"Ra là vậy sao. thứ 'hi vọng' mà ngươi bám vào là thứ dơ bẩn, đáng khinh này? Khách hàng của ta, ngươi vẫn thối tha như ngày nào."</p><p id="27">Cô muốn nó ngưng nói ra sự thật, nhưng cô không có cách nào để phản kháng.</p><p id="28">"Tên nhóc kia thật đáng thương. Cậu ta tin tưởng ngươi tuyệt đối, ấy vậy mà ngươi, một kẻ đáng chết, cũng muốn lôi hắn theo."</p><p id="29">"Đáng khinh."</p><p id="30">Giọng nói kia bỗng nhẹ nhàng trở lại, như đang an ủi.</p><p id="31">"Nhưng mà ổn thôi. Ngươi là khác hàng của ta. Không quan trọng nhân cách thối rữa của ngươi như thế nào. ta sẽ không từ bỏ ngươi. Đến đây - hoàn thành giao kèo này. ta sẽ cho ngươi sự tuyệt vọng ngươi xứng đáng nhận."</p><p id="32">Lâm Uyển Nhi không thể kháng cự được nữa. Điều cuối cùng mà cô nghe được là "bản thân cô" nói vào điện thoại:</p><p id="33">"Hứa Minh, ngươi có biết không? Một cánh bướm không thể ngăn cản kẻ muốn nghiền nát nó."</p><p id="34">Giọng nói của chính cô.</p><p id="35">Khi nhận thức của cô quay trở lại, đau đớn xé tan thân thể cô. Cô muốn hét lên, nhưng họng của cô chỉ chứa đầy máu- nghẹn ngào, đắng chát.</p><p id="36">Vậy đây là cái chết. Mình không muốn điều này một chút nào.</p><p id="37">Hứa Minh xuất hiện trong tầm nhìn của cô, đúng im tại chỗ. Sợ hãi trước tình cảnh thảm thương của cô?</p><p id="38">Còn không thể đi thi cuối kì nữa....</p><p id="39">Tầm nhìn của cô xám đi. Đúng nhỉ- mình thật thối tha.</p><p id="40">Một hành động ích kỷ cuối cùng vậy. Đó mới là chính mình mà.</p><p id="41">"Cứu tớ..."</p><p id="42">Với sức lực cuối cùng của bản thân, cô trút lời nói cuối cùng về phía Hứa Minh. Bé hơn cả lời thì thầm, nhưng đủ để nghe thấy.</p><p id="43">Tớ xin lỗi....</p><p id="44">Rồi cô bất động trước mắt cậu.</p><p id="45">Hứa Minh nhìn chằm chằm vào xác của cô. Sau một thoáng dài như cả thập kỉ, cậu run rẩy tiến lên, huy hiệu vàng kim nắm chặt trong bàn tay run rẩy.</p><p id="46">Cậu ngã nhào, đáp xuống cạnh cô. Bàn tay cạ mặt đất, nhưng vũng máu đã làm mờ vết thương.</p><p id="47">Cậu bò đến bên cạnh cô.</p><p id="48">Cậu nhấn huy hiệu vào ngực cô. Ánh sáng vàng nhỏ nhoi chớp tắt- rồi mất dạng.</p><p id="49">Không thể làm gì được.</p><p id="50">Mặt trời tí hon lơ lửng quanh cậu, mặt tiếc thương.</p><p id="51">Nếu mà bọn họ cũng không thể... thì phải làm gì? Lớp Trưởng ừ? nhưng cô không ở đây.</p><p id="52">"Đưa tôi đến chỗ lớp trưởng."</p><p id="53">Cậu cúi đầu cầu xin. Tất cả các tia ánh sáng đều từ chối- họ cũng không biết cô đang ở đâu.</p><p id="54">Tĩnh lặng.</p><p id="55">"Ngươi không thể cứu cô ta."</p><p id="56">Những giọng thì thầm quen thuộc xuất hiện trở lại. Cậu cố gắng lờ nó đi, nhưng khuôn mặt của Uyển Nhi làm cậu không thể.</p><p id="57">"Cứu tớ..."</p><p id="58">Thì thầm hoá thành lời trăn trối của cô. Deja vu từ lúc buổi chiều lúc <em>đó.</em></p><p id="59">Cậu đã thất bại một lần nữa.</p><p id="60">Cậu đã làm cô ấy chết.</p><p id="61">Cơn buồn nôn ập đến. Cậu khuỵu xuống, thở gấp như muốn nôn cả nội tạng của mình ra.</p><p id="62">Những mặt trời tí hon kêu lên lo lắng. Một vài mặt trời nhập vào cậu, làm dịu đi cơn buồn nôn.</p><p id="63">"Cảm ơn nhé."</p><p id="64">Cậu hiểu. Máu tươi dính trên tay, cơn buồn nôn còn đó- là thật, không thể cứu vãn.</p><p id="65">Một suy nghĩ chết chóc xuất hiện trong tâm trí cậu.</p><p id="66">Nếu bản thân có thể quay ngược lại thời gian.</p><p id="67">Nhưng trước khi cậu có thể làm gì đó, một giọng nói lạ lẫm phát ra ở phía sau.</p><p id="68">"Thật tội nghiệp. Nhưng nếu Yang đã ở đây, thì mọi thứ sẽ được giải quyết ổn thoả rồi phải không?"</p><p id="69">Hứa Minh quay phắt lại.</p><p id="70">"Gấu bông... màu trắng?"</p><p id="71">Một con gấu bông màu trắng đứng ở đằng xa, cúc áo màu đen khâu trên người.</p><p id="72">"Hả? Ngươi nhìn thấy ta sao, tên nhóc?"</p><p id="73">Tông giọng của nó vô cảm, nhưng Hứa Minh có thể cảm nhận được sự phấn khích trong đó- như là một con thú săn mồi tìm thấy thịt vậy.</p><p id="74">Cậu lắc đầu. Ma pháp thiếu nữ, bóng đen- cậu đã nhìn thấy những thứ kì quái hơn là một con gấu nhồi bông biết nói.</p><p id="75">Nhưng thứ quan trọng là những gì nó nói.</p><p id="76">"Ngươi biết Ma pháp thiếu nữ Yang? Làm ơn hãy liên lạc với cô ấy- ta có thỉnh cầu!"</p><p id="77">Con gấu không trả lời cậu. Nó lơ lửng đến gần, đáp lên đầu cậu.</p><p id="78">"Người giao kèo với Yang sao? Từ đã, không- Người giao kèo không thể nhìn thấy ta dù cho có mượn được sức mạnh đi chăng nữa. Chào nhé, Tiểu Nhật."</p><p id="79">Nó ngửi xung quanh cậu, chào hỏi những mặt trời tí hon thong thả.</p><p id="80">Hứa Minh dần mất kiên nhẫn- đây là manh mối duy nhất dẫn cậu đến lớp trưởng. Lỡ như họ để vuột mất khoảng thời gian hồi sinh thì sao?</p><p id="81">"Này nhóc, ngưng phí sức đi."</p><p id="82">Con gấu lượn xuống.</p><p id="83">"Con bé này vô phương cứu chữa rồi."</p><p id="84">"Nhưng nếu ngươi bảo rằng nếu Yang đã ở đây-!"</p><p id="85">"Và nhóc cũng đã bảo là 'nếu cô ấy cũng ở đây' đúng không?"</p><p id="86">"Nhưng không phải ngươi liên lạc với cô ấy được sao?"</p><p id="87">Giọng nói cảu cậu vỡ tan cùng với hi vọng. Hi vọng mà không thể thành hiện thực.</p><p id="88">"Ta chưa bao giờ nói như vậy."</p><p id="89">Con gấu nghiêng đầu. Hành động nhỏ ấy phá vỡ lớp phòng thủ tinh thần cuối cùng của cậu.</p><p id="90">Tại sao chứ? Cậu vẫn không thay đổi được gì sao?</p><p id="91">"Nói cho ta biết, nhóc con- ngươi quen con bé này sao?"</p><p id="92">Câu hỏi đó làm cậu đứng hình. Họ chỉ mới gặp được hai lần. Hoàn toàn là người lạ.</p><p id="93">Cậu chỉ cố cứu cô vì thương hại. Vậy tại sao cậu lại tuyệt vọng vào lúc này?</p><p id="94">Cậu chỉ thất bại trong việc cứu một người phải chết. Không ai có thể đổ lỗi cho cậu cả.</p><p id="95">Buồn nôn một lần nữa. Cậu rất muốn nôn.</p><p id="96">"Nhưng nếu ngươi muốn cứu con bé này, ta có một ý tưởng."</p><p id="97">"Lập một giao kèo với ta. Trở thành ma pháp thiếu nữ. Thay vào đó, ta sẽ thực hiện một điều ước cho ngươi."</p><p id="98">Con gấu đưa bàn tay của mình ra, giọng hoàn toàn vô cảm.</p><p id="99">Ma pháp thiếu nữ?</p><p id="100">Tâm trí của cậu nhớ lại hình ảnh của Tô Tiểu Trạch biến hình.</p><p id="101">Nếu cậu có sức mạnh của cô- liệu mọi thứ đều có thể được cứu?</p><p id="102">Cậu giơ tay trong vô thức.</p><p id="103">"Hứa Minh- ngoan nào, hạ tay cậu xuống."</p><p id="104">Cánh tay trắng toác ôm chầm lấy cậu từ phía sau. Cô cười với con gấu.</p><p id="105">"York, Lợi dụng người đang yếu đuối là không hay đâu."</p><p id="106">Con gấu đóng băng giữa chừng, rồi hạ tay xuống rồi bay lên.</p><p id="107">"Cô lại phá hỏng một giao kèo của ta rồi, Yang. Được thôi, ta hơi hấp tấp."</p><p id="108">Nó bay đến cạnh cô, đột ngột hạ một bên gối.</p><p id="109">Tiểu Trạch mặc kệ nó, nhìn xuống chàng trai đang đứng hình này, rồi nhìn sang vũng máu. Thở dài.</p><p id="110">"Xin lỗi tớ đến trễ."</p><p id="111">"Không."</p><p id="112">Cô chớp mắt. Có gì đó rất sai. Những mặt trời tí hon xuất hiện trong chùm sáng.</p><p id="113">"Sự kiêu ngạo cảu tớ đã giết chết Lâm Uyển Nhi. Là lỗi của tớ- ấy vậy mà cậu lại là người xin lỗi? Tại sao, lớp trưởng?"</p><p id="114">Cậu quay đầu lại. Một nụ cười meo mó xấu hơn cả nước mắt. Một dòng nước mắt đỏ máu chảy từ mắt cậu.</p><p id="115"><em>Bạch!</em></p><p id="116">Mắt Tiểu Trạch mở to. Một con dao bếp- đâm thẳng vào vùng bụng của cô.</p><p id="117">"Không phải do tớ-"</p><p id="118">Lời biện hộ nhỏ nhoi của cậu thốt lên trước khi bóng tối bao trùm. Con dao mà cậu cậu mang theo để tự vệ nhuộm đen, hoá thành một con dao khổng lồ đâm cô lần nữa.</p><p id="119">Những mặt trời tí hon vây quanh cô, gộp lại thành một mặt trời khổng lồ và đập cậu ra bã. Con dao bay khỏi tay cậu.</p><p id="120">Tiểu Trạch lùi lại, ánh sáng vàng xuất hiện từ bàn tay cô. Cô rút con dao ra, phong ấn vết thương lại.</p><p id="121">"Quà gặp mặt này tệ thật đấy, Hứa Minh- à không, 'Tuyệt Vọng'. Lâu rồi không gặp."</p><p id="122">Sương đen bao bọc con dao. Kẻ tạo ra nó cười khoái chí.</p><p id="123">"Nhát đâm đó mang theo cả thế kỷ của sự tuyệt vọng. Cảm giác thế nào khi bị người ngươi tin tưởng phản bội?"</p><p id="124">"Ta không có tâm trạng để trò chuyện với ngươi hôm nay. Liệu ngươi có phải cút xéo khỏi người của bạn ta được không? Ta không chắc là ngươi sẽ lành lặn nếu cứng đầu đâu?"</p><p id="125">Thay vì sợ hãi, nó lại phá lên cười.</p><p id="126">"Vẫn giả ngơ sao, mụ đàn bà bỉ ổi? Ngươi biết mà, đúng không? Đây không phải là con rối thông thường - sức mạnh của ta nằm trong cơ thể của thằng nhóc này rồi."</p><p id="127">"Và ai mà ngờ được cơ chứ- cái 'Tuyệt Vọng Chi Luân' mà ta tìm kiếm bấy lâu nay lại nằm trong cơ thể thằng nhóc này."</p><p id="128">Ngưng lại. Giọng chế giễu:</p><p id="129">"Ngươi nghe thấy cậu ta tự nói mà đúng không? Thật buồn cười mà."</p><p id="130">Mặt của cô lạnh đi. Cô vẫn nhớ nó rõ ràng.</p><p id="131">"Vẫn không bỏ cái tính tò mò chết tiệt của ngươi à?"</p><p id="132">Vòng ánh sáng quấn chặt lấy "Hứa Minh", co hẹp lại.</p><p id="133">"Nó" vươn vai, né một cái dễ dàng.</p><p id="134">"Chưa xem kí ức xong. Nhưng nhân loại này thật sự quan trọng với ngươi đến vậy sau? Đoán là ta lựa đúng mồi câu rồi."</p><p id="135">Sương đen phồng lên. Trên đó có một gương mặt mà nó không thuộc về.</p><p id="136">"Hay là làm một cuộc trao đổi? Hãy làm vật chủ cho sức mạnh của ta, và ta sẽ giải thoát cho thằng nhóc này. Giao dịch chứ,'lớp trưởng'?"</p><p id="137">Tuyệt vọng cười lên, nhảy múa trong khi tránh né đòn tấn công.</p><p id="138">Cô dung hợp mặt trời và vòng ánh sáng thành một nhà tù ánh sáng.</p><p id="139">Sì</p><p id="140">Sương đen tràn từ vết thương của cô- đòn tấn công của cô yếu dần.</p><p id="141">Ngay lúc này!</p><p id="142">"Hứa Minh" lao đến. Mục tiêu trong đầu: Chạm vào ma pháp thiếu nữ Yang, đoạt lấy sức mạnh của cô.</p><p id="143">Nhung cô ấy biết.</p><p id="144">Một nụ cười khoé lên trên môi cô.</p><p id="145">Quá muộn rồi- Tuyệt vọng cảm nhận được nguy hiểm.</p><p id="146">Cô gái đang bấp bênh này phát nổ cùng năng lượng. Trong chớp mắt, một ngón tay chói sáng chạm vào trán nó.</p><p id="147">"Đồ khốn!"</p><p id="148">Đòn ấy làm Hứa Minh bay đi. Bóng đen vô hình đóng băng giữa không trung, bị bao quanh bởi vàng.</p><p id="149">"Bắt được ngươi rồi- Vọng Chi Âm!"</p><p id="150">Tiếng thì thầm điên loạn vào tâm trí cô - Tuyệt vọng vượt quá khả năng chịu đựng của con người. Ngay cả cô cũng chật vật.</p><p id="151">Đó là những gì mà nó cần.</p><p id="152">Cái bóng đen lao vào cơ thể cô.</p><p id="153">"York- đưa Hứa Minh ra khỏi đây!"</p><p id="154">Ánh đen và trắng xuất hiện từ tay cô. Cô ép lấy một chút tâm trí, bắn ánh sáng vào con gấu làm nó bay đi.</p><p id="155">Con gấu đổi dạng giữa không trung thành một con quái vật có cánh. Nó liếc nhìn về phía cô gái đang ôm lấy đôi mắt của mình, mặt nhăn nhó vì đau đớn- rồi lao đến cứu Hứa Minh.</p><p id="156">"Vẫn bảo vệ nhân loại này vào thời khắc nguy cấp như thế này? Yang, nếu cậu ta không truyền cho ta Vọng Chi Âm, thì ta cũng không vào đây dễ vậy đâu."</p><p id="157">"Im đi."</p><p id="158">Mặt trời xuất hiện từ trong cô- cùng với sương đen</p><p id="159"><em>Khụ. Khụ.</em></p><p id="160">Hứa Minh tỉnh dậy trên con gấu đang bay.</p><p id="161">"Quay lại đi- tôi phải giúp cậu ấy!"</p><p id="162">"Nhóc, giữ im lặng đi. Ta sẽ không lại gần yang trong trạng thái đó đâu. Cô ấy đã bảo ta đưa cậu đi. Và ngay cả khi chúng ta quay lại- thì cậu sẽ chết ngay lập tức."</p><p id="163">Cơn bão vàng- đen gầm lên từ xa, xé toạt mọi thứ trong tầm.</p><p id="164">"Nhưng nó là lỗi của tôi."</p><p id="165">Cậu đã luôn tĩnh táo trong khoảng thờig ian bị điều khiển.</p><p id="166">Vòng lặp cái chết = Do Tuyệt vọng gây ra.</p><p id="167">Sự tuyệt vọng của cậu kèm với Lâm Uyển Nhi = giọt nước tràn ly.</p><p id="168">Nếu cậu đã mạnh hơn- nếu cậu không tựa vào lớp trưởng- thì mọi chuyện có khác đi không? Liệu Lâm Uyển Nhi có thế sống hay không?</p><p id="169">Không nếu. Mọi thứ đều có cái giá của nó. Cậu đã phải trả giá cho sự kiêu ngạo và yếu đuối của bản thân.</p><p id="170">York bỗng dừng lại.</p><p id="171">"Vậy chúng ta tiếp tục cuộc trò chuyện khi nãy nhỉ? Hiện tại thì, chỉ còn lập giao kèo với ta là phương án duy nhất của cậu."</p><p id="172">Hứa Minh không trả lời. Rồi cậu ngước lên với một cậu hỏi.</p><p id="173">York đã lời thành thật, rồi thở dài, biết trước kết quả.</p><p id="174">"So sánh với ngươi, nhóc à, 'Điên' còn không đủ để tả. Vừa hay- ta đã nhặt cái này. Nhóc sẽ cần nó."</p><p id="175">Một con dao nhuốm máu xuất hiện trên lưng con gấu.</p><p id="176">Hứa Minh cầm lấy nó mà không do dự.</p><p id="177">"Tuyệt Vọng Chi Luân... hẹn ngươi vòng lặp tiếp theo."</p><p id="178">rồi cậu đâm con dao vào tim mình.</p><p id="179">"Hứa Minh! Hứa Minh!"</p><p id="180">Một giọng nói thân thuộc gọi cậu dậy.</p><p id="181">Phản xạ tự nhiên, cậu đứng bật dậy trong lớp.</p><p id="182">"Có mặt!"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note86331"><a href="#anchor-note86331" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86331" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Happy new year</span></div><span class="note-content_real long-text">Happy new year</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la/c281423-chap-06-su-kien-bat-buoc" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24128-ma-phap-thieu-nu-nay-kha-ki-la" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = '2wkeIWJaZP7QTmNJqKsJaLFmpmXMKhkl3KaThrHZ';
        var comment_type = 'chapter';
        var comment_typeid = '282942';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '2wkeIWJaZP7QTmNJqKsJaLFmpmXMKhkl3KaThrHZ';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24128');
    chapter_id = parseInt('282942');

    readingObject = {
        series_id: series_id,
        series_title: 'Ma Pháp Thiếu Nữ Này Khá Kì Lạ',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="2wkeIWJaZP7QTmNJqKsJaLFmpmXMKhkl3KaThrHZ" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

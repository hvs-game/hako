<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Let This Grieving Soul Retire! Woe is the Weakling Who Leads the Strongest Party - Chương 413: Tham quan 4 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tồn tại trên khắp thế giới là những《Thánh tích》với quyền năng đặc biệt. Của cải, danh tiếng và sức mạnh. Theo đuổi vinh quang, một thời đại nơi các《Thợ săn kho báu》điên cuồng khám phá các《Đền kho báu》bất chấp nguy hiểm. Cùng với những người bạn thời thơ ấu, Cry...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="FK2yBZ1J9TMYpK2glgXQNkMpULwctGTV0g18OOei">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287331-chuong-413-tham-quan-4">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24353-e2e65019-1835-4b3f-98a6-7d2fd9524d2b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287328-chuong-412-tham-quan-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287333-chuong-414-vip"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287331-chuong-413-tham-quan-4" style="background: url('https://i.hako.vn/ln/series/covers/s24353-e2e65019-1835-4b3f-98a6-7d2fd9524d2b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party">Let This Grieving Soul Re...</a></h5>
                    <small><i class="fas fa-pen"></i>Tsukikage</small>
                    <small><i class="fas fa-paint-brush"></i>Chyko</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/t35146-arc-9">Arc 9 - Level 9</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c275835-chuong-406-ke-bat-thuong-3">
                                                                        Chương 406: Kẻ bất thường 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c275943-chuong-407-dogeza">
                                                                        Chương 407: Dogeza
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c276085-chuong-408-lam-nung">
                                                                        Chương 408: Làm nũng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c279607-chuong-409-suy-tinh-cua-moi-nguoi">
                                                                        Chương 409: Suy tính của mỗi người
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c280533-chuong-410-tham-quan">
                                                                        Chương 410: Tham quan 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c280595-chuong-411-tham-quan-2">
                                                                        Chương 411: Tham quan 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287328-chuong-412-tham-quan-3">
                                                                        Chương 412: Tham quan 3
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287331-chuong-413-tham-quan-4">
                                                                        Chương 413: Tham quan 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287333-chuong-414-vip">
                                                                        Chương 414: VIP
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Arc 9 - Level 9</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 413: Tham quan 4</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287331-chuong-413-tham-quan-4#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 4,184 từ - Cập nhật: 
                        <time class="topic-time timeago" title="08-01-2026 01:11:44" datetime="2026-01-08T01:11:44+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 413: Tham quan 4</p>
                    <p id="1">Bệ sạc cho Thánh tích thoạt nhìn không phải là một thiết bị gì quá đặc biệt. Chỉ đơn giản là một chiếc hộp có dấu sét được đặt lên thứ trông giống như một cái quầy.</p><p id="2">"Chỉ cần cho Thánh tích vào cái hộp đó, nó sẽ sạc cho anh. Khi sạc xong, nó sẽ phát sáng màu xanh."</p><p id="3">Vẫn còn chưa hoàn toàn bình tĩnh, Lulu giải thích. Sắc mặt em ấy tái nhợt và có vẻ cần thêm chút thời gian nữa để trở lại trạng thái bình thường.</p><p id="4">Mặc dù khả năng thể chất rất ấn tượng, nhưng có vẻ em ấy chưa trải qua nhiều cảnh tượng khốc liệt như một thợ săn thực thụ. Những cậu bé còn lại, những người đã hốt hoảng chạy theo sau, cũng mang biểu cảm xanh xao.</p><p id="5">"T-tớ cứ nghĩ là mình xong đời rồi chứ. Không ngờ lại có cơn gió mạnh như vậy, từ trước đến giờ chưa bao giờ có chuyện đó xảy ra."</p><p id="6">"Cry-san đúng là liều lĩnh thật. Có thể khả năng lính cơ giới đó không kịp đến cứu, anh ấy vẫn nhảy xuống để cứu Lulu..."</p><p id="7">Không phải là tôi nhảy xuống để cứu đâu. Ngược lại, có khả năng tôi đã rơi trước cả em ấy rồi. Tôi rút chiếc nhẫn khỏi ngón tay, lần lượt đặt vào hộp sạc và nói.</p><p id="8">"Ừm, dù sao thì, tất cả mọi người đều an toàn là tốt rồi."</p><p id="9">Nếu như chuyện đó chưa từng xảy ra trước đây, thì rất có thể việc Lulu rơi xuống là do tôi, thay vì tôi cứu em ấy. Lần này tôi nhạy bén hơn mọi khi, nhưng dù có nhạy bén đến đâu, việc sai thời điểm thì vẫn không thể thay đổi được.</p><p id="10">Lulu ngượng ngùng nắm vạt áo tôi và mấp máy đôi môi.</p><p id="11">"Tuy có hơi muộn rồi nhưng... cảm ơn anh, thật sự rất cảm ơn anh, nếu không có anh thì em đã chết trước khi kịp trở thành kỵ sĩ của công chúa Nora mất rồi."</p><p id="12">"Không sao đâu, không sao đâu. Thật sự là, anh cũng chẳng làm được gì to tát cả."</p><p id="13">Không, tôi thực sự xin lỗi... đó là lỗi của tôi. Tất cả đều là lỗi của tôi. Vì thế xin đừng nhìn tôi với ánh mắt biết ơn như vậy. Vốn dĩ, việc mọi người được cứu là nhờ vào lính cơ giới mà công chúa đã cho mượn, còn việc tôi làm chỉ là nắm lấy tay của Lulu thôi.</p><p id="14">Tôi luôn thấy khó chịu mỗi khi được cảm ơn trong khi chẳng làm được gì cả, dù có trải qua bao nhiêu lần đi nữa. Để thay đổi không khí, tôi chỉ vào chiếc hộp sạc Thánh tích và hỏi.</p><p id="15">"Việc sạc này mất bao lâu thì xong?"</p><p id="16">"Lạ thật đấy. Đáng lẽ phải xong ngay rồi chứ— Cry-san, anh cho gì vào vậy? Sao nhiều thế!"</p><p id="17">Nếu có Mimic-kun thì còn nhiều hơn nữa cơ. Những gì mình mang theo chỉ là các Thánh tích mà mình luôn đeo bên người. Nhưng, đúng là việc sạc 16 chiếc nhẫn &lt;Giới chỉ&gt; cùng một lúc là điều chỉ có Lucia mới làm được. Có lẽ, việc cố sạc tất cả cùng một lúc là hơi quá.</p><p id="18">Khi tôi còn đang suy nghĩ một chút, chiếc hộp bỗng phát sáng màu đỏ trong chốc lát, rồi chuyển sang màu xanh dương. Dù không rõ lý do, nhưng khi tôi cầm chiếc nhẫn &lt;Giới chỉ&gt; lên, nó đã được sạc đầy đủ.</p><p id="19">Công nghệ của Code thật tuyệt vời! Nếu sống ở thành phố này, có lẽ tôi có thể thoải mái sử dụng Thánh tích. Điều này thật sự thú vị. Hơn nữa, nếu có thứ như trạm sạc Thánh tích, thì chắc chắn thành phố này còn có những cơ sở độc đáo khác. Tôi muốn kiếm thứ gì đó làm quà tặng cho công chúa vì đã cho mượn hộ tống.</p><p id="20">"Lạ thật... Tại sao nó lại phát sáng đỏ trong chốc lát nhỉ? Mặc dù đã sạc hoàn tất."</p><p id="21">Mình nhờ lũ trẻ, những người đang tỏ vẻ không mấy hiểu chuyện.</p><p id="22">"Này, nếu có thời gian, các em có thể dẫn anh đi tham quan khu vực này không? Đã đến nơi này rồi, anh muốn đi tham quan mọi thứ một chút."</p><p id="23">Dù sao thì việc tìm hiểu về một thành phố mới tốt nhất là hỏi những người sống ở đó. Thời gian của tôi để tham quan cũng có hạn, không có nhiều thời gian để vui chơi. Nhưng phải nhanh lên thì mới kịp tham quan hết, nghe có vẻ mâu thuẫn.</p><p id="24">Khi nghe đề nghị của mình, lũ trẻ nhìn nhau một lúc, rồi nhìn thẳng vào tôi và nói.</p><p id="25">"Vì anh đã cứu Lulu, tất nhiên là được rồi."</p><p id="26">"Đúng thế! Nhưng đổi lại, anh có thể kể cho bọn em nghe về thế giới bên ngoài được không? Anh đến từ bên ngoài phải không? Gần đây có nhiều người từ bên ngoài đến đây, nên bọn em tò mò lắm!"</p><p id="27">Lulu nhìn tôi với đôi mắt sáng rực. Người dân ở thành phố này, từ công chúa đến lũ trẻ đều rất hiếu kỳ. Tất nhiên, kể về thế giới bên ngoài thì chẳng vấn đề gì. Dù tôi không có nhiều câu chuyện hấp dẫn lắm.</p><p id="28">Sau khi thu lại hết Thánh tích từ bệ sạc, tôi nở một nụ cười ngầu lòi và nói.</p><p id="29">"Được rồi, anh đồng ý với đề nghị đó. Nhưng trước tiên, có cách nào để có được Thánh tích ở thành phố này không?"</p><p id="30">§§§</p><p id="31">Người đến từ bên ngoài thật kỳ lạ. Đó là ấn tượng chân thật của những công dân Class 2 sống trong lãnh thổ của công chúa Nora, như Zaza, khi nhìn Cry Andrich — người được hệ thống đánh giá tổng thể đạt 4 điểm.</p><p id="32">Gần đây, một lượng lớn người di cư từ bên ngoài đã tràn vào Code. Hầu hết bọn họ đến lãnh thổ của hoàng tử Angus, nhưng một số ít đã tới khu vực của công chúa Nora, nơi Zaza và các cư dân khác sinh sống.</p><p id="33">Mục đích của họ là bổ sung sức mạnh chiến đấu, nên phần lớn những người đó đều mang vẻ uy hiếp và đậm mùi bạo lực, chỉ cần nhìn qua cũng biết là những kẻ thô lỗ.</p><p id="34">Sự đổ bộ của người nhập cư mới đã ảnh hưởng không ít đến cuộc sống của Zaza và mọi người. Thái độ của họ khi đi lại ngang nhiên giữa trung tâm thành phố khiến mọi người khó chịu, và thậm chí có người vừa vào thành phố đã vi phạm luật lệ, bị tống vào tù ngay lập tức.</p><p id="35">Hiện tại, việc không còn nhiều người nhập cư ở lãnh thổ của công chúa Nora là do họ đã khiến công chúa nổi giận. Đối với Zaza và những người bạn, những người luôn nỗ lực với ước mơ trở thành cận vệ của công chúa Nora, đây là kết cục tất yếu. Tuy nhiên, Cry Andrich, người mà Zaza tình cờ gặp trên đường phố, lại khác hẳn so với những kẻ kia.</p><p id="36">Anh ta không hề có chút uy hiếp nào, và đôi khi còn nở nụ cười như thể không mấy hứng thú. Hệ thống đánh giá anh ta ở mức 4 điểm, một con số mà Zaza chưa từng thấy trước đây. Nhưng điều đáng ngạc nhiên nhất không phải chỉ ở mức đánh giá khiêm tốn đó, mà là dù chỉ đạt được số điểm này, Cry vẫn thuộc vào Class 6.</p><p id="37">Class 6. Đối với Zaza và những công dân như cậu, đó là một con số hoàn toàn ngoài tầm với. Thậm chí, trong số những người nhập cư gần đây, không ai đạt được cấp bậc này. Class 6 tương đương với quý tộc hạ cấp, là địa vị cao nhất mà một thường dân có thể mơ ước đạt được trong thực tế.</p><p id="38">Để trở thành quý tộc trong thành phố này, người ta phải có những cống hiến to lớn và được trao trọn niềm tin. Điều này bởi chỉ có các thành viên hoàng gia thuộc Class 8, như công chúa Nora, mới có thể bổ nhiệm quý tộc hạ cấp, và số lượng quý tộc họ có thể bổ nhiệm được quy định rất chặt chẽ.</p><p id="39">Người duy nhất có thể phớt lờ nguyên tắc này là vua Code vĩ đại. Vì vậy, trừ khi có lý do cực kỳ đặc biệt, hoàng gia thường không dễ dàng tạo ra thêm quý tộc.</p><p id="40">Zaza trước đó đã nói với Cry rằng có những kỵ sĩ cường hóa đã được phong quý tộc, nhưng nếu muốn được công chúa Nora phong tước, ít nhất họ phải đạt đến cấp bậc trưởng đoàn kỵ sĩ. Cry lại phục vụ công chúa Alisha, chứ không phải công chúa Nora, nên tiêu chuẩn lựa chọn có thể khác, nhưng điều đó vẫn là một thành tựu đáng kinh ngạc.</p><p id="41">Việc Lulu, người bạn của Zaza, trò chuyện với Cry Andrich là vì sự chênh lệch quá lớn giữa địa vị hiển thị và ấn tượng thực tế mà anh ta tạo ra.</p><p id="42">Thông thường, việc tiếp cận một quý tộc một cách tùy tiện là điều không thể xảy ra nếu không có mối quan hệ thân thiết. Nhưng chàng trai này không hề giống một quý tộc đến mức điều đó trở nên không còn quan trọng nữa.</p><p id="43">Và ấn tượng ban đầu khi nhìn thấy anh ta, sau khi đã cùng hành động một thời gian, cũng hầu như không thay đổi.</p><p id="44">Đúng là có những điều ấn tượng thật. Cho dù mang theo một cỗ máy cơ giới tiên tiến, nhưng việc anh ta không chút do dự nhảy khỏi tòa nhà để cứu Lulu, người bị cơn gió thổi bay và rơi xuống dưới, không phải là việc mà ai cũng dễ dàng làm được. Với hệ thống đánh giá mức 4, việc rơi xuống chắc chắn sẽ dẫn đến cái chết. Nếu đó là lý do mà anh ta được phong làm cận vệ, thì điều này cũng phần nào hợp lý.</p><p id="45">Tuy nhiên, ngoài điều đó ra, chàng trai này lại rất bình thường. Bình thường, hoặc có thể nói là mơ màng, khó đoán, hay đơn giản là không biết anh ta đang nghĩ gì. Đã có rất nhiều người di cư đến khu vực của công chúa Nora trong thời gian trước, nhưng không một ai trong số họ lại nhờ Zaza và các bạn hướng dẫn tham quan thành phố cả.</p><p id="46">Hơn nữa, việc là một người di cư nghĩa là anh ta phải đến đây với tư cách lính đánh thuê, nhưng lại đi tìm kiếm những điều thú vị để khám phá thành phố. Điều này chỉ có thể được gọi là thái độ lơ là.</p><p id="47">Tuy nhiên, với Zaza và những người bạn, đó lại là một cách tốt để giết thời gian. Họ không tập luyện để trở thành kỵ sĩ cường hóa suốt cả ngày. Đối với những người sinh ra và lớn lên trong Code như Zaza, thế giới bên ngoài luôn kích thích trí tò mò của họ.</p><p id="48">Ngoài ra, việc dẫn dắt một người từ bên ngoài, người không biết gì về hệ thống của thành phố, và tự hào giới thiệu về thành phố của mình cũng là một hoạt động giải trí thú vị.</p><p id="49">Nói về Code, mặc dù là một hệ thống duy nhất, nhưng trong thành phố, mỗi khu vực được quản lý bởi các thành viên hoàng gia khác nhau, tạo nên nhiều đặc trưng khác biệt. Và khu vực do công chúa Nora quản lý tập trung vào việc tăng cường khả năng thể chất.</p><p id="50">Công nghệ tăng cường con người mà công chúa Nora đã phát triển, sử dụng hệ thống của Code, có thể tạo ra những người vượt trội hơn cả con người, đủ sức đối đầu với các chiến binh cơ giới. Tuy nhiên, để thực hiện được điều này, cần phải có một cơ thể khỏe mạnh với khả năng thể chất xuất sắc. Do đó, khu vực này có nhiều trang thiết bị giúp rèn luyện sức mạnh, và kiến trúc của thành phố với những tòa nhà có thể chạy, nhảy và leo trèo chỉ là một phần trong hệ thống đó.</p><p id="51">Trong hệ thống Code này, có rất ít nơi có thể nhận được Thánh tích, và ở khu vực của công chúa Nora, ngoài việc gia nhập đội kỵ sĩ cường hóa, chỉ có một cách duy nhất để sở hữu Thánh tích. Zaza và những người bạn đã dẫn Cry xuống tầng hầm của một tòa nhà lớn, nơi có một đấu trường ngầm.</p><p id="52">Đấu trường hình tròn này đủ rộng để người và người, hoặc thậm chí là các chiến binh cơ giới và vũ khí sinh học do Code tạo ra, có thể chiến đấu thoải mái. Xung quanh đấu trường là hàng loạt ghế khán giả, đủ cho một lượng lớn người xem.</p><p id="53">Tại đây, các trận đấu theo hình thức thực chiến được tổ chức. Đấu trường này cũng được sử dụng cho các buổi huấn luyện của đội kỵ sĩ cường hóa, nhưng đặc biệt là giải đấu tổ chức định kỳ lại là sự kiện được ưa chuộng nhất ở khu vực của công chúa Nora. Nhiều công dân ở chuyển đến đây chỉ để được xem những trận đấu này.</p><p id="54">Tất nhiên, nếu tự tin vào kỹ năng của mình, bất kỳ ai cũng có thể tham gia, và nếu đạt được thành tích tốt, con đường gia nhập đội kỵ sĩ cường hóa sẽ mở ra. Zaza và những người bạn của cậu ấy cũng có thể sẽ chiến đấu tại đấu trường này trong tương lai.</p><p id="55">Cách duy nhất để có được Thánh tích trong khu vực của công chúa Nora là đạt thành tích cao trong giải đấu định kỳ này. Một trong những phần thưởng cho thành tích tốt chính là Thánh tích.</p><p id="56">Ở Code, để một công dân có thể sở hữu vũ khí hoặc Thánh tích nằm ngoài hệ thống của thành phố, cần phải có sự cho phép của tầng lớp quý tộc trở lên. Ít nhất, ở khu vực này, cách duy nhất để có được Thánh tích là chiến thắng trong giải đấu và chứng minh giá trị của bản thân.</p><p id="57">Giải đấu có nhiều thể loại khác nhau. Dù đánh giá tổng thể cho thấy Cry có vẻ không quá mạnh, nhưng có thể tài năng của cận vệ từ các hoàng gia khác sẽ được hé lộ trong các trận đấu này.</p><p id="58">Khi Zaza giấu kín hy vọng và giải thích cho Cry, Cry nhìn quanh đấu trường, quan sát những người đang đấu trong vòng đấu, rồi nhìn vào khán đài, nhìn về phía những ghế dành cho quý tộc nơi các thành viên đội kỵ sĩ cường hóa đang chăm chú quan sát, và cuối cùng quay lại nhìn Zaza.</p><p id="59">"Được rồi, tôi hiểu đại khái rồi. Vậy phần thưởng là Thánh tích thì gồm có những gì?"</p><p id="60">"Thường thì sẽ khác nhau tùy theo ngày, nhưng kiếm là thứ được ưa chuộng nhất.  Code tạo ra nhiều vũ khí bắn tầm xa, nên các vật phẩm mang từ bên ngoài vào cũng được làm phần thưởng đấy. Sở hữu một thanh kiếm Thánh tích là bằng chứng của một chiến binh hàng đầu!"</p><p id="61">"Kiếm... à. Hiểu rồi. Vậy còn điện thoại thông minh thì sao?"</p><p id="62">"Eh…? Phần thưởng chủ yếu là vũ khí thôi. À thỉnh thoảng cũng có khi là giáp nữa."</p><p id="63">Giải thưởng cho các trận đấu tại đấu trường này đều do công chúa Nora chuẩn bị. Gần đây, do dòng người từ bên ngoài đổ vào thành phố ngày càng nhiều, giá trị của các vật phẩm cũng có phần thay đổi, nhưng những món đồ mang từ thế giới bên ngoài vào luôn là những thứ vô cùng quý giá trong thành phố này.</p><p id="64">Việc quản lý dòng chảy của hàng hóa ra vào thành phố được giao cho các thành viên hoàng gia, hoặc những quý tộc Class 7 trở lên — những người chỉ có thể được nhà vua bổ nhiệm. Với Zaza và những người dân bình thường khác, việc có được những món đồ này gần như là một may mắn hiếm hoi.</p><p id="65">Cry đã nói rằng "hiểu đại khái rồi," nhưng Zaza không khỏi băn khoăn về điều đó.</p><p id="66">Trong lúc Zaza và các bạn đang nghiêng đầu suy nghĩ, một trận đấu mới bắt đầu trên sàn đấu. Đây là cuộc đối đầu giữa hai chiến binh được đánh giá sắp được chọn làm cường hóa nhân. Được chọn làm cường hóa nhân là một vinh dự lớn mà không nhiều người có thể đạt được. Đây là một trận đấu hiếm hoi, và nếu bình thường, Zaza chắc chắn sẽ theo dõi trận đấu với sự hào hứng.</p><p id="67">Tuy nhiên, Cry sau khi theo dõi một lúc trận chiến căng thẳng này, bất ngờ ngẩng đầu lên và nói.</p><p id="68">"Được rồi, đi tiếp thôi."</p><p id="69">"Hả!? Anh không xem kết quả à?"</p><p id="70">Zaza cảm thấy băn khoăn, vì cậu thực sự muốn biết ai sẽ thắng. Trận chiến này là giữa hai đối thủ gần như ngang tài ngang sức, và kết quả của trận đấu sẽ được quyết định bởi những yếu tố như năng lực, may mắn, hoặc sự chuẩn bị từ trước. Đây là một trận đấu bắt mắt và không ai có thể đoán trước được kết quả.</p><p id="71">"Những trận đấu kiểu này tôi đã xem rất nhiều bên ngoài rồi. Không phải là tôi không quan tâm đến kết quả, nhưng Code rất rộng lớn và chúng ta không có nhiều thời gian."</p><p id="72">Zaza không hiểu Cry đang nói gì. Chẳng phải Cry sẽ ở lại thành phố này lâu dài sao? Tại sao lại nói rằng không có thời gian?</p><p id="73">À… có lẽ ý Cry là khi nhà vua qua đời, sẽ không còn thời gian rảnh rỗi để đi dạo quanh thành phố nữa.</p><p id="74">"Haizz… được rồi. Dù trận đấu này rất hay…"</p><p id="75">Zaza thở dài, cố dứt mắt khỏi trận chiến đầy hứng khởi trên sàn đấu và quay lưng lại, dù trong lòng vẫn không khỏi bị cuốn hút. Nhưng— trận đấu này có được lên lịch từ trước không nhỉ? Thường thì những trận đấu đáng xem như thế này sẽ được thông báo trước để thu hút khán giả.</p><p id="76">§§§</p><p id="77">Zaza trông có vẻ là người lãnh đạo nhóm những đứa trẻ bao gồm cả Lulu, đã đưa tôi đi tham quan nhiều nơi trong thành phố, và điều đó thực sự khá thú vị. Đúng là hỏi những người dân địa phương về thành phố luôn là cách tốt nhất. Nếu chỉ có một mình, có lẽ tôi không thể nào tìm được đấu trường ngầm nằm sâu trong hàng loạt tòa nhà giống nhau như đúc.</p><p id="78">Rõ ràng là công chúa Nora rất yêu thích chiến đấu. Những nơi mà Zaza dẫn tôi đến hầu như đều là những cơ sở liên quan đến chiến đấu, như các khu tập luyện, đấu trường, hay trường bắn. Và có vẻ như người dân sống trong khu vực của Nora ngày đêm đều không ngừng mài giũa bản thân. Mặc dù họ đã có một hệ thống thành phố tiện lợi như thế này, họ vẫn không lơ là trong việc rèn luyện bản thân. Nếu được, họ nên thay tôi trở thành thợ săn thì hơn.</p><p id="79">Khi chúng tôi dạo quanh và khám phá thành phố, mặt trời dần lặn xuống. Dù ban đêm ở Đế quốc cũng rất sáng, nhưng ban đêm ở Code còn sáng hơn. Trên con đường chính của trung tâm của khu vực do công chúa Nora quản lý, vẫn còn nhiều người dân đang đi lại.</p><p id="80">Sau cả ngày đi bộ khắp nơi, tôi cảm thấy kiệt sức. Dù không có bất kỳ thao tác thể chất mạnh mẽ nào, việc chỉ đi bộ thôi mà cũng khiến tôi thấy mệt mỏi, điều này làm tôi nhận ra mình thật yếu đuối.</p><p id="81">Cuối cùng, tôi đã không thể lấy được Thánh tích ở khu vực của công chúa Nora. Ngay cả nghĩ đến việc giành chiến thắng trong các giải đấu để nhận thưởng cũng đủ khiến tôi thấy vô vọng. Mà thật ra, Thánh tích như vũ khí hay áo giáp cũng không phải là mục tiêu của tôi trong chuyến đi lần này. Dù sao thì, nếu ai đó tặng cho thì tôi cũng không từ chối.</p><p id="82">Lulu, dù đã trải qua một buổi tập luyện mệt mỏi hơn tôi rất nhiều, nhưng vẫn không hề tỏ ra mệt mỏi chút nào, em ấy cất tiếng hỏi.</p><p id="83">"Anh ơi, tối nay anh định nghỉ ở đâu? Nếu được thì anh đến nhà bọn em nhé?"</p><p id="84">"Ý hay đấy. Nhà bọn em còn phòng trống mà. Và nhân tiện, anh kể cho bọn em về thế giới bên ngoài đi. Anh đã hứa rồi đấy!"</p><p id="85">Hiện tại, nơi tôi đang ở là tòa nhà của công chúa. Nhưng... lời hứa là lời hứa mà. Công việc của tôi với tư cách là cận vệ của công chúa cũng chẳng có gì quan trọng, nên việc không về nhà một đêm chắc cũng không sao đâu.</p><p id="86">"Vậy thì, anh sẽ làm phiền mọi người một đêm nhé."</p><p id="87">"Yeah! Đây là lần đầu tiên bọn em có một vị khách là quý tộc đấy!"</p><p id="88">Lulu reo lên đầy phấn khích.</p><p id="89">"Eh, đợi đã, quý tộc thì cũng... Anh đâu có biết nhiều về thành phố này đâu, đừng mong đợi quá nhiều từ anh."</p><p id="90">Tôi vội vàng đáp lại trước sự phấn khích của Lulu. Thực ra thì, từ khi tôi trở thành quý tộc ở thành phố này, mọi thứ đã trở nên khá kỳ lạ. Điều này phần nào là do Olivia đã cố tình nâng cấp địa vị của tôi, giống như một cách chọc tức tôi vậy.</p><p id="91">Nhưng thành thật mà nói, quý tộc ở đất nước này có vai trò gì không nhỉ? Ít nhất thì từ khi tôi trở thành quý tộc, lợi ích lớn nhất có lẽ là tôi có thể nộp đơn xin thả tự do cho Kryhi, nhưng ngoài ra thì...</p><p id="92">Thấy tôi lúng túng, Zaza mở to mắt, rồi vỗ nhẹ vào tay tôi và nói.</p><p id="93">"Anh mới đến nên có lẽ chưa biết rõ. Ở Code này, nếu không nâng cấp địa vị, anh không thể làm nhiều việc đâu."</p><p id="94">"Anh biết chứ. Như là nộp đơn xin thả tội phạm nghiêm trọng chẳng hạn."</p><p id="95">Zaza tỏ vẻ hơi khó xử trước câu trả lời nhanh chóng của tôi.</p><p id="96">"Tại sao anh chỉ biết mỗi chuyện đó chứ. Không chỉ có thế đâu. Ngay cả thức ăn hay những vật dụng hàng ngày cũng cần phải có quý tộc mới xin được. Bọn em thậm chí còn không thể sử dụng thiết bị đầu cuối ảo cơ mà. Đó là lý do tại sao bọn em cũng đang cố nâng cấp địa vị của mình."</p><p id="97">Thì ra là vậy. Mặc dù tôi đã kiểm tra qua nhiều chức năng của hệ thống thành phố, tôi vẫn chưa nhận ra điều này. Không có ai giải thích cụ thể cho tôi cả.</p><p id="98">Dường như ngay cả trong nền văn minh vật chất tiên tiến, nơi mà hệ thống thành phố có thể chuẩn bị thức ăn, sự đối xử vẫn phụ thuộc vào địa vị của người dân. Còn rất nhiều điều về Code mà tôi chưa biết.</p><p id="99">"Ồ... Thế bọn em muốn anh xin cái gì?"</p><p id="100">"À, bọn em muốn xin một cỗ máy chiến đấu! Để bọn em luyện tập ấy! À, và cả dụng cụ tập thể hình nữa."</p><p id="101">"Khu vực của Nora-sama có loại thực phẩm chức năng giúp cải thiện thể lực đấy. nhưng chỉ có quý tộc trực thuộc Nora-sama mới xin được thôi. Đó là bí mật của hệ thống..."</p><p id="102">Nora, hình như dân của cổ bị nghiện tập luyện rồi đấy nhỉ. Nhân tiện, có vẻ đây cũng là cơ hội tốt để tôi học cách sử dụng hệ thống thành phố nữa.</p><p id="103">§§§</p><p id="104">"Theo như thông tin trên này, có vẻ như hôm nay, Cry Andrich sẽ ở lại nhà của một công dân có ý định trở thành kỵ sĩ tăng cường."</p><p id="105">"…… Bỗng dưng hắn ta xuất hiện trong khu vực của ta. Thật sự hắn ta đến đây để làm gì vậy?"</p><p id="106">Nora nhíu mày khi nhận được báo cáo từ các cận vệ đang theo dõi Cry.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287328-chuong-412-tham-quan-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287333-chuong-414-vip" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'FK2yBZ1J9TMYpK2glgXQNkMpULwctGTV0g18OOei';
        var comment_type = 'chapter';
        var comment_typeid = '287331';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'FK2yBZ1J9TMYpK2glgXQNkMpULwctGTV0g18OOei';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24353');
    chapter_id = parseInt('287331');

    readingObject = {
        series_id: series_id,
        series_title: 'Let This Grieving Soul Retire! Woe is the Weakling Who Leads the Strongest Party',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="FK2yBZ1J9TMYpK2glgXQNkMpULwctGTV0g18OOei" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

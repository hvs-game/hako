<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Let This Grieving Soul Retire! Woe is the Weakling Who Leads the Strongest Party - Chương 416: Ngủ quên - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tồn tại trên khắp thế giới là những《Thánh tích》với quyền năng đặc biệt. Của cải, danh tiếng và sức mạnh. Theo đuổi vinh quang, một thời đại nơi các《Thợ săn kho báu》điên cuồng khám phá các《Đền kho báu》bất chấp nguy hiểm. Cùng với những người bạn thời thơ ấu, Cry...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="4vc6tyj2EoQJSSxsYhfCeEteahpvqU14n4DFFkPV">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296868-chuong-416-ngu-quen">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24353-e2e65019-1835-4b3f-98a6-7d2fd9524d2b.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296866-chuong-415-vip-2"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296868-chuong-416-ngu-quen" style="background: url('https://i.hako.vn/ln/series/covers/s24353-e2e65019-1835-4b3f-98a6-7d2fd9524d2b.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party">Let This Grieving Soul Re...</a></h5>
                    <small><i class="fas fa-pen"></i>Tsukikage</small>
                    <small><i class="fas fa-paint-brush"></i>Chyko</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/t35146-arc-9">Arc 9 - Level 9</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c275835-chuong-406-ke-bat-thuong-3">
                                                                        Chương 406: Kẻ bất thường 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c275943-chuong-407-dogeza">
                                                                        Chương 407: Dogeza
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c276085-chuong-408-lam-nung">
                                                                        Chương 408: Làm nũng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c279607-chuong-409-suy-tinh-cua-moi-nguoi">
                                                                        Chương 409: Suy tính của mỗi người
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c280533-chuong-410-tham-quan">
                                                                        Chương 410: Tham quan 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c280595-chuong-411-tham-quan-2">
                                                                        Chương 411: Tham quan 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287328-chuong-412-tham-quan-3">
                                                                        Chương 412: Tham quan 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287331-chuong-413-tham-quan-4">
                                                                        Chương 413: Tham quan 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c287333-chuong-414-vip">
                                                                        Chương 414: VIP
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296866-chuong-415-vip-2">
                                                                        Chương 415: VIP 2
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296868-chuong-416-ngu-quen">
                                                                        Chương 416: Ngủ quên
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Arc 9 - Level 9</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 416: Ngủ quên</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296868-chuong-416-ngu-quen#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,816 từ - Cập nhật: 
                        <time class="topic-time timeago" title="25-01-2026 03:00:16" datetime="2026-01-25T03:00:16+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                
                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 416: Ngủ quên</p>
                    <p id="1">Trần nhà trắng tinh tươm, không có lấy một vết bẩn, và chiếc giường vừa đủ cứng để bao trọn cơ thể tôi. Tôi chống khuỷu tay xuống giường, cố gắng ngồi dậy. Đây là một căn phòng mà tôi chưa từng thấy trước đây. Tôi... hôm qua mình đã ngủ ở đâu nhỉ? Dần dần, ký ức đã trở lại.</p><p id="2">Đúng rồi, mình đã được Zaza và những người khác dẫn đi tham quan các khu vực khác. Họ nói đó là khu vực nhộn nhịp nhất... Mình đã vào một tòa nhà, nhưng sau đó thì không nhớ rõ nữa.</p><p id="3">Chẳng lẽ sau đó mình đã uống rượu sao? Tôi vươn người một cái thật dài và nhìn xung quanh. Cảm giác rất tuyệt. Điều khiến tôi ngạc nhiên nhất là, tôi hoàn toàn không còn cảm giác buồn ngủ. Với một người thường ngủ nhiều như tôi, đây quả là một sự thức giấc tuyệt vời hiếm có.</p><p id="4">Hôm nay có vẻ là một ngày tốt lành đây. Nhưng mà, Zaza và những người kia đâu rồi nhỉ? Khi tôi đang đảo mắt nhìn quanh, đột nhiên một ông bác mặc áo blouse trắng chạy xộc vào phòng.</p><p id="5">"Ồ! Cậu đã tỉnh rồi sao! Thật là tốt quá!"</p><p id="6">"Eh?"</p><p id="7">Zaza trông mệt mỏi hẳn đi, đang theo sau ông bác và nói trong khi nước mắt ròng ròng.</p><p id="8">"Tốt quá... thực sự tốt quá. Tôi biết là anh vẫn sống, nhưng mà..."</p><p id="9">"Anh ơi! Tốt quá, cuối cùng anh cũng tỉnh rồi! Anh đã ngủ suốt ba ngày đấy! Bọn em đã tỉnh từ lâu rồi, đúng là đồ ngủ nướng!"</p><p id="10">"Eh... ừm?"</p><p id="11">Trước lời nói của Lulu, tôi vô thức nghiêng đầu thắc mắc. Phải mất vài giây để tôi hiểu được ý nghĩa của những lời đó. Ba ngày à. Quả là kỷ lục mới của mình... nhưng mà khoan đã!</p><p id="12">Dù là tôi thì ngủ ba ngày liên tiếp cũng không phải là chuyện bình thường. Chiếc giường tôi vừa nằm cũng không phải loại mà tôi từng dùng ở chỗ của Ohi-sama, nhưng liệu đây có phải là sức mạnh của công nghệ Code không? Ra là vậy, hèn gì mà tôi cảm thấy tỉnh táo như thế. Hahaha...</p><p id="13">Mặc dù đã ngủ ba ngày, tình trạng cơ thể của tôi không có gì thay đổi so với bình thường. Tôi đáng lẽ ra không ăn gì trong suốt khoảng thời gian đó, nhưng tôi không cảm thấy đói và cơ bắp cũng không có dấu hiệu mệt mỏi. Có lẽ giường trong Code còn có thể bù đắp cả những nhu cầu này chăng?</p><p id="14">Cái này một nửa giống như một Thánh tích thần kỳ vậy.</p><p id="15">"Để em báo cho Nora-sama nhé! Anh đừng tự ý đi đâu đấy, Cry!"</p><p id="16">Zaza nói rồi bước ra khỏi phòng. Ông bác mặc áo blouse trắng kiểm tra toàn bộ cơ thể tôi, rồi vừa trầm ngâm vừa nói.</p><p id="17">"Không có vấn đề gì cả nhỉ? Quả thật, hiệu quả của khí vô hiệu hóa có khác biệt ở từng người, nhưng ba ngày là kỷ lục mới đấy. Chúng tôi đã thử nghiệm trên nhiều đối tượng, không ai có thể bị tác động lâu như vậy. Có người bị ngắn hơn nhiều, nhưng không ngờ lại có người kéo dài đến mức này—"</p><p id="18">Khí vô hiệu hóa— sao? Tôi chưa từng nghe từ này bao giờ. Đâu cần dùng đến loại khí đó, vì tôi vốn đã vô dụng rồi mà. Xem ra... tôi không chỉ đơn giảm là chỉ ngủ ba ngày. Thảo nào.</p><p id="19">Kể từ khi đến thành phố này, tôi chẳng làm gì nặng nhọc cả, dù tôi có là người ngủ nhiều đi chăng nữa, việc không có lý do gì mà ngủ liền ba ngày thật sự là chuyện không tưởng. Đôi khi, tôi có thể lãng phí ba ngày chỉ để lười biếng, nhưng mà... Tôi ngồi xuống mép giường. Lulu vội vã nói.</p><p id="20">"Anh ơi, đừng có ngủ nữa! Nora-sama đang rất giận đấy!"</p><p id="21">"Eh? Tại sao Nora-san lại giận?"</p><p id="22">"Em cũng xin anh đừng ngủ nữa. Để đánh thức anh, họ đã phải thảo luận nghiêm túc xem có cần nghiên cứu gì không."</p><p id="23">"Tôi cũng không hiểu lắm, nhưng xin lỗi vì đã làm phiền mọi người."</p><p id="24">"Eh... vâng..."</p><p id="25">Dù bản thân tôi không có vấn đề gì, nhưng nếu đã ngủ suốt ba ngày, tôi hơi lo lắng liệu bên phía Kaiser có tiến triển gì không. Với khả năng của những thợ săn level 8, công việc của họ hẳn rất nhanh chóng, nên có lẽ đã cứu được một hoặc hai người rồi cũng không chừng. Tôi cần nhanh chóng tiếp tục chuyến tham quan... làm ảnh hưởng đến việc giải cứu chỉ vì đi tham quan thì thật không thể chấp nhận được.</p><p id="26">"Cuối cùng thì cậu cũng tỉnh rồi, Cry Andrich."</p><p id="27">Đúng lúc đó, một người đàn ông bước vào phòng. Ông bác mặc áo blouse trắng và Lulu cùng mấy đứa trẻ khác vội vàng dạt ra nhường đường. Người bước vào là một chàng trai tóc đỏ, mặc bộ vest trắng. Dù tôi có thể quên nhiều chuyện, nhưng chuyện vừa xảy ra cách đây không lâu thì vẫn nhớ rõ.</p><p id="28">"!! Anh là—!"</p><p id="29">"Haizz, lần này thật sự đã gây phiền phức cho cậu rồi. Không ngờ lại bị hệ thống phòng thủ của chúng tôi bắt được... tôi thật sự xin lỗi."</p><p id="30">Chàng trai tóc đỏ này, nếu tôi nhớ không nhầm thì đây chính là người đã hộ tống tôi đến nhà tù lần trước. Một sự xuất hiện đầy ấn tượng, với trang phục cũng ấn tượng không kém. Tên cậu ta là gì nhỉ...?</p><p id="31">Tôi vỗ vào tay cái "bốp" rồi nở nụ cười và nói.</p><p id="32">"TC-san, đúng không nhỉ. Thật sự cảm ơn vì lần trước đã đưa tôi đến nhà tù. Tôi cũng không rõ chuyện gì đã xảy ra, nhưng coi như không ai nợ ai nhé."</p><p id="33">Tôi luôn thích việc không có nợ nần qua lại. Như thế sẽ tránh được nhiều rắc rối sau này. Có vẻ như chúng tôi đã bị hệ thống phòng thủ của nơi này bắt trúng, nhưng may thay không ai bị thương cả, chỉ là tôi đã ngủ quên mà thôi.</p><p id="34">TC-san nghe tôi nói thì mắt mở to trong chốc lát, nhưng rồi nở nụ cười nhếch mép và đáp.</p><p id="35">"Không, không, đâu thể nói như vậy được. Dù gì đi nữa, vụ việc này đã khiến Nora nổi giận. Mặc dù là lỗi của phía chúng tôi... mà thôi, vụ này tốn kém quá. Nếu có gì cần trong khu vực của tôi, cậu cứ nói một tiếng."</p><p id="36">"Thưa ngài Tony, dù đã kiểm tra kỹ càng, chúng tôi không phát hiện ra sai sót nào. Trong trường hợp này, có lẽ chỉ có thể coi đó là vấn đề cá nhân. Tạm thời, người này hoàn toàn khỏe mạnh."</p><p id="37">"Hiểu rồi. Chúng ta đã quá coi thường cấp độ 4 rồi. Không ngờ hiệu quả lại mạnh đến thế... vì đây là người trưởng thành mà? À, không phải lỗi của cậu đâu..."</p><p id="38">TC-san thở dài, rồi đưa tay ra cho tôi và nói.</p><p id="39">"Hãy để tôi giới thiệu lại, tôi là TC— Tony Code. Có vẻ như đồng đội của cậu đã nhận ra, nhưng tôi là một trong những thành viên hoàng tộc của thành phố này. Nghe nói cậu muốn tham quan khu vực của tôi... rất hoan nghênh cậu."</p><p id="40">"!! Cái gì cơ!?"</p><p id="41">TC... Tony Code. Hoàng tộc, tức là anh chàng này chính là một trong những người mà nhiệm vụ yêu cầu bảo vệ sao?</p><p id="42">Không ngờ tôi lại vô tình gặp được một thành viên hoàng tộc khác. Những người mà anh ta gọi là đồng đội của tôi chắc hẳn là Kool và nhóm đi cùng lúc đó. Thật tình, nếu họ biết rồi thì cứ nói với tôi một tiếng thì có phải tốt hơn không. Tôi đứng dậy, bắt tay và trả lời.</p><p id="43">"Tôi hoàn toàn không nhận ra... xin lỗi vì sự thiếu tinh ý của tôi. Cảm ơn anh vì lần trước nhé, tôi là Cry Andrich đến từ thế giới bên ngoài. Không biết anh có nghe chưa, nhưng như anh thấy đấy, tôi là cận vệ của công chúa Alisha. Rất vui được gặp."</p><p id="44">"Khụ... không biết cậu nói thật hay đang khiêu khích nữa... cậu đúng là một người thú vị."</p><p id="45">"À mà... tôi không biết có nên hỏi câu này không, nhưng... hiện tại cậu có bị đám quý tộc theo dõi hay giám sát gì không?"</p><p id="46">Theo những gì tôi biết, những thành viên hoàng tộc mà tôi đến để giải cứu đang bị quý tộc giam cầm và theo dõi, buộc phải làm theo lệnh. Nhưng nhìn Tony và Nora, rõ ràng là họ không có vẻ gì là bị giam giữ, cũng không giống kiểu người dễ nghe theo lệnh của ai khác.</p><p id="47">Trước câu hỏi của tôi, Tony mở to mắt rồi trả lời.</p><p id="48">"À... dĩ nhiên rồi. Tôi đang bị đám quý tộc trong khu vực này giám sát để điều hành. Sao thế, có vấn đề gì à?"</p><p id="49">Chuyện gì thế này... hóa ra cậu ấy thực sự đang bị giám sát. Mặc dù không có vẻ gì bị giam cầm, nhưng nội dung nhiệm vụ có lẽ cũng không hoàn toàn sai.</p><p id="50">Như vậy, số thành viên hoàng tộc mà tôi đã tìm thấy đã là ba người. Tổng cộng có bảy người, tức là tôi đã gặp được gần một nửa. Nếu tôi thực sự có sức mạnh ngang với một thợ săn cấp level 8, có lẽ tôi đã đánh bại đám quý tộc và đưa họ ra ngoài thành phố rồi.</p><p id="51">Khi nào tìm thấy Kaiser và Saya, tôi sẽ kể cho họ nghe về chuyện này. Tôi thở dài nhỏ nhẹ, rồi trấn an Tony.</p><p id="52">"Không sao đâu, đừng lo lắng quá. Tình hình bây giờ có thể khó khăn, nhưng chắc chắn Kaiser và Saya sẽ lo liệu được."</p><p id="53">"?? Cậu đang nói cái gì thế?"</p><p id="54">Tony ngơ ngác hỏi.</p><p id="55">Thật đáng tiếc, trong tình huống này tôi không thể nói rõ về kế hoạch dưới sự giám sát của đám quý tộc. Nhưng tôi cũng chẳng đủ sức để cố gắng cứu họ ra ngoài. Đơn giản là tôi không thể. Xin lỗi vì sự bất lực của tôi.</p><p id="56">Tony nhíu mày một lúc, nhưng rồi dường như nhận ra điều gì đó, cậu ấy nhìn tôi.</p><p id="57">"Khoan đã? Kaiser và Saya... có phải cậu đang nói về hai người mới vào gần đây, Kai và Saya không?"</p><p id="58">"Ừm... không, tôi không nghĩ vậy đâu."</p><p id="59">"Anh tôi khoe là họ mới có hai chiến binh rất mạnh gia nhập mà."</p><p id="60">Ồ, vậy chắc là đúng hai người đó rồi. Có vẻ như cả hai đã vào thành phố bằng tên giả.</p><p id="61">Nghĩ kỹ lại thì, dùng tên thật có lẽ không phải là một ý hay, dù bây giờ tôi mới nhận ra thì cũng hơi muộn rồi.</p><p id="62">Vậy ra người mà Tony gọi là anh trai chắc chắn cũng là thành viên hoàng tộc. Tôi đã lo lắng vì không thấy bất kỳ phản ứng nào từ họ, nhưng xem ra cả hai đang làm việc rất chăm chỉ. Quả là những người có đẳng cấp thợ săn level 8.</p><p id="63">Điều khiến tôi bất ngờ là cả hai đều đến cùng một nơi. Có lẽ họ đã vô tình gặp nhau, hoặc có thể anh trai của Tony là người khó cứu nhất. Vì đã nhận ra điều đó, việc duy nhất tôi cần làm bây giờ là...</p><p id="64">"Được rồi, vậy thì bắt đầu chuyến tham quan thôi nào... không còn nhiều thời gian nữa. Tôi nghe nói khu vực này có nhiều thứ mà các khu vực khác không có, phải vậy không?"</p><p id="65">Vì đã xác nhận hai người kia đang làm việc chăm chỉ, tôi cũng phải nhanh chóng tranh thủ thời gian để tham quan. Tôi đã ngủ mất ba ngày rồi... tôi thật sự cần phải nhanh chóng tìm ra Thánh tích, nhưng thời gian cứ thế trôi đi vô ích.</p><p id="66">"À, đúng vậy. Khu vực này được đám quý tộc dẫn đầu trong mọi việc, nên khác biệt khá nhiều so với chỗ của anh tôi hay của Nora. Ở đây cũng có cả tiền bạc đấy."</p><p id="67">Ngay khi Tony búng tay, sàn nhà mở ra và một chiếc vali được đưa lên. Bên trong là cả một đống vàng. Và không phải vàng thường, mà là những đồng tiền vàng trị giá 100.000 Gils, loại tiền đang lưu hành tại Zebrudia.</p><p id="68">Nhìn tôi tròn mắt ngạc nhiên, Tony tự hào nói.</p><p id="69">"Bọn tôi tự sản xuất đấy. Lấy mẫu từ số vàng mà cậu từng mang theo. Trước đây, tôi đã thấy nhiều mẫu, nhưng thiết kế của cái này khá đẹp. Trông giống y như thật, phải không?"</p><p id="70">Phải, đúng là hàng giả rồi. Nhưng nó thật sự giống hệt với đồ thật...</p><p id="71">"Tôi luôn muốn mang nhiều nét văn hóa thú vị từ bên ngoài vào đây, nhưng tiếc thay, nền kinh tế tiền tệ không thể bén rễ ở đây. Lý do là bởi vì trong thành phố này, chỉ cần là công dân, họ có thể có được hầu hết mọi thứ họ cần. Thứ duy nhất có thể thay thế tiền bạc là tài nguyên của hệ thống thành phố, nhưng khi có tài nguyên rồi thì hệ thống thành phố đã cung cấp mọi thứ cần thiết. Không cần phải trao đổi gì nữa. Theo cậu, dưới góc nhìn của một người bên ngoài, cậu nghĩ sao về chuyện này?"</p><p id="72">"Những đồng tiền vàng đó được làm từ vàng thật sao?"</p><p id="73">"Không, bọn tôi tạo ra từ đất."</p><p id="74">Việc làm giả tiền vàng rõ ràng là việc làm phạm tội. Nhưng dù vậy, tôi vẫn giữ bình tĩnh và tiếp tục cuộc trò chuyện.</p><p id="75">"Chà, tôi nghĩ đó là một ý tưởng khá thú vị, ừm, rất sáng tạo. Nhưng mà thay vì nói về tiền, tôi muốn thấy những thứ khác hơn. Ở khu vực của anh có quán rượu hay nhà hàng gì không?"</p><p id="76">Khi đi du lịch, điều đầu tiên cần quan tâm chính là đồ ăn. Hồi còn là một thành viên của [Strange Grief], mà giờ tôi cũng vẫn là thành viên, dù có chút khác biệt, tôi đã đi khắp nơi trên thế giới, và một trong số ít thú vui chính là thưởng thức ẩm thực. Nếu khu vực của Tony thực sự lấy cảm hứng từ văn hóa bên ngoài, khả năng có nhà hàng hoặc quán rượu cũng sẽ cao.</p><p id="77">Nghe câu hỏi của tôi, Tony khoanh tay lại và trả lời.</p><p id="78">"Nhà hàng và quán rượu? À, dĩ nhiên là tôi biết chứ. Tôi đã kiểm tra kỹ từ những người bên ngoài, và ở thành phố này cũng có ghi chép lại. Đó là những nơi cung cấp thức ăn, phải không? Nhưng theo những gì tôi biết thì thành phố này không có chỗ nào như vậy. Hừm, có thể chỗ Nora có một nơi tương tự. Đó là nơi cung cấp thức ăn để tạo ra con người cường hóa."</p><p id="79">Hình như thứ anh ta đang nói không giống với nhà hàng mà tôi đang nghĩ đến. Có nghĩa là chỉ cần ăn món đó, người ta sẽ trở nên mạnh mẽ hơn sao? Liệu đó có thực sự là món ăn bình thường không vậy?</p><p id="80">Dù sao đi nữa, rõ ràng không có nhà hàng hay quán rượu ở đây, và nếu không có nhà hàng thì cũng sẽ không có tiệm bánh ngọt hay những nơi tương tự rồi. Quả thật, đây là một vấn đề đau đầu khi nghĩ đến món quà cho công chúa.</p><p id="81">"Thành phố này vốn do người từ thế giới bên ngoài xây dựng, thế mà lại không có những cửa hàng như vậy, nghe cũng kỳ lạ nhỉ?"</p><p id="82">"Bởi vì nó cần thiết thôi. Nghĩ kỹ mà xem, trong một thành phố nơi mọi thứ đều có sẵn, cần gì phải có những cửa hàng đó? Sức lao động của con người được dùng cho những công việc thực sự cần thiết."</p><p id="83">Anh ta nói đúng. Trong thế giới này, người ta không cần làm việc để sống. Ngay cả ở thế giới bên ngoài, có không ít người phải làm việc chỉ vì cuộc sống yêu cầu điều đó. Trong một thành phố nơi mọi thứ được cung cấp sẵn sàng và tiền tệ không còn giá trị, liệu việc mở cửa hàng có còn ý nghĩa nữa không?</p><p id="84">Tôi suy nghĩ một lúc, rồi nhìn Tony và nói.</p><p id="85">"Không biết có cần thiết hay không, nhưng nếu thử làm thì có thể nó sẽ khá thú vị đấy nhỉ?"</p><p id="86">"Gì... cơ?"</p><p id="87">"Ở đất nước của tôi, cũng có rất nhiều người mở cửa hàng chỉ vì sở thích. Thật ra, tôi cũng có ý định mở một quán cà phê trong tương lai."</p><p id="88">Có nhiều trường hợp các thợ săn lão luyện sau khi giải nghệ lại mở cửa hàng vì sở thích. Những cửa hàng đó thường không quá chú trọng lợi nhuận, nhưng lại cung cấp những món hời và thậm chí còn chia sẻ kinh nghiệm quý báu từ thời gian họ làm thợ săn. Có lẽ vì sau khi sống cuộc đời đầy mạo hiểm, họ lại muốn hướng đến cuộc sống yên bình hơn khi về già.</p><p id="89">Điều tôi muốn nói là, con người không chỉ làm việc để sống, mà còn làm vì niềm vui hoặc đam mê. Dù hiện tại tôi rất muốn nghỉ hưu, nhưng không phải tôi hoàn toàn không thấy niềm vui trong nghề thợ săn.</p><p id="90">Nếu mọi thứ hoàn toàn vô nghĩa, có lẽ tôi đã bỏ cuộc từ lâu rồi. </p><p id="91">Tony đã nhắm mắt lại một chút để cân nhắc, rồi nói.</p><p id="92">"À, hiểu rồi. Nếu nói như vậy thì có lẽ nó cũng đáng để thử."</p><p id="93">"Không được, thưa ngài Tony. Điều này cực kỳ không hiệu quả. Bây giờ đang là thời điểm quan trọng trước cuộc tranh giành ngai vàng!"</p><p id="94">"Chính vì thế, nếu làm thì phải làm ngay bây giờ chứ? Nếu muốn làm những chuyện ngu ngốc thì chỉ có lúc này thôi. Khi anh trai trở thành vua, ta không biết mình sẽ còn giữ lại được bao nhiêu quyền lực nữa?"</p><p id="95">Tony đáp lại người đàn ông mặc áo blouse trắng vừa cắt lời mình. Có vẻ như có nhiều chuyện phức tạp ở đây. Tôi quyết định xen vào cuộc thảo luận đó.</p><p id="96">"Nhân tiện, hãy nói chuyện khác một chút, ở khu vực của Tony-san có Thánh tích nào không? Tôi muốn mua làm quà."</p><p id="97">Đây mới là vấn đề chính. Có thể nói tôi đã nhanh chóng rời khỏi nơi của Nora để tìm kiếm Thánh tích. Tôi đã đến thành phố này để tìm Thánh tích! Tony nhìn tôi với vẻ thất vọng và nói.</p><p id="98">"Quà… hả? Này, cậu không biết sao? Thánh tích là hàng chiến lược, quyền sở hữu toàn bộ các Thánh tích của Code là thuộc về vua Code, và được phân phối công bằng cho các Class 8. Hoàng tộc sẽ cho những ai cần. Nói cách khác, cách duy nhất để có được Thánh tích của Code là phải được trao từ hoàng tộc."</p><p id="99">"Vậy có bao gồm điện thoại thông minh không?"</p><p id="100">Chà, dù có được hoàng tộc cho hay không thì cũng là một chuyện khác.</p><p id="101">"Tôi biết về đồ vật, nhưng… ở đây không có thứ đó. Trong hệ thống Thành phố có thể làm những thứ tương tự, không cần phải tốn công làm gì cả?"</p><p id="102">"Ừm, đúng là như vậy… khoan đã?"</p><p id="103">Anh ta vừa nói gì ấy? … Làm gì?</p><p id="104">"Hầu hết vũ khí trong thành phố này đều mất khả năng hoạt động bình thường khi rời khỏi Code. Những Thánh tích có thể hoạt động ở nơi xa chỉ có vua mới có thể chế tạo. Hầu hết Thánh tích đã được sản xuất cho đến nay đều là vũ khí, và theo như tôi biết, Thánh tích cần tiêu tốn rất nhiều tài nguyên. Chi tiết cụ thể chỉ có vua mới biết… này, cậu có nghe không đấy ?"</p><p id="105">Thật là ngớ ngẩn… Việc chế tạo Thánh tích từ xưa đến nay đã được nhiều thế lực nghiên cứu nhưng chưa bao giờ thành công. Ngày nay, việc thao tác Mana Material đã bị cấm nghiên cứu quốc tế, nhưng không lẽ thành phố này đã thành công trong việc chế tạo Thánh tích?</p><p id="106">Thôi nào, nếu đã có thể chế tạo lính cơ giới thì việc này có lẽ cũng không có gì lạ? Có lẽ nếu tôi nhờ vua, một chiếc điện thoại thông minh cũng có thể chế tạo được?</p><p id="107">Tôi thấy được một chút động lực rồi. Nếu Kaiser và Saya cứu được nhà vua, có lẽ tôi nên thử xin chế tạo một cái gì đó khi kết thúc. Lúc đó, Tony thở dài một hơi. Trên khuôn mặt cậu có chút dấu hiệu mệt mỏi.</p><p id="108">"Ha… vậy cũng được. Cậu cứ tự do khám phá khu vực của chúng tôi, tôi không có gì để giấu cả. Tôi sẽ thông báo cho những người trong khu vực về cậu. Cậu có cần hướng dẫn không?"</p><p id="109">"Tôi không cần hướng dẫn, nhưng… tôi muốn có phương tiện di chuyển. Có loại nhện nào nhỏ gọn hơn không? Con nhện đỏ kia trông cũng ngầu nhưng mà tôi không cần loại lớn như vậy, chỉ cần cái nào có thể chứa được một mình, nhỏ gọn hơn một chút."</p><p id="110">Trong đất nước này, phương tiện di chuyển kiểu nhện được sử dụng phổ biến, tiện lợi nhưng tôi nghĩ chúng quá lớn. Người dân thành phố dường như không thường xuyên sử dụng chúng, nên tôi mong có một phương tiện có thể sử dụng thoải mái hơn.</p><p id="111">Tony im lặng trước lời nói của tôi.</p><p id="112">Thật ra, nếu không có thì cũng không sao. Nhện thì cũng tiện lợi. Nó có khả năng di chuyển giữa các tòa nhà và tôi chưa thấy vụ tai nạn nào xảy ra với chúng.</p><p id="113">Nếu nó lớn thì cũng sẽ phù hợp với nhu cầu nhỏ, thì đúng là như vậy. Khi không thể chịu nổi sự im lặng này, tôi đã định từ chối, nhưng cuối cùng Tony đã lên tiếng.</p><p id="114">"... Này, không lẽ cậu đã biết về nghiên cứu của tôi rồi hả?"</p><p id="115">"Eh ?"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/29902cc6-afcf-446e-8fff-62b938eb8f8d.jpg?t=1747982730" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/16221" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/16221/88df77ba-e124-4669-9aee-bf8635c395da.jpg?t=1747982730" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party/c296866-chuong-415-vip-2" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24353-let-this-grieving-soul-retire-woe-is-the-weakling-who-leads-the-strongest-party" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ir2Q6ga6regIm2Tu2BPFTZUCsMciKWyYnHK1LQ2v';
        var comment_type = 'chapter';
        var comment_typeid = '296868';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = '4vc6tyj2EoQJSSxsYhfCeEteahpvqU14n4DFFkPV';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24353');
    chapter_id = parseInt('296868');

    readingObject = {
        series_id: series_id,
        series_title: 'Let This Grieving Soul Retire! Woe is the Weakling Who Leads the Strongest Party',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="4vc6tyj2EoQJSSxsYhfCeEteahpvqU14n4DFFkPV" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c3234dbfe4707d3',t:'MTc2OTI4NTc2NA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Thanh Gươm Dẫn Lối - 5-4 Nhân dịp này thì cùng nhau - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="“Tôi thì chẳng có tài cán gì ngoài việc vung kiếm, nên nếu xông vào mê cung một mình thì chắc chẳng bao giờ quay ra được nữa đâu. Haha.” Jir là kiếm sĩ chủ lực thuộc đội thám hiểm hạng S, trong lúc chinh phục mê cung độ khó...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ZDvdfngjoZHwqJkDm7TcMhISt8KcyRnYNP5mZ7J9">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23822-thanh-guom-dan-loi/c285371-5-4-nhan-dip-nay-thi-cung-nhau">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23822-8ca3993e-f8a3-4d65-86ef-464be27f0fc2.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23822-thanh-guom-dan-loi/c285355-5-3-kieu-nhan-vat-se-chet-trong-tieu-thuyet-trinh-tham"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23822-thanh-guom-dan-loi"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23822-thanh-guom-dan-loi/c285371-5-4-nhan-dip-nay-thi-cung-nhau" style="background: url('https://i.hako.vn/ln/series/covers/s23822-8ca3993e-f8a3-4d65-86ef-464be27f0fc2.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23822-thanh-guom-dan-loi">Thanh Gươm Dẫn Lối</a></h5>
                    <small><i class="fas fa-pen"></i>Quiet / Toi8</small>
                    <small><i class="fas fa-paint-brush"></i>Murokouichi</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/23822-thanh-guom-dan-loi/t34031-tap-01">Vol 01</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c248279-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c248309-chuong-1-1-neu-cau-khong-che">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        1-1 Nếu cậu không chê
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c248438-chuong-1-2-toang-that-roi">
                                                                        1-2 Toang thật rồi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c248450-1-3-khong-thay-gi-ca">
                                                                        1-3 Hoàn toàn Không thấy gì cả
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c249176-chuong-1-4-de-tro-nen-nhu-vay">
                                                                        1-4 Để trở nên như vậy
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c251430-2-1-dung-co-ma-coi-thuong">
                                                                        2-1 Đừng có mà coi thường
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c251431-2-2-du-chi-la-mot-manh-xuong">
                                                                        2-2 Dù chỉ là một mảnh xương
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c251432-2-3-chua-den-nam-phut-dau">
                                                                        2-3 Chưa đến năm phút đâu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c251433-2-4-noi-chuyen-xuong-sa">
                                                                        2-4 Nói chuyện xuồng sã
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c251435-2-5-hay-coi-nhu-dang-tren-con-thuyen-lon-ma-yen-tam-thu-gian">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        2-5 hãy coi như đang trên con thuyền lớn mà yên tâm thư giãn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c254049-3-1-da-hoc-duoc-nhieu-dieu">
                                                                        3-1 Đã học được nhiều điều
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c255677-3-2-cau-hoi-bi-tho-lo-do-nha">
                                                                        3-2 Cậu hơi bị thô lỗ đó nha
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c257449-3-3-nguoi-dong-doi-da-chet">
                                                                        3-3 Người đồng đội đã chết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c261497-4-1-hay-la-hai-dua-chung-ta-song-o-day-luon-di">
                                                                        4-1 Hay là hai đứa chúng ta sống ở đây luôn đi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c270058-4-2-co-khi-nao-han-bo-tron-roi-khong">
                                                                        4-2 Có khi nào hắn bỏ trốn rồi không?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c270064-4-3-xin-hay-doi-xu-nhe-nhang-voi-toi">
                                                                        4-3 Xin hãy đối xử nhẹ nhàng với tôi!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c277737-5-1-vi-con-tre-trung-khoe-manh">
                                                                        5-1 Vì còn trẻ trung khỏe mạnh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c285354-5-2-oan-tu-ti-thi-bat-loi-cho-toi-qua-con-gi">
                                                                        5-2 Oẳn tù tì thì bất lợi cho tôi quá còn gì
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c285355-5-3-kieu-nhan-vat-se-chet-trong-tieu-thuyet-trinh-tham">
                                                                        5-3 Kiểu nhân vật sẽ chết trong tiểu thuyết trinh thám
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23822-thanh-guom-dan-loi/c285371-5-4-nhan-dip-nay-thi-cung-nhau">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        5-4 Nhân dịp này thì cùng nhau
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 01</h2>
                    <h4 class="title-item text-base font-bold" align="center">5-4 Nhân dịp này thì cùng nhau</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23822-thanh-guom-dan-loi/c285371-5-4-nhan-dip-nay-thi-cung-nhau#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,687 từ - Cập nhật: 
                        <time class="topic-time timeago" title="04-01-2026 23:48:16" datetime="2026-01-04T23:48:16+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">5-4 Nhân dịp này thì cùng nhau</p>
                    <p id="1">“Theo cảm giác của tôi thì trời sắp tối rồi.”</p><p id="2">“……Ừ？”</p><p id="3">một khoảng trễ khá lâu từ lúc cất tiếng gọi cho đến khi câu trả lời vọng lại.</p><p id="4">“Xin lỗi. Vừa nãy tôi đang tập trung.”</p><p id="5">“Không, là lỗi tôi khi chen ngang vào. Nhưng mà cậu cũng đừng có ép mình quáNếu cửa có mở ra rồi mà cậu lại lăn ra cảm lạnh thì cũng chẳng hay chút nào, mà cũng mệt nữa.”</p><p id="6">“Việc quên đi cả ngày đêm là minh chứng cho sự tập trung của một pháp sư……Nhưng cậu nói phải. Hôm nay dừng ở đây thôi.”</p><p id="7">Sự đình trệ đã kéo dài thêm một tuần nữa.</p><p id="8">Bởi vì ma pháp trận của cánh cửa vẫn chưa thể giải được.</p><p id="9">“Đến Yunis mà còn vất vả thế này thì chắc là phức tạp dữ lắm nhỉ.”</p><p id="10">“Cũng đúng. Về độ khó thì tôi vẫn theo kịp, nhưng có vẻ như chỉ đơn giản là nó tốn khá nhiều công sức. Chắc hẳn có thứ gì đó cần phải được bảo vệ cực kỳ nghiêm ngặt.”</p><p id="11">“……Vậy thì, giải nó có ổn không？”</p><p id="12">“Cũng giống cánh cửa đầu tiên thôi, sau khi đi qua tôi đều khóa và gia cố lại lần nữa. Nếu không phá giải hoàn toàn thì chỉ cần thêm chút thao tác là có thể khôi phục ma pháp trận…… Xin lỗi. Thực ra đó cũng là lý do khiến tôi tốn thời gian.”</p><p id="13">“Không sao,” Jir gật đầu.</p><p id="14">“Tôi cũng không rành về ma pháp. Yunis đã nói vậy thì chắc là đúng. Mấy chuyện đó giao hết cho cậu.”</p><p id="15">“Cậu thích tôi thật đấy nhỉ？”</p><p id="16">“Hả？”</p><p id="17">“À, không có gì……”</p><p id="18">Vừa đi vừa nghĩ <em>‘V</em><em>ừa rồi là sao vậy</em><em>’</em>, Jir cùng Yunis quay lại điểm dừng chân nơi Lilyleah đang chờ. Do ma lực của ma pháp trận quá cao, ba người đã chọn dựng trại ở một nơi cách cánh cửa một đoạn.</p><p id="19">“Ồ, quay về một đường thẳng tắp luôn này.”</p><p id="20">“Kỳ tích đấy nhé,” Lilyleah cười nói.</p><p id="21">‘<em>Thế này mà</em><em> còn lạc nữa thì đúng là </em><em>đồ ngu</em><em> chính hiệu,</em><em>’</em> Jir nghĩ thầm rồi đưa tay chạm vào sợi dây quấn vòng quanh thắt lưng mình——Được làm bằng nguyên liệu thu thập được một cách khéo léo từ ma thú nhện.</p><p id="22">Sợi dây đó được nối với cổ tay của Lilyleah.</p><p id="23">Giật giật sợi dây, cô nói:</p><p id="24">“Ngày xưa ở giáo hội tui hay đảm nhiệm việc dắt chó đi dạo đó. Vui lắm luôn. Lại còn dễ thương nữa.”</p><p id="25">“Đừng nhìn tôi rồi nhớ đến chó.”</p><p id="26">“Nhưng giống y chang mòa~”</p><p id="27">“Giống thì có giống thật, nhưng mà”</p><p id="28">“Hãy để bản thân cuốn vào cây dài hơn”, Yunis buông một câu chẳng liên quan gì.[note86522]</p><p id="29"><em>‘</em><em>Chắc đầu óc </em><em>cậu ta </em><em>mệt rồi,</em><em>’</em> Jir nghĩ vậy, rồi gật đầu qua loa.</p><p id="30">"Thật sự là vậy hả, Jir?"</p><p id="31"> "Cậu định mở rộng cái chủ đề này đấy à?"</p><p id="32">“Không, cũng không hẳn……”</p><p id="33">“Xin lỗi nhé, Yunis-kun. Phải chi tui giúp được thêm chút nữa thì tốt biết mấy…. A, cái bài tập cậu đưa hồi sáng tui giải xong rồi, lát nữa tui chỉ cho nhé."</p><p id="34">“Cảm ơn.……Chỉ cần cậu giải giúp phần thánh thuật là đủ lắm rồi. Phần câu đố cấu trúc là việc của tôi. Ngược lại, tôi phải xin lỗi vì đã để các cậu phải chờ lâu thế này.”</p><p id="35">“Không sao đâu,” vừa nói vậy.</p><p id="36"> “của cậu nè”, Lilyleah cầm miếng thịt đang hơ trên đống lửa, đưa cho Yunis.</p><p id="37">“…………”</p><p id="38">“Bữa ăn Jir-kun cất công săn về đó.”</p><p id="39">“……Không ăn không được à？”</p><p id="40">“Gầy thêm nữa là xương chọc thủng da chui ra ngoài đó.”</p><p id="41">“Làm gì có chuyện đó. Tôi là quái vật chắc？”</p><p id="42">“Chui ra thật đó～”</p><p id="43">“Ể……Thật hả？”</p><p id="44">“Tất nhiên là không rồi,” nhưng Lilyleah vẫn nhét miếng thịt vào tay Yunis.</p><p id="45">Thở dài thườn thượt, Yunis cắn một miếng.</p><p id="46">“Dở ẹc……”</p><p id="47">“Uống nước đi. Ngon mà.”</p><p id="48">“Jir-kun đúng là thích nước nhỉ.”</p><p id="49">“Tôi đã coi thường độ dở của ma thú rồi. Khi ma lực can thiệp vào hoạt động sống thì sẽ tạo ra hương vị kinh khủng này……”</p><p id="50">Yunis tiếp tục nhai miếng thịt,</p><p id="51">“Trong ba đứa, người có thịt ngon nhất chắc là Jir. kẻ chẳng có duyên nợ gì với ma pháp, nhỉ…”</p><p id="52">“Từ hôm nay tôi xin ngủ cách xa mọi người.”</p><p id="53">“Jir-kun lúc ngủ thỉnh thoảng cử động theo phản xạ ghê lắm, nên có đánh lén lúc đang ngủ cũng chưa chắc đã ăn được đâu.”</p><p id="54">“Ể…… tôi không biết luôn đó……”</p><p id="55">“Aaa— Biết thế này thì đã không quá chú trọng mang hành lý nhẹ mà đem theo đồ ngọt hay gì đó thì tốt biết mấy—”</p><p id="56">Yunis than thở một cách đầy tiếc nuối.</p><p id="57">“Hông nói đến bánh kẹo, nhưng đúng là thèm tinh bột thật.”</p><p id="58">“Thế à？”</p><p id="59">“Jir, cậu có phải thuộc kiểu dân săn bắn ở phương Bắc không？”</p><p id="60">“……Ừ, cũng gần như thế. Sao cậu biết hay vậy”</p><p id="61">“Tôi nghĩ mấy vùng đó hình như không có thói quen nạp nhiều tinh bột.”</p><p id="62">“Vậy bình thường cậu cũng ăn uống kiểu này à？”</p><p id="63">“Không, cũng không đến mức vậy đâu. Chuyện ngày xưa thì không nói, mà tôi cũng đâu phải sống chỉ nhờ săn bắn đâu.”</p><p id="64">“Muốn ăn đồ ngọt quá,” Yunis nói.</p><p id="65">“Muốn ăn đồ ngọt thật đó,” Lilyleah cũng nói.</p><p id="66">“Mà nói đi cũng phải nói lại, mê cung này sâu thật đấy. Tổng cộng hiện giờ là… khoảng một trăm bảy mươi tầng rồi nhỉ？”</p><p id="67">“Nghe có hơi vượt quá lẽ thường. Việc nó tự nhiên sinh ra hay không thì đã đáng ngờ rồi, nhưng việc có bàn tay con người can thiệp vào hay không cũng đáng ngờ nốt.”</p><p id="68">“Không biết rốt cuộc là có bao nhiêu tầng nhỉ.”</p><p id="69">“Chắc là hai trăm tầng cho tròn số chứ gì.”</p><p id="70">“Chưa biết được đâu,” Yunis nói.</p><p id="71">“Mấy cái này thì khó nói lắm. Quy luật suy cho cùng cũng chỉ là thứ con người tự nghĩ ra thôi. Có khi là hai trăm mười sáu tầng đó.”</p><p id="72">"Cái con số dở dở ương ương gì đấy."</p><p id="73">“Sáu mũ ba. Việc nó chia hết cho cả hai, ba, sáu, mười hai, hai mươi bốn, ba mươi sáu, rồi bảy mươi hai…Thì tớ lại thấy con số này lại dễ chịu hơn đấy."</p><p id="74">“Chẳng hiểu gì sất,” Jir cắn miếng thịt của mình.</p><p id="75">Dở.</p><p id="76">Kể từ khi rời ngôi làng nơi mình sinh ra và lớn lên, thì đây là lúc làm cậu nhớ hương vị quê nhà nhất.…À không, hồi lạc trong sa mạc cũng ngang ngửa vậy.</p><p id="77">“Nhưng mà, tui có cảm giác đây là cánh cửa cuối cùng rồi.”</p><p id="78">Lilyleah nói.</p><p id="79">“Chỉ là linh cảm thôi.”</p><p id="80">“ Thánh Nữ mà nói ‘linh cảm’ thì khá là có sức thuyết phục đấy.”</p><p id="81">“Thế đại ma pháp sư nghĩ sao？”</p><p id="82">“Các vì sao ở quá xa nên trực giác của tôi bị cùn rồi. Tha cho tôi đi.”</p><p id="83">“Tui cũng thấy lúc ở nhà thì tình trạng tốt hơn hẳn.”</p><p id="84">“Nè nè,” Lilyleah nói,</p><p id="85">“Có câu chuyện về việc loài người đầu tiên đã từng ở đâu, đúng không？”</p><p id="86">“Ồ. Muốn tranh luận học thuật à？ Hiện giờ hình như các học thuyết chủ đạo cho rằng loài người phát sinh từ phương Nam.”</p><p id="87">“À, xin lỗi nhé. Cái đó không phải trọng tâm……”</p><p id="88">“Thử nghĩ xem,” cô cũng nhai miếng thịt, rồi nói,</p><p id="89">“Từ địa điểm ban đầu đó, con người kiểu như…đùng một cái, lan ra khắp nơi ấy”</p><p id="90">“Cuộc đại di cư đúng không.”</p><p id="91">“Hể”</p><p id="92">“Việc có người di chuyển và người không di chuyển, cậu không thấy kỳ lạ sao？”</p><p id="93">“Hửm?” Yunis tò mò đáp lại.</p><p id="94">“Có giả thuyết à？”</p><p id="95">“Có đấy. Là thế này nè: có lẽ ngay từ đầu đã được quyết định sẵn ai là người dễ di chuyển, ai là người khó di chuyển rồi. Nếu suy nghĩ theo kiểu động vật ấy, thì có loài muốn bảo vệ lãnh thổ và loài muốn mở rộng lãnh thổ. Tui nghĩ có khi con người cũng được phân định như vậy.”</p><p id="96">“Tức là loại muốn mở rộng lãnh thổ thì cứ thế lan ra khắp đại lục, còn loại muốn bảo vệ thì định cư lại？”</p><p id="97">“Đúng đúng. Và nếu nói theo cách đó thì tui nghĩ mình thuộc loại bảo vệ lãnh thổ. Kiểu như tui không muốn ra ngoài lắm ấy. Nhưng mà cũng có người ghét việc cứ ở yên trong nhà, đúng không？ Tui luôn thấy điều đó rất kỳ lạ, nhưng có lẽ là vì vậy chăng.”</p><p id="98">—Một khoảng lặng ngắn trôi qua.</p><p id="99">“……Hả, hết rồi à？”</p><p id="100">Jir phá vỡ sự im lặng đó.</p><p id="101">“Hết rồi.”</p><p id="102">“Vậy rốt cuộc câu chuyện lúc nãy là cái gì thế.”</p><p id="103">“Tui nghĩ về chuyện đó từ trước rồi, chỉ là chợt nhận ra mình chưa từng nói với ai thôi.”</p><p id="104">“Cái quái gì vậy.”</p><p id="105">“Nhưng mà chuyện đó thì ngay cả trong giới ma pháp sư cũng mơ hồ có xu hướng như vậy. Có người cứ lang bạt khắp nơi để tìm ma đạo thư, cũng có người nhốt mình trong phòng để thiền định.”</p><p id="106">“Yunis-kun thuộc kiểu nào？”</p><p id="107">“Ừm……Chắc là kiểu du hành đến vũ trụ bên ngoài thông qua vũ trụ bên trong. Cả hai đều làm được, nhưng nếu nhìn bề ngoài thì có lẽ trông giống kiểu bảo vệ lãnh thổ hơn. Đại Thư Viện cũng chẳng biết là đang mở rộng hay đang khép kín nữa…… cảm giác giống chỗ này vậy.”</p><p id="108">“Còn Jir-kun？”</p><p id="109">“Tôi à？ Tôi thì……”</p><p id="110">Bất chợt, nhìn lại quãng đường mình đã qua,</p><p id="111">“Có lẽ là kiểu du hành…… Nhưng trường hợp của tôi thì lại có hơi khác chút.”</p><p id="112">“Trường hợp？”</p><p id="113">“Từ khi còn rất nhỏ, tôi đã có〈trải nghiệm〉ở quê nhà. ……Nói đúng hơn thì, chắc là từ lúc đó khả năng định hướng của tôi nát luôn.”</p><p id="114">“Ngụy biện kìa.”</p><p id="115">“Là ngụy biện？”</p><p id="116">“Không hẳn là ngụy biện đâu. Với lại sau đó còn bị sư phụ dẫn đi lang bạt nữa, có lẽ chuyện đó cũng ảnh hưởng.”</p><p id="117">“Nhưng đúng là nếu có〈trải nghiệm〉từ thuở nhỏ thì khác biệt lớn thật. Thực ra tôi cũng thuộc kiểu đó, cảm giác trước với sau chuyện đó khác một trời một vực luôn.”</p><p id="118">"Hể. Vậy ra cả hai người đều thuộc phe hoài nghi chị sao?"</p><p id="119">"Nói thế thì nghe cứ như là người thực sự nghi ngờ chính là bà chị đấy."</p><p id="120">“Khá là cực đoan đấy, bọn mình ấy”</p><p id="121">Câu chuyện dừng ở đó, bọn họ kết thúc bữa tối.</p><p id="122">Chỉ còn tiếng lách tách của đống lửa trại bao trùm không gian.</p><p id="123">“……Tôi nghĩ là không lâu nữa, sẽ mở được cánh cửa.”</p><p id="124">Yunis lẩm bẩm.</p><p id="125">“Nếu tin lời Lilyleah nói, thì sắp sửa chinh phục xong cái mê cung này rồi."</p><p id="126">“Lâu thật đấy……”</p><p id="127">“Tôi thì cảm giác đã tê liệt hết luôn rồi.”</p><p id="128">Yunis khẽ cười, rồi nói,</p><p id="129">“Thích thật đấy. Tôi ước gì mình có thể tham gia cuộc phiêu lưu này sớm hơn.”</p><p id="130">“Nói mấy lời dễ thương ghê.”</p><p id="131">“Tôi vừa nói mấy lời dễ thương lắm đấy.”</p><p id="132">Yunis ưỡn ngực về phía Lilyleah.</p><p id="133">“Bạn bè cùng trang lứa là thứ tôi luôn ao ước.”</p><p id="134">“Vậy thì sau khi ra ngoài chúng mình viết thư cho nhau nhé. Cả Jir-kun nữa.”</p><p id="135">“Ể,” Yunis và rồi cả Jir cũng đồng thanh lên tiếng.</p><p id="136">“Chữ của tui dễ thương đến mức làm người ta giật mình đó. Hãy run sợ đi."</p><p id="137">“……Lúc này tôi đang cảm động đến mức rùng mình luôn.”</p><p id="138">“A……”</p><p id="139">“Ồ, có người lạnh lùng kìa.”</p><p id="140">“Không,” Jir vội xua tay,</p><p id="141">“Chỉ là tôi định sau khi ra khỏi đây thì lại tiếp tục lên đường tiếp. Gửi thì được, nhưng nhận thì khó.”</p><p id="142">“Cậu cứ viết sẵn điểm đến tiếp theo, tôi sẽ gửi tới tiệm chuyển thư của thành phố đó.”</p><p id="143">“……Có dịch vụ như vậy thế à”</p><p id="144">“Chắc là có,” Lilyleah gật đầu.</p><p id="145">“ ‘Chắc là’ thôi á,” Jir cạn lời.</p><p id="146">“Ra vậy, Jir cũng chịu làm à……”</p><p id="147">Yunis tự tiện kết luận như thế, rồi nói.</p><p id="148">“Vậy thì tôi sẽ gửi thư khoảng bảy bức một tuần nhé. Để cậu thấy thú vị thì sẽ kèm theo mật mã……”</p><p id="149">“Đúng là cái kiểu thích làm mấy chuyện rắc rối mà.”</p><p id="150">"Mà thôi cũng được," Jir gật đầu.</p><p id="151">Từ hành trình hai người thành ba người, mối quan hệ giữa những con người trong mê cung cũng thay đổi đôi chút.</p><p id="152">Jir đến giờ thi thoảng vẫn bị Lilyleah làm cho bối rối cuống cuồng…… nhưng khi thấy Yunis cũng bị đối xử theo cách tương tự, cậu mới dần nhận ra sự hiểu lầm nghiêm trọng của bản thân.</p><p id="153">Nhờ vậy mà hiện tại, cậu có thể nhìn hai người họ như những đồng đội phiêu lưu bình thường, giống như hình ảnh mà cậu từng hình dung khi được mời gia nhập tổ đội hạng S.</p><p id="154">Trong lúc nhận ra rằng có lẽ Lilyleah không phải là một bà lão tám mươi tuổi đã có chồng như mình từng nghĩ…… thì cậu vẫn giữ được sự bình tĩnh ở mức độ nhất định.</p><p id="155">Một khoảng cách vừa đủ, như những người bạn được gắn kết bởi một mối duyên kỳ lạ.</p><p id="156">“Vậy thì nhân dịp này hôm nay cả tất cả cùng ngủ sát cạnh nhau nhé！”</p><p id="157">“Đầu óc cậu có vấn đề à？”</p><p id="158">Jir suýt thì sặc.</p><p id="159">“Sao thế, Jir”</p><p id="160">“Không hứng thú à, Jir-kun？”</p><p id="161">“Không, có hứng thú thì mới là có vấn đề…… mà nói mới nhớ, có chuyện này tôi quên hỏi mãi, Yunis này,”</p><p id="162">Trước khi lời nói ra khỏi miệng, Jir thoáng nghĩ<em> ‘Hỏi </em><em>cái </em><em>này có </em><em>hơi toang nhỉ</em><em>’</em></p><p id="163">Nhưng đã trượt ra rồi thì chẳng có cách nào dừng lại được, nên,</p><p id="164">“Cậu là nam hay nữ vậy. Nghe giọng không phân biệt được”</p><p id="165">“Dâm dê ghê á……Lại đi tò mò về hình dạng nửa thân dưới của người ta……”</p><p id="166">"Tôi không có nói chuyện theo cái kiểu đó!"</p><p id="167">“Nhìn ngoài giọng nói ra thì mấy chỗ khác cũng khó phân biệt lắm nhé.”</p><p id="168">Lilyleah bổ sung.</p><p id="169">“Có sao đâu mà. Chuyện nhỏ nhặt ấy mà”</p><p id="170">“Nhỏ nhặt……”</p><p id="171"><em>‘</em><em>Nhỏ nhặt thật sao?</em><em>’</em> Jir không khỏi nghiêng đầu, nhưng mà cậu từng có trải nghiệm bị mắng té tát vì hời hời đụng chạm vào chủ đề giới tính ở giữa chuyến hành trình rồi.</p><p id="172">“……Không. Xin lỗi. Tôi hỏi điều kỳ quặc rồi. Nếu làm cậu khó chịu thì tôi xin lỗi. Thật sự xin lỗi”</p><p id="173">“Không sao đâu. Tôi có khuynh hướng cảm thấy vui khi bị hỏi là nam hay nữ đấy”</p><p id="174">“Này.”</p><p id="175">“Nhưng với người khác thì tôi nghĩ cậu không nên hỏi kiểu đó đâu.”</p><p id="176">“Về chuyện ngủ chung,” Yunis nói,</p><p id="177">“Làm đi”</p><p id="178">“Không”</p><p id="179">“Làm đi mòa, Jir-kun”</p><p id="180">“…………Không”</p><p id="181">“Lung lay rồi.”</p><p id="182">“Không có lung lay”</p><p id="183">   </p><p id="184">"Thế thì nói chuyện yêu đương đi, thường thì đêm dã ngoại người ta sẽ nói chuyện yêu đương chứ nhỉ," Yunis vừa nói vừa lăn ra nằm tại chỗ.</p><p id="185">"Chỗ của tui toàn là con gái nên cũng không hẳn là như thế đâu," Lilyleah tiếp lời.</p><p id="186">“Chỗ tôi thì dã ngoại toàn đi về trong ngày,” Jir cũng nằm ngửa, nhìn lên trần hang động mà chẳng thấy rõ hoa văn.</p><p id="187">Sau đó cho đến khi mơ màng chìm vào giấc ngủ, ba người họ đã nói những câu chuyện tầm phào, đúng với lứa tuổi của mình.</p><p id="188"><em>‘</em><em>Không tệ,</em><em>’</em> Jir vừa nghĩ, vừa sưởi ấm làn da trong hơi nóng của ngọn lửa đang cháy êm đềm.</p><p id="189"><em>‘Tuy</em><em> khởi đầu tệ hại …… chuyến phiêu lưu này, không tệ chút nào.</em></p><p id="190"><em>Không, </em><em>có khi</em><em> còn———— thì đúng hơn.</em><em>’</em></p><p id="191">   </p><p id="192">   </p><p id="193">   </p><p id="194">Cánh cửa cuối cùng dẫn tới tầng sâu nhất của mê cung có độ khó cao nhất, sẽ được giải mã sau đêm nay ba ngày.</p><p id="195">   </p><p id="196">   </p><p id="197">Và rồi, hai ngày sau đó….</p><p id="198">Trong ba người, hai người trong số họ sẽ tử trận.</p><p id="199"><img src="https://i.hako.vn/ln/chapters/illusts/285371/ab32fa70-81a4-487f-af9a-a69dc4d90634.jpg" alt="b41904c5-0f14-4795-aadf-33a11103a814.jpg"></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note86522"><a href="#anchor-note86522" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note86522" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">長いものには巻かれろ(Nagai mono ni wa makarero) thành ngữ Nhật.

Nghĩa đen: Hãy để bản thân bị cuốn vào thứ gì đó dài.

Nghĩa bóng: Đừng chống lại kẻ quyền thế/cấp trên, hãy ngoan ngoãn tuân theo xu thế hoặc cường quyền để được an toàn (câu tương đồng: Kẻ thức thời là trang tuấn kiệt, tránh voi chẳng xấu mặt ai)</span></div><span class="note-content_real long-text">長いものには巻かれろ(Nagai mono ni wa makarero) thành ngữ Nhật.

Nghĩa đen: Hãy để bản thân bị cuốn vào thứ gì đó dài.

Nghĩa bóng: Đừng chống lại kẻ quyền thế/cấp trên, hãy ngoan ngoãn tuân theo xu thế hoặc cường quyền để được an toàn (câu tương đồng: Kẻ thức thời là trang tuấn kiệt, tránh voi chẳng xấu mặt ai)</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23822-thanh-guom-dan-loi/c285355-5-3-kieu-nhan-vat-se-chet-trong-tieu-thuyet-trinh-tham" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23822-thanh-guom-dan-loi" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23822-thanh-guom-dan-loi" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ZDvdfngjoZHwqJkDm7TcMhISt8KcyRnYNP5mZ7J9';
        var comment_type = 'chapter';
        var comment_typeid = '285371';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ZDvdfngjoZHwqJkDm7TcMhISt8KcyRnYNP5mZ7J9';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23822');
    chapter_id = parseInt('285371');

    readingObject = {
        series_id: series_id,
        series_title: 'Thanh Gươm Dẫn Lối',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ZDvdfngjoZHwqJkDm7TcMhISt8KcyRnYNP5mZ7J9" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

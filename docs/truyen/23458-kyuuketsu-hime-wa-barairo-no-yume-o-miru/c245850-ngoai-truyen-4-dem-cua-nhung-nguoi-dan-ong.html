<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kyuuketsu Hime wa Barairo no Yume o Miru - Ngoại truyện 4 – Đêm của Những người đàn ông (Joey) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một bé shota (thực ra đã hơn 20 tuổi) có cuộc sống éo le như bao main khác, đã được đầu thai sang thế giới khác sau khi gặp tai nạn, với cơ thể thuộc về một bé loli vampire (13 tuổi), nhân vật trong game mà cậu chơi ở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="HBGtR3mxB2Ct4xhQjCDBklUl7iWBxtBcsfT9U2Jv">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245850-ngoai-truyen-4-dem-cua-nhung-nguoi-dan-ong">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <svg class="size-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495ZM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>
            <div class="ml-auto pl-3">
                <div class="-mx-1.5 -my-1.5">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
                </div>
            </div>
        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245018-chuong-11-kieu-cang-va-ngao-man"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245854-chuong-12-vong-loai-bat-dau"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245850-ngoai-truyen-4-dem-cua-nhung-nguoi-dan-ong" style="background: url('https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru">Kyuuketsu Hime wa Barairo...</a></h5>
                    <small><i class="fas fa-pen"></i>Sasaki Ichiro</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230379-tien-truyen-1-tro-lai">Khúc dạo đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230570-minh-hoa">Vol 1: Cõi Tái Sinh (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230571-minh-hoa">Vol 2: Biến cố ở Vương Đô (Done)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/t33614-vol-3-thu-vuong-cua-vung-bien-cuong">Vol 3: Thú vương của vùng biên cương (Done)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238833-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c239839-chuong-1-cuoc-hoi-ngo-bat-ngo">
                                                                        Chương 1 – Cuộc Hội Ngộ Bất Ngờ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c239850-chuong-2-quyen-kiem-giao-phong">
                                                                        Chương 2 – Quyền Kiếm Giao Phong
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c240084-chuong-3-su-tu-hong">
                                                                        Chương 3 – Sư Tử Hống
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c240123-chuong-4-cuong-hoa-chi-vu">
                                                                        Chương 4 – Cuồng Hoa Chi Vũ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c240630-ngoai-truyen-1-ton-vinh-my-thuc">
                                                                        Ngoaị truyện 1 – Tôn Vinh Mỹ Thực
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c240634-chuong-5-3-vi-vua-3-con-duong">
                                                                        Chương 5 – 3 Vị Vua, 3 Con Đường
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c241334-chuong-6-vu-nu-cua-thu-toc">
                                                                        Chương 6 – Vu Nữ của Thú Tộc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c241373-chuong-7-su-vuong-tre-tuoi">
                                                                        Chương 7 – Sư Vương trẻ tuổi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c241693-chuong-8-thu-vuong-ke-nhiem">
                                                                        Chương 8 – Thú Vương Kế Nhiệm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c241718-ngoai-truyen-2-gai-hoa-hong">
                                                                        Ngoại truyện 2 – Gai Hoa Hồng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c242038-chuong-9-tro-chuyen-dem-tren-thanh-son">
                                                                        Chương 9 – Trò Chuyện Đêm Trên Thánh Sơn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c242084-chuong-10-ngay-truoc-vong-loai">
                                                                        Chương 10 – Ngày Trước Vòng Loại
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245004-ngoai-truyen-3-dem-cua-nhung-nguoi-dan-ong">
                                                                        Ngoại truyện 3 – Đêm của những người đàn ông (Maroudo)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245018-chuong-11-kieu-cang-va-ngao-man">
                                                                        Chương 11 – Kiêu căng và ngạo mạn
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245850-ngoai-truyen-4-dem-cua-nhung-nguoi-dan-ong">
                                                                        Ngoại truyện 4 – Đêm của Những người đàn ông (Joey)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245854-chuong-12-vong-loai-bat-dau">
                                                                        Chương 12 – Vòng Loại Bắt Đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246362-chuong-13-dieu-kien-chien-thang">
                                                                        Chương 13 – Điều Kiện Chiến Thắng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246423-chuong-14-sach-luoc-an">
                                                                        Chương 14 – Sách lược ẩn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246588-ngoai-truyen-5-dem-cua-nhung-nguoi-dan-ong-revan">
                                                                        Ngoại truyện 5 – Đêm của những người đàn ông (Revan)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246678-chuong-15-cuong-son-pha">
                                                                        Chương 15 – Cuồng Sơn Phá
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246959-chuong-16-quen-minh-trach-nguoi">
                                                                        Chương 16 – Quên mình, trách người
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c246963-chuong-17-thoi-gian-khong-cho-doi-ai">
                                                                        Chương 17 – Thời gian không chờ đợi ai
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c247328-chuong-18-ke-giat-day-sau-tam-man">
                                                                        Chương 18 – Kẻ Giật Dây Sau Tấm Màn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c247659-chuong-19-su-ho-tuong-tranh">
                                                                        Chương 19 – Sư Hổ Tương Tranh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c247700-chuong-20-the-gian-von-chang-co-dieu-gi-la-chac-chan">
                                                                        Chương 20 – Thế gian vốn chẳng có điều gì là chắc chắn
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c248044-minh-hoa">Vol 4: Đế quốc hỗn loạn</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 3: Thú vương của vùng biên cương (Done)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Ngoại truyện 4 – Đêm của Những người đàn ông (Joey)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245850-ngoai-truyen-4-dem-cua-nhung-nguoi-dan-ong#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,353 từ - Cập nhật: 
                        <time class="topic-time timeago" title="15-10-2025 11:34:43" datetime="2025-10-15T11:34:43+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Ngoại truyện 4 – Đêm của Những người đàn ông (Joey)</p>
                    <p id="1"><strong>Đêm thứ hai – Góc nhìn của Joey</strong></p><p id="2">Vì rảnh rỗi, như thường lệ, vào khoảng bốn giờ chiều, tôi ghé qua Hội Mạo Hiểm Giả của thủ đô Alra. Hôm nay khác với thường ngày, sư phụ Gald (ông ấy là hội trưởng, nhưng tôi quen gọi là sư phụ hơn) cùng thư ký Mia đang đứng bên quầy lễ tân tầng một.</p><p id="3">Bên cạnh họ còn có một chàng trai tóc vàng trông trẻ hơn tôi chừng một hai tuổi, có vẻ là mạo hiểm giả mới. Ba người họ đang trò chuyện khá nghiêm túc.</p><p id="4">Tôi nghĩ mình sẽ làm phiền nên hơi cúi đầu rồi định bước đi, nhưng sư phụ Gald gọi giật lại.</p><p id="5">“Ồ, vừa hay. Joey, ta có chút việc muốn nhờ nhóc.”</p><p id="6">“Ha… chuyện gì vậy ạ?”</p><p id="7">Ông ra hiệu gọi tôi lại gần.</p><p id="8">Cậu thanh niên kia trông đúng kiểu lính mới—bộ giáp da chưa xước miếng nào, trên lưng còn đeo một thanh trường kiếm đắt tiền.</p><p id="9">Cậu ta cười với tôi một cách thân mật kỳ lạ. Khuôn mặt cân đối, đẹp đến mức khiến người ta tưởng cậu là con gái. Ấn tượng của anh chàng này với tôi khiến tôi nghĩ rằng cậu ta phải là con trai của một quý tộc nào đó chưa trải sự đời, giờ đây định đăng kí làm mạo hiểm giả cho vui.</p><p id="10">“Thật ra thì, bệ hạ… à không, cậu ta vừa đăng ký làm mạo hiểm giả hôm nay, mà đột nhiên đòi nhận một yêu cầu trừ khử quái vật. Xin lỗi nhé, Joey, phiền cậu giúp cậu ta một chút được không?”</p><p id="11">“Hả?!” – Tôi gần như hét lên — “Hôm nay mới đăng ký mà đã nhận nhiệm vụ trừ quái vật? Cậu nghĩ mình đang làm cái gì thế hả!?”</p><p id="12">Tôi nổi cơn giận, lỡ quát vào mặt một người vừa gặp.</p><p id="13">“—Ta không nghĩ cậu có tư cách nói người khác liều lĩnh đâu đấy.”</p><p id="14">Sư phụ Gald nheo mắt trêu chọc. Tôi giả vờ không nghe thấy, tiếp tục phun một tràng:</p><p id="15">“Nghe này, việc chúng ta làm không phải trò đùa! Đây là công việc thật sự, và nếu cậu nhận rồi lại than <em>[không làm được]</em> thì không chấp nhận được! Đặc biệt là nhiệm vụ trừ quái vật – chuyện sống chết đó! Đừng có coi nhẹ!”</p><p id="16">Cậu ta ngạc nhiên nhìn tôi với bài giáo huấn đó.</p><p id="17">“…Tôi ngạc nhiên thật. Bài thuyết giáo hay thật đấy.”</p><p id="18">Giọng cậu ta trong và nhẹ như thiếu niên chưa vỡ giọng.</p><p id="19">“Ừ, phải công nhận là cậu nói hay đấy.”</p><p id="20">“Mà Joey này, cậu thử soi gương nói lại câu đó xem.”</p><p id="21">Sư phụ và Mia gật gù cùng lúc.</p><p id="22">“Đừng đùa tôi! Đây là chuyện của cậu ta, không phải của tôi! Sao hai người không hủy yêu cầu đó đi!?”</p><p id="23">“Ừm, cái đó thì…”</p><p id="24">“Cậu ấy đã ký nhận nhiệm vụ rồi. Nếu hủy, phải nộp phạt vi phạm hợp đồng. Mà cậu ta lại bảo không có tiền, nên hơi rắc rối.”</p><p id="25">“Chậc…”</p><p id="26">Tình huống tệ hết chỗ nói.</p><p id="27">“Thế nên, vì không có thành tích nên cũng chẳng được vay tạm ứng. Xin lỗi, Joey, cậu giúp một tay nhé? Phần điểm công hội của cậu ta sẽ chuyển hết sang cậu.”</p><p id="28">Sư phụ Gald hơi cúi đầu—thế thì sao tôi nỡ từ chối được.</p><p id="29">“…Đành vậy. Mục tiêu là gì, thời hạn bao lâu?”</p><p id="30">“Ở vùng đồng bằng phía nam Alra có một khu nghĩa địa cũ. Có tin đồn xuất hiện bộ xương sống lại. Ta muốn vụ đó được giải quyết trong đêm nay.”</p><p id="31">“Tối nay à…”</p><p id="32">Tôi biết chỗ đó, không xa lắm (tất nhiên là vì tôi có đà điểu emu). Đấu với bộ xương bằng kiếm thì hơi phiền, nhưng không phải đối thủ khó xơi.</p><p id="33">Không kịp chuẩn bị chu đáo, hơi mệt chút, nhưng là nhiệm vụ trong ngày nên vẫn ổn.</p><p id="34">“—Được rồi. Nhưng lần này là lần cuối tôi nhận kiểu việc này đấy.”</p><p id="35">Nghe tôi nói thế, cả hai nhìn nhau thở phào nhẹ nhõm.</p><p id="36">“A-à, xin lỗi vì yêu cầu vô lý này, Joey.”</p><p id="37">Tôi nhìn kẻ gây ra “vụ vô lý” – hắn vẫn cúi đầu xin lỗi tỉnh bơ, lại còn gọi tôi thân mật như bạn cũ.</p><p id="38">“Thôi được. Giúp hậu bối là nghĩa vụ của đàn anh mà. À, cậu tên gì?”</p><p id="39">“Tất nhiên là… Hiyu—ừm, Hyuu.”</p><p id="40">“Hyuu hả…”</p><p id="41">Nghe cái tên ấy, bất giác tôi nhớ đến cô gái có tên gần giống—người tôi từng đồng hành cùng không lâu trước đây.</p><p id="42">Khi ký ức ấy tràn về, ngực tôi bỗng ấm lên, và tình cờ, tôi chìm trong đống kí ức cũ cay đắng. Trong lúc đó, ba người kia lại ghé sát nhau thì thầm điều gì, tôi chỉ nghe loáng thoáng vài tiếng nên bỏ qua.</p><p id="43">“…Không thay đổi gì hết ha.”</p><p id="44">“…Biết làm sao, cậu ta vẫn đáng tin khi cần kíp mà.”</p><p id="45">“…Nhưng sao đến giờ vẫn không nhận ra nhỉ?”</p><p id="46">“…Cái đó thì…”</p><p id="47">“…Hiển nhiên thôi.”</p><p id="48">“ “ “Vì đó là Joey.” ” ”</p><p id="49">“Hử? Gọi tôi à?”</p><p id="50">◆◇◆◇</p><p id="51">Vậy là tôi cùng Hyuu rời hội, cưỡi emu đi xuống đường lớn phía nam, hướng về khu nghĩa địa nơi bộ xương xuất hiện.</p><p id="52">Điều lạ là con emu khó tính của tôi lại tỏ ra thích cậu ta. Nó kêu khẽ, cọ đầu vào người Hyuu.</p><p id="53">Cậu ta cũng cười dịu dàng, vuốt nhẹ xuống cổ nó:</p><p id="54">“Khỏe chứ, nhóc?”</p><p id="55">Nghe thật… kỳ cục.</p><p id="56">Khi ngồi sau tôi, Hyuu suýt ngồi khép chân như con gái. Tôi đen mặt.</p><p id="57">“À, xin lỗi. Tôi quên mất thói quen cũ…”</p><p id="58">Thói quen cũ? Giọng nói, cử chỉ, cả cách nói chuyện của cậu ta cũng hơi mềm mại, có chút nữ tính. Không lẽ… sở thích đặc biệt? —”Eh…” Vừa nghĩ đến đó thì cậu ta khựng lại, cúi mặt như bị tổn thương.</p><p id="59">Có vẻ không ổn lắm.</p><p id="60">Nghĩ lại, người cuối cùng được emu cho cưỡi là cô ấy. Không như cậu trai này—cô ấy mềm mại, thơm tho, dịu dàng… khoan, mình đang nghĩ cái gì thế?!</p><p id="61">Mình vừa giáo huấn cậu ta lúc này mà!? Cậu ta nên làm việc đàng hoàng đi chứ.</p><p id="62">Và thế là, chúng tôi đi theo đường chính suốt 1 tiếng đồng hồ. Có khoảng 20 nghĩa trang gần khu vực nhiệm vụ ở cao nguyên này. Một số nghĩa trang bị bỏ quên, có thể sinh ra hồn ma hoặc xác sống, vậy nên đám tân binh rank E và F thường phụ việc bảo dưỡng hoặc cắt tỉa cỏ cây, nhưng có vẻ điều không may đã đến, 1 con cốt binh đã xuất hiện.</p><p id="63">Những thứ đấy có thể bị <em>[1 shot] </em>bởi linh mục với thánh lực, nhưng quốc gia hiện tại đang đặt dưới sự bảo hộ của quái vật nên hầu hết các linh mục đã rời đi. Tôi cũng không biết nhiều về vụ này.</p><p id="64">Gần đây, người ta ngộ ra rằng không nhất thiết phải là linh mục để dùng được thánh phép. Ví dụ như cô gái kia, cô ấy cũng là một người thuần thục thánh phép đấy thôi. Nhờ thế mà số người dùng được thánh phép đang tăng lên. Nhưng xét tổng thể thì con số vẫn còn quá ít.</p><p id="65">Vì điều đó, số lượng ủy thác diệt xác sống cứ ngày một tăng lên.</p><p id="66">“Nhắc mới nhớ, cậu là tân binh, nhưng nghĩ sao mà lại lại chọn ủy thác diệt cốt binh?”</p><p id="67">Chúng tôi đến nơi khi mặt trời đã khuất hẳn. Tôi buộc emu lại, chọn chỗ dựng trại. Trong lúc đấy, tôi hỏi Hyuu câu đấy.</p><p id="68">“À, vì thanh kiếm này có khắc phép thánh lên rồi.”</p><p id="69">Cậu ta rút kiếm ra, lưỡi kiếm tỏa ánh sáng trắng trong hoàng hôn.</p><p id="70">“—Kiếm ma thuật à! Kinh thật!”</p><p id="71">Tôi không kìm được ánh mắt ghen tị. Thanh kiếm của tôi vừa gãy dạo gần đây, giờ chỉ dùng lại cây rẻ tiền từ hồi tân binh…</p><p id="72">Không phải tôi xấu hổ vì nó rẻ, mà vì tôi đã làm gãy thanh kiếm cô ấy tặng riêng cho mình. Thật thảm hại.</p><p id="73">“Sao thế? Mặt anh buồn vậy? Có gì phiền lòng thì nói tôi nghe thử xem.”</p><p id="74">Tôi từng nghĩ cậu ta là quý tộc ngây thơ, nhưng hóa ra lại tinh ý… cũng giống cô ấy.</p><p id="75">Sau đó, khi ngồi bên đống lửa chờ bộ xương xuất hiện, chúng tôi nói chuyện phiếm. Chủ yếu tôi nói, cậu ta lắng nghe, nhưng không hiểu sao tôi thấy dễ mở lòng.</p><p id="76">Tôi kể về cô ấy—người tôi muốn bảo vệ mà không thể. Kể về sự bất lực, nỗi xấu hổ.</p><p id="77">“…Cô ấy đối với tôi vẫn bình thường, nhưng chắc thất vọng lắm vì tôi quá vô dụng.”</p><p id="78">Bình thường tôi không than thở như thế. Nhưng Hyuu chỉ mỉm cười dịu dàng:</p><p id="79">“Không đâu. Anh không bỏ chạy, mà đã bảo vệ cô ấy đến cùng. Tôi tin cô ấy tôn trọng anh, chứ chẳng khinh thường đâu.”</p><p id="80">Những lời đó… như tháo bỏ một tảng đá khỏi tim tôi.</p><p id="81">“…Thật sao? Cậu nghĩ vậy à?”</p><p id="82">“Tất nhiên rồi.”</p><p id="83">Cậu ta gật đầu mạnh, rồi lẩm bẩm nhỏ, giọng thấp đi:</p><p id="84">“…Dù vậy, tên đó dám chạm vào ngực ta khi ta bất tỉnh… đúng là không nên giết hắn nhẹ nhàng thế.”</p><p id="85">Tôi không nghe rõ nên chỉ đáp đại:</p><p id="86">“Vậy à… cũng tốt. Mia cũng từng nói điều tương tự, nhưng nghe cậu nói lại thấy nhẹ nhõm hơn.”</p><p id="87">“Ồ? Mia nói gì thế?”</p><p id="88">“Ờ thì, hôm đó cô ấy đem cơm hộp đến thăm tôi, tôi kể lại chuyện đó. Cô ấy bảo:</p><p id="89"><em>[Đó là dấu hiệu của tình cảm chân thành nhất! Khi một cô gái trẻ làm cơm hộp cho ai đó, đó là nghi lễ thiêng liêng của tình yêu! Cô ấy phải đấu tranh với nỗi sợ bị từ chối, sợ món ăn dở, sợ bị chê, vậy mà vẫn muốn người đó vui lòng nhận lấy – một hành động chỉ có anh hùng mới dám làm! Vậy nên chắc chắn cô ấy không ghét cậu đâu.]</em></p><p id="90">Nghe xong sau khi ăn hết hộp cơm làm tôi cảm thấy tội lỗi khủng khiếp… À, sao tự nhiên cậu lại ôm đầu thế kia?”</p><p id="91">“—Cái người đó… sao lại nhập tâm kiểu con gái đúng lúc kỳ quái thế nhỉ? Lẽ ra phải nhận ra tình cảm của cổ… à, không, không có gì. Với lại Mia nghĩ quá nhiều thôi! Không có cô gái nào làm cơm hộp với quyết tâm anh hùng như thế đâu! Chắc chỉ là… chia sẻ bình thường thôi, không ẩn ý gì hết.”</p><p id="92">“…Ủa? Sao cậu khẳng định chắc thế?”</p><p id="93">Sau đó, khoảng nửa đêm, bộ xương xuất hiện. Chưa kịp làm gì đã bốc hơi ngay khi kiếm của Hyuu chạm vào. Chúng tôi cắm trại qua đêm và quay lại thành phố vào sáng hôm sau.</p><p id="94">◆◇◆◇</p><p id="95">Ngày kế, khi tôi tới nhận nhiệm vụ mới, sư phụ Gald gọi tôi lên phòng hội trưởng.</p><p id="96">“Yo, Joey. Cảm ơn nhóc đã giúp vụ hôm qua.”</p><p id="97">Sư phụ Gald ngồi trên ghế nói lời cảm ơn. Mà thật ra Hyuu mới là người đập con cốt binh, tôi cảm thấy tôi như đi theo cho có ấy.</p><p id="98">Tôi vội xua tay: “Không, tất cả là do Hyuu làm hết. Con chỉ đi theo thôi.”</p><p id="99">“Không đâu. Cậu ta rất biết ơn con đấy. Vì vậy…”</p><p id="100">Sư phụ rút từ dưới bàn ra một thanh kiếm quen thuộc – <strong>thanh kiếm thánh</strong> của Hyuu – rồi đặt trước mặt tôi.</p><p id="101">“Hyuu để lại lời nhắn. Cậu ấy bảo có lý do phải về quê gấp, nên không thể tiếp tục làm mạo hiểm giả. Muốn tặng thanh kiếm này cho con, coi như cảm ơn.”</p><p id="102">“Gì cơ?! Mới hôm qua còn ở đây, giờ nghỉ luôn!?”</p><p id="103">“Ta cũng không rõ. Cậu ta chỉ nói vậy rồi đi ngay. Thế nên, thanh kiếm này giờ thuộc về con.”</p><p id="104">“Con… sao có thể nhận được chứ? Con đâu làm gì đáng…”</p><p id="105">“Đừng nói thế. Hyuu bảo nói chuyện với con một đêm rất vui, nhưng vì không thể ở lại nên muốn gửi lại thanh kiếm này thay lời nhắn. Này, nếu con dùng nó, chẳng phải cậu ta sẽ thấy như vẫn được cùng con phiêu lưu sao? Hãy trân trọng tấm lòng ấy.”</p><p id="106">Tôi cúi đầu nhận lấy thanh kiếm bằng cả hai tay.</p><p id="107">“Vâng. Nhưng con chỉ giữ hộ thôi. Khi cậu ấy trở lại, con nhất định sẽ trả lại!”</p><p id="108">Nghe vậy, sư phụ Gald chỉ im lặng nhìn tôi, ánh mắt pha lẫn buồn cười và bất lực.</p><p id="109">◆◇◆◇</p><p id="110">Sau khi Joey rời khỏi phòng—</p><p id="111">“Vậy ổn chứ, bệ hạ? Vở kịch này hơi quá tay rồi.”</p><p id="112">Từ căn phòng liền kề, <strong>Hyuu</strong> – người vừa được nhắc đến – bước ra, khuôn mặt hiện rõ vẻ mệt mỏi.</p><p id="113">“Ừm… không hiểu sao cậu ta lại cố chấp ở mấy chuyện kỳ quặc thế. Ta chỉ định tặng kiếm để đền bù vụ làm gãy thanh của cậu ta thôi, nhưng biết kiểu gì cậu ta cũng không nhận nếu ta đưa thẳng, nên đành phải diễn vòng vo thế này.”</p><p id="114">“Ngài chỉ cần mỉm cười nói <em>[Tặng cho cậu đấy]</em> thì có phải đơn giản hơn không?” – Mia nhướn mày hỏi.</p><p id="115">“Không được. Cậu ta ôm cảm giác tội lỗi nặng lắm, chắc chắn sẽ từ chối.”</p><p id="116">Nói rồi, Hyuu cúi nhìn cơ thể mình, thở dài:</p><p id="117">“—Dù sao, con rối ma thuật này đúng là khó dùng thật. Kỹ sư nước ta chế tạo nó chỉ để giải trí, nhưng ta phải liên tục rót ma lực để duy trì, trong khi bản thể thì bị lộ sơ hở…”</p><p id="118">◆◇◆◇</p><p id="119"><strong>Ghi chú tác giả:</strong></p><p id="120">Tóm lại, sự kiện này diễn ra trong khoảng thời gian trống giữa ngày thi tuyển Vương Thú.</p>

                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/2dc2458a-7500-4983-b608-fedff1f93fba.jpg?t=1727447414" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/13694" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/13694/63e71121-cb31-4692-bc99-5980c02144fc.jpg?t=1727447414" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245018-chuong-11-kieu-cang-va-ngao-man" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c245854-chuong-12-vong-loai-bat-dau" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'HBGtR3mxB2Ct4xhQjCDBklUl7iWBxtBcsfT9U2Jv';
        var comment_type = 'chapter';
        var comment_typeid = '245850';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'HBGtR3mxB2Ct4xhQjCDBklUl7iWBxtBcsfT9U2Jv';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23458');
    chapter_id = parseInt('245850');

    readingObject = {
        series_id: series_id,
        series_title: 'Kyuuketsu Hime wa Barairo no Yume o Miru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
let ttsState = 'idle'; // idle, speaking, paused, loading
let synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

let ttsRate = localStorage.getItem('tts-rate') || '1';
let ttsPitch = localStorage.getItem('tts-pitch') || '1';
let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage (play for new start or reload resume)
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000) { // 1h
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="HBGtR3mxB2Ct4xhQjCDBklUl7iWBxtBcsfT9U2Jv" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="//spicewaxworks.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

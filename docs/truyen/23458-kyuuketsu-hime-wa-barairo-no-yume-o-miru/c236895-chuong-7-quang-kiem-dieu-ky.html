<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kyuuketsu Hime wa Barairo no Yume o Miru - Chương 7 - Quang Kiếm Diệu Kỹ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một bé shota (thực ra đã hơn 20 tuổi) có cuộc sống éo le như bao main khác, đã được đầu thai sang thế giới khác sau khi gặp tai nạn, với cơ thể thuộc về một bé loli vampire (13 tuổi), nhân vật trong game mà cậu chơi ở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="bOzVeXOoFJxZlQRooSgSH5TN8lXFOCmED6IPzadx">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236884-chuong-6-nguyet-ha-tram-kiem"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c237539-ngoai-truyen-1-cac-ma-tuong"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky" style="background: url('https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru">Kyuuketsu Hime wa Barairo...</a></h5>
                    <small><i class="fas fa-pen"></i>Sasaki Ichiro</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230379-tien-truyen-1-tro-lai">Khúc dạo đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230570-minh-hoa">Vol 1: Cõi Tái Sinh (Done)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/t33138-vol-2">Vol 2: Biến cố ở Vương Đô (Done)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230571-minh-hoa">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Minh họa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c235460-phu-luc-can-can-suc-manh-cua-the-gioi">
                                                                        Phụ lục - Cán cân sức mạnh của thế giới
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c235496-chuong-1-xa-than-vi-nghia">
                                                                        Chương 1 - Xả thân vì nghĩa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c235911-chuong-2-chuan-bi-moi-mat">
                                                                        Chương 2 – Chuẩn bị mọi mặt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c235967-chuong-3-cuoc-gap-go-cua-hai-nang-cong-chua">
                                                                        Chương 3 – Cuộc Gặp Gỡ Của Hai Nàng Công Chúa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236058-chuong-4-ga-hoang-tu-anh-hung">
                                                                        Chương 4 – Gã Hoàng Tử Anh Hùng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236177-chuong-5-vu-hoi-gia-trang">
                                                                        Chương 5 – Vũ Hội Giả Trang
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236884-chuong-6-nguyet-ha-tram-kiem">
                                                                        Chương 6 – Nguyệt Hạ Trảm Kiếm
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky">
                                                                        Chương 7 - Quang Kiếm Diệu Kỹ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c237539-ngoai-truyen-1-cac-ma-tuong">
                                                                        Ngoại Truyện 1 – Các Ma Tướng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c237608-chuong-8-tieng-chuong-cau-sieu">
                                                                        Chương 8 – Tiếng chuông cầu siêu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238004-chuong-9-ngay-truoc-tran-quyet-chien">
                                                                        Chương 9 – Ngay Trước Trận Quyết Chiến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238055-chuong-10-khai-man">
                                                                        Chương 10 – Khai màn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238463-ngoai-truyen-2-loi-thu-toi-trong-tuyet-vong">
                                                                        Ngoại Truyện 2 – Lời Thú Tội Trong Tuyệt Vọng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238481-chuong-11-hon-chien">
                                                                        Chương 11 – Hỗn chiến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238804-chuong-12-ket-cuc-tran-quyet-chien">
                                                                        Chương 12 – Kết Cục Trận Quyết Chiến
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238807-chuong-13-nuong-tua">
                                                                        Chương 13 – Nương Tựa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238823-chuong-14-de-quoc-xich-hoang">
                                                                        Chương 14 – Đế Quốc Xích Hoàng
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238833-minh-hoa">Vol 3: Thú vương của vùng biên cương (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c248044-minh-hoa">Vol 4: Đế quốc hỗn loạn (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c276203-chuong-1-phong-an-ma-than">Vol 5: Hấp Huyết Ma Thần (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c285998-chuong-1-hai-tac-quay-pha">Vol 6: Thánh Vực Của Vị Thần Sa Ngã - END (Đang tiến hành)</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 2: Biến cố ở Vương Đô (Done)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 7 - Quang Kiếm Diệu Kỹ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,541 từ - Cập nhật: 
                        <time class="topic-time timeago" title="28-09-2025 21:59:17" datetime="2025-09-28T21:59:17+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 7 - Quang Kiếm Diệu Kỹ</p>
                    <p id="1">Tôi chặn cú chém từ trên xuống bằng một thanh kiếm có hình dạng giống hệt nhưng khác màu. Cánh tay đỡ đòn tê dại vì sức nặng, toàn thân như sắp vỡ ra.</p><p id="2">“—Cái gì?!”</p><p id="3">Hoàng tử Acyl rất mạnh. Với trạng thái được cường hóa thể chất và buff, một vài chỉ số của hắn có thể bắt kịp tôi. Thế nhưng, vì chênh lệch chỉ số cơ bản giữa chúng tôi quá lớn, nên dù thế nào hắn cũng không thể san bằng được.</p><p id="4">Nếu chỉ đấu trực diện, rốt cuộc hắn sẽ không thể vượt qua bức tường đó, trận đấu sẽ nhanh chóng trở nên một chiều.</p><p id="5">Chính vì vậy, khi dùng cùng loại vũ khí—trận đấu kiếm đối kiếm—lẽ ra tôi phải dễ dàng áp đảo Hoàng tử Acyl.</p><p id="6">Tôi đã nghĩ thế.</p><p id="7">Nhưng thực tế không như vậy. Tôi định chặn một đòn rồi phản công—đúng là tôi có phần xem nhẹ hắn. Thế nhưng, Hoàng tử Acyl lại có thể lấp đầy chênh lệch bằng kỹ năng kiếm pháp của hắn, dù chỉ đơn thuần dựa vào chênh lệch giá trị số liệu cơ bản vẫn nghiêng về tôi.</p><p id="8">Kết quả là, áp lực từ lưỡi kiếm của hắn vẫn đang đè nặng lên thanh kiếm tôi dùng để phòng thủ. Chỉ cần lơ là một khắc, tôi sẽ bị ép gục ngay.</p><p id="9">—Tệ thật!</p><p id="10">Tư thế này rất bất lợi. Tôi phải kéo giãn khoảng cách, trở về lối đánh quen thuộc: <em>hit and run</em>.</p><p id="11">Trong tích tắc, tôi tung cú đá, váy tung bay theo.</p><p id="12">Đáng lẽ đó phải là đòn bất ngờ, nhưng Hoàng tử Acyl như đã đoán trước, hắn nhấc đầu gối lên chắn. Khi chân va vào nhau, thế cân bằng mới bị phá, và tận dụng phản lực, tôi nhảy lùi lại.</p><p id="13">“Đồ lót đẹp đấy. –Cá nhân ta lại thích không mặc gì hơn, tiếc thật.”</p><p id="14">“Xin lỗi vì khiến ngài thất vọng. Như ngài thấy, ta vốn không giỏi phép tắc đi đứng.”</p><p id="15">Có lẽ để thể hiện sự ung dung, hắn không truy đuổi mà chỉ đứng đó, lắc đầu tỏ vẻ tiếc nuối.</p><p id="16">Mà thật ra, loại váy này vốn theo lệ thường sẽ không mặc đồ lót bên trong. Nhưng tôi là con người hiện đại, nên tuyệt đối không đời nào ra đường mà không mặc gì.</p><p id="17">Vì vậy, chiếc váy hiện tại được thiết kế sẵn một loại nội y tích hợp, kiểu “ba trong một”: áo ngực, nịt eo và dây tất liền với nhau.</p><p id="18">“Không, không, ta cũng chẳng giỏi lễ nghĩa gì đâu—” Chỉ trong nháy mắt, Hoàng tử Acyl tung cú đá xuống đất, mặt đất nổ tung, những tảng đất đá khổng lồ bắn về phía tôi.</p><p id="19">Ngay lập tức, cả hai chúng tôi cùng dịch chuyển sang bên trái… và tôi cảm nhận được một luồng sát khí từ hướng đó…!</p><p id="20">Là hư chiêu.</p><p id="21">Sát ý bủa vây từ bốn phương khiến tôi do dự, buộc phải kích hoạt kỹ năng cơ bản <em>“Jump”</em>, xoay tròn 2-3 vòng, bay lên cao để thoát khỏi khu vực ấy.</p><p id="22">Nhưng thực thể của Acyl—ở ngay phía sau ta.</p><p id="23">Hắn đến từ khi nào?!</p><p id="24">Chưa kịp tìm câu trả lời, lưỡi kiếm đã chém xuống. Khi tôi còn đang trên không, bóng dáng Hoàng tử Acyl áp sát, chém xả xuống không chút nương tay.</p><p id="25">Không còn cách nào, tôi buộc phải nghênh đón đòn đánh, dù tư thế cực kỳ gượng gạo. Hai thanh kiếm va vào nhau tóe lửa, và nhờ lực đó, tôi tạo khoảng cách.</p><p id="26">Việc mất thế chủ động đã đủ bất lợi, giờ tôi chỉ có thể đỡ hoặc gạt kiếm hắn trong khi liên tục bị ép về phía sau.</p><p id="27">…Nói sao nhỉ, cảm giác này… như thể tôi bị kéo vào vùng mà mình không thể phát huy sức mạnh thật sự, rồi dần bị dồn ép. Kiểu lối đánh khó chịu này… nếu trong chiến thuật quân sự, chắc gọi là “trận chờ”?</p><p id="28">Chán chết. Tôi vốn chỉ muốn đánh hắn một đòn cho hả dạ, nhưng giờ thì, nếu không đấm thêm 2-3 cái nữa tôi sẽ không cam lòng.</p><p id="29">Dựa vào chênh lệch thể lực, tôi rút ngắn khoảng cách chỉ trong chớp mắt, đồng thời tung loạt kiếm chém dữ dội.</p><p id="30">Chém chéo vai—hắn né.</p><p id="31">Kỹ năng kiếm sĩ cơ bản, cho phép đổi hướng đòn tấn công ngay lập tức <em>“Swallow Return”</em>—hắn ngửa người tránh được.</p><p id="32">Cả kỹ năng đấu kiếm biến chiêu giữa không trung <em>“Horizontal Flash”</em>—hắn cũng gạt đi.</p><p id="33">“—Eii, mau chịu thua đi! Chẳng phải ngươi nói muốn để ta đánh trúng sao!”</p><p id="34">“…Không đời nào, ta mà dính mấy chiêu đó thì chết chắc. Công chúa có thể nương tay chút được không?”</p><p id="35">“Ta đã nương tay rồi đấy!!”</p><p id="36">Thật sự, tôi đang chiến đấu chỉ với chỉ số cơ bản, không buff. Cũng không dùng phép thuật từ nghề <em>Thánh Nữ</em>. Kiếm cũng là loại tương đương, chỉ hơi yếu hơn, và tôi chỉ dùng kỹ năng cơ bản của người chơi cùng kỹ năng kiếm sĩ.</p><p id="37">Nói cách khác, chúng tôi đang đấu trong điều kiện tương đương. Vậy mà hắn—người có cấp thấp hơn—vẫn dồn ép tôi liên tục!</p><p id="38">Mất sĩ diện quá rồi.</p><p id="39">“Thật ngu ngốc khi kiềm chế bản thân. Ta sẽ nghiêm túc hơn.”</p><p id="40">“Đáng sợ quá.” Hắn nheo mắt, giả vờ run rẩy, nhưng đôi mắt tuyệt nhiên không hề cười.</p><p id="41">“Thôi thì, ngươi có chết cũng được. Trong 30 phút ta vẫn có thể hồi sinh ngươi! Chỉ đau lúc ban đầu thôi!!”</p><p id="42"><em>Kỹ năng Kiếm sĩ cơ bản: Slash!</em></p><p id="43">Kiếm chạm kiếm, hắn gạt đường chém của tôi—nhưng này đã được tính trước. Dựa vào lực đó, Hoàng tử Acyl bật khỏi tảng đá phía sau, thực hiện cú tam giác tung người.</p><p id="44">Đối diện hắn từ trên không, tôi tung kỹ năng chủ bài—<em>Kiếm Sư: Thất Thiên Lạc</em>.</p><p id="45">Không phải ảo ảnh cũng chẳng là dư ảnh, mà thật sự mũi kiếm phân thành bảy, cùng lúc chém về phía hắn, khiến hắn không còn đường né.</p><p id="46">“Kuh—!!”</p><p id="47">Trong tích tắc, hắn lao sang trái, con đường ít nguy hiểm nhất, thoát khỏi ba nhát kiếm. Nhưng bốn nhát còn lại thì không thể tránh.</p><p id="48">Vậy mà—không thể tin nổi!</p><p id="49">Thanh kiếm trong tay hắn cản được hai, một nhát khác bị đỡ bằng bàn tay trái đã gia cường, còn nhát cuối—chính lưỡi kiếm trong tay tôi—hắn chặn bằng phần kiếm hộ, chỗ chịu lực yếu nhất!</p><p id="50">Máu tuôn ra từ vai, nhưng thương tích chỉ đến vậy. Với tôi, tư thế ấy chẳng khác nào tự đưa cổ ra cho tôi chém.</p><p id="51">Theo phản xạ, tôi liền xoay mũi kiếm, đâm thẳng vào cổ hắn. Acyl cố chắn bằng kiếm, nhưng—đã quá muộn! Khi tôi tưởng chắc chắn mình đã chiếm thế, lưỡi kiếm trong tay hắn bỗng uốn cong như rắn, lướt ngang qua cổ tay tôi.</p><p id="52">“—gh?!?”</p><p id="53">Không dừng lại, lưỡi kiếm cong ấy còn tiếp tục quét về phía tôi. Tôi cảm thấy mình sẽ không đỡ nổi, buộc phải bật lui toàn lực.</p><p id="54">Lực lùi ấy khoét rãnh sâu trên đất bằng mũi giày, giúp tôi kịp lùi xa hơn 20 mét.</p><p id="55">Đối diện tôi, Hoàng tử Acyl thở ra lời kinh ngạc.</p><p id="56">“Thật không tin được… Công chúa đúng là không có giới hạn. Kinh ngạc thật.”</p><p id="57">“Đó là câu ta muốn hỏi. Vừa rồi ngươi làm gì vậy?”</p><p id="58">“À, một trong số bí kỹ của ta, <em>‘Sương Ảnh’</em>. Thông thường, nó sẽ cắt đứt gân cổ tay đối phương.”</p><p id="59">Tôi nhìn cổ tay mình—nhờ sức hồi phục của Huyết tộc dưới ánh trăng, vết thương đã biến mất hoàn toàn, chẳng còn cả sẹo. Thở dài kinh ngạc.</p><p id="60">“…Quả thật, ta ghét nhất mấy trận đấu cá nhân. Không thể biết trước sẽ gặp phải thứ gì bất ngờ.”</p><p id="61">“Đó chỉ là mánh khóe của kẻ yếu để thắng. Công chúa có cho rằng thế là không công bằng không?”</p><p id="62">“Tất nhiên là không. Vì bản thân năng lực cơ bản của ta vốn đã không công bằng rồi.”</p><p id="63">Thế nhưng, dù chênh lệch cơ bản là vậy, hắn vẫn có thể bù đắp bằng kỹ thuật thuần túy… Tôi thật sự đã coi thường hắn quá mức. Nếu trong trạng thái đầy đủ—vũ trang tận răng, buff, phép thuật—tôi sẽ không lo lắng. Nhưng giả sử gặp một đối thủ có vũ khí ngang hàng với <em>Gilles de Rais</em> (có lẽ ba đại quốc gia có thể sở hữu loại đó), thì quả thực sẽ có kẻ có khả năng hạ được tôi.</p><p id="64">Thực tế, vị hoàng tử này—nói thẳng ra—chỉ là <em>“Vua một cõi nhỏ”</em> của một vương quốc hạng trung.</p><p id="65">Nghĩ như vậy, lần giao thủ này đúng là một thu hoạch lớn.</p><p id="66">Rồi…</p><p id="67">Trong lúc suy tính, tôi cảm nhận một luồng khí quen thuộc từ trên không, đồng thời từ xa, tiếng nhiều cỗ xe ngựa đang tiến lại.</p><p id="68">“—Công chúa, xin thứ lỗi đã để Người chờ.”</p><p id="69">Như đã đoán, từ bầu trời đáp xuống là Lục Dực Thánh Thiên—Mikoto. Acyl, chưa từng thấy hình dạng này của cô ấy, mở to mắt sững sờ. Tôi thì bỏ qua, chỉ quay sang Mikoto.</p><p id="70">“Làm tốt lắm. Ngươi đã giải quyết xong bọn truy đuổi?”</p><p id="71">“Vâng. Toàn bộ đều đã bị tiêu diệt. Tuy nhiên, khi quan sát từ trên cao, tôi phát hiện một nhóm khác đang tiến tới. Nếu Công chúa cho phép, tôi sẽ xử lý họ ngay bây giờ.”</p><p id="72">Đúng là Mikoto—lúc nào cũng trung thành tuyệt đối. Nếu là đám kia chắc sẽ hành động kiểu: “Thần cũng tiện tay diệt luôn”, xong rồi báo lại sau.</p><p id="73">“…Bọn truy binh, sao…”</p><p id="74">Mất hứng chiến đấu, Acyl tra kiếm vào vỏ, trở lại vẻ nghiêm túc.</p><p id="75">“Đúng là phiền. Vừa mới bắt đầu hứng thú, lại bị phá ngang.” Tôi cũng hạ mũi kiếm xuống đất, uể oải.</p><p id="76">“Có lẽ không thể tiếp tục. Hơn nữa, cường hóa cơ thể của ta cũng sắp hết hiệu lực.”</p><p id="77">“Hah. Ngươi thì vẫn còn giấu át chủ bài. Chưa kể, buff vẫn chưa tan, chẳng phải ta còn có thể tiếp tục trả lại món nợ vừa rồi sao?”</p><p id="78">Tôi giương kiếm về phía hắn, nhưng Acyl chỉ nhún vai, chỉ vào vết thương nơi vai.</p><p id="79">“Dù vậy, ta cũng đã chịu nhát kiếm của Công chúa. Hay ta và Người coi trận hôm nay hòa, rồi hẹn tiếp lần khác, đúng như lời đã hứa?”</p><p id="80">Hắn tỏ ra chẳng còn hứng thú, bình thản nói.</p><p id="81">“…Đành vậy. Vậy để lần tới. –Nhưng nếu thật sự định thắng bọn quý tộc kia, cái tính khinh suất của ngươi sẽ hại ngươi đó. Phải cảnh giác hơn.”</p><p id="82">“Ehh, ta lúc nào cũng cảnh giác mà. Vậy, Công chúa chấp nhận điều kiện chứ?”</p><p id="83">“Được. Ta sẽ lặng lẽ quan sát.”</p><p id="84">“Ta hiểu rồi. Vậy ta sẽ rèn giũa kỹ năng chờ đến ngày đó.”</p><p id="85">Acyl mỉm cười rạng rỡ. Rồi như sực nhớ điều gì, vẻ mặt hắn trở nên nghiêm túc.</p><p id="86">“Cái tên ‘Hiyuki’ của Công chúa… đó có phải là danh xưng truyền đời không?”</p><p id="87">“Không, chỉ là tên riêng của ta thôi. Nhưng biết đâu ngoài kia cũng có người trùng âm.”</p><p id="88">Trong game, không thể có trùng tên, nhưng nếu khác chữ mà cùng cách đọc thì vẫn có. Vì vậy, cái tên của tôi không hoàn toàn là độc nhất.</p><p id="89">“Ra vậy. –Thực ra, trong quá khứ, phụ vương ta có kể về những ghi chép của <em>Kỷ Nguyên Đã Mất</em>. Trong đó có nhắc đến một người mang tên <em>‘Hiyuki’</em>. Ta nghĩ có lẽ chỉ là trùng hợp, hoặc có thể nó sẽ có liên hệ gì tới Người, Công Chúa.”</p><p id="90">Nghe đến “Kỷ Nguyên Đã Mất”, tôi bất giác sửng sốt, bước lên áp sát hắn.</p><p id="91">“…Ý ngươi là gì? Thật sự có nhắc tới tên ta?”</p><p id="92">Trước sự dồn dập của tôi, Acyl hơi nhíu mày, bối rối đáp:</p><p id="93">“Thực ra, ghi chép trong hoàng thất Amitia chỉ là những câu chuyện rời rạc, như chuyện cổ tích vậy. Nói rằng: <em>‘Người của Kỷ Nguyên Đã Mất có sức mạnh gần như thần, đó là thời đại không có cái chết hay nạn đói, những tòa thành khổng lồ còn bay trên trời.’</em>”</p><p id="94">Ừ, cái thành đó giờ vẫn còn bay trên trời đấy nhé.</p><p id="95">“Và trong số họ, có những kẻ vượt trội hơn tất cả. Một người trong đó, mang tên ‘Hiyuki’. Đại khái vậy.”</p><p id="96">Hmm… Tư liệu ít ỏi quá, chưa thể kết luận được. Nhưng rõ ràng, thế giới này, dù trực tiếp hay gián tiếp, nó cũng có liên hệ với <em>Eternal Horizon Online</em>.</p><p id="97">“Có tài liệu chi tiết hơn về <em>Kỷ Nguyên Đã Mất</em> không?”</p><p id="98">“Khó mà có. Lúc nhỏ phụ vương kể cho ta nghe, giọng giống như kể chuyện cổ tích thôi. Nếu có quốc gia nào lưu giữ tài liệu chi tiết, chắc chắn là <em>Thánh Quốc Aeon</em>.”</p><p id="99">“—Aeon, hả. Nếu ta nhớ không nhầm, đó là nước cực đoan về thuyết nhân loại tối thượng?”</p><p id="100">“Đúng. Và ngoại nhân không phải tín đồ đều không được vào, nên muốn xác minh cũng rất khó.”</p><p id="101">Tôi khoanh tay suy nghĩ… thì tiếng xe ngựa truy binh vang lên rõ rệt.</p><p id="102">“Thôi, nghĩ sau. Mikoto và ta sẽ chặn bọn chúng ở đây, các ngươi đi trước.”</p><p id="103">“Công chúa Hiyuki sẽ làm gì?”</p><p id="104">Tôi vẫy tay đáp:</p><p id="105">“Ta đã hỏi được điều cần biết. Ta sẽ xử lý bọn truy binh, vậy đây là lời tạm biệt. –À, nhớ nói lại với Angelica giúp ta. Nếu rảnh ta sẽ ghé thăm.”</p><p id="106">“…Ta hiểu. Vậy đây chỉ là cuộc chia tay ngắn. Mong Công chúa bình an đến ngày tái ngộ.”</p><p id="107">Vừa nói, hắn lại cầm tay tôi, hôn lên. T-Tôi lại không phản ứng được…</p><p id="108">Ánh mắt Mikoto thì bảo: <em>“Giết hắn cho rồi?”</em></p><p id="109">Tôi cũng đáp: <em>“Ờ, nhưng để chút nữa, trút giận lên đám truy binh đã.”</em></p><p id="110">“Gọi là tái ngộ, nhưng với ta, đó sẽ là ngày tái đấu.” Tôi vừa nói, vừa đặt tay lên vai hắn, niệm <em>Heal</em>.</p><p id="111">“Oh, cái này… ta rất biết ơn và hạnh phúc. –Vậy, hẹn ngày gặp lại!”</p><p id="112">Nói xong, hắn rời đi hiên ngang.</p><p id="113">Ôi trời…</p><p id="114">Sau khi dặn vài lời với Angelica và Carlos, họ vội vã rời khỏi—dù Angelica cứ ngoái nhìn lo lắng mãi. Nhìn cỗ xe xa dần, tôithoáng thấy trống trải.</p><p id="115">“Đi thôi, Mikoto.” Tôi rút <em>Gilles de Rais</em> thay cho <em>Thủy Kiếm</em>.</p><p id="116">“Tuân lệnh, Công chúa.” Cầm thánh trượng, cô ấy theo sau tôi.</p><p id="117">Quả là hai anh em thú vị. Không biết người anh trai với lý tưởng non nớt kia sẽ đi được bao xa, nhưng ít nhất, tôi có thể cầu chúc cho hắn.</p><p id="118"><strong>Chú thích tác giả:</strong></p><p id="119">Cường hóa thể chất và ma lực của Hoàng tử Acyl kéo dài 30 phút.</p><p id="120">Nếu dùng hết sức, có thể chỉ trụ được 15 phút.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236884-chuong-6-nguyet-ha-tram-kiem" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c237539-ngoai-truyen-1-cac-ma-tuong" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3046531"
    class="ln-comment-item mt-3 clear"
    data-comment="3046531" 
    data-parent="3046531" 
    data-type="chapter" 
    data-typeid="236895">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u54467-e65c56ef-6e2f-414d-a03b-b64568c6d1cb.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/54467">Lucia-chan</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        :&gt;
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky?comment_id=3046531#ln-comment-3046531"
                            class="text-slate-500">
                            <time class="timeago" title="04-10-2025 19:25:10"
                                datetime="2025-10-04T19:25:10+07:00">
                                04-10-2025 19:25:10
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3043102"
    class="ln-comment-item mt-3 clear"
    data-comment="3043102" 
    data-parent="3043102" 
    data-type="chapter" 
    data-typeid="236895">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u185315-d1cabaaf-19e5-4e77-9864-cff2ff28b522.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/185315">PicoMashiron</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Chấp phần lớn sức mạnh đấy =)))
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c236895-chuong-7-quang-kiem-dieu-ky?comment_id=3043102#ln-comment-3043102"
                            class="text-slate-500">
                            <time class="timeago" title="01-10-2025 17:03:09"
                                datetime="2025-10-01T17:03:09+07:00">
                                01-10-2025 17:03:09
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'bOzVeXOoFJxZlQRooSgSH5TN8lXFOCmED6IPzadx';
        var comment_type = 'chapter';
        var comment_typeid = '236895';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'bOzVeXOoFJxZlQRooSgSH5TN8lXFOCmED6IPzadx';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23458');
    chapter_id = parseInt('236895');

    readingObject = {
        series_id: series_id,
        series_title: 'Kyuuketsu Hime wa Barairo no Yume o Miru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="bOzVeXOoFJxZlQRooSgSH5TN8lXFOCmED6IPzadx" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kyuuketsu Hime wa Barairo no Yume o Miru - Chương 1 – Hải Tặc Quấy Phá - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một bé shota (thực ra đã hơn 20 tuổi) có cuộc sống éo le như bao main khác, đã được đầu thai sang thế giới khác sau khi gặp tai nạn, với cơ thể thuộc về một bé loli vampire (13 tuổi), nhân vật trong game mà cậu chơi ở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="TSp1pD11dpZW53HB4ogg9MQbGg5Ay2PlNFcg1cA8">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c285998-chuong-1-hai-tac-quay-pha">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c282491-giao-doan-6-ghen-ti-voi-hoa-hong"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c285998-chuong-1-hai-tac-quay-pha" style="background: url('https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru">Kyuuketsu Hime wa Barairo...</a></h5>
                    <small><i class="fas fa-pen"></i>Sasaki Ichiro</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230379-tien-truyen-1-tro-lai">Khúc dạo đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230570-minh-hoa">Vol 1: Cõi Tái Sinh (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230571-minh-hoa">Vol 2: Biến cố ở Vương Đô (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238833-minh-hoa">Vol 3: Thú vương của vùng biên cương (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c248044-minh-hoa">Vol 4: Đế quốc hỗn loạn (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c276203-chuong-1-phong-an-ma-than">Vol 5: Hấp Huyết Ma Thần (Done)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/t35385-vol-6-thanh-vuc-cua-vi-than-sa-nga-dang-tien-hanh">Vol 6: Thánh Vực Của Vị Thần Sa Ngã - END (Đang tiến hành)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c285998-chuong-1-hai-tac-quay-pha">
                                                                        Chương 1 – Hải Tặc Quấy Phá
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 6: Thánh Vực Của Vị Thần Sa Ngã - END (Đang tiến hành)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1 – Hải Tặc Quấy Phá</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c285998-chuong-1-hai-tac-quay-pha#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,598 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-01-2026 22:57:34" datetime="2026-01-05T22:57:34+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1 – Hải Tặc Quấy Phá</p>
                    <p id="1">Biển cả—thứ thường được ca tụng là chiếc nôi của sinh mệnh, là người mẹ hiền hòa vươn mình tới tận chân trời vô tận.</p><p id="2">Có lúc, nó là cái nôi nhân từ của sự sống, trù phú và hào phóng. Nhưng cũng có khi, nó hóa thân thành cơn thịnh nộ của thiên nhiên, nuốt chửng những sinh mạng mong manh của con người vào vực sâu mênh mông, tựa như bọt nước vậy.</p><p id="3">Con người bị biển cả hấp dẫn, không ngừng khiêu khích sức mạnh của nó.</p><p id="4">Biển là nơi khởi đầu những thiên anh hùng ca, tham vọng và tinh thần mạo hiểm hòa quyện vào nhau. …Ừm, thôi đủ rồi, mấy thứ triết lý vớ vẩn đó.</p><p id="5">Một bãi cát trải dài ngút tầm mắt, cát trắng mịn màng không tì vết. Làn nước xanh biếc trong vắt khẽ vỗ vào giữa hai chân chúng tôi.</p><p id="6">Vùng nước nông tạo thành một lòng chảo yên ả, trong suốt đến mức tưởng chừng có thể bước thẳng tới tận đường chân trời đang hiện ra trước mắt.</p><p id="7">Biển phương Nam hiền hòa, mặt nước phẳng lặng không gợn sóng, phản chiếu nguyên vẹn vẻ đẹp thuần khiết của tự nhiên—ngoại trừ một kẻ phá rối. Có người, không rõ là đang tập bơi sải hay bơi bướm, đang hăng hái vượt qua vịnh nhỏ, trông chẳng khác nào một con cún con đang nô đùa.</p><p id="8">“Woo-hoo! Biển đúng là tuyệt vời quá! Trước đây tớ cũng từng bơi rồi, nhưng chưa bao giờ như thế này cả!”</p><p id="9">Joey vừa bơi vừa reo hò đầy phấn khích, suốt hơn một giờ liền không biết mệt. Cậu ta rõ là không biết mệt là gì.</p><p id="10">Có lẽ cuối cùng cũng chán biển, Joey rốt cuộc chú ý tới tôi đang nghịch một con cua gần bờ. Cậu ta bơi tới, rồi <em>tõm</em> một tiếng, bất ngờ từ dưới nước bật lên đứng trước mặt tôi.</p><p id="11">“Này, cậu không định bơi à, Hiyuki?”</p><p id="12">Cậu ta chỉ mặc một chiếc quần bơi đơn giản, để trần phần thân trên. Trái ngược với ấn tượng gầy gò thường thấy khi mặc quần áo, thân hình cậu ta lộ rõ những khối cơ săn chắc, được khắc họa rõ ràng khi nước chảy xuống theo từng đường nét.</p><p id="13">Tôi vội quay mặt đi, cảm thấy không được tự nhiên. Cơ bắp vốn là điểm yếu chí mạng của tôi—một di chứng từ kiếp trước, khi cơ thể suy nhược vì dinh dưỡng kém. Những ký ức nhục nhã về các trận vật tay thua thảm, từ phụ nữ lớn tuổi hơn XX cho tới cả mấy bé gái mười hai tuổi, vẫn còn ám ảnh tôi đến giờ.</p><p id="14">“Không sao đâu, ta chỉ đứng đây ngắm là đủ rồi, cậu không cần bận tâm. Cứ tận hưởng đi, thử lặn tự do hay bắt cá cam cũng được. Cơ hội hiếm có để vui chơi trên một bãi biển từng thuộc về hoàng gia đấy.”</p><p id="15">Tôi nhanh chóng thúc Joey quay lại với cuộc vui của mình, đồng thời liếc nhìn Maroudo—chủ nhân cũ của bãi biển—đang nằm dài dưới bóng cây dừa. Nhận ra ánh mắt tôi, hắn ta khẽ vẫy tay, trên tay cầm ly sâm panh, ăn mặc tùy tiện với áo hoodie và áo ba lỗ.</p><p id="16">Đó là cách hắn ta thưởng thức cảnh sắc mát mẻ—một điều tất yếu kể từ khi trở thành Hấp Huyết Quỷ. Dù cũng sở hữu khả năng kháng với ánh nắng, mặt trời phương Nam quá gay gắt dường như chích vào da, buộc hắn ta phải trốn dưới bóng râm.</p><p id="17">Tôi có thoa kem chống nắng, nhưng gần như chẳng giúp ích gì trước cái nắng chói chang. May mắn thay, làn da trắng nhợt nhạt của tôi khiến tôi không biến thành một cảnh tượng cháy nắng thảm hại, dù cảm giác rát bỏng thì vẫn không tránh khỏi.</p><p id="18">Trong khi đó, Tengai và những người khác—tất cả đều mặc đồ bơi thi đấu—đang say sưa với một trận bóng chuyền bãi biển do chính tôi giới thiệu. Chỉ có điều, với sân đấu trải dài tới năm trăm mét cùng bầu không khí căng thẳng, nó chẳng còn chút gì giống với môn bóng chuyền tôi từng biết.</p><p id="19">“Ơ, nhưng tớ đã bơi suốt từ nãy tới giờ rồi mà. Dù sao thì, cùng bơi đi. Cậu cũng tới đây để bơi chứ?”</p><p id="20">Với ánh mắt đầy nghi hoặc, Joey quan sát trang phục của tôi—một bộ bikini chủ đề hoa hồng, kèm váy bèo nhỏ. Tóc tôi được buộc gọn để khỏi vướng víu khi bơi. Trông thì như đồ bơi bình thường, nhưng thực chất đây là trang bị của «E.H.O», sở hữu khả năng phòng ngự đáng kể.</p><p id="21">“À thì… bơi lội vốn không nằm trong kế hoạch. Ta thật ra tới đây vì công việc—đúng vậy, là nhiệm vụ! Ta thực sự không có thời gian chơi đâu.”</p><p id="22">“Hmm, hay là cậu không biết bơi?”</p><p id="23">Tôi còn đang tìm cách lảng tránh thì cậu ta đã đâm thẳng vào vấn đề.</p><p id="24">“À thì…cũng đúng. Hấp Huyết Quỷ không thể lội dưới nước chảy—đó là đặc tính chủng tộc.”</p><p id="25">“Nói dối. Sao không thẳng thắn thừa nhận là cậu không biết bơi đi?”</p><p id="26">Joey lập tức phản bác ngay khi tôi vừa dứt lời.</p><p id="27">—Sao mấy cái này thì não cậu hoạt động tốt thế?!</p><p id="28">“Không có gì phải xấu hổ cả. Không phải tất cả con trai sống gần biển đều biết bơi, con gái cũng vậy. Hơn nữa, nơi này đẹp thế này, nước lại nông, luyện tập chút ít cũng chẳng hại gì, đúng không?”</p><p id="29">Vừa nói, Joey vừa tiến ra xa bờ khoảng năm mét, vậy mà mực nước vẫn chỉ đến dưới đầu gối cậu ta.</p><p id="30">Có lẽ… mình nên theo thử? Dù bực bội vì bị gọi như gọi mèo, tôi vẫn trấn tĩnh lại và bước về phía cậu ta.</p><p id="31">“Ồ, tay chân cậu cử động chẳng ăn khớp gì cả… mà kia là mồ hôi à? Quả nhiên là cậu rất kém—khoan đã, đừng nói là cậu sợ nước nhé?”</p><p id="32">“Hehe, cậu nói chuyện buồn cười thật. Trên đời này chẳng có gì khiến ta sợ cả. Đồ ngốc.”</p><p id="33">“Cậu có nghe mình vừa nói gì không vậy?”</p><p id="34">“Thế là đủ rồi. Ta đã hấp thụ đủ ‘vitamin biển’ rồi, ta quay về đây!”</p><p id="35">Tôi xoay người định rời đi, nhưng Joey chợt nắm lấy tay tôi.</p><p id="36">“Này, mới có chưa đầy một phút thôi. Để tớ dạy cậu đá chân cơ bản nhé. Ra sâu hơn một chút đi.”</p><p id="37">Đá chân cơ bản… là kiểu úp mặt xuống nước rồi dùng chân đạp để tiến lên, phải không?</p><p id="38">“Ta ổn mà! Dù có nguy hiểm, tôi chỉ cần chạy trên mặt nước là được!”</p><p id="39">Đúng vậy, tôi chẳng cần bơi chút nào!</p><p id="40">“Không cần không có nghĩa là không nên học. Ít nhất cũng học đá chân đi, rồi cả bơi chó nữa, phòng khi khẩn cấp.”</p><p id="41">Joey bắt đầu kéo tôi về phía vùng nước sâu hơn. Tôi lấy tư thế, chuẩn bị dùng sức phản kháng—xét về thể lực, rõ ràng cậu ta không có cửa.</p><p id="42">“—Ư.”</p><p id="43">Ngay khi tôi định hất cậu ta ra, Joey đột nhiên bế bổng tôi lên theo kiểu công chúa.</p><p id="44">“H-Hey, Joey! Cậu làm cái gì vậy?!”</p><p id="45">Hoảng loạn, tôi giãy giụa trong vòng tay cậu ta, nhưng cậu ta ghé sát thì thầm: “Cứ động đậy là cậu sẽ úp mặt xuống nước đấy.” Cơ thể tôi lập tức cứng đờ theo phản xạ.</p><p id="46">“Tốt rồi, giờ thì ra chỗ sâu hơn để huấn luyện nào.”</p><p id="47">Không chút do dự, cậu ta mạnh mẽ bế tôi tiến thẳng ra biển khơi, lội qua từng con sóng.</p><p id="48">“Rốt cuộc là vì sao chứ……”</p><p id="49">Tôi trừng mắt nhìn cậu ta với đôi mắt ngấn nước, nhưng Joey dường như chẳng hề bận tâm, thậm chí còn tỏ ra hào hứng, vừa đi vừa nhún nhảy nhẹ. Tôi cầu cứu những người đồng hành, nhưng tất cả đều đang mải mê với trận bóng chuyền ác liệt, hoàn toàn không hay biết đến tình cảnh của tôi. Niềm hy vọng cuối cùng—Maroudo—cũng tan biến khi tôi thấy hắn ta được các hầu gái khiêng đi trên cáng, nạn nhân của chứng say nắng.</p><p id="50">“Độ sâu này chắc là đủ rồi—”</p><p id="51">Trong lúc tôi còn đang mải tìm đường cầu cứu, Joey đã đưa chúng tôi tới vùng nước sâu tới ngực cậu ta. Rõ ràng cậu ta quyết tâm kéo tôi xuống nước sâu!</p><p id="52">“Được rồi, tớ giữ cậu. Chỉ cần úp mặt xuống nước và cố mở mắt ra thôi.”</p><p id="53">“Ta không làm được!”</p><p id="54">“Thả lỏng đi, chỉ cần một chút là quen thôi.”</p><p id="55">“Không, không, không bao giờ, tuyệt đối không thể!”</p><p id="56">“Thử một lần đi, dễ hơn cậu nghĩ nhiều.”</p><p id="57">“Câu đó lúc nào mấy dứa con trai chả nói!”</p><p id="58">“Trời ạ, lại nói linh tinh nữa rồi. Thôi, làm luôn đi. Bắt đầu.”</p><p id="59">Phớt lờ mọi phản đối của tôi, Joey tự ý quyết định, hạ thấp người xuống.</p><p id="60">“Pffrrgghh!!”</p><p id="61">Trong khoảnh khắc, tôi bị nhấn chìm xuống nước.</p><p id="62">—Thoạt nhìn thì có vẻ như chúng tôi chỉ đang nô đùa tại một khu nghỉ dưỡng ven biển, nhưng thực tế lại hoàn toàn khác.</p><p id="63">Khoan đã, trông thật sự giống như đang vui vẻ sao? Không thể nào. Chắc chắn đó chỉ là ảo giác sinh ra từ việc bị ném thẳng vào tình huống sinh tử. Khi những hồi ức lướt qua trước mắt, tôi bắt đầu hồi tưởng lại nơi mọi chuyện khởi nguồn—vài ngày trước, ngay sau khi chúng tôi giải quyết xong mớ hỗn độn với Shima—</p><p id="64">◆◇◆◇</p><p id="65">“Thuyền hải tặc à?” Hiyuki nghiêng đầu, vẻ mặt thoáng hiện sự bối rối.</p><p id="66">Mọi rắc rối đã được giải quyết tận gốc, và công cuộc tu sửa Thiên Uyển cũng đã hoàn tất. Trong một phòng tiếp khách xa hoa của «Xích Ngọc Thành», vài vị yếu nhân trò chuyện thoải mái, tựa như đang ở nhà của một người bạn thân.</p><p id="67">Trong số những vị khách thường xuyên lui tới có Quốc vương Collard của Cộng hòa Amitia và Revan—người lãnh đạo lâm thời của Liên bang Tự do Cress. Lần này, còn có thêm một gương mặt mới: Công chúa Oliana, người thừa kế ngai vàng của Đế quốc Graviol.</p><p id="68">Sự hiện diện của Công chúa Oliana là theo lời mời cá nhân của Hiyuki, trên danh nghĩa, cô chỉ đang nghỉ dưỡng tại biệt thự ngoại ô của mình. Còn thực tế, cô đã sử dụng thiết bị dịch chuyển đặt tại Sứ quán Xích Hoàng Triều ở kinh đô để tới đây.</p><p id="69">Để bảo đảm tính cơ mật, doàn tùy tùng của công chúa Oliana chỉ gồm một quản gia và một hộ vệ. Khi đặt chân vào Thiên Uyển, ngay cả những cận thần trực tiếp hầu hạ một quân vương hùng mạnh như họ cũng không giấu nổi sự kinh ngạc trước sự tráng lệ của «Xích Ngọc Thành», lặng lẽ theo sát sau lưng công chúa.</p><p id="70">Trong buổi gặp mặt đầu tiên, Oliana có phần lúng túng trước bầu không khí ngoài dự đoán. Thế nhưng, sự gượng gạo ấy nhanh chóng tan biến khi ở bên Hiyuki—người chưa từng để địa vị hay thân phận chi phối cách hành xử của mình. Sự lanh lợi và khéo léo trong giao tiếp của Quốc vương Collard, cùng với thái độ dửng dưng trước tước vị của Revan—do xuất thân Thú Nhân—đã giúp cô dần hòa nhập với tập thể.</p><p id="71">Bởi những người còn lại vốn đã quen biết nhau từ trước, chỉ là vấn đề thời gian để Công chúa Oliana cảm thấy đủ thoải mái mà mở lòng. Đã quen với những quy tắc hà khắc của hoàng thất và hình tượng “Công chúa Đế quốc”, sự thẳng thắn không màu mè nơi đây mang đến cho cô cảm giác mới mẻ, và chẳng mấy chốc, một nụ cười chân thành đã nở trên gương mặt cô.</p><p id="72">Câu chuyện lan man một hồi, rồi được kéo trở lại chủ đề “thuyền hải tặc”—</p><p id="73">“Chúng hoạt động khá mạnh tại vùng biển này, gây tổn thất nghiêm trọng cho các thuyền vận tải và làng ven biển,” Quốc vương Collard lên tiếng, vẻ mặt hằn sâu lo âu.</p><p id="74">“Hiện tại, thiệt hại chủ yếu tập trung ở các thuyền buôn quy mô nhỏ và trung bình, cùng với thuyền vận tải. Chúng tránh né những tàu lớn—lý do thì quá rõ ràng. Tuy nhiên, chúng tôi dự đoán chỉ là vấn đề thời gian trước khi chúng đủ liều, nhắm tới các tàu lớn, thậm chí là tàu ma thuật. Khi điều đó xảy ra, tổn thất về nhân lực lẫn vật lực sẽ vượt xa những gì chúng ta đã chứng kiến cho tới nay.”</p><p id="75">“Ừm… nghe quả thật nghiêm trọng. Xin chia sẻ nỗi lo cùng bệ hạ.”</p><p id="76">Hiyuki nhấp một ngụm hồng trà đen, trong khi Quốc vương Collard ngập ngừng như muốn nói gì đó, rồi lại thôi, tiếp tục trình bày kế hoạch.</p><p id="77">“Ta đang cân nhắc thiết lập các căn cứ tại những điểm hàng hải trọng yếu, đồng thời điều động thêm binh lực từ Quito—đầu mối thương mại lớn của quốc gia. Do đất nước ta chưa có hải quân chính quy, bước tiếp theo sẽ là xúc tiến việc thành lập.”</p><p id="78">Hiyuki thầm đánh giá sự chặt chẽ của kế hoạch—đúng phong cách tư duy chiến lược của Collard. Tuy nhiên, một nghi vấn nhanh chóng nảy sinh.</p><p id="79">“Nhưng như vậy sẽ cần một khoản ngân sách rất lớn, đúng không?”</p><p id="80">“Aha, đó chính là mấu chốt.” Vai Collard chùng xuống, gương mặt phủ đầy vẻ bất lực.</p><p id="81">“Hơn nữa, hiện đang là mùa hè, ngay trước vụ thu hoạch lúa mì và lúa nước, nên không thể tùy tiện áp thuế mới. Quốc khố đã gần cạn kiệt vì phải khắc phục những sai lầm trong quản lý của chính quyền tiền nhiệm. Với tình hình hiện tại, ngay cả việc chuẩn bị một lễ cưới phải đắn đo cân nhắc.”</p><p id="82">“Quả thực đáng tiếc. Có lẽ vấn đề này đã được bàn tới, nhưng bệ hạ có cân nhắc vay vốn từ chúng ta không?”</p><p id="83">“Việc cầu viện tài chính có thể để lại hệ lụy về sau, nên chúng tôi vẫn đang cân nhắc.”</p><p id="84">“Đó là lựa chọn khôn ngoan. Vì là quốc gia chư hầu, nếu tiếp nhận viện trợ không hoàn lại, e rằng sẽ làm suy yếu tính tự chủ, dẫn tới lệ thuộc. Có lẽ sẽ thận trọng hơn nếu trao đổi bằng vật có giá trị tương đương, hoặc thiết lập điều khoản hoàn trả.”</p><p id="85">Công chúa Oliana trầm giọng xen vào, phân tích mạch lạc.</p><p id="86">Quốc vương Collard thoáng sững sờ trước khả năng nắm bắt tình hình và đưa ra phương án dung hòa của cô. Dẫu vậy, với sự từng trải của một quân vương, ông chỉ khẽ gật đầu tán thành.</p><p id="87">“Quả đúng như vậy. Chúng tôi đang xây dựng phương án, nhưng hải tặc vẫn luôn đi trước một bước.”</p><p id="88">Revan giơ tay, xen lời:</p><p id="89">“Xin thứ lỗi, thưa Điện hạ. Liệu chúng ta có thể áp dụng phương án tương tự như thiết bị dịch chuyển của Cress để giải quyết vấn đề này trong một đòn không? Nếu là Điện hạ ra tay, hải tặc hẳn sẽ bị quét sạch dễ như gió thoảng.”</p><p id="90">“Cách đó e là không khả thi. Việc duy trì thường trực quái vật quanh vùng biển hay cảng sẽ phá vỡ hệ sinh thái địa phương, đồng thời ảnh hưởng tới cư dân—đó là biện pháp phản tác dụng.”</p><p id="91">Hiyuki khẽ cau mày, lẩm bẩm trong lòng.</p><p id="92"><em>Chứ không phải binh lực của chúng ta sẽ phân biệt hải tặc, dân thường hay thuyền bè đâu. Có khi còn đánh chìm tất cả.</em></p><p id="93">“Quả đúng vậy. Cách đó chỉ tạo thêm rắc rối mà không giải quyết được gì,” Quốc vương Collard đồng tình, khiến Revan buông một tiếng thở dài não nề.</p><p id="94">“Nhân tiện nói về hải tặc,” Công chúa Oliana tiếp lời, “chúng ta đã ghi nhận số nạn nhân gia tăng sau các hoạt động của chúng.”</p><p id="95">Mọi ánh mắt lập tức đổ dồn về phía cô.</p><p id="96">“Con số này đặc biệt rõ rệt trong vài năm gần đây. Thời tiết xấu và hậu quả chiến tranh dĩ nhiên có góp phần, nhưng quy mô mở rộng của chúng vẫn đáng lo ngại. Tuy nhiên, do chưa có bằng chứng về sự liên kết hay hành động có tổ chức, chúng ta cho rằng đây có thể chỉ là trùng hợp.”</p><p id="97">“Thú vị thật. Hải tặc hoạt động cả ở phía tây lẫn phía đông lục địa—điều này không giống trùng hợp cho lắm,” Collard trầm ngâm, như chỉ đang nêu một giả thuyết.</p><p id="98">Cuộc thảo luận trực diện này quả là kịp thời; nếu không, có lẽ mỗi bên đã tự xử lý vấn đề, coi đó là chuyện riêng của lãnh thổ mình. Cách tiếp cận chung giúp mở rộng góc nhìn. Trong thoáng chốc, Collard nảy ra một ý nghĩ—</p><p id="99"><em>Nếu hai vị công chúa này hợp tác… e rằng cục diện thế giới cũng có thể bị khuynh đảo.</em></p><p id="100">Nhận ra đó không phải viễn tưởng, mồ hôi lạnh bất giác túa ra sau lưng ông.</p><p id="101"><em>Thật sự nguy hiểm… nếu hai người họ liên thủ!</em></p><p id="102">“Dù thế nào, có một điều chắc chắn: phải tiêu diệt chúng ngay khi phát hiện.”</p><p id="103">“Đó là lẽ đương nhiên. Cần xử lý triệt để cả băng nhóm để làm gương.”</p><p id="104">Hai vị công chúa trò chuyện với nụ cười nở trên môi, tạo nên một khung cảnh tựa hoa viên được gió xuân vuốt ve. Thế nhưng, chỉ cần lắng nghe nội dung lời nói, người ta sẽ lập tức nhận ra sự sắc lạnh ẩn bên trong.</p><p id="105">“Tình hình quả thật đáng lo. Nếu thương vong còn tiếp diễn, e rằng chúng tôi buộc phải tăng cường hải quân. Hết chuyện này tới chuyện khác. Riêng chuyến viễn chinh tới Đại Công quốc Yuz vừa rồi đã tiêu tốn một phần tư quốc khố.”</p><p id="106">“Nghe thì nói vậy, nhưng gánh nặng tái thiết giờ chẳng phải đang dồn lên vai Cress sao?”</p><p id="107">Trái ngược với tiếng thở dài của Công chúa Đế quốc, Revan mím môi, rõ ràng không hài lòng.</p><p id="108">Cuối cùng, trong đàm phán lãnh thổ, cậu buộc phải chấp nhận thỏa hiệp, tiếp nhận vùng Đại Công quốc Yuz hoang tàn. Việc mất đi Cent’luna—vùng đất béo bở—vào tay Đế quốc khiến sự bất mãn ấy càng thêm cay đắng.</p><p id="109">“Ôi chà, chẳng lẽ ta nghe thấy chút oán giận sao? Sau khi chúng ta đã vất vả ký kết hiệp ước? Lãnh thổ Cent’luna cũ được phân chia gần như ngang bằng—ta cho rằng đó đã là một nhượng bộ rất lớn từ phía Đế quốc.”</p><p id="110">Oliana khúc khích cười, nụ cười mang nét tinh nghịch.</p><p id="111">Rõ ràng, Đế quốc đã nhận ra giới hạn trong việc mở rộng, nên chỉ sáp nhập những khu vực đã phát triển của Cent’luna, còn những vùng kém phát triển—đòi hỏi đầu tư khổng lồ—thì đẩy sang cho Liên bang Tự do Cress. Bị dẫn dắt trong đàm phán, Revan chỉ đành nuốt trôi thực tế cay đắng ấy.</p><p id="112">Nhận ra bầu không khí gượng gạo trong phòng tiếp khách, Hiyuki chủ động chuyển đề tài.</p><p id="113">“Nhân nói về hải tặc… thành thật mà nói, ta còn chẳng biết chúng trông ra sao, nên hoàn toàn không biết nên bắt tay vào từ đâu. Có ai trong số các vị từng tận mắt thấy chúng chưa?”</p><p id="114">“Tương tự thôi. Ta cũng chỉ biết qua báo cáo. Nếu cần, ta có thể cung cấp tài liệu chi tiết sau.”</p><p id="115">“Ừm…”</p><p id="116">Gương mặt Hiyuki lộ rõ vẻ bối rối.</p><p id="117">Đúng lúc đó, Maroudo—vị kỵ sĩ đeo mặt nạ đang dựa tường—bỗng lên tiếng.</p><p id="118">“Nếu không ai có đề xuất tốt hơn, chi bằng hãy tới cảng, trực tiếp hỏi các chủ thuyền hoặc nạn nhân. Gần thị trấn cảng Quito có một biệt thự—từng thuộc về hoàng thất trước đây.”</p><p id="119">Quốc vương Collard liếc Maroudo bằng ánh mắt sắc bén, rồi gật đầu bổ sung:</p><p id="120">“Đúng vậy. Hiện nơi đó đang đóng cửa, nhưng vẫn thuộc quyền quản lý của chúng tôi. Vốn định sau này bán lại như một bãi biển tư nhân hoặc khu nghỉ dưỡng.”</p><p id="121">“Thú vị đấy. Nếu vậy, công chúa, chúng ta mua lại nơi đó thì sao?”</p><p id="122">Tengai—vẫn đứng cạnh Hiyuki—liếc sang hỏi ý kiến nàng. Có vẻ như kế hoạch “biệt thự khắp thế giới” của họ đang tiến triển thuận lợi.</p><p id="123">Thế nhưng, Hiyuki chỉ gõ nhẹ lên má, nét mặt khó đoán.</p><p id="124">“Hải tặc… biển… biệt thự ven bờ…”</p><p id="125">“Việc giao dịch có thể bàn sau. Trước mắt, biệt thự sẽ sẵn sàng đón khách chậm nhất là ngày mai. Nếu Điện hạ có ý định, có thể bắt đầu chuẩn bị ngay hôm nay. Ta cũng sẽ sắp xếp một mạo hiểm giả địa phương làm người dẫn đường.”</p><p id="126">Quốc vương Collard nhanh chóng thu xếp. Tuy nhiên, một tiếng “Hừm~” nữa lại thoát ra từ môi Hiyuki, khiến mọi người xung quanh nhìn nàng với vẻ khó hiểu.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c282491-giao-doan-6-ghen-ti-voi-hoa-hong" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'TSp1pD11dpZW53HB4ogg9MQbGg5Ay2PlNFcg1cA8';
        var comment_type = 'chapter';
        var comment_typeid = '285998';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'TSp1pD11dpZW53HB4ogg9MQbGg5Ay2PlNFcg1cA8';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23458');
    chapter_id = parseInt('285998');

    readingObject = {
        series_id: series_id,
        series_title: 'Kyuuketsu Hime wa Barairo no Yume o Miru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="TSp1pD11dpZW53HB4ogg9MQbGg5Ay2PlNFcg1cA8" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

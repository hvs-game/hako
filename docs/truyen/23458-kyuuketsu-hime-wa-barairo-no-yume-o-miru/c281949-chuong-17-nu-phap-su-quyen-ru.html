<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Kyuuketsu Hime wa Barairo no Yume o Miru - Chương 17 – Nữ Pháp Sư Quyến Rũ - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Một bé shota (thực ra đã hơn 20 tuổi) có cuộc sống éo le như bao main khác, đã được đầu thai sang thế giới khác sau khi gặp tai nạn, với cơ thể thuộc về một bé loli vampire (13 tuổi), nhân vật trong game mà cậu chơi ở...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="kn9E2dgwKRGmWGSr7bye5FXYf08WVODYFqjjqDJB">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281949-chuong-17-nu-phap-su-quyen-ru">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280941-chuong-16-cong-chua-gam-thet-gia-nhap-chien-tran"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281951-chuong-18-thuc-tai-nguy-tao"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281949-chuong-17-nu-phap-su-quyen-ru" style="background: url('https://i.hako.vn/ln/series/covers/s23458-4ebe0e3a-f75c-4c54-ab73-2d563201c2e8.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru">Kyuuketsu Hime wa Barairo...</a></h5>
                    <small><i class="fas fa-pen"></i>Sasaki Ichiro</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230379-tien-truyen-1-tro-lai">Khúc dạo đầu</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230570-minh-hoa">Vol 1: Cõi Tái Sinh (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c230571-minh-hoa">Vol 2: Biến cố ở Vương Đô (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c238833-minh-hoa">Vol 3: Thú vương của vùng biên cương (Done)</a></li>
                                        
                                                            <li class=""><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c248044-minh-hoa">Vol 4: Đế quốc hỗn loạn (Done)</a></li>
                                        
                                                            <li class="current"><a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/t35094-vol-5-hap-huyet-ma-than">Vol 5: Hấp Huyết Ma Thần (Đang tiến hành)</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c276203-chuong-1-phong-an-ma-than">
                                                                        Chương 1 – Phong Ấn Ma Thần
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c276639-chuong-2-cong-quoc-hap-huyet">
                                                                        Chương 2 – Công Quốc Hấp Huyết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c277155-chuong-3-ky-si-nha-tho">
                                                                        Chương 3 – Kỵ Sĩ Nhà Thờ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c277195-chuong-4-cai-ket-hung-trang-cua-ke-chu-muu">
                                                                        Chương 4 – Cái Kết Hùng Tráng của Kẻ Chủ Mưu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c277219-giao-doan-1-chuyen-hon-su-cua-quoc-vuong">
                                                                        Giao đoạn 1 – Chuyện Hôn Sự Của Quốc Vương
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278016-chuong-5-vi-giao-hoang-tre-tuoi">
                                                                        Chương 5 – Vị Giáo Hoàng Trẻ Tuổi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278080-chuong-6-lien-minh">
                                                                        Chương 6 – Liên Minh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278148-chuong-7-con-cuong-no-cua-nidhogg">
                                                                        Chương 7 – Cơn Cuồng Nộ của Nidhogg
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278162-chuong-8-hon-loan-tai-hoi-nghi">
                                                                        Chương 8 – Hỗn Loạn Tại Hội Nghị
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278192-chuong-9-doa-hoa-bi-giam-cam">
                                                                        Chương 9 – Đóa Hoa Bị Giam Cầm
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c278226-chuong-10-cuc-dien-roi-ren">
                                                                        Chương 10 – Cục Diện Rối Ren
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c279026-giao-doan-2-di-bien-tien-hoa">
                                                                        Giao đoạn 2 – Dị Biến Tiến Hóa
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c279083-chuong-11-oc-sen-xam-lang">
                                                                        Chương 11 – Ốc Sên Xâm Lăng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280190-chuong-12-tran-quyet-chien-luc-binh-minh">
                                                                        Chương 12 – Trận Quyết Chiến Lúc Bình Minh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280224-chuong-13-xoa-so-ma-thanh">
                                                                        Chương 13 - Xóa Sổ Ma Thành
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280267-chuong-14-xam-lang-thien-gioi">
                                                                        Chương 14 – Xâm Lăng Thiên Giới
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280870-giao-doan-3-hanh-trinh-truy-cau-canh-gioi-cua-mot-chien-binh">
                                                                        Giao đoạn 3 – Hành Trình Truy Cầu Cảnh Giới Của Một Chiến Binh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280920-chuong-15-con-ran-cua-eden">
                                                                        Chương 15 – Con Rắn của Eden
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280941-chuong-16-cong-chua-gam-thet-gia-nhap-chien-tran">
                                                                        Chương 16 – Công Chúa Gầm Thét Gia Nhập Chiến Trận
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281949-chuong-17-nu-phap-su-quyen-ru">
                                                                        Chương 17 – Nữ Pháp Sư Quyến Rũ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281951-chuong-18-thuc-tai-nguy-tao">
                                                                        Chương 18 – Thực Tại Ngụy Tạo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281983-giao-doan-4-dung-gia-lang-du">
                                                                        Giao đoạn 4 – Dũng Giả Lãng Du
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Vol 5: Hấp Huyết Ma Thần (Đang tiến hành)</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 17 – Nữ Pháp Sư Quyến Rũ</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281949-chuong-17-nu-phap-su-quyen-ru#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,956 từ - Cập nhật: 
                        <time class="topic-time timeago" title="30-12-2025 01:34:00" datetime="2025-12-30T01:34:00+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 17 – Nữ Pháp Sư Quyến Rũ</p>
                    <p id="1">Trong khi ba tên ngốc bám đuôi si tình đang lao vào một cuộc ẩu đả vặt vãnh ở gần đó, thì ở một nơi khác, một trận chiến nghiêm túc hơn đã chính thức khai màn.</p><p id="2">“Haaaa!!”</p><p id="3">Quỷ Vương Công Chúa Gầm Thét – Kohaku là người ra tay trước. Song kích trong tay cô xoay tròn, cuộn lên thành một cơn lốc hung bạo.</p><p id="4">Bernardo lập tức nhận ra, <em>‘Đối thủ cực kỳ nguy hiểm.’</em></p><p id="5">Hắn không hề chần chừ, lập tức phản công.</p><p id="6">Hắn thuần thục dùng song kiếm đối phó với cơn lốc công kích, nhưng lực đánh khủng khiếp vẫn khiến hắn chao đảo. Tầm với, trọng lượng lẫn tốc độ vũ khí của Kohaku đều vượt xa hắn. Người phụ nữ trước mắt hắn không phải kiểu được huấn luyện theo khuôn phép, đòn đánh của cô ta hoang dã, khó lường, hoàn toàn trái ngược với kiếm thuật điêu luyện mà hắn từng đối mặt mới nãy. Thế nhưng chính những chuyển động bản năng, thô ráp ấy lại phá vỡ nhịp điệu và sự tập trung của hắn.</p><p id="7">Song kiếm và song kích va chạm liên hồi, khi thì đẩy bật, khi thì chặn đứng lẫn nhau. Mỗi lần giao kích đều bắn ra tia lửa và ánh chớp, soi sáng không gian như một màn pháo hoa. Dư chấn từ các đòn đánh lan khắp sàn và tường hành lang.</p><p id="8">Cuộc công kích dồn dập như mưa trút, không cho phép lùi bước. Thỉnh thoảng, vũ khí sượt qua da thịt, hất tung những tia máu mới vào không trung. Nhưng với những kẻ không còn thuộc về loài người này, những vết thương ấy chẳng khác nào trầy xước.</p><p id="9">Thoạt nhìn, thế trận có vẻ ngang bằng—nhưng sự cân bằng ấy mong manh vô cùng. Bernardo, từ một con người đã hóa thành Huyết Tộc, đối đầu với Kohaku—một Ma tộc sinh ra đã là Ogre, chủng tộc nổi danh với sức chịu đựng và khả năng tái sinh. Nếu ví Bernardo như một chiếc xe sang cao cấp, thì Kohaku chính là một chiếc xe đua thuần túy.</p><p id="10">Dù Bernardo có lợi thế về trang bị, kỹ thuật và chiêu thức, thì lối chiến đấu không biết lùi của Kohaku vẫn cho phép cô ngang bằng, thậm chí lấn át hắn, bất chấp việc phải chịu thương tổn hay bất lợi về kỹ thuật.</p><p id="11">Hơn nữa, Bernardo vừa trải qua một trận tử chiến với Maroudo, thể lực đã ở sát ngưỡng cạn kiệt. Trái lại, Kohaku thì tràn đầy khí thế, ngọn lửa chiến ý trong cô bừng cháy như mặt trời không bao giờ tắt.</p><p id="12">Chỉ sau vài khoảnh khắc giao phong, Bernardo bắt đầu hụt hơi.</p><p id="13">“Kết Giới Trói Buộc!”</p><p id="14">Thấy thủ lĩnh có dấu hiệu bất lợi, các (cựu) thánh kỵ sĩ lập tức tản ra, tạo thành một trận hình ngũ mang tinh bao vây Kohaku ở trung tâm.</p><p id="15">“Kích hoạt kết giới! Cường độ tối đa! Khởi—haaargh!”</p><p id="16">Tên kỵ sĩ đang chỉ huy đột ngột bị đánh bay.</p><p id="17">“—Có ta ở đây thì đừng hòng, nhóc con. Dù sao thì ta vẫn là sư phụ của bọn chúng.”</p><p id="18">Đòn đánh ấy đến từ Thú Vương.</p><p id="19">Một trong năm điểm then chốt của kết giới đã bị phá hủy, đội hình lập tức tan rã. Bốn thánh kỵ sĩ còn lại liếc nhìn nhau, rồi quyết định trước tiên phải loại bỏ chướng ngại vật này.</p><p id="20">‘Ồ?’</p><p id="21">Ngài Thú Vương vẫn dõi theo tên kỵ sĩ vừa bị đánh bay ra xa, trúng một đòn song chưởng cực nặng mà vẫn đứng vững như không.</p><p id="22">“Ta cứ tưởng cú đánh ấy đã nghiền nát xương hông hắn rồi. Vậy mà đòn trực diện lại không có tác dụng… mà cũng phải, một phàm nhân thì không thể sống sót sau đòn đó.”</p><p id="23">Ngay lúc ấy, một kỵ sĩ khác lao tới với đòn đâm thương. Thú Vương né sang bên, phản kích bằng một cú lên gối. Tên kỵ sĩ giơ khiên đỡ lấy, định dùng sức mạnh huyết tộc để áp đảo.</p><p id="24">Ông khéo léo phá thế, khiến đối phương mất thăng bằng trong khoảnh khắc. Nắm lấy cơ hội, ông tung một chưởng vào ngực hắn, nơi đang được che chắn bởi giáp ngực.</p><p id="25">“Hừm!”</p><p id="26">Ngay sau đó, tên kỵ sĩ ôm ngực, gào lên đau đớn: “Harrgh!!?”.</p><p id="27">Thú Vương lập tức lách ra sau lưng, siết cổ hắn.</p><p id="28"><em>Bịch!</em></p><p id="29">Ông ném xác tên kỵ sĩ—đôi mắt vẫn mở trừng trừng vì kinh hãi—xuống sàn, rồi nhặt lấy thanh Cross Sword rơi ra, đâm xuyên tim hắn.</p><p id="30"><em>…Dù chết một cách bi thảm, trên gương mặt tên kỵ sĩ lại trông có vẻ thanh thản.</em></p><p id="31">Thú Vương vẫn không hề lơ là. Ông lùi ra, quay sang bốn kỵ sĩ còn lại.</p><p id="32">“Nếu tim bị chấn động thì bất động, nếu mạch máu lên não bị cắt thì ngất… vậy thì, chúng là thứ gì, nếu không phải con người?”</p><p id="33">Khi Thú Vương buông lời khinh miệt ấy, một cảm giác an tâm khó hiểu lại lan tỏa trong hàng ngũ thánh kỵ sĩ.</p><p id="34">◆◇◆◇</p><p id="35">Ở bên ngoài, cục diện thoạt nhìn có vẻ chuyển biến tích cực khi các Thập Tam Ma Tướng xuất hiện đối đầu với Nidhogg. Dù thương vong được giảm thiểu, nhưng nghịch lý thay, hỗn loạn lại càng gia tăng.</p><p id="36">Hành vi của Nidhogg chuyển sang trạng thái điên cuồng đúng nghĩa. Vừa mới đây, nó dường như vẫn hành động có mục đích, vậy mà đột ngột bắt đầu quẫy loạn, vặn xoắn, nhảy nhót không kiểm soát, liên tục sử dụng Ma Nhãn, bắn tia năng lượng và phóng đạn Huyết Tộc một cách vô định.</p><p id="37">“Trông giống một cơn vùng vẫy tuyệt vọng trước khi chết hơn là bất kỳ chiến thuật nào…”</p><p id="38">Utsuho khẽ nhận xét. Bản thể phân thân của Susa gật đầu tán thành.</p><p id="39">“Đúng như cô thấy. Cơn cuồng loạn này chắc chắn sẽ tiêu hao năng lượng của nó rất nhanh. Phân tích của ta cho thấy nó đã từ bỏ mọi mục tiêu ban đầu, chỉ còn hành động theo bản năng sinh tồn cơ bản.”</p><p id="40">“Hm? Vậy thì rất có thể kẻ điều khiển nó đã không còn ở đó nữa. Chẳng lẽ cuộc tấn công của Sasaki và những người khác đã tiêu diệt được chỉ huy địch cùng với các Arumamis, hay là…”</p><p id="41">Utsuho trầm ngâm, sắc mặt dần tối lại. Đúng lúc ấy, phía sau cô, Shiori—người đang dệt nên một mạng lưới sợi tơ tinh vi—đột nhiên tái mặt.</p><p id="42">“!! Cái gì thế này!?”</p><p id="43">“Có chuyện gì vậy, Shiori?” Utsuho xoay người thanh nhã, che miệng bằng chiếc quạt xếp, hỏi. Shiori đang bận rộn với những sợi tơ liền cúi rạp người, giọng gấp gáp.</p><p id="44">“Đây có lẽ là sai lầm nghiêm trọng nhất trong sự nghiệp của tôi. Tôi mải tập trung vào mối đe dọa bên ngoài mà bỏ quên lũ chuột đang chui rúc bên trong!”</p><p id="45">“Cái gì!?”</p><p id="46">“Ngay lúc này, ban đầu có bảy… giờ đã giảm một, còn sáu kẻ địch. Trong đó, một kẻ được xác định là chỉ huy—Huyết Tổ.”</p><p id="47">“Kẻ chủ mưu của địch đã xâm nhập hoàng cung!? Chúng vào bằng cách nào!?”</p><p id="48">“Lối xâm nhập vẫn chưa rõ, như thể chúng vượt qua cả bầu trời mà tới—À!”</p><p id="49">Một tia nhận thức lóe lên. Shiori hít mạnh, vội đưa tay che miệng. Gần như đồng thời, Susa cũng đi đến cùng kết luận, trầm giọng xác nhận.</p><p id="50">“Đúng vậy. Đợt bắn đạn Huyết Tộc vô tội vạ ban đầu rất có thể chỉ là nghi binh, nhằm để thủ lĩnh địch lén xâm nhập lâu đài.”</p><p id="51">“…Nói cách khác, chúng ta đã bị dắt mũi từ đầu tới cuối sao? Cô nói một kẻ đã bị vô hiệu hóa. Vậy những kẻ còn lại đang giao chiến với ai?”</p><p id="52">Shiori, vẻ mặt đầy giằng xé nội tâm, đáp lời. Utsuho thì cắn nhẹ môi, trầm tư suy nghĩ.</p><p id="53">“Một phía là Ngài Thú Vương và cô Kohaku đang đối đầu với địch. Phía còn lại, Maroudo đang cùng với… một nam Quỷ tộc. Nhưng thân phận của kẻ đó thì vẫn chưa xác định.”</p><p id="54">“Hm, Maroudo à? Hắn ta thế nào rồi?”</p><p id="55">Utsuho hỏi khi đứng dậy. Dù không nói ra, ý định của cô đã rõ—đích thân đi đối mặt thủ lĩnh địch. Susa, hiểu được mức độ nghiêm trọng, không ngăn cản. Theo sau cô là những cận thần trung thành, cả ma lẫn thần.</p><p id="56">“Thú Vương và Kohaku đang cầm chân đối phương, nhưng…”</p><p id="57">Shiori nói rồi chần chừ, lắc đầu như không tin vào chính lời mình.</p><p id="58">“Maroudo và tên Oni chưa rõ danh tính kia dường như… đang cãi nhau với thủ lĩnh địch. Nội dung thì, ừm… xoay quanh việc ai sẽ cưới Công chúa…”</p><p id="59">“…Rốt cuộc là có ý nghĩa quái gì vậy?”</p><p id="60">Nghe đến đó, Utsuho suýt vấp ngã, quay phắt lại nhìn Shiori với vẻ không thể tin nổi.</p><p id="61">Trong khi đó, Susa—giờ chỉ còn một mình—cúi mắt nhìn xuống mặt đất, nhưng dường như ánh nhìn ấy xuyên thấu sâu hơn thế, như đang suy ngẫm điều gì rất xa xôi.</p><p id="62">“…Hừm, xem ra chúng ta đã đến đúng lúc.”</p><p id="63">◆◇◆◇</p><p id="64">“Haaaa!!”</p><p id="65">Cơn bão công kích điên cuồng, xen lẫn những tiếng thét chiến đấu, dồn dập trút xuống Bernardo. Lối tiếp cận của đối thủ hoàn toàn không tô vẽ hay mưu mẹo—chỉ có sức mạnh thuần túy và sự linh hoạt được phô bày đến cực hạn.</p><p id="66">Hàng thủ của Bernardo, được dệt nên từ kiếm thuật tinh luyện, quả thực đáng gờm. Nhưng mọi chiến binh đều có giới hạn. Hào quang của hắn—từng rực rỡ như ngọn đuốc—giờ đây đã mờ đi trông thấy, nguồn dự trữ đang cạn kiệt, tiến sát bờ sụp đổ.</p><p id="67">“Haaa!”</p><p id="68">Nhận ra tình thế nguy cấp, Bernardo gom nốt tàn dư sức lực, truyền phần hào quang còn sót lại vào song kiếm cho một đòn đánh liều mạng cuối cùng. Hắn lao vút về phía trước, tung ra một nhát chém chéo từ phải sang trái, tựa như mũi tên bật khỏi dây cung.</p><p id="69">“Đồ bẩn thỉu!”</p><p id="70">Kohaku đỡ đòn bằng song kích, phần lưỡi giao nhau chống đỡ thế công—một động tác mô phỏng chính kỹ thuật của Bernardo.</p><p id="71">Cú va chạm dữ dội đến mức mặt đất dưới chân Kohaku sụp lún mạnh.</p><p id="72">“Song Bá Vương Thập Tự Trảm!!”</p><p id="73">Dốc toàn lực, Bernardo tiếp tục ép công. Lưỡi kiếm trái vạch một quỹ đạo song song, hội tụ với lưỡi còn lại thành một chữ thập tử thần. Sức mạnh hợp nhất xé toạc thế thủ của Kohaku, song kích chịu không nổi, tiếng chấn động vang dội hất cô văng ra sau.</p><p id="74">Đòn gia cường từ thanh kiếm thứ hai không chỉ xuyên phá mà còn nghiền nát phòng ngự của song kích, đâm sâu vào trong. Một tiếng trầm đục vang lên khi bàn tay phải của Kohaku—vẫn nắm chặt chuôi kích đã vỡ—bị chém đứt bay lên ca.</p><p id="75">“Đừng tưởng đã hạ được taaaaaaa!!”</p><p id="76">Không hề nao núng, Kohaku ném mạnh chuôi kích trong tay trái như lao phóng, đồng thời tung một cú đá ngược lên.</p><p id="77">“Kuhh!”</p><p id="78">Bernardo vặn người né được chuôi kích bay tới, nhưng cú đá theo sau đã trúng thẳng vào hàm, khiến hắn suýt mất ý thức. Kohaku lập tức bật lên, cắn chặt chuôi kích còn lại giữa hàm răng, rồi bằng sức cắn thuần túy, phóng nó về phía Bernardo.</p><p id="79">“Gaaarrrrg!!”</p><p id="80">Trúng đích. Đầu chuôi kích đâm thẳng vào tim Bernardo. Thế nhưng, cái giá của việc cố quá sức cùng lượng máu mất đi khiến Kohaku cũng gục xuống ngay sau đó.</p><p id="81">“Ngài Bernardo!?!”</p><p id="82">Khi Thú Vương vừa tiễn thêm một kẻ địch, ba thánh kỵ sĩ còn sống sót thét lên trong tuyệt vọng.</p><p id="83">“—Ối chà. Hóa ra bọn họ mong manh hơn ta tưởng.”</p><p id="84">Giữa cơn hỗn chiến bao trùm cả ba, kẻ mang mặt nạ trắng khẽ lẩm bẩm, thở dài khi chứng kiến Bernardo ngã xuống.</p><p id="85">“Ngươi nghĩ đây là lúc để bình luận sao?”</p><p id="86">Maroudo vừa nói vừa tung một chuỗi công kích đa tầng—đan xen hư chiêu—về phía kẻ đeo mặt nạ. Đối phương né tránh bằng những động tác gần như khoa trương, được hỗ trợ bởi ma pháp và thanh Galient Sword. Cùng lúc đó, thanh Caladbolg, bao phủ bởi lửa và lôi điện, quét tới, như muốn kết liễu cả hai.</p><p id="87">“Haaa… chậc.”</p><p id="88">Cả hai đồng thời lùi lại. Vị trí vừa rời đi bị lưỡi xoắn ốc của Caladbolg khoét thành một cơn lốc, rồi nó lại rút về theo đúng quỹ đạo ban đầu.</p><p id="89">Kuin tặc lưỡi khó chịu, chuẩn bị tung đòn ma pháp tiếp theo, nhưng Galient Sword - Gia Liệt Kiếm, đúng như tên gọi của nó, đã uốn lượn như rắn, lao tới tập kích.</p><p id="90">“Đê tiện.”</p><p id="91">Kuin bật lùi một bước dài để né. Trận chiến rơi vào thế giằng co, mỗi bên lặp lại hành động của đối phương trong một vòng lặp bất tận.</p><p id="92">“……Không biết các ngươi thế nào, chứ ta thì không hứng thú đánh nhau với hai quả bom mùi này mãi đâu. Ừm, xem ra chỉ còn ta mới có thể kết thúc chuyện này.”</p><p id="93">Khi kẻ đeo mặt nạ kết thúc lời nói—kèm biểu cảm kiểu (´・ω・`)—Maroudo và Kuin đồng thời cảm nhận được nguy hiểm, lập tức rời vị trí.</p><p id="94">Hành động tiếp theo của hắn, kẻ tự xưng là “Pahlen Accen Apostrophe Ohm”, hay đơn giản là “Shima” theo cách Hiyuki gọi, lại giản dị đến bất ngờ. Hắn chủ động tháo mặt nạ.</p><p id="95"><em>Vút—</em> Mái tóc trắng dài đổ xuống như tuyết mới rơi.</p><p id="96">Hắn tiện tay vuốt gọn bằng đôi găng, để lộ gương mặt thật trước mọi người.</p><p id="97">—Đẹp.</p><p id="98">Một tiếng nuốt khan vang lên từ những kẻ có mặt.</p><p id="99">Đôi mắt xanh nhạt của hắn lấp lánh như bầu trời không tì vết. Gương mặt ấy hòa trộn nét nam tính và nữ tính—vượt qua mọi khuôn khổ giới tính để chạm tới sự hoàn mỹ.</p><p id="100">Sức hấp dẫn ấy mãnh liệt đến mức như hiện thân của thần mỹ lệ, hút chặt ánh nhìn của tất cả. Maroudo cũng không ngoại lệ, nhưng trong lòng hắn lại dâng lên một cảm giác quen thuộc kỳ lạ.</p><p id="101">—Giống đến đáng sợ. Như thể được đúc từ cùng một khuôn với Công chúa.</p><p id="102">Một nam một nữ. Một mái tóc đen, một mái tóc trắng. Một cậu bé, rồi một cô gái. Đôi mắt đỏ thẫm đối diện xanh nhạt… Maroudo ngây người, như đang nhìn thấy hai mặt của cùng một đồng xu. Trong khi đó, Pahlen nở một nụ cười đẹp đến mê hoặc.</p><p id="103">Trái tim họ đập dồn dập một cách vô thức, phản xạ thuần túy trước cảnh tượng trước mắt.</p><p id="104">“Được rồi, màn diễn đến đây là kết thúc. Cuộc gặp gỡ của chúng ta tuy ngắn ngủi, nhưng trò chơi đã đến lúc hạ màn.”</p><p id="105">Pahlen đặt tay lên ngực, cúi chào theo kiểu hiệp sĩ. Khi ngẩng đầu, nụ cười để lộ hàm răng trắng như ngọc.</p><p id="106">Gần như đồng thời, Kuin đổ gục, và Maroudo cũng ngã sầm xuống đất.</p><p id="107">“—Đó là tấn công tinh thần à?”</p><p id="108">Thú Vương cau có nhận xét. Ngay cả ông cũng thấy chân mình chao đảo.</p><p id="109">“Chuẩn. Ta đã tối đa hóa kỹ năng chủng tộc «Ma Nhãn» và «Mê Hoặc». Ngoại trừ quái vật cấp boss, không ai miễn nhiễm. Các ngươi còn tỉnh được sau đòn đó cũng đáng khen… dù ta chỉ dùng cấp 3. Nhưng vì các ngươi phiền phức hơn mức bình thường, ta sẽ nâng lên, nói sao nhỉ, cấp 10. Giờ thì, chúc ngủ ngon.”</p><p id="110">Ngay sau tuyên bố ấy, Maroudo hoàn toàn bất tỉnh. Thú Vương cũng chỉ trụ thêm được vài giây trước khi quỳ sụp xuống.</p><p id="111">“Đi thôi.”</p><p id="112">Những thánh kỵ sĩ còn sống, ánh mắt vô hồn như xác sống, lập tức tuân lệnh.</p><p id="113">“À, tiện thể—đảm bảo kết liễu chúng.”</p><p id="114">Pahlen ra hiệu về phía Maroudo đang gục ngã và Kohaku hấp hối, rồi vừa huýt sáo vừa rời đi, không ngoái đầu lại. Các thánh kỵ sĩ lập tức giơ kiếm, nhắm thẳng vào điểm yếu chí mạng.</p><p id="115">Không do dự, lưỡi kiếm giáng xuống—nhưng ngay trước khi mũi kiếm chạm vào tử huyệt, một cơn gió dữ dội xoáy qua hành lang tĩnh lặng của Xích Ngọc Thành, mang sắc đen thẫm hòa lẫn đỏ hồng.</p><p id="116">Kiếm của các kỵ sĩ bị hất văng khỏi tay trước khi họ kịp hiểu chuyện gì xảy ra, tiếp đó là đầu của chính họ, nét mặt đông cứng trong kinh ngạc. Kẻ tấn công không buồn dừng lại nơi xác chết, mà tiến thẳng tới Kohaku, nối lại cánh tay bị chém và chữa trị cho cô trong một cơn mưa máu.</p><p id="117">Pahlen, đã đi được một đoạn, dừng lại ngoái nhìn, khóe môi nhếch lên.</p><p id="118">Trong tầm mắt hắn, đứng trước Kohaku, là một thiên sứ với đôi cánh đen tuyền.</p><p id="119">“Bình tĩnh, cứu viện đến rồi.”</p><p id="120">Thiên sứ dịu giọng trấn an khi chăm sóc những người khác, rồi đột ngột đứng thẳng, bước về phía Pahlen—kẻ đang vẫy tay đầy phấn khích.</p><p id="121">“Cuối cùng thì em cũng đến, Hiyuki thân yêu của ta! Ta đã mong chờ khoảnh khắc này từ lâu rồi.”</p><p id="122">Đáp lại, thiên sứ—Hiyuki—nâng cao thanh đại kiếm hai tay ‘Gilles de Rais’, lưỡi kiếm trong suốt, nắm chặt bằng tay phải.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c280941-chuong-16-cong-chua-gam-thet-gia-nhap-chien-tran" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/23458-kyuuketsu-hime-wa-barairo-no-yume-o-miru/c281951-chuong-18-thuc-tai-nguy-tao" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'kn9E2dgwKRGmWGSr7bye5FXYf08WVODYFqjjqDJB';
        var comment_type = 'chapter';
        var comment_typeid = '281949';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'kn9E2dgwKRGmWGSr7bye5FXYf08WVODYFqjjqDJB';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('23458');
    chapter_id = parseInt('281949');

    readingObject = {
        series_id: series_id,
        series_title: 'Kyuuketsu Hime wa Barairo no Yume o Miru',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="kn9E2dgwKRGmWGSr7bye5FXYf08WVODYFqjjqDJB" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

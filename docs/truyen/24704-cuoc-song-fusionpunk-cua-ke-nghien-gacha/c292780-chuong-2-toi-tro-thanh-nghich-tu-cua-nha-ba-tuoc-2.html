<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha - Chương 2: Tôi trở thành nghịch tử của nhà Bá Tước (2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Dù thế giới này là dark fantasy, tôi vẫn đi tìm dopamine của ngày hôm nay.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="JN6wrSfCsA5qiA7gB9d8bzRPyWhcJ9MWSryEB7PL">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292780-chuong-2-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292780-chuong-2-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-2" style="background: url('https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha">Cuộc Sống Fusionpunk của...</a></h5>
                    <small><i class="fas fa-pen"></i>Đóa Hoa Lặng Lẽ Tàn</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/t35857-1-50">1-50</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc">
                                                                        Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292780-chuong-2-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-2">
                                                                        Chương 2: Tôi trở thành nghịch tử của nhà Bá Tước (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1-50</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2: Tôi trở thành nghịch tử của nhà Bá Tước (2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292780-chuong-2-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,110 từ - Cập nhật: 
                        <time class="topic-time timeago" title="19-01-2026 05:45:16" datetime="2026-01-19T05:45:16+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2: Tôi trở thành nghịch tử của nhà Bá Tước (2)</p>
                    <p id="1">Thế giới này đã tàn lụi.</p>
<p id="2">Thứ Bụi Đen quái đản bóp méo cội nguồn của mọi sự sống, cùng lũ quái vật sinh ra từ nó, đã ngấu nghiến thế giới này bằng sự phàm ăn kinh tởm.</p>
<p id="3">Đức tin khắc ghi trong thánh kinh của Chúa.</p>
<p id="4">Sự huy hoàng của những nền văn minh từng thống trị các đại lục.</p>
<p id="5">Nguyên lý ma thuật mà các pháp sư hằng tôn thờ để đạt đến cảnh giới siêu việt.</p>
<p id="6">Tất cả đều tắt lịm, chìm nghỉm trong màn sương đen sền sệt.</p>
<p id="7">Nhưng nhân loại đã có sự chuẩn bị.</p>
<p id="8">Vì duy trì nòi giống, vì sinh tồn, vì Chúa, và vì sự siêu việt.</p>
<p id="9">Sau khi một đại tiên tri nhìn thấy trước Sự Ăn Mòn Vĩ Đại này, một dự án quy mô vượt qua mọi biên giới và giống loài đã được khởi động.</p>
<p id="10">Con người xây những bức tường cao hơn mọi tòa tháp.</p>
<p id="11">Họ nối chúng lại, tạo nên một chiến lũy dài hơn bất kỳ dãy núi nào trên thế gian.</p>
<p id="12">Họ tạo ra một cái nôi để nhân loại đứng vững trước sự diệt vong.</p>
<p id="13">Đó chính là Aden, hay còn được gọi là Thành phố Ark.</p>
<p id="14">Và đó là đại ý cái cốt truyện của thế giới khác mà tôi vừa rơi vào.</p>
<p id="15">"Nhạt nhẽo và giáo điều."</p>
<p id="16">Đó là lời tôi chốt lại.</p>
<p id="17">Thà là một câu chuyện tôi từng biết, hay một thế giới đầy rẫy những mô típ cũ rích có phải tốt hơn không?</p>
<p id="18">'Đời mình cuối cùng cũng đổi vận rồi sao?'</p>
<p id="19">Đó là suy nghĩ đầu tiên khi tôi nhập vào thân xác của Cedric.</p>
<p id="20">Tim tôi đập thình thịch vì sung sướng, mãi cho đến khi nhận ra đây là một dị giới hoàn toàn xa lạ.</p>
<p id="21">Theo lẽ thường, xuyên không thì phải có quà khuyến mãi chứ, kể cả khi không ghi trong điều khoản sử dụng.</p>
<p id="22">Những kịch bản kinh điển của các bộ truyện dị giới tôi từng đọc lướt qua trong đầu, khiến tôi run lên vì phấn khích.</p>
<p id="23">'Chẳng lẽ mình thực sự không có sức mạnh gì sao...?'</p>
<p id="24">Đúng là chẳng có gì sất.</p>
<p id="25">Cedric là một thằng bất tài.</p>
<p id="26">Ngoài cái mã đẹp trai ra thì đúng chuẩn "thùng rỗng kêu to", võ thuật không biết, ma thuật cũng mù tịt.</p>
<p id="27">Việc tôi nhập hồn vào hắn cũng chẳng thay đổi được sự thật phũ phàng đó.</p>
<p id="28">'Bảng trạng thái? Hệ thống? Thông tin nhân vật? Lựa chọn?'</p>
<p id="29">Tôi tìm mỏi mắt cũng chẳng thấy cái bảng trạng thái nào để đảm bảo cho một cuộc đời "bá đạo" chỉ bằng vài cú click chuột.</p>
<p id="30">Cả cái bảng lựa chọn xuất hiện ngay trước khi tôi nhảy lầu cũng biến mất tăm.</p>
<p id="31">Nhưng thôi, cũng được.</p>
<p id="32">Thời buổi này nhân vật chính đâu cần nhất thiết phải tài năng xuất chúng.</p>
<p id="33">Xu hướng bây giờ là "harem fan-service", chất lượng của các em gái mới là vấn đề nghiêm trọng.</p>
<p id="34">Chẳng lẽ cứ sinh ra là đàn ông thì phải lập chiến công hiển hách sao?</p>
<p id="35">Sống vùi mình trong rừng hoa thơm cỏ lạ chẳng phải là hạnh phúc sao?</p>
<p id="36">Gu của tôi là một thánh nữ ngực bự (còn trinh), một nữ pháp sư tsundere, và một cô hầu gái không thể cưỡng lại những yêu cầu hư hỏng của chủ nhân, nhưng mà...</p>
<p id="37">Chẳng có gì cả.</p>
<p id="38">'Cedric, tao xin mày đấy? Làm ơn chết quách ở cái xó xỉnh nào đó không ai biết đi. Đừng làm ô uế gia tộc nữa.'</p>
<p id="39">'Tự sát đi. Tự sát quách đi cho rồi. Tao không chịu nổi mỗi khi nhìn thấy mặt mày.'</p>
<p id="40">'Nghĩ đến việc tao chảy chung dòng máu với mày, tao thấy thật kinh tởm.'</p>
<p id="41">Thay vào đó, tất cả những gì tôi có là bà chị gái ác mồm tên 'Arbel', người dường như nắm thóp mọi điểm yếu của tôi.</p>
<p id="42">Thôi được rồi.</p>
<p id="43">Vẫn còn một mô típ kinh điển khác của truyện dị giới: quản lý lãnh địa.</p>
<p id="44">'Haa...'</p>
<p id="45">Nhưng Gia tộc Montraven cũng chẳng phải thứ dữ dằn gì.</p>
<p id="46">Trong quá khứ, họ từng là đại quý tộc của đế chế cai trị Thành phố Ark, nhưng sau khi mạch ma thuật bị đứt đoạn 100 năm trước, lợi ích của họ đã bị ngấm ngầm tước đoạt, giờ chỉ còn là một gia đình giàu xổi với cái vỏ rỗng tuếch. Chỉ có thế thôi.</p>
<p id="47">Tôi sẽ không bao giờ quên nỗi thất vọng khi mọi kỳ vọng của mình tan thành mây khói.</p>
<p id="48">Nhưng đó là do tôi kỳ vọng quá cao thôi. Nếu nghĩ theo cách bình thường thì sao?</p>
<p id="49">Cũng không tệ.</p>
<p id="50">Tôi đã làm được điều cấm kỵ nhất trong đám tang: đội mồ sống dậy, đúng không?</p>
<p id="51">Thêm vào đó...</p>
<p id="52">Dẫu là nhà giàu hết thời thì cũng đủ ăn sung mặc sướng ba đời.</p>
<p id="53">"Này."</p>
<p id="54">"Vâng, thiếu gia Cedric."</p>
<p id="55">"Ta thấy hơi nhạt miệng."</p>
<p id="56">"Vâng! Tôi sẽ mang món quen thuộc lên ngay!"</p>
<p id="57">Người quản lý sòng bài, nãy giờ vẫn đứng xoa tay cạnh bàn cược, bưng ra một thứ tuyệt hảo trên khay bạc.</p>
<p id="58">Một ly cocktail nền Tequila trong chiếc ly thủy tinh trong suốt, pha với nước ép cà chua và chanh, bên trong là một con hàu tươi sống nguyên con.</p>
<p id="59">Món cocktail được gọi là 'Oyster Shooter'.</p>
<p id="60">"Chà, đúng là nó rồi. Đã thật."</p>
<p id="61">Ngay khi tôi nghiêng ly dốc thẳng vào miệng, hương vị của biển cả tràn ngập khoang miệng cùng men rượu Tequila.</p>
<p id="62">Vị ngọt béo thanh tao và sạch sẽ của con hàu, hòa quyện với vị chua sắc của cà chua và chanh, thực sự đáng được khen ngợi.</p>
<p id="63">Thêm vào đó là cảm giác rát nhẹ của khói thuốc trong phổi...</p>
<p id="64">"Phù..."</p>
<p id="65">Đây chính là thiên đường.</p>
<p id="66">Những quán bar hàu ở Las Vegas chợt hiện về trước mắt tôi.</p>
<p id="67">"Ưm, thiếu gia. Nó ngon đến thế sao ạ?"</p>
<p id="68">"Muốn thử một chút không?"</p>
<p id="69">"Ôi, kẻ nhà quê như tôi sao dám ăn món quý giá thế này."</p>
<p id="70">Thành phố Ark, bốn bề bị vây kín bởi những bức tường, về mặt chính thức thì không có biển.</p>
<p id="71">Đương nhiên, chẳng có vùng duyên hải nào để nước ngọt và nước mặn giao thoa.</p>
<p id="72">Trong môi trường như vậy, những con hàu tươi sống có thể ăn gỏi xứng đáng với bất cứ cái giá nào.</p>
<p id="73">Giá của ly Oyster Shooter này là 100.000 bios mỗi ly.</p>
<p id="74">Tôi vừa nuốt trọn mồ hôi nước mắt cả tháng trời của một người lao động bình thường chỉ trong một ngụm.</p>
<p id="75">"Ta sẽ bao ngươi một ly nếu ván này ta thắng."</p>
<p id="76">Gật đầu với người chia bài đang tạm dừng, tôi cầm lên năm cọc chip màu tím.</p>
<p id="77">"A, không... Thiếu gia, hôm nay ngài sao thế?"</p>
<p id="78">Mắt người quản lý mở to, cố gắng tính toán con số trong hoảng loạn.</p>
<p id="79">"Suỵt."</p>
<p id="80">Sự im lặng bao trùm.</p>
<p id="81">Giai điệu Jazz êm dịu từ máy hát cũng dần phai nhạt.</p>
<p id="82">Khoảnh khắc này, khi ý thức hội tụ về một điểm duy nhất, và tôi cảm nhận rõ nhịp đập nơi sâu thẳm trái tim mình.</p>
<p id="83">Player.</p>
<p id="84">Banker.</p>
<p id="85">Tie.</p>
<p id="86">Trên chiếc bàn gỗ gụ trải thảm sang trọng, chỉ có ba khu vực hiện lên rõ nét.</p>
<p id="87">"...Chỗ này có vẻ ổn."</p>
<p id="88">Tôi đẩy đống chip vào ô Tie.</p>
<p id="89">Cửa hòa. Khi điểm của Player và Banker bằng nhau, bạn ăn gấp 8 lần.</p>
<p id="90">Có thể nói, đây chính là cái công tắc khốn kiếp biến trò Baccarat, vốn chẳng khác gì trò tung đồng xu, thành một canh bạc thực thụ.</p>
<p id="91">"C-Cược hòa. 5 triệu bios."</p>
<p id="92">Người chia bài vốn luôn giữ vẻ điềm tĩnh giờ trông đầy bối rối, liên tục liếc nhìn quản lý.</p>
<p id="93">Cũng phải thôi, 5 triệu bios mà.</p>
<p id="94">Số tiền ngang ngửa mức lương khởi điểm của một nhân viên công ty danh giá trong thành phố.</p>
<p id="95">Tuyệt đối không phải con số nhỏ.</p>
<p id="96">Một số tiền điên rồ để đặt vào cái xác suất cỏn con chỉ 9,52%.</p>
<p id="97">"N-Ngài chắc chứ, Thiếu gia? Là 5 triệu bios đấy? N-Ngài thực sự cược hòa sao?"</p>
<p id="98">Kể lể hơi dài dòng, nhưng như các bạn thấy đấy, dù không nhận được đặc quyền dị giới nào, tôi cũng chẳng có gì phàn nàn quá lớn.</p>
<p id="99">Có thể tôi nhập vào xác một thằng thất bại bất tài, con trưởng của một gia đình bá tước sa sút trong cái thế giới không có nền móng gì, nhưng cuộc sống của một kẻ ăn không ngồi rồi, có thể ném 50 triệu bios vào sòng bạc để giải khuây cũng đâu có tệ.</p>
<p id="100">Đó là ước mơ cả đời của tôi.</p>
<p id="101">Tôi cũng có chút vận may cờ bạc, nên nếu chơi cầm chừng với một số tiền nhất định, tôi có thể tận hưởng đãi ngộ VIP thêm cả năm nữa.</p>
<p id="102">"......"</p>
<p id="103">Nhưng như mọi khi, lòng tham của tôi lại trỗi dậy.</p>
<p id="104">Tôi muốn kích thích nhiều hơn, muốn thứ dopamine như thiêu đốt các dây thần kinh ngoại biên.</p>
<p id="105">Và bản năng cùng trực giác đang gào thét.</p>
<p id="106">Rằng thời điểm chính là ngay lúc này.</p>
<p id="107">"Này, trong tài khoản ký gửi của ta còn bao nhiêu?"</p>
<p id="108">"Để xem nào... khoảng 24 triệu."</p>
<p id="109">"Giảm nhiều so với hồi đó nhỉ."</p>
<p id="110">"Phù, ngài chơi được lâu thế này là giỏi lắm rồi. Thế nên lần này cứ thong thả thôi nhé, hê hê. Hay để tôi đưa ngài vào phòng riêng rồi gọi mấy em 'kính vạn hoa' vào nhé? Mới có một em vừa về, mặt mũi cứ gọi là, chao ôi..."</p>
<p id="111">Tôi lờ đi gã quản lý đang cố dùng lời mật ngọt để cản tôi lại.</p>
<p id="112">"Ta xả láng."</p>
<p id="113">"...Sao cơ?"</p>
<p id="114">"Xả láng. Đằng nào cũng đâu có giới hạn cược, đúng không?"</p>
<p id="115">Một thoáng im lặng.</p>
<p id="116">Gã quản lý mặt cắt không còn giọt máu, van nài tôi.</p>
<p id="117">"Cậu chủ Cedric, không được đâu! Tôi nói vì tốt cho ngài thôi. Thật đấy, lỡ thua hết chỗ này thì ngài tính sao?"</p>
<p id="118">"Sao chủ sòng lại đi lo chuyện đó? Xả láng."</p>
<p id="119">"Không, tôi bảo thật, em gái mới về ngon lắm luôn ấy?!"</p>
<p id="120">"Ta gay. Xả láng."</p>
<p id="121">Ở Las Vegas, mấy tay chơi khét tiếng đốt cả 500 triệu, 1 tỷ trong một ván bài.</p>
<p id="122">Chẳng phải tự nhiên mà người ta điều phi cơ riêng đến đón rồi phục vụ họ trong phòng tổng thống.</p>
<p id="123">Nhưng chắc đây chỉ là cái sòng bạc cỏn con mới có đúng một phòng VIP, nên họ mới xoắn xít cả lên chỉ vì 29 triệu bios bèo bọt.</p>
<p id="124">Xoạtttttt!</p>
<p id="125">Những chồng chip sặc sỡ được xếp kín mặt bàn.</p>
<p id="126">"K-Không nhận cược nữa."</p>
<p id="127">Người chia bài run rẩy.</p>
<p id="128">Gã quản lý chắp tay cầu nguyện.</p>
<p id="129">Quản lý sòng bạc mà đi tìm Chúa. Hết thuốc chữa.</p>
<p id="130">Thứ duy nhất tôi tin là vận may và phán đoán của chính mình.</p>
<p id="131">Mắt tôi dán chặt vào đầu ngón tay người chia bài, vào những lá bài.</p>
<p id="132">Bàn tay run rẩy khẽ lật những quân bài trên bàn.</p>
<p id="133">"......"</p>
<p id="134">Áp lực trong tai tăng lên, một tiếng ong ong ngắn ngủi vang lên, và tim tôi thắt lại.</p>
<p id="135">Tâm trí tĩnh lặng.</p>
<p id="136">Tinh thần tôi trở nên minh mẫn đến kinh ngạc, như thể não bộ vừa được tháo ra và gột rửa bằng nước tinh khiết vậy.</p>
<p id="137">Trái tim run rẩy.</p>
<p id="138">Khoảnh khắc lá bài cuối cùng được lật lên.</p>
<p id="139">"...A."</p>
<p id="140">Người chia bài thốt lên một tiếng nghẹn ngào rồi đánh rơi lá bài.</p>
<p id="141">Một ván bài hoàn hảo. Là Hòa.</p>
<p id="142">"Áaaaaa!!!"</p>
<p id="143">Gã quản lý hét lên một tiếng tuyệt vọng.</p>
<p id="144">Tôi lật lá bài trượt khỏi tay người chia bài lên và nhếch mép cười.</p>
<p id="145">"Ta sẽ bao ngươi một ly như đã hứa. Mời cả dealer một ly nữa."</p>
<p id="146">Tâm trí trong veo của tôi lập tức trở nên vẩn đục.</p>
<p id="147">Một luồng khoái cảm tê dại, như thể kẹo nổ tẩm phẩm màu thực phẩm vừa được thả vào dịch não tủy, chạy dọc sống lưng.</p>
<p id="148">"Ưưưm!!!! Húuuuu!!!!"</p>
<p id="149">======</p>
<p id="150">::: Thử thách (MỚI!) :::</p>
<p id="151">- Đến sòng bạc 30 ngày liên tiếp. +1 điểm</p>
<p id="152">- Thua hơn 5 triệu bios cờ bạc. +1 điểm</p>
<p id="153">- Cược hơn 10 triệu bios trong một ván. +2 điểm</p>
<p id="154">- Cược hơn 20 triệu bios trong một ván. +2 điểm</p>
<p id="155">.</p>
<p id="156">.</p>
<p id="157">-</p>
<p id="158">::: Thành tựu đã mở :::</p>
<p id="159">Ngươi đã chiếm đoạt một số tiền lớn trong thế giới của những con bạc máu lạnh.</p>
<p id="160">Nữ thần may mắn đang mỉm cười với ngươi.</p>
<p id="161">Chỉ hôm nay thôi nhé.</p>
<p id="162">▶ Thành tựu: 「May Mắn Nhất Thời」</p>
<p id="163">- 'May mắn' tăng nhẹ.</p>
<p id="164">- Tỷ lệ xuất hiện vật phẩm tốt trong ■■■■(LV.0) tăng nhẹ.</p>
<p id="165">- Nhận được 30 điểm.</p>
<p id="166">======</p>
<p id="167">2.</p>
<p id="168">Dư âm của cú thắng lớn không dễ gì phai nhạt.</p>
<p id="169">Những bước chân tôi nhẹ nhàng như không có trọng lượng.</p>
<p id="170">Trước mắt tôi, khoảnh khắc phù du khi lá bài cuối cùng được lật lên cứ tua đi tua lại như một thước phim tráng lệ.</p>
<p id="171">Mà sao lại không chứ? Làm tròn xuống thì cũng là 230 triệu bios đấy.</p>
<p id="172">Tôi, kẻ từng rón rén với những ván cược 50.000 bios, đã thắng chừng đó chỉ trong một đêm với một ván cược duy nhất.</p>
<p id="173">Lại còn là cược vào cửa hòa nữa chứ.</p>
<p id="174">Ở ranh giới giữa mơ và thực, tôi bước xuống xe trong cơn phê.</p>
<p id="175">Một chiếc xe trông giống mấy mẫu xe cổ điển của hãng Ford những năm đầu 1900.</p>
<p id="176">Tôi mua đứt nó từ tiệm cầm đồ gần đó, nơi nó bị bỏ lại.</p>
<p id="177">Số tiền còn lại tôi gửi hết vào tài khoản ký gửi.</p>
<p id="178">"Mẹ kiếp, đẹp thật đấy."</p>
<p id="179">Khi tôi chuẩn bị làm một màn về nhà hoành tráng, ai đó chặn đường tôi.</p>
<p id="180">"Thiếu gia Cedric. Ngài đã về?"</p>
<p id="181">Là Albert, vị quản gia già của Nhà Montraven.</p>
<p id="182">Ông ta nhíu một bên lông mày khi thấy chiếc xe đỏ chót bóng loáng của tôi, rồi nhíu nốt bên còn lại khi ngửi thấy mùi rượu và thuốc lá nồng nặc trên người tôi.</p>
<p id="183">"Ồ, chào ông già. Làm việc vất vả từ sáng sớm nhỉ. Ta mệt rồi, ta đi nghỉ đây."</p>
<p id="184">Thú thật, lão Albert này làm tôi thấy không thoải mái.</p>
<p id="185">Tôi vẫn nhớ như in ký ức bị lão thụi vào bụng văng ra xa khi tôi dở chứng muốn thử tài kiếm thuật hồi mới xuyên không, và lão luôn nhìn tôi với ánh mắt sắc lẹm vào những ngày tôi mò về nhà sau khi chè chén say sưa.</p>
<p id="186">Nhưng hôm nay thì khác.</p>
<p id="187">Vì giờ đây, tôi đang nắm trong tay một phần thưởng khổng lồ.</p>
<p id="188">Đối với Gia tộc Montraven đang trên đà suy tàn, 230 triệu bios không phải là con số nhỏ.</p>
<p id="189">Tôi cũng thấy hơi có lỗi khi chiếm đoạt thân xác con trai họ mà không xin phép, nhưng giờ thì tôi có cơ hội làm một đứa con hiếu thảo, theo một cách nào đó.</p>
<p id="190">"Mời ngài đi theo tôi một lát."</p>
<p id="191">"Này, này, gì vậy chứ?"</p>
<p id="192">Phòng khách, nơi tôi bị lôi đến trong khi còn đang căn thời gian để rút tờ chứng nhận tiền gửi sòng bạc trong túi ra.</p>
<p id="193">Dưới chiếc đèn chùm lớn, thứ có lẽ từng lộng lẫy nhất trong số các gia đình quý tộc quanh đây nhưng giờ đã lỗi thời.</p>
<p id="194">Một bóng hình quen thuộc đang đứng một mình.</p>
<p id="195">Mái tóc vàng óng ả tuôn chảy như mật ong.</p>
<p id="196">Làn da trắng mịn màng như được phết bơ, và đôi mắt vàng kim sáng rực đầy mê hoặc.</p>
<p id="197">Đường cong cơ thể tinh tế ẩn hiện sau lớp váy ngủ mỏng manh đẹp đến mức áp đảo bất cứ ai nhìn vào.</p>
<p id="198">Chị gái của Cedric.</p>
<p id="199">Một pháp sư 'thực thụ' đã khai mở tâm nhãn và đạt đến Bậc 1.</p>
<p id="200">Hy vọng cuối cùng của Gia tộc Montraven, nơi mạch ma thuật đã bị cắt đứt từ lâu.</p>
<p id="201">'Arbel Montraven.'</p>
<p id="202">Chết tiệt, nhìn lúc nào cũng đẹp đến vô lý.</p>
<p id="203">"...Hừm."</p>
<p id="204">Nói thật lòng, ngày đầu tiên xuyên không, tôi đã tưởng Arbel là nữ chính cực phẩm, món quà mà người mẹ quá cố để lại cho tôi.</p>
<p id="205">Tất nhiên, thế là loạn luân, nhưng tôi là một người theo chủ nghĩa lý tưởng.</p>
<p id="206">Tôi tin chắc rằng tinh thần luôn vượt lên trên vật chất, nên chẳng có vấn đề gì sất.</p>
<p id="207">"Cedric, mày lại chui rúc ở mấy cái sòng bạc nữa hả?"</p>
<p id="208">"Này, thôi nào bà chị."</p>
<p id="209">"Đừng có tỏ ra thân thiết. Tao nổi da gà đấy."</p>
<p id="210">Nhưng bản chất thật của Arbel xinh đẹp lại là một đóa nấm độc rực rỡ.</p>
<p id="211">Cô ta là một bà chị đáng sợ, cứ hễ thấy mặt Cedric là trở nên hung dữ.</p>
<p id="212">Nghe nói trước đây quan hệ của họ không tệ đến thế, rốt cuộc chuyện quái gì đã xảy ra trong lúc 'Cedric' hôn mê...</p>
<p id="213">Chẳng có cách nào biết được.</p>
<p id="214">Mỗi khi chạm mặt, Arbel lại đơn phương sỉ vả tôi.</p>
<p id="215">Và tôi thì cứ thụ động chịu trận, chẳng muốn cuộc đối thoại kéo dài rồi lỡ lộ ra chuyện 'Thực ra ruột gan con trai các người bị thay thế rồi'.</p>
<p id="216">"Thế sao chị gọi tôi đến đây? Lại còn phái cả Albert đi nữa."</p>
<p id="217">Cô ta sải bước tiến lại gần với những bước chân nặng nề.</p>
<p id="218">"Vì cơ hội để tống cổ mày đi cho khuất mắt tao đã đến rồi."</p>
<p id="219">Sở dĩ cô ta phải dậm chân mạnh như vậy là vì vóc dáng Arbel khá nhỏ bé so với khí thế áp đảo của cô.</p>
<p id="220">So với Cedric cao hơn 1 mét 80, tầm mắt cô ta chỉ chạm đến ngực hắn.</p>
<p id="221">Vẻ đẹp trẻ trung của cô khi ngước nhìn Cedric khiến cô trông trẻ hơn hắn, người đang ở độ tuổi đôi mươi, rất nhiều.</p>
<p id="222">Cũng phải thôi. Cô ấy là pháp sư mà.</p>
<p id="223">Ngay lúc đó.</p>
<p id="224">Ting!</p>
<p id="225">Một tiếng thông báo vang lên bên tai tôi.</p>
<p id="226">Da gà tôi nổi lên rần rần.</p>
<p id="227">Trước khi Arbel kịp nói gì, trước cả khi tôi kịp lôi tờ chứng nhận xịn xò từ trong túi ra.</p>
<p id="228">[ 1. Ngoan ngoãn đến Học viện ]</p>
<p id="229">[ 2. Từ chối nhập học và hôn Arbel ]</p>
<p id="230">Thứ đầu tiên lấp đầy tầm nhìn của tôi là một bảng lựa chọn mang lại cảm giác déjà vu.</p>
<p id="231">"......"</p>
<p id="232">Cái đéo gì thế này.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'JN6wrSfCsA5qiA7gB9d8bzRPyWhcJ9MWSryEB7PL';
        var comment_type = 'chapter';
        var comment_typeid = '292780';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'JN6wrSfCsA5qiA7gB9d8bzRPyWhcJ9MWSryEB7PL';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24704');
    chapter_id = parseInt('292780');

    readingObject = {
        series_id: series_id,
        series_title: 'Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="JN6wrSfCsA5qiA7gB9d8bzRPyWhcJ9MWSryEB7PL" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

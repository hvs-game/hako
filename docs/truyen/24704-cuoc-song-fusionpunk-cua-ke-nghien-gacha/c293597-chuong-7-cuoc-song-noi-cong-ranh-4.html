<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha - Chương 7: Cuộc sống nơi cống rãnh (4) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Dù thế giới này là dark fantasy, tôi vẫn đi tìm dopamine của ngày hôm nay.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="lGfz1nq5h4YMyh0U3C7oxBhLbjOOe87Hruw4xoe4">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293597-chuong-7-cuoc-song-noi-cong-ranh-4">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293553-chuong-6-cuoc-song-noi-cong-ranh-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293606-chuong-8-cuoc-song-noi-cong-ranh-5"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293597-chuong-7-cuoc-song-noi-cong-ranh-4" style="background: url('https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha">Cuộc Sống Fusionpunk của...</a></h5>
                    <small><i class="fas fa-pen"></i>Đóa Hoa Lặng Lẽ Tàn</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/t35857-1-50">1-50</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc">
                                                                        Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292780-chuong-2-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-2">
                                                                        Chương 2: Tôi trở thành nghịch tử của nhà Bá Tước (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293179-chuong-3-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc-3">
                                                                        Chương 3: Tôi trở thành nghịch tử của nhà Bá Tước (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293550-chuong-4-cuoc-song-noi-cong-ranh">
                                                                        Chương 4: Cuộc sống nơi cống rãnh
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293551-chuong-5-cuoc-song-noi-cong-ranh-2">
                                                                        Chương 5: Cuộc sống nơi cống rãnh (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293553-chuong-6-cuoc-song-noi-cong-ranh-3">
                                                                        Chương 6: Cuộc sống nơi cống rãnh (3)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293597-chuong-7-cuoc-song-noi-cong-ranh-4">
                                                                        Chương 7: Cuộc sống nơi cống rãnh (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293606-chuong-8-cuoc-song-noi-cong-ranh-5">
                                                                        Chương 8: Cuộc sống nơi cống rãnh (5)
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293184-arbel">Minh họa</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1-50</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 7: Cuộc sống nơi cống rãnh (4)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293597-chuong-7-cuoc-song-noi-cong-ranh-4#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,110 từ - Cập nhật: 
                        <time class="topic-time timeago" title="20-01-2026 09:58:46" datetime="2026-01-20T09:58:46+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 7: Cuộc sống nơi cống rãnh (4)</p>
                    <p id="1">Bảy mạng người đã chết trong những con hẻm của Quận D-9 hôm nay.</p>


<p id="2">Sáu tên vô gia cư.</p>


<p id="3">Và tôi yếu đuối của ngày hôm qua.</p>


<p id="4">Thằng phá gia chi tử của nhà Bá tước, Cedric, đã chết và được tái sinh thành James Bond đầy khí phách.</p>


<p id="5">"Út à, giờ mày là đàn ông đích thực rồi đấy. 'Phá zin' rồi, nhỉ?"</p>


<p id="6">"Thằng nhóc này, thằng nhóc này đúng là hàng thật, tao nói rồi mà. Vút, vút, đoàng! Hôm nào phải dạy tao chiêu đó đấy."</p>


<p id="7">"Tao biết ngay từ đầu mà. Chưa thấy thằng nào nịnh bợ giỏi như nó mà lại thiếu nhạy bén trong công việc cả."</p>


<p id="8">"Bọn tao chỉ định thử mày chút thôi, thế mà mày tự mình hạ gục ba tên. Làm tốt lắm, James."</p>


<p id="9">Big và Dick khoác tay qua vai tôi và xoa đầu tôi đầy vẻ thân thương.</p>


<p id="10">"À, dĩ nhiên rồi ạ. Đó là vì cơ thể này đã 'thức tỉnh' rồi ạ."</p>


<p id="11">"Thức tỉnh là sao hả?!"</p>


<p id="12">"Thì cứ coi như là em đã nhìn thấu bản chất của luật rừng, cái bản ngã thật sự của nó."</p>


<p id="13">"Thằng này, nó nói mấy từ khó hiểu mà nghe ngầu phết!"</p>


<p id="14">Tôi hất cằm kiêu ngạo đáp.</p>


<p id="15">Tôi có quyền làm thế.</p>


<p id="16">Dù sao thì, tôi cũng là người lấp đầy một nửa số bao tải chúng tôi đang kéo lê.</p>


<p id="17"><em>Xoạt, xoạttt...</em></p>


<p id="18">Nhưng mà, kéo lê chúng thế này có thực sự ổn không?</p>


<p id="19">Tuy nhiên, khi vệt máu nhớp nháp vẽ lên mặt đất như nét cọ quét dưới những chiếc bao tải, không một người qua đường nào thèm liếc nhìn lấy một cái.</p>


<p id="20">...Có vẻ tôi vẫn chưa gột sạch cái mùi của Thành phố Ark.</p>


<p id="21">Chỗ đó cũng hoang dã theo cách riêng, nhưng nơi này thực sự là cõi quỷ vô nhân đạo.</p>


<p id="22">Nghĩ theo hướng đó, thái độ của Big, Dick và Ron, vốn dĩ cảm thấy thật xa lạ, giờ lại trở nên dễ hiểu hơn nhiều.</p>


<p id="23">Những người sống theo những quy tắc khác nhau thì sẽ là những con người khác nhau.</p>


<p id="24">Liệu một đứa trẻ cầm súng AK-47 trong cuộc nội chiến ở Châu Phi và một cậu học sinh cấp 3 Hàn Quốc trốn học thêm để chơi LoL có cùng hệ giá trị không?</p>


<p id="25">"Út! Mày sẽ đến tiệc chào mừng chứ?"</p>


<p id="26">"Đại ca bao hả?"</p>


<p id="27">"Thằng ranh! Mày nghĩ tao bắt mày trả tiền để tao mất mặt à?"</p>


<p id="28">"Chắc như bắp, em đi liền!"</p>


<p id="29">Thôi đừng nghĩ mấy chuyện phức tạp nữa.</p>


<p id="30">Cơm chùa mà!</p>


<p id="31">Chúng tôi quăng đống bao tải vào văn phòng rồi hướng thẳng ra phố ẩm thực.</p>


<p id="32">Đó chính là khu chợ mà tôi đã đi ngang qua trước đây và phải nuốt nước miếng thèm thuồng.</p>


<p id="33">"Út, mày đi chợ bao giờ chưa?"</p>


<p id="34">"Rồi ạ! Nhưng lúc đó em chỉ nhìn thôi! Lần đầu tiên em thấy cái chợ to thế này!"</p>


<p id="35">"Đây là chợ Hongshin, phố ẩm thực đỉnh nhất thành phố này đấy."</p>


<p id="36">Luồn lách qua đám đông ồn ào, chúng tôi ngồi xuống một sập hàng.</p>


<p id="37">Đó là một quán ăn nhỏ chỉ có một quầy bàn phía trước khu bếp.</p>


<p id="38">Trên bàn bên cạnh chúng tôi, một cái đầu lợn đang ngồi đó, mỉm cười hiền hậu.</p>


<p id="39">"Chủ quán! Cho bốn bát cơm canh thịt nóng hổi! Và bốn chai bia! Hôm nay là tiệc mừng lính mới, ông mà bớt xén đồ ăn kèm là chết với tôi đấy!"</p>


<p id="40">"Có ngay sếp ơi!"</p>


<p id="41">"Mang bia ra trước đi!"</p>


<p id="42">Những chai bia vừa mở nắp được mang ra, bọt trào ra xối xả.</p>


<p id="43">Bia!</p>


<p id="44">Mắt tôi mở to. Đã bao lâu rồi tôi chưa được uống một ngụm nào?</p>


<p id="45">"James! Hôm nay chú mày là nhân vật chính, hô hào đi nào."</p>


<p id="46">"Thế thì em xin hô khẩu hiệu 'Luật Sư' nhé!"</p>


<p id="47">"Luật Sư (Byeonhosa)? Sao tự nhiên lại lôi luật sư vào đây?"</p>


<p id="48">"Đó là viết tắt của 'Tình huynh đệ bất biến! Tình bạn nam nhi đại trượng phu!'"</p>


<p id="49">(Nhân vật chính chơi chữ. 'Byeonhosa' nghĩa là luật sư, nhưng ở đây dùng làm từ viết tắt cho câu chúc: "Byeonham-eopsi Ho-hyeong-ho-je! Sanai-ui ujeong!")</p>


<p id="50">"Hahahaha! Thằng Út nhà mình chất đấy!"</p>


<p id="51">"Em hô nhé! Luật Sư!"</p>


<p id="52">"Luật Sư!!!!!"</p>


<p id="53"><em>Cạch!</em></p>


<p id="54">Khi miệng chai va vào nhau, bọt bia sủi lên dưới ánh đèn lung linh.</p>


<p id="55"><em>Ực, ực. </em>Hương vị lúa mạch nồng nàn trôi xuống cổ họng tôi.</p>


<p id="56">Lạnh buốt và tê rần.</p>


<p id="57">Như cơn mưa rào tưới mát cơ thể đang khô cằn vì nghèo đói, lao động và mệt mỏi, men rượu thấm vào từng ngóc ngách tế bào.</p>


<p id="58">Nước mắt tôi ứa ra chỉ vì một chai bia cỏn con.</p>


<p id="59">"Khàaaaaaa!! Đã quá!!!"</p>


<p id="60">Món canh cơm (Gukbap), vừa được múc ra trong những chiếc bát gỗ, cũng được bưng lên.</p>


<p id="61">Một vắt cơm được chần kỹ nằm trong thứ nước dùng đỏ rực như chứa đầy dầu ớt.</p>


<p id="62">Bên trên là một đống thịt chất cao như núi từ một bộ phận nào đó không rõ tên.</p>


<p id="63">"Út, chỗ này làm món cơm canh thịt ngon nhất chợ Hongshin đấy."</p>


<p id="64">Vậy là thế giới khác cũng có món Gukbap!</p>


<p id="65">"Phù phù, phù... phù..."</p>


<p id="66">Tôi vội vàng xúc thìa cơm tống vào miệng, làm bỏng cả vòm họng.</p>


<p id="67">Đồ ăn ngon cũng là một phương tiện đáng kính để thỏa mãn dopamine.</p>


<p id="68">Tôi, kẻ đã nếm qua đủ mọi sơn hào hải vị trên đời, xin lấy danh dự ra đảm bảo.</p>


<p id="69">Thú thật thì, bản thân món Gukbap ở chợ Hongshin chẳng có gì đặc sắc.</p>


<p id="70">Gạo cũ mốc thếch như đã xay xát từ nhiều năm trước.</p>


<p id="71">Nước dùng cay xè, hôi rình mùi nội tạng như thể họ ném cả quả thận lợn chưa sơ chế vào.</p>


<p id="72">Họ chỉ đang cố tình lấp liếm bằng mùi hương nồng nặc của dầu ớt.</p>


<p id="73">"Hự, phù phù, phù... sụp soạp!"</p>


<p id="74">"Út, ăn từ từ thôi."</p>


<p id="75">Nhưng tại sao cái quái gì lại ngon đến thế này cơ chứ?!!</p>


<p id="76">Ba sao.</p>


<p id="77">Một hương vị đáng để ghé thăm Necropolis.</p>


<p id="78">Với tôi, kẻ đã sống sót bằng lương khô nén và thức ăn cho mèo làm từ gián, đây là món ngon tuyệt phẩm không gì sánh bằng trên thế gian này.</p>


<p id="79">2.</p>


<p id="80">"Oa, phê thật."</p>


<p id="81">Sau bữa tiệc, tôi trở về nhà với những bước chân loạng choạng.</p>


<p id="82">Trên tay là một hộp cơm canh thịt gói mang về.</p>


<p id="83">Các anh lớn đã gói cho tôi, dặn mang về cho thằng em trai.</p>


<p id="84">Lý do tôi giới thiệu là em trai vì,</p>


<p id="85">Arbel là một phụ nữ đẹp nghiêng nước nghiêng thành.</p>


<p id="86">Ở cái chốn cống rãnh này, chẳng việc gì phải đi rêu rao 'Tôi đang giữ một kho báu' cả.</p>


<p id="87">"Tôi mang cơm canh về này!"</p>


<p id="88">Mở cửa bước vào căn phòng u ám, mắt tôi trợn tròn.</p>


<p id="89">"Ư, a..."</p>


<p id="90">Cô ấy ngửi thấy mùi cơm canh sao? Arbel đang cử động.</p>


<p id="91">Arbel, người nãy giờ nằm im như xác chết!</p>


<p id="92">Tôi đánh rơi hộp cơm canh và lao đến bên cô ấy đang cựa quậy trên giường.</p>


<p id="93">"Chị yêu, chị tỉnh rồi à?"</p>


<p id="94">Hàng mi cô ấy run rẩy, rồi Arbel mở mắt.</p>


<p id="95">Đôi mắt vàng kim xinh đẹp, đã lâu không thấy, đảo về phía tôi.</p>


<p id="96">Tiêu cự vẫn còn hơi lờ đờ, nhưng cô ấy đã có ý thức.</p>


<p id="97">Một giọng nói trầm đục thoát ra từ đôi môi nứt nẻ của Arbel.</p>


<p id="98">"Cedric..."</p>


<p id="99">"Vâng, em đây! Đứa em trai tận tụy của chị, Cedric đây!"</p>


<p id="100">Đúng là Pháp sư có khác!</p>


<p id="101">Chị đã mở mắt rồi! Cổ phiếu của tôi!</p>


<p id="102">Có lẽ ngay từ đầu, tin tưởng vào khả năng hồi phục của Pháp sư là chiến lược đúng đắn thay vì giao cô ấy cho đám lang băm ở cái thành phố chó má này?</p>


<p id="103">('An-a-ki' là thuật ngữ chỉ trào lưu nuôi con thuận tự nhiên không dùng thuốc, tương tự phong trào anti-vắc xin. Nhân vật chính đang ví von lựa chọn của mình như vậy.)</p>


<p id="104">"Chị xin lỗi..."</p>


<p id="105">"Này, có gì đâu mà xin lỗi. Nhưng trước tiên, chị muốn đọc cái này không? Đây là nhật ký chăm sóc bệnh nhân em viết đấy."</p>


<p id="106">Thế này thì dễ rồi.</p>


<p id="107">Nói thừa, nhưng một cục nợ bất tỉnh và một bệnh nhân có thể giao tiếp là hai thế giới hoàn toàn khác nhau.</p>


<p id="108">Có lẽ thấy được sự chân thành của đứa em trai tận tụy này, cô ấy có thể trở thành nhiều hơn một người bạn tâm tình.</p>


<p id="109">Hơn nữa, Arbel là người trực tiếp trải qua cuộc tấn công.</p>


<p id="110">Tôi không chỉ nắm bắt tình hình hiện tại chính xác hơn, mà nếu cô ấy hồi phục suôn sẻ, tôi sẽ có một tài sản hùng mạnh.</p>


<p id="111">Nghe nói một Pháp sư Bậc 1 được công nhận ngang hàng với Người Giải Quyết Cấp 5.</p>


<p id="112">"Trước hết, làm tí cơm canh nhé? Đợi chút. Em mang tới cho chị."</p>


<p id="113">Bàn tay Arbel đột ngột nắm lấy tay áo tôi khi tôi định đứng dậy.</p>


<p id="114">"Mẹ..."</p>


<p id="115">Một tiếng thì thầm yếu ớt, lí nhí.</p>


<p id="116">"Mẹ ơi, con... đau quá..."</p>


<p id="117">Một giọt nước mắt trong veo lăn dài từ khóe mắt.</p>


<p id="118">Ánh sáng trong đôi mắt long lanh đáng thương của Arbel vụt tắt, như ngọn nến bị thổi phụt.</p>


<p id="119">Bàn tay đang nắm lấy tay áo tôi trượt xuống vô lực.</p>


<p id="120">Một sự im lặng đáng sợ bao trùm căn phòng chật chội.</p>


<p id="121">"...Này."</p>


<p id="122">Không phải chứ? Chuyện này không có thật, đúng không?</p>


<p id="123">"Tỉnh lại đi. Này! Này!"</p>


<p id="124">Không, làm ơn, đừng đùa với tôi chứ!</p>


<p id="125">Tôi vỗ vào má Arbel.</p>


<p id="126">Không có phản hồi.</p>


<p id="127">Trong căn phòng lạnh đến mức thấy cả hơi thở, cơ thể cô ấy, từng nóng như hòn than, đang nguội đi nhanh chóng.</p>


<p id="128">Đồng tử giãn hoàn toàn của cô ấy trông như những cái hố đen sâu thẳm.</p>


<p id="129">"Mẹ kiếp..."</p>


<p id="130">Tôi không kìm được tiếng chửi thề buột ra khỏi miệng.</p>


<p id="131">Tôi đang tỉnh rượu rất nhanh.</p>

<p id="132">3.</p>
<p id="133">Arbel đã chết.</p>


<p id="134">Trước mặt đứa em trai, kẻ mà bên trong thực chất là một người xa lạ.</p>


<p id="135">Để lại vỏn vẹn năm từ trăng trối cuối cùng.</p>


<p id="136">"Ha..."</p>


<p id="137">Tất nhiên, tim tôi không tan nát vì đau buồn hay gì cả.</p>


<p id="138">Ngay từ đầu, cố gắng cứu Arbel không phải vì lòng thương hại hay nhân đạo.</p>


<p id="139">Đó là vì cô ấy là một đối tượng hữu ích nếu tôi đầu tư vào.</p>


<p id="140">Tuy nhiên, tôi cảm thấy trống rỗng vì không ngờ cô ấy lại ra đi một cách vô ích như vậy.</p>


<p id="141">Một khoản đầu tư thất bại luôn khiến người ta chán nản.</p>


<p id="142">Đầu tiên, tôi quấn chặt Arbel trong chăn len, sau đó bọc thêm một lớp bạt bên ngoài.</p>


<p id="143">"Mong chị siêu thoát nơi thiên đường."</p>


<p id="144">Tôi châm một điếu thuốc và lặng lẽ cầu nguyện cho linh hồn bà chị trong ba phút.</p>


<p id="145">Đây là sự chia buồn tối đa mà tôi có thể dành cho Arbel.</p>


<p id="146">Bất kỳ tình cảm nào hơn thế chỉ là sự xa xỉ.</p>


<p id="147">"Hự."</p>


<p id="148">Tôi vác cái bọc chứa xác chết lên vai.</p>


<p id="149">Cơ thể Arbel nhẹ đến mức khiến một góc trái tim tôi thấy cồn cào khó chịu.</p>


<p id="150">Dù phòng có lạnh đến mấy, xác chết chắc chắn sẽ phân hủy.</p>


<p id="151">Tôi phải xử lý nó trước khi phải nhìn thấy cảnh tượng ghê tởm trong căn phòng nhỏ bé này.</p>


<p id="152">Có một cách hữu ích để xử lý xác chết ở Necropolis.</p>


<p id="153">Bán cho Cty Phát triển Hoàng Hôn.</p>


<p id="154">Cty TNHH Phát triển Tài nguyên Hoàng Hôn là một tập đoàn khổng lồ, cùng với Dược phẩm Overnus, chia đôi Necropolis.</p>


<p id="155">Đứng sau nó được cho là những Chiêu hồn sư chuyên giao dịch với 'cái chết'.</p>


<p id="156">Vì ma thuật của Chiêu hồn sư cần xác chết làm nguyên liệu, nên hầu hết xác chết ở Necropolis đều chảy về phía họ.</p>


<p id="157">"Người sống thì phải sống tiếp thôi."</p>


<p id="158">Đừng nghĩ tôi tàn nhẫn quá nhé, Arbel.</p>


<p id="159">Dù sao cũng chẳng còn lựa chọn nào khác.</p>


<p id="160">Hoặc là tôi vứt xác chị ra bãi rác, hoặc là tôi mua một mảnh đất đắt đỏ và chôn cất tử tế...</p>


<p id="161">Cái trước thì không ra tiền, cái sau thì tốn tiền.</p>


<p id="162">Vậy tôi phải làm sao đây?</p>


<p id="163">Ít nhất tôi cũng phải thanh lý 'hàng second-hand' chứ.</p>


<p id="164">Vác bao tải trên vai, tôi bước đi nhanh nhẹn.</p>


<p id="165">Nơi thu mua xác chết là một nhà chứa xác, nhà thầu phụ của Cty Hoàng Hôn.</p>


<p id="166">Ở Necropolis tìm chỗ vắng người còn khó hơn lên trời, nhưng trước cửa nhà chứa xác lại càng đông đúc đặc biệt.</p>


<p id="167">Trái ngược với cái tên, chẳng có ai ở đây để khóc thương người chết cả.</p>


<p id="168">Trong mắt những người đó, tất cả đều vô cảm không một ngoại lệ,</p>


<p id="169">Tôi lại nhớ đến đôi mắt đã biến thành hố đen của Arbel.</p>


<p id="170">"Nhìn cái gì, thằng ranh con."</p>


<p id="171">"Đây là hàng bán xác à?"</p>


<p id="172">"Ra sau tao mà đứng. Mày mà chen ngang là tao nhét mày vào bao tải luôn đấy."</p>


<p id="173">"Ờ, cảm ơn."</p>


<p id="174">Vậy đây đúng là hàng rồi.</p>


<p id="175">"Mày đến bán ai thế."</p>


<p id="176">"Vợ tao. Còn mày?"</p>


<p id="177">"Tao cũng thế. Mày biết họ thường trả bao nhiêu cho cái này không?"</p>


<p id="178">"Nghe nói tùy vào mục đích sử dụng."</p>


<p id="179">"Mục đích sử dụng?"</p>


<p id="180">"Tao cũng không rõ chi tiết, chỉ mong họ trả khá chút."</p>


<p id="181">Hàng dài dằng dặc, nên tôi chỉ nói chuyện phiếm để thu thập thông tin.</p>


<p id="182">Rồi, đột nhiên có gì đó không ổn, như bị hóc xương cá trong cổ họng.</p>


<p id="183">Khoan đã.</p>


<p id="184">Mục đích sử dụng?</p>


<p id="185">Một linh cảm chẳng lành muộn màng lóe lên trong đầu tôi.</p>


<p id="186">Nghĩ kỹ lại thì, Arbel là một Pháp sư.</p>


<p id="187">Chẳng phải xác chết của một Pháp sư sẽ khác biệt hoàn toàn so với người thường sao?</p>


<p id="188">Chẳng phải thằng cha mang xác Pháp sư đến sẽ trông khả nghi vãi linh hồn sao?</p>


<p id="189">Trường hợp xấu nhất, danh tính của tôi có thể bị lộ và bọn truy đuổi sẽ bám đuôi tôi không?</p>


<p id="190">Tôi nghi ngờ việc bọn chúng bám theo tôi đến cái thành phố rách nát này.</p>


<p id="191">Nhưng nếu chúng làm vậy, rủi ro quá lớn.</p>


<p id="192">Tôi không thể quên rằng đối thủ còn mạnh hơn cả Arbel.</p>


<p id="193">"Chuyện này nhảm nhí thật."</p>


<p id="194">"Gì thế, tự nhiên mày sao vậy."</p>


<p id="195">Ý nghĩ đến quá muộn.</p>


<p id="196">Không ngờ Cedric vĩ đại lại bỏ qua một sự thật đơn giản như vậy.</p>


<p id="197">Có vẻ ngay cả tôi cũng mất bình tĩnh trong giây lát.</p>


<p id="198">"Tôi phải đi đây."</p>


<p id="199">"Này, tao hiểu cảm giác của mày, nhưng cứ đứng yên trong hàng đi. Mấy thằng bỏ đi như mày rồi cũng quay lại xếp hàng trong vòng hai ngày thôi."</p>


<p id="200">"A, mẹ kiếp, buông ra, thằng chó! Mày là ai mà ra vẻ thân thiết thế hả!"</p>


<p id="201">"Chậc chậc, cố lên nào."</p>


<p id="202">Ngay khi tôi định vội vàng quay lại, một cái bóng chặn đường tôi.</p>


<p id="203">"Đứa trẻ đáng yêu làm sao."</p>


<p id="204">Đối phương là một người phụ nữ không rõ tuổi tác.</p>


<p id="205">Một chiếc váy xếp nếp màu đen tuyền, không pha tạp bất kỳ màu sắc nào khác.</p>


<p id="206">Một chiếc mũ hộp tròn có mạng che mặt.</p>


<p id="207">Đôi mắt đen láy, trông trống rỗng lạ thường, đang nhìn chằm chằm vào tôi như muốn xuyên thấu ngay ở cự ly gần.</p>


<p id="208">Chết tiệt, tim tôi!</p>


<p id="209">Làm ơn ra tín hiệu trước khi xuất hiện lù lù thế chứ!</p>


<p id="210">Khi tôi lùi lại một bước vì hoảng sợ, người phụ nữ mỉm cười bằng ánh mắt và thẳng lưng lên.</p>


<p id="211">Nhưng... chiều cao đầu cô ta cứ tăng dần lên.</p>


<p id="212">Nhìn cái bóng khổng lồ cô ta đổ xuống, cuối cùng tôi cũng nhận ra nguồn gốc của sự kỳ lạ.</p>


<p id="213">Cảm nhận về phối cảnh của tôi không hề sai.</p>


<p id="214">Chiều cao ít nhất phải 2 mét 4.</p>


<p id="215">Người phụ nữ cao lớn khủng khiếp, trông như thể mỗi bước chân của cô ta sẽ phát ra tiếng 'bộp bộp bộp'.</p>


<p id="216">Nhìn thấy khí chất độc nhất vô nhị đó, tôi có thể nhận ra ngay theo bản năng.</p>


<p id="217">Ý tôi là, chỉ cần nhìn là biết.</p>


<p id="218">Trong cái địa ngục hỗn mang này, nụ cười và sự điềm tĩnh đó, vẻ ngoài tao nhã đó, và bầu không khí nguy hiểm không thể diễn tả bằng lời.</p>


<p id="219">Cô ta là một Pháp sư.</p>


<p id="220">Hóa ra con người có thể sở hữu loại hiện diện áp đảo này.</p>


<p id="221">Khi tôi đứng chết trân, không thể nhúc nhích, đám tùy tùng phía sau cô ta hét lên.</p>


<p id="222">"Sao một con chuột nhắt như ngươi dám ngẩng đầu cứng đờ thế hả? Ngươi có biết đây là ai không!"</p>


<p id="223">"Đây là Giám đốc của Cty Phát triển Tài nguyên Hoàng Hôn, Quý bà Ceres Cassian."</p>


<p id="224">"Tôi xin lỗi! Kẻ hèn mọn như tôi, sao dám vô lễ! Chỉ là Quý bà quá xinh đẹp..."</p>


<p id="225">Ngay khi tôi định khéo léo buông lời nịnh nọt và quỳ xuống một cách tao nhã.</p>


<p id="226">Bàn tay cô ta nắm lấy cằm tôi và bắt tôi ngẩng đầu lên.</p>


<p id="227">Mùi chanh nhân tạo thoang thoảng từ cổ tay cô ta.</p>


<p id="228">Đôi mắt lờ mờ của cô ta quan sát tôi, như nhìn thấu tâm can.</p>


<p id="229">Giọng nói ướt át của cô ta khiến sống lưng tôi cũng ướt đẫm mồ hôi lạnh.</p>


<p id="230">Bà cô này bị cái quái gì thế?</p>


<p id="231">"Ngươi có đôi mắt đẹp đấy. Đôi mắt điên loạn."</p>


<p id="232">Tôi không hiểu lắm, nhưng tạm thời thái độ của cô ta có vẻ thiện chí.</p>


<p id="233">Hừm, tôi cũng khá đẹp trai mà.</p>


<p id="234">Tôi chưa từng ngủ với phụ nữ cao hơn hai mét bao giờ...</p>


<p id="235">Cảm giác đó sẽ như thế nào nhỉ?</p>


<p id="236">Biết đâu đây là cơ hội tốt để làm quen, từng bước một?</p>


<p id="237">"Ngươi đến bán xác chết phải không? Ta sẽ mua nó."</p>


<p id="238">Thấy cô ta chìa tay ra với người tùy tùng như để lấy tiền, tôi bừng tỉnh trở về thực tại.</p>


<p id="239">Không phải lúc để nghĩ chuyện đó.</p>


<p id="240">"Tôi xin lỗi. Tôi đúng là đến bán xác, nhưng tôi đổi ý rồi. Tôi muốn tưởng nhớ người đã khuất theo một cách khác..."</p>


<p id="241">"Nói dối."</p>


<p id="242">Ceres lại hạ thấp người xuống để bắt gặp ánh mắt tôi.</p>


<p id="243">Khóe miệng cô ta kéo căng đến tận mang tai, một nụ cười rợn người.</p>


<p id="244">"Ngươi đâu phải loại trẻ ngoan có những suy nghĩ ngọt ngào như thế, phải không?"</p>


<p id="245">Chết tiệttttt...</p>


<p id="246">Sao bà biết hay thế...</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293553-chuong-6-cuoc-song-noi-cong-ranh-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c293606-chuong-8-cuoc-song-noi-cong-ranh-5" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'lGfz1nq5h4YMyh0U3C7oxBhLbjOOe87Hruw4xoe4';
        var comment_type = 'chapter';
        var comment_typeid = '293597';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'lGfz1nq5h4YMyh0U3C7oxBhLbjOOe87Hruw4xoe4';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24704');
    chapter_id = parseInt('293597');

    readingObject = {
        series_id: series_id,
        series_title: 'Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="lGfz1nq5h4YMyh0U3C7oxBhLbjOOe87Hruw4xoe4" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

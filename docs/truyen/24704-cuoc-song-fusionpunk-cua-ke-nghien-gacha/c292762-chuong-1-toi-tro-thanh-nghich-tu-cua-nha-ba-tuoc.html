<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha - Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Dù thế giới này là dark fantasy, tôi vẫn đi tìm dopamine của ngày hôm nay.">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="H3uTKj6mC23um1fr66mv9IUZKRcZNEWxK1aVcmd1">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
         
        <a class="rd_sd-button_item rd_top-left disabled"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc" style="background: url('https://i.hako.vn/ln/series/covers/s24704-992700b1-2047-4c0a-ba5c-1c165af6064c.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha">Cuộc Sống Fusionpunk của...</a></h5>
                    <small><i class="fas fa-pen"></i>Đóa Hoa Lặng Lẽ Tàn</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/t35857-1-50">1-50</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li  class="current" >
                                <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc">
                                                                        Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1-50</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc#chapter-comments" style="text-decoration: underline">2 Bình luận</a> -
                        Độ dài: 2,888 từ - Cập nhật: 
                        <time class="topic-time timeago" title="19-01-2026 01:25:22" datetime="2026-01-19T01:25:22+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 1: Tôi trở thành nghịch tử của nhà Bá Tước</p>
                    <p id="1">Sống là phải biết liều.</p><p id="2">Nếu Adam và Eve không đánh cược hái trái cấm.</p><p id="3">Thì thế giới này sẽ mãi mãi chỉ là Vườn Địa Đàng buồn chán phát ớn mà không có những cơn say ngọt ngào của tình dục, cờ bạc, và quyền lực.</p><p id="4">Ting! Ting tong!</p><p id="5">Màn đêm nhòe đi trong cơn mưa tầm tã.</p><p id="6">Tôi tựa lưng vào hàng rào để không rơi, đôi chân đung đưa ở khoảng không vô định.</p><p id="7">Một tay kẹp thuốc, tay kia nốc rượu soju, ngón cái vẫn mải miết lướt trên màn hình điện thoại.</p><p id="8">[Chỉ huy! Lần này em có linh cảm tốt lắm! Quất gói quay 11 lần nhé?]</p><p id="9">Từng cú chạm tay đốt cháy những đồng tiền cuối cùng nhanh đến rợn người.</p><p id="10">[C-chào! Báo cáo. Thuộc Tiểu đoàn Griffin, đơn vị 4 có mặt...]</p><p id="11">[Ngài gọi em à? Ồ hô hô.]</p><p id="12">[Sếp! Em có muộn không? Em đây nè!]</p><p id="13">Nuốt trọn mớ tiền của tôi, cái máy chỉ nhả ra toàn: Rare, Rare, Normal, Rare, và một con Super Rare chẳng ai thèm muốn.</p><p id="14">Một mớ rác rưởi chỉ tổ chọc điên người ta.</p><p id="15">Vậy mà ngón tay tôi vẫn nhấn tiếp theo quán tính, cầu nguyện một tia hy vọng giữa những tuyệt vọng triền miên. Nút quay 11 lần lại nhấn xuống.</p><p id="16">Cái mô hình gacha khốn kiếp này. Chắc hẳn đám chuyên gia đầu ngành đã chụm đầu lại tính kế: "Làm sao để biến người chơi thành con nợ và hủy hoại cuộc đời chúng nó nhỉ?"...</p><p id="17">...Nó được thiết kế để bào mòn cả sự phẫn nộ lẫn nỗi tuyệt vọng của con người.</p><p id="18">Tôi đã đốt bao nhiêu tiền vào đây rồi?</p><p id="19">[Bùm! Bùm! Bắt lấy ánh sáng!]</p><p id="20">Cú quay cuối cùng. Màn hình lóe lên hiệu ứng bảy sắc cầu vồng rực rỡ.</p><p id="21">Thứ ánh sáng chỉ xuất hiện khi ra con SSR.</p><p id="22">"Ra rồi sao?"</p><p id="23">3 giây.</p><p id="24">Khoảng thời gian ngắn ngủi nhưng ngỡ như cả thế kỷ trôi qua.</p><p id="25">[E-Em không phải đến vì thích ngài đâu nhé, Chủ nhân?]</p><p id="26">Giọng cô hầu gái tsundere vang lên, lồng tiếng bởi một người lồng tiếng người Nhật nổi tiếng.</p><p id="27">Hình ảnh Live2D của nhân vật với tỷ lệ drop thảm hại 0.002% lấp đầy màn hình.</p><p id="28">"Đây rồi. Cuối cùng cũng ra."</p><p id="29">Chính là nó.</p><p id="30">Dòng chảy rực rỡ năm sắc cùng những tín hiệu hoá học đan xen, tuôn trào trong các mạch máu của não tôi.</p><p id="31">Ánh sáng của đời tôi, ngọn lửa của lòng tôi, tội lỗi của tôi, dopamine của tôi.</p><p id="32">Thú thật.</p><p id="33">Tôi chẳng biết quái gì về cốt truyện hay sức mạnh của con ngực bự này.</p><p id="34">Như mọi khi, thứ tôi cần chỉ là tiếng vang trong tâm hồn khi phá vỡ bức tường xác suất hoang đường kia.</p><p id="35">Đó là thứ tôi khao khát.</p><p id="36">Nhưng khoảnh khắc khoái lạc làm rung chuyển não bộ ấy trôi qua quá nhanh.</p><p id="37">"Ha."</p><p id="38">Một tiếng cười rỗng tuếch thoát ra.</p><p id="39">Mình đang làm cái quái gì thế này...</p><p id="40">Tôi đâu phải kẻ thích chơi trội, nhưng lý do duy nhất khiến tôi leo qua hàng rào sân thượng dưới trời mưa tầm tã này chỉ có một.</p><p id="41">Để thực hiện một lựa chọn cực đoan.</p><p id="42">Một thằng sắp chết, lại ngồi cười khúc khích chỉ vì quay ra nhân vật game. Đến tôi còn thấy mình thảm hại.</p><p id="43">Tôi tắt game, tiếng nhạc nền ồn ào tắt theo.</p><p id="44">Ting! Ting!</p><p id="45">Thay vào đó, hiện thực hiện ra.</p><p id="46">[99+ tin nhắn chưa đọc]</p><p id="47">Tiếng rung điên cuồng và hàng loạt thông báo xếp hàng dài trên đầu màn hình.</p><p id="48">Đây là cái thực tại mà tôi đã cố lờ đi.</p><p id="49">[CowCow Financial] Khách hàng Kim Jeong-hwan, khoản thanh toán ngày 24/8 của quý khách đã quá hạn.</p><p id="50">[Quick Money] Ông Kim Jeong-hwan, không trả tiền trong hôm nay thì chúng tôi siết nợ ngay lập tức. Đéo đùa đâu.</p><p id="51">[Số lạ] Kim Jeong-hwan, thằng chó đẻ, nghe máy đi. Thắng rồi trả hả? Mày muốn chết thật à?</p><p id="52">[QuickCash Capital] Nếu anh cứ trốn tránh thế này, chúng tôi sẽ đến tận công ty đấy. Lúc đó đừng trách chúng tôi gọi cho cả bố mẹ anh.</p><p id="53">Mấy giờ rồi mà còn đòi nợ?</p><p id="54">Mấy thằng cho vay nặng lãi này tưởng mình ngồi xổm trên pháp luật chắc.</p><p id="55">"Ừ, xin lỗi nhé."</p><p id="56">Tôi ném cái điện thoại đang rung lên liên hồi.</p><p id="57">Một lát sau, chiếc smartphone vỡ tan tành với tiếng động lớn, như thể đang gào thét: 'Chủ nhân! Ta sẽ báo thù!'</p><p id="58">Mong mày đừng oán tao quá.</p><p id="59">Chủ nhân của mày cũng sắp theo mày thôi.</p><p id="60">"......"</p><p id="61">Sao lại ra nông nỗi này?</p><p id="62">Mọi thứ bắt đầu sai ở đâu?</p><p id="63">Là khi tôi chán ngấy mấy sòng bạc, phòng vip, pachinko, sới bạc chui và nhúng tay vào tiền ảo tương lai?</p><p id="64">Là khi tôi kiếm được số tiền khổng lồ 80 tỷ won từ đống tiền ảo đó?</p><p id="65">Là khi lệnh bán khống hoàn hảo mà tôi phân tích bằng lý trí lạnh lùng biến thành nấm mồ chôn tôi chỉ sau một dòng tweet của Tổng thống Mỹ?</p><p id="66">Hay là khi chưa chịu dừng lại ở nấm mồ đó, tôi đã vay nóng tất tay để bù vào số vốn đã mất?</p><p id="67">Không.</p><p id="68">'Anh Jeong-hwan, vấn đề của anh... không chỉ là nghiện cờ bạc.'</p><p id="69">'Cờ bạc, rượu chè, thuốc lá, game gacha, thể thao mạo hiểm, thậm chí cả gái gú... Hình thức tuy khác nhau, nhưng bản chất vẫn là một.'</p><p id="70">'Mạch tưởng thưởng của não anh hỏng rồi. Não anh đã quá quen với tín hiệu tưởng thưởng gọi là dopamine.'</p><p id="71">'Vì thế, anh bị giảm chú ý với mọi hoạt động ngoài sở thích, rối loạn kiểm soát xung động và mắc đủ thứ nghiện ngập. Anh không thể thỏa mãn với những kích thích bình thường, nên luôn tìm kiếm cái mới.'</p><p id="72">'Nói đơn giản, não anh giờ chẳng khác gì não của một con nghiện ma túy.'</p><p id="73">'Anh không thể tự dừng lại được nữa đâu. Cần nhập viện điều trị gấp.'</p><p id="74">'...Ý ông là tôi nên đi chơi thuốc à? Điên à?'</p><p id="75">Hồi đó tôi đã gạt đi những lời đó, nghĩ đó chỉ là lời chào hàng của tay lang băm tốt nghiệp trường y tỉnh lẻ nào đó......</p><p id="76">Nhưng rốt cuộc, tôi lại ra nông nỗi này.</p><p id="77">"Được rồi."</p><p id="78">Tôi dừng cái màn hối hận thảm hại lại và đứng dậy.</p><p id="79">Gió thổi dữ dội trên sân thượng tòa nhà chọc trời.</p><p id="80">Chỉ liếc xuống một chút, cái nhìn từ trên cao làm tôi xây xẩm mặt mày.</p><p id="81">Mẹ kiếp, cao thật.</p><p id="82">Ở độ cao này, chắc chắn không có chuyện ngắc ngoải rồi để chủ nợ đến thăm bệnh đâu.</p><p id="83">Chỉ vài bước nữa thôi là tôi thoát khỏi kiếp con nợ mà tôi hằng mong đợi.</p><p id="84">Ting!</p><p id="85">Lại có tiếng thông báo.</p><p id="86">"Đệch."</p><p id="87">Đến tận lúc chết vẫn còn nhắn tin đòi nợ sao?</p><p id="88">Tôi cũng có lương tâm, ban đầu cũng thấy có lỗi lắm chứ...</p><p id="89">Nhưng sau ba tháng bị đám nợ nần này truy đuổi ráo riết, mồm tôi chỉ còn biết phun ra mấy câu chửi thề.</p><p id="90">"......?"</p><p id="91">Khoan đã, lúc nãy tôi ném điện thoại rồi mà?</p><p id="92">Làm sao nghe tiếng thông báo được nữa?</p><p id="93">"Cái gì thế này."</p><p id="94">Vừa thắc mắc, tôi nhìn về phía trước. Ngay trước mắt, trên một cửa sổ bán trong suốt.</p><p id="95">[ 1. Nhảy xuống thật mạnh mẽ. ]</p><p id="96">[ 2. Nhảy vào cái ô vuông đằng kia. ]</p><p id="97">Những dòng chữ vàng đang lấp lánh.</p><p id="98">Cứ như đang chọn phương án trong game vậy.</p><p id="99">"Cái quái gì đây."</p><p id="100">Do tôi nốc nhiều soju lúc bụng rỗng quá à?</p><p id="101">Hay giờ đến lúc đi rồi, tạp niệm chưa đủ mà còn sinh ra ảo giác?</p><p id="102">Nhưng dù tôi có dụi mắt hay lắc đầu điên cuồng.</p><p id="103">Những lựa chọn vẫn lơ lửng cố định ở giữa không trung, như mời gọi.</p><p id="104">"...Vào cái ô vuông kia?"</p><p id="105">Vùuuuuuu!</p><p id="106">"Không, làm gì có cái ô vuông nào..."</p><p id="107">Xuyên qua tiếng gió rít như dao cứa, tôi rướn cổ nhìn xuống.</p><p id="108">"...À, có một cái thật."</p><p id="109">Chính xác thì nó nằm dưới mặt đất, sâu tít phía dưới. Một chỗ đậu xe trống duy nhất.</p><p id="110">Khoảng cách khá xa, xa đến mức tôi phải phóng người, chứ không chỉ nhảy, mới may ra lọt vào được...</p><p id="111">"Cái màn hồi tưởng cuộc đời chết tiệt gì thế này."</p><p id="112">Tôi thôi suy nghĩ nghiêm túc.</p><p id="113">Tự sát là chuyện đùa đấy à?</p><p id="114">"......"</p><p id="115">Nhưng đột nhiên.</p><p id="116">Một câu trong cuốn sách nào đó hiện lên trong đầu tôi.</p><p id="117">Chẳng phải ai cũng đối diện với bản chất thật của mình vào giây phút cuối đời sao?</p><p id="118">Bản chất của tôi.</p><p id="119">Kiếp sống của một con thiêu thân, bị mê hoặc bởi dục vọng nguyên thủy và những kích thích phù phiếm ngay từ khi lọt lòng.</p><p id="120">Dù biết là vô nghĩa.</p><p id="121">Một kiếp người bị ánh sáng mê hoặc, cứ thế lao đầu vào sự hủy diệt.</p><p id="122">"Ha..."</p><p id="123">Xem ra tay lang băm kia nói đúng thật.</p><p id="124">"Đằng nào cũng đi, sao không kiếm thêm chút điểm tích lũy trước khi đi nhỉ?"</p><p id="125">Tôi phủi bụi trên quần.</p><p id="126">Chữ "đầu" trong "đầu tư" trong từ Hán vốn mang nghĩa là "ném" hay "phóng" rồi.</p><p id="127">Một nhà đầu tư thất bại, kết thúc cuộc đời bằng một cú phóng người tự sát đầy nội lực.</p><p id="128">"Được rồi, thử nhảy vào cái ô đó xem sao."</p><p id="129">Khi tôi chọn phương án đó, cửa sổ biến mất, tan thành những hạt bụi vàng.</p><p id="130">Đã đến nước này rồi.</p><p id="131">Thì hãy biến nó thành nghệ thuật, cho đến tận giây phút cuối cùng.</p><p id="132">Tôi có kinh nghiệm nhảy wingsuit đấy nhé.</p><p id="133">Tôi sẽ thực hiện một cú nhảy hoàn hảo, cú nhảy khiến Red Bull phải gọi nhỡ 100 cuộc cho mà xem.</p><p id="134">Trong sự tĩnh lặng nơi ngay cả tiếng mưa cũng biến mất.</p><p id="135">Tôi hít một hơi sâu, căn khoảng cách đến chỗ đậu xe, và thực hiện một cú nhảy của niềm tin.</p><p id="136">"Uwaaaaaaah!!!!!"</p><p id="137">Lơ lửng, tự do, rồi rơi xuống.</p><p id="138">Khi mặt đất dưới chân biến mất, gió rít qua tai với tốc độ kinh hoàng.</p><p id="139">Cảm giác không giống như lướt qua không khí, mà như liên tục xuyên qua những lớp màng mỏng.</p><p id="140">Cú rơi này lâu hơn tôi tưởng?</p><p id="141">Không. Mặt đất đang lao đến với tốc độ khủng khiếp.</p><p id="142">Những chùm sáng từ cảnh đêm tuyệt đẹp đang bị hút vào đồng tử giãn to của tôi.</p><p id="143">Aaaa, cảm giác như mình đang bị nuốt chửng.</p><p id="144">Sợ quá.</p><p id="145">Sợ hơn tôi tưởng tượng nhiều.</p><p id="146">Nhưng mà.</p><p id="147">Cần 200 lần nhảy dù để có bằng wingsuit.</p><p id="148">Nghĩa là, tôi đã tận hưởng cảm giác rơi tự do này chán chê rồi.</p><p id="149">Hình như tôi lọt được vào cái ô vuông đó rồi thì phải?</p><p id="150">Bẹp.</p><p id="151">Một âm thanh lớn vang lên, một cú va chạm dữ dội hơn bất cứ thứ gì tôi từng nếm trải trong đời nhấn chìm toàn bộ cơ thể.</p><p id="152">"A... Ư... Aaa..."</p><p id="153">Đau.</p><p id="154">Đau quá.</p><p id="155">Tầm nhìn chỉ còn một nửa, nhưng bản năng cho tôi biết cơ thể mình nát bấy rồi.</p><p id="156">Đó là kiểu đau đớn như vậy.</p><p id="157">"Khục..."</p><p id="158">Không chết ngay sao?</p><p id="159">Từ tầng 52? Có lý không vậy?</p><p id="160">Khi tôi cử động đôi mắt đang lờ đờ, tôi thấy một nửa chiếc điện thoại vỡ nát.</p><p id="161">Tôi giãy giụa trong đau đớn, co giật như một con côn trùng.</p><p id="162">Cảm giác như thời gian ngưng đọng.</p><p id="163">Bao giờ tôi mới chết đây? Dù đủ loại dịch thể đang chảy ra khỏi người tôi ngay lúc này...</p><p id="164">Tôi vẫn sống.</p><p id="165">Tim tôi vẫn đập.</p><p id="166">Như thể nó muốn sống.</p><p id="167">Như thể nó không muốn chết.</p><p id="168">"Hự... Haa..."</p><p id="169">Quá khứ ngập ngụa trong đủ loại kích thích và khoái lạc.</p><p id="170">Tôi chưa bao giờ hối hận.</p><p id="171">Tôi sinh ra đã thế, và tôi sống đúng như thế.</p><p id="172">Tôi đã chấp nhận nó, tự nhủ rằng dù kết cục có là tự hủy diệt thì cũng chẳng sao.</p><p id="173">Ấy vậy mà.</p><p id="174">Hóa ra đây là lý do thời trung cổ người ta tra tấn tù nhân.</p><p id="175">Khi quằn quại trong cơn đau thấu trời xanh này, ý muốn sám hối chậm rãi len lỏi vào tâm trí.</p><p id="176">Nếu có kiếp sau...</p><p id="177">Cờ bạc, rượu chè, thuốc lá, vân vân.</p><p id="178">Thôi dẹp hết, làm một con chiên ngoan đạo sống theo lời Chúa dạy.</p><p id="179">Hoặc, như Đức Phật nói, nguồn gốc của đau khổ là ham muốn, vậy hãy rũ bỏ nó để nhập niết bàn.</p><p id="180">Khi tôi thốt lên lời thề đó.</p><p id="181">Cái chết nuốt chửng ý thức tôi như một vùng biển đen kịt.</p><p id="182">======</p><p id="183">『 ED 0. Ngã Rẽ Của Sự Lựa Chọn 』</p><p id="184">Dục vọng của ngươi là gì?</p><p id="185">Tâm tượng chính là con mắt nhìn ra thế giới, là mỹ học, hay là đỉnh cao của sự vị kỷ vô pháp vô thiên.</p><p id="186">Nói cách khác, đó là đôi cánh sáp bay về phía mặt trời.</p><p id="187">Ngươi đã chứng minh tư cách bằng một 'lựa chọn đặc biệt'</p><p id="188">▶ Thành tựu: 「Cái Chết Thứ 0」 Đã mở</p><p id="189">- ■■■■ (LV.0) đã được kích hoạt.</p><p id="190">- Sự thấu hiểu về cái chết của ngươi tăng nhẹ.</p><p id="191">- Nhận được 50 điểm.</p><p id="192">▶ Danh hiệu: 「Kẻ Theo Chủ Nghĩa Khoái Lạc」 Đã nhận</p><p id="193">- 'Khả năng tự chủ' giảm xuống.</p><p id="194">- 'May mắn' tăng nhẹ.</p><p id="195">- Nhận được 10 điểm.</p><p id="196">Ở tận cùng của sự kiêu ngạo và ngu xuẩn, nguyện ngươi đạt đến cảnh giới siêu việt.</p><p id="197">======</p><p id="198">Tiếng cười vang lên.</p><p id="199">2.</p><p id="200">Bá tước Montraven, một người đàn ông trung niên trong bộ vest lịch lãm, đang chống cằm chìm trong u sầu.</p><p id="201">Gia tộc Montraven gánh vác một trọng trách lớn lao.</p><p id="202">Nhiệm vụ của họ là quản lý nguồn nước cho 'Aden', thành phố Ark và cũng là cái nôi của nhân loại chống lại ngày tận thế.</p><p id="203">So với các vị trí chủ chốt khác, việc kiểm tra các cơ sở lọc và cấp nước nghe có vẻ chẳng hào nhoáng gì...</p><p id="204">Nhưng đó vẫn là vai trò tối quan trọng.</p><p id="205">Vì con người không có nước thì sẽ chết.</p><p id="206">Dù là một chức vụ nhỏ bé chẳng xứng với tước hiệu 'Bá tước', Ngài Montraven vẫn giữ vững niềm tin và hoàn thành bổn phận.</p><p id="207">Ông là một gia chủ xuất sắc, một người cha của cậu con trai sáng sủa và cô con gái sắc sảo.</p><p id="208">Đó là chuyện của một tháng trước.</p><p id="209">"Cedric đi đâu rồi?"</p><p id="210">"Thiếu gia hình như lại đến sòng bạc rồi ạ."</p><p id="211">"Lại đi nữa sao? Không thèm chào hỏi gì à?"</p><p id="212">"Cậu ấy đi từ sáng sớm. Chắc rạng sáng mai mới về."</p><p id="213">Vị quản gia già và Bá tước cùng nuốt tiếng thở dài.</p><p id="214">Một tháng trước.</p><p id="215">Con trai ông, Cedric, người đã hôn mê suốt ba năm vì tai nạn, bỗng tỉnh lại.</p><p id="216">Đó là một phép màu xảy ra khi ngay cả những linh mục cấp cao của Tòa Thánh cũng đã bó tay, và tiền Vạn Năng đổ vào như nước cũng vô hiệu...</p><p id="217">'Con tỉnh rồi sao, con trai!'</p><p id="218">'Ông là ai?'</p><p id="219">Cuộc đoàn tụ với con trai lại là điều tồi tệ nhất.</p><p id="220">Cedric trỗi dậy từ giường bệnh nhưng ký ức không còn nguyên vẹn.</p><p id="221">Không những thế, vừa mở mắt là nó tìm rượu và thuốc lá, lui tới phố đèn đỏ và nướng sạch gia sản.</p><p id="222">Và giờ, nó nghiện cờ bạc nặng.</p><p id="223">Bá tước hiểu cho sự buông thả của con.</p><p id="224">Nó sống lại là tốt rồi.</p><p id="225">Trở về từ cõi chết, ông coi đó chỉ là sự lạc lối nhất thời, một phản ứng dội ngược.</p><p id="226">Ông tin rằng khi ký ức dần hồi phục, nó sẽ trở lại là chính mình.</p><p id="227">Tuy nhiên, niềm tin vững chắc ấy cũng có giới hạn.</p><p id="228">"Thưa ngài, chẳng phải đã đến lúc dạy dỗ lại Thiếu gia rồi sao? Cậu ấy đã tiêu tán 50 triệu Bios chỉ trong một tháng."</p><p id="229">"N-Năm mươi triệu? Ta đâu có đưa nó nhiều tiền thế..."</p><p id="230">"Có vẻ cậu ấy đã bán sạch đồ quý trong két sắt cá nhân và gửi hết vào sòng bạc..."</p><p id="231">"Cái thằng chó đẻ này."</p><p id="232">Bá tước Montraven ôm đầu.</p><p id="233">Làm sao đứa con trai tuy không có tài năng nhưng vẫn chăm chỉ của ông lại trở thành kẻ đốn mạt khét tiếng thế này?</p><p id="234">Dù ông không muốn nó đi theo con đường ma thuật như em gái, nhưng ít nhất ông cũng hy vọng không phải nghe người đời đàm tiếu về việc nó làm ô nhục gia phong.</p><p id="235">"Tôi biết thế này là mạo phạm, nhưng... tôi có thể đưa ra một gợi ý không?"</p><p id="236">"Gợi ý?"</p><p id="237">"Thiếu gia trở nên kỳ lạ sau vụ tai nạn lớn đó... vậy nếu cậu ấy trải qua một tai nạn lớn khác, biết đâu lại trở về bình thường?"</p><p id="238">"......?"</p><p id="239">Ánh mắt của vị quản gia trưởng, người nắm giữ tài chính gia tộc, trông thật đáng ngại.</p><p id="240">Nghe không giống nói đùa chút nào.</p><p id="241">"Ta sẽ có biện pháp đặc biệt."</p><p id="242">Vị Bá tước đưa ra quyết định.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center  disabled "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(2)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">2 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3169818"
    class="ln-comment-item mt-3 clear"
    data-comment="3169818" 
    data-parent="3169818" 
    data-type="chapter" 
    data-typeid="292762">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.docln.net/lightnovel/users/ua71697-b3119935-c589-4132-bba1-84f59d6c0e4f.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/71697">2years</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Liều
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc?comment_id=3169818#ln-comment-3169818"
                            class="text-slate-500">
                            <time class="timeago" title="19-01-2026 02:22:18"
                                datetime="2026-01-19T02:22:18+07:00">
                                19-01-2026 02:22:18
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>
<div class="ln-comment-group">
    <div id="ln-comment-3169751"
    class="ln-comment-item mt-3 clear"
    data-comment="3169751" 
    data-parent="3169751" 
    data-type="chapter" 
    data-typeid="292762">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u79274-175af770-dfb3-463a-bce3-d47b67ddfd4d.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/79274">dungnhintentui</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        trông cx cx á<br>
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24704-cuoc-song-fusionpunk-cua-ke-nghien-gacha/c292762-chuong-1-toi-tro-thanh-nghich-tu-cua-nha-ba-tuoc?comment_id=3169751#ln-comment-3169751"
                            class="text-slate-500">
                            <time class="timeago" title="19-01-2026 01:01:24"
                                datetime="2026-01-19T01:01:24+07:00">
                                19-01-2026 01:01:24
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'H3uTKj6mC23um1fr66mv9IUZKRcZNEWxK1aVcmd1';
        var comment_type = 'chapter';
        var comment_typeid = '292762';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'H3uTKj6mC23um1fr66mv9IUZKRcZNEWxK1aVcmd1';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24704');
    chapter_id = parseInt('292762');

    readingObject = {
        series_id: series_id,
        series_title: 'Cuộc Sống Fusionpunk của Kẻ Nghiện Gacha',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="H3uTKj6mC23um1fr66mv9IUZKRcZNEWxK1aVcmd1" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

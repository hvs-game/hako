<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Hakai no Miko - Chương 04: Cú sốc - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Kizaki Souma, người không hơn gì một học sinh cao trung bình thường sống ở Nhật Bản, đột nhiên được triệu hồi đến thế giới khác bởi một ai đó. Ở thế giới ấy, loài người đang áp bức các tộc á nhân sau khi đi chinh phục họ. Cậu...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="wmiCduBwROmfKKE2CWhlPkCRYQEndS8MSTQA37NF">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/20162-hakai-no-miko/c304158-chuong-04-cu-soc">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s20162-acf14bad-7ba1-412b-b24d-c132a4cfc260.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/20162-hakai-no-miko/c303381-chuong-03-hoi-dong-muoi-nguoi"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/20162-hakai-no-miko"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/20162-hakai-no-miko/c304158-chuong-04-cu-soc" style="background: url('https://i.hako.vn/ln/series/covers/s20162-acf14bad-7ba1-412b-b24d-c132a4cfc260.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/20162-hakai-no-miko">Hakai no Miko</a></h5>
                    <small><i class="fas fa-pen"></i>Mumei Koubou</small>
                    <small><i class="fas fa-paint-brush"></i>Haruki Miyai</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class=""><a href="/truyen/20162-hakai-no-miko/c151928-chuong-43-dau-hang">Tập 01: Đốt cháy vùng đồng bằng</a></li>
                                        
                                                            <li class=""><a href="/truyen/20162-hakai-no-miko/c198149-chuong-mo-dau-01-chang-trai-tre">Tập 02: Những biến động đầu tiên</a></li>
                                        
                                                            <li class="current"><a href="/truyen/20162-hakai-no-miko/t35434-tap-03-buoc-di-cua-rong">Tập 03: Bước đi của Rồng</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/20162-hakai-no-miko/c297484-chuong-mo-dau-vung-dat-phuong-tay">
                                                                            <i class="fas fa-picture-o" aria-hidden="true" title="Có chứa ảnh"></i>
                                                                        Chương mở đầu - Tây Vực
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20162-hakai-no-miko/c297809-chuong-01-khoi-dong">
                                                                        Chương 01: Khởi động
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20162-hakai-no-miko/c299477-chuong-02-phan-bon">
                                                                        Chương 02: Phân bón
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/20162-hakai-no-miko/c303381-chuong-03-hoi-dong-muoi-nguoi">
                                                                        Chương 03: Hội đồng mười người
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/20162-hakai-no-miko/c304158-chuong-04-cu-soc">
                                                                        Chương 04: Cú sốc
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 03: Bước đi của Rồng</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 04: Cú sốc</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/20162-hakai-no-miko/c304158-chuong-04-cu-soc#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,727 từ - Cập nhật: 
                        <time class="topic-time timeago" title="05-02-2026 09:36:38" datetime="2026-02-05T09:36:38+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 04: Cú sốc</p>
                    <p id="1">Mặt đất dưới chân Menahem, ngay vừa xuống khỏi xe, được phủ một lớp màu xám nhạt. Theo cảm nhận qua đôi giày bốt, đây không phải là đất cứng thông thường. Nó cứng chắc hơn nhiều. Khi ông cúi xuống và trực tiếp chạm tay vào, ông không thể diễn giải nó là gì khác ngoài đá.</p><p id="2">Đứng thẳng lên, Menahem nhìn về phía Bolnis. Trước mắt ông, con đường phủ lớp xám nhạt ấy trải dài tới tận chân trời.</p><p id="3">"Chính là thứ mà ta từng nghe đồn...『Con đường của Soma』... ấy à?"</p><p id="4">Ngay cả Menahem cũng đã nghe tin rằng Đứa trẻ của Hủy Diệt từng tiến hành những công trình xây dựng đường bộ quy mô lớn song song với việc khai hoang đồng bằng Sobliant. Một lãnh chúa phong kiến bảo trì đường xá trong lãnh thổ của mình không có gì là lạ. Tuy nhiên, điều khiến Menahem ấn tượng mạnh mẽ là nó gần như hoàn toàn phù hợp với những lời đồn đại khó tin xung quanh.</p><p id="5"><em>Đứa trẻ của Hủy Diệt đã xây dựng con đường bằng đá... nhờ phép thuật.</em></p><p id="6">Khi nghe tin này, Menahem đã cười khinh bỉ, cho rằng đó chỉ là chuyện mơ mộng. Ông nghĩ rằng có chăng là những người lùn với kỹ thuật xây dựng tinh xảo mới có thể lát một con đường đá với độ hoàn thiện cao. Nhưng con đường trước mắt ông không hề ở mức tin đồn.</p><p id="7">"Làm sao mà hắn có thể xây được thứ như thế này...!?"</p><p id="8">Rốt cuộc, con đường trước mắt không thể được giải thích đơn thuần bằng lát đá. Chẳng những không hề có khe hở đủ để một sợi tóc lọt qua, mà đường này còn không hề có một vết nối nào nhìn thấy được. Nó trông hoàn toàn như thể cả con đường được cắt ra từ một tảng đá khổng lồ nguyên khối.</p><p id="9">Đúng vậy, Menahem hoàn toàn có lý khi kinh ngạc. "Con đường của Soma" được lát bằng bê tông.</p><p id="10">Loại bê tông sử dụng ở đây không phải Portland cement liên kết bằng canxi như ở Nhật Bản. Nó là bê tông geopolymer với chất kết dính gốc nhôm, được tạo ra bằng cách trộn các thành phần tự nhiên như vôi sống, đá bọt, và tro núi lửa từ Maha Genobandela. Đây cũng là loại bê tông cổ đại từng được gọi là Roman Concrete, sử dụng để xây dựng Colosseum và Pantheon – cả hai vẫn giữ nguyên hình dạng cho đến ngày nay – do đế chế La Mã cổ xây dựng.</p><p id="11">Cũng như người La Mã cổ đại, những người lùn trong thế giới này đã khám phá ra rằng trộn tro núi lửa, đá bọt và vôi sống sẽ tạo ra thứ cứng như đá. Tuy nhiên, những người lùn sống lâu dài trong hang động và đường hầm thường chỉ dùng loại bê tông này để củng cố nhà ở. Ý tưởng lát đường bằng vật liệu này chính là của Souma.</p><p id="12">Ở Nhật Bản hiện đại, nhựa đường rẻ hơn và thời gian thi công nhanh hơn chiếm phần lớn các con đường, nhưng tại những nước có tuyết dày và chịu mài mòn dữ dội do xích xe, vẫn tồn tại những khu vực sử dụng bê tông vì độ bền vượt trội. Những ký ức về việc từng đi qua những nơi như vậy đã giúp cậu nảy ra ý tưởng lát đường bằng bê tông.</p><p id="13">"Cha thấy 『Con đường của Soma』 thế nào?" Yoash hỏi, hoàn toàn nhận thức được cú sốc mà cha mình vừa trải qua.</p><p id="14">Trong thời đại này, nếu nói về những con đường chính, phần lớn chỉ là việc loại bỏ những tảng đá lớn có thể cản trở việc đi lại. Vì vậy, khi mưa, nước lập tức trôi dọc theo đường như một dòng sông, và tùy địa hình, bánh xe xe ngựa có thể bị kẹt khi mặt đất biến thành bùn.</p><p id="15">Tuy nhiên, điều đó hoàn toàn không áp dụng cho "Con đường của Soma."</p><p id="16">Không chỉ bởi nó không bị ảnh hưởng bởi thời tiết. Một con đường phẳng, bằng phẳng, gần như không có chỗ gồ ghề sẽ giảm gánh nặng cho những chiếc xe ngựa đi qua, đồng nghĩa với việc giảm hư hại cho hàng hóa chở trên xe.</p><p id="17">Hơn nữa, xe ngựa có thể di chuyển với tốc độ cao hơn nhiều so với trước đây. Ngay cả tốc độ khiến bất kỳ chiếc xe nào nhảy bổng lên vì đường gồ ghề bình thường cũng không phải vấn đề trên "Con đường của Soma." Có câu ngạn ngữ Jeboa rằng "thời gian không thể mua bằng tiền", nhưng nếu sử dụng "Con đường của Soma", người ta có thể cắt giảm thời gian vận chuyển đến mức không thể so sánh với trước kia. Nếu tính thêm việc giảm gánh nặng cho xe do thời gian di chuyển ngắn hơn, và giảm chi phí sửa chữa, lợi ích của con đường sẽ càng tăng theo khoảng cách đến điểm đến.</p><p id="18">Trước đây từng có tin đồn về việc các thương nhân muốn đầu tư vào xây dựng một con đường mới phía nam Bolnis. Tuy nhiên, Menahem nghe nói những cuộc bàn bạc đó đang bế tắc. Nhưng khi nhìn thấy con đường này, ông hoàn toàn hiểu lý do. Nếu được chứng kiến một con đường như thế này, bất kỳ ý định nào về việc san lấp đất, bỏ ra khoản tiền và công sức khổng lồ để xây dựng một con đường kém hơn sẽ tan biến ngay lập tức.</p><p id="19">"...『Con đường của Soma』 dài bao nhiêu vậy? Hắn định xây đến đâu?"</p><p id="20">Yoash nhún vai một cách bình thản trước câu hỏi của cha, lẩm bẩm như đang nói với chính mình, rồi đáp:</p><p id="21">"Hiện giờ vẫn chỉ là con đường chính từ Bolnis đến đồng bằng Solbiant, các đoạn từ Bolnis đến Holmea và Jeboa vẫn đang xây. Nhưng con nghĩ ngài Soma định mở rộng nó như một lưới khắp toàn bộ lãnh thổ dưới quyền cai trị của ngài ấy."</p><p id="22">"Con đường của Soma" là một công trình khổng lồ mà cả đời Souma cũng khó có thể hoàn tất. Sau này, nó sẽ tiếp tục mở rộng cùng với sự phát triển của quyền lực Souma, và vào những ngày hoàng kim nhất, nó sẽ lan rộng khắp phần lớn Tây Vực, trở thành một mạng lưới đường thương mại khổng lồ với Bolnis ở trung tâm.</p><p id="23">Tuy nhiên, người ta nói rằng các thuộc hạ của Souma thỉnh thoảng cũng bày tỏ sự lo ngại về chi phí xây dựng, vốn là một khoản đầu tư khổng lồ. Thế nhưng Souma vẫn kiên quyết tiếp tục xây dựng "Con đường của Soma."</p><p id="24">Về vấn đề này, nhà nghiên cứu hàng đầu về Đứa trẻ của Hủy Diệt, Martens S. Ackerson, đã viết:</p><p id="25"><em>"Trong một thời đại, nơi sự giàu có được định nghĩa bằng lượng vàng bạc sở hữu, chỉ có Đứa trẻ của Hủy Diệt nhận thức được rằng dòng chảy thông suốt của con người, hàng hóa và vốn sẽ dẫn tới sự giàu có. Chính vì lẽ đó, ông đã đầu tư một khoản tiền khổng lồ vào việc thiết lập và duy trì những con đường, vốn trở thành nền tảng cho sự kết nối. Đồng thời, đó cũng trở thành nền tảng hỗ trợ quyền lực hùng mạnh của ông trong tương lai."</em></p><p id="26">Tuy nhiên, dù "con đường của Soma" được xây dựng với số tiền khổng lồ như vậy, hầu hết đã bị phá hủy trong cuộc Đại Cải Cách, và ngày nay chỉ còn một phần nhỏ tồn tại nguyên vẹn tại những vùng hẻo lánh của đồng bằng Solbiant.</p><p id="27">"Con đường của Soma" còn sót lại trên lục địa Seldeas hiện đại sau hàng nghìn năm vẫn được sử dụng như một con đường thiết yếu cho sinh kế của người dân địa phương, kể lại câu chuyện về kỹ thuật xây dựng tinh vi của nó khi còn mới. Công thức sản xuất và các ghi chép về thời gian thi công đã bị thiêu rụi trong cuộc Đại Cải Cách, và vì thế cũng dễ hiểu khi trong Thời Đại Bóng Tối, khi cả truyền miệng của những thợ lùn lành nghề cũng bị xóa sạch, người dân tin rằng những con đường này được xây bởi những sinh vật huyền bí mà Đứa trẻ của Hủy Diệt triệu hồi.</p><p id="28">Yoash mỉm cười khẽ khi thấy Menahem vẫn không ngừng chăm chú nhìn "Con đường của Soma."</p><p id="29">"Đi thôi, cha. Cơ thể sẽ không chịu nổi nếu cứ bị bất ngờ chỉ bởi những thứ ở mức độ như này đâu. Dẫu sao thì đây mới chỉ là khởi đầu thôi."</p><p id="30">◆◇◆◇◆</p><p id="31">Như Yoash đã dự đoán, sự sửng sốt của Menahem vẫn tiếp tục ngay cả sau khi họ tới thành phố Bolnis.</p><p id="32">Điều khiến ông ngạc nhiên đầu tiên là sự sạch sẽ của cả thành phố. Không hề có rác rưởi vương vãi ven đường hay mùi phân nồng nặc bốc lên từ những con hẻm như thường thấy ở các thành phố khác. Khi Menahem quan sát, những đứa trẻ nhỏ sẽ chạy tới bất cứ khi nào ngựa hay bò thải phân, và khéo léo gom dọn chúng bằng chổi và hốt rác.</p><p id="33">"Ngài Soma rất yêu sự sạch sẽ. Những ai đi vệ sinh ở nơi khác ngoài khu vực được chỉ định sẽ bị phạt. Còn phân của gia súc sẽ do những đứa trẻ mồ côi thu gom, như cha thấy đấy."</p><p id="34">Người ta nói rằng vài năm trước, vào một mùa hè nóng nực, Souma đã phản đối đến rơi nước mắt rằng nếu mùi hôi quá nặng không biến mất, cậu sẽ thực hiện các công vụ của mình ngoài thành phố. Những người có ảnh hưởng trong thành phố, không chịu nổi tiếng xấu vì để lãnh chúa bị xua đuổi bởi mùi hôi, đã vội vàng đầu tư công sức khổng lồ để cải thiện môi trường.</p><p id="35">Kết quả là các nhà vệ sinh công cộng – lần đầu tiên trên lục địa Seldeas – được xây dựng tại Bolnis. Hơn nữa, theo gợi ý của Souma và nhờ vào kỹ thuật của những thợ lùn, đó là những nhà vệ sinh có hệ thống xả, sử dụng nước từ con sông chảy qua trung tâm thành phố qua các kênh ngầm. Người ta nói rằng nhờ những công trình này, môi trường sống tại Bolnis đã được cải thiện một cách đáng kể.</p><p id="36">Nhưng chưa dừng lại ở đó. "Tờ báo" tổng hợp các sự kiện trong thành phố và các nước láng giềng cũng là một bất ngờ lớn. Khi Menahem hỏi liệu thứ như vậy có bán được ở một thành phố như thế không, khi mà ngay cả ở Jeboa – thành phố thương nhân – cũng không có nhiều người biết đọc, ông được nói rằng có thể nhờ những đứa trẻ mồ côi đọc báo cho mình với một khoản phí nhỏ nếu mang tờ báo tới.</p><p id="37">Cuối cùng, khi tới được dinh thự phụ tại Bolnis và trấn an cha mỗi lần ông thắc mắc về điều gì bất thường, Yoash trước tiên đã gửi một sứ giả tới dinh thự lãnh chúa để xin được diện kiến Souma. Trong thời gian chờ phản hồi, anh mời cha đi tắm để rửa sạch bụi bẩn sau chuyến đi.</p><p id="38">Bồn tắm tại dinh thự phụ của Yoash không phải là bồn hơi như thường thấy trên thế giới này. Đó là một bồn tắm khổng lồ chứa đầy nước nóng. Đây cũng là một trong những nét đặc trưng mà có vẻ đã lan rộng từ Souma, Đứa trẻ của Hủy Diệt, làm khởi nguồn.</p><p id="39">"Đó là vì trong dinh thự của ngài Soma có một bồn tắm công cộng rộng lớn và tráng lệ được xây dựng cho ngài ấy."</p><p id="40">Souma nói rằng cậu sử dụng bồn tắm này cùng những người thân cận, vì sẽ thật lãng phí nếu chỉ dùng một mình bồn tắm lớn được đun với một lượng nước nóng khổng lồ. Hơn nữa, bồn tắm này dường như nhận được nhiều lời khen ngợi, vì sau khi Souma và đoàn tùy tùng tắm xong, nó cũng được mở cho các binh lính bình thường.</p><p id="41">Nghe vậy, Menahem nhíu mày, nói rằng thật không đúng khi những người trẻ khỏe tụ tập khỏa thân. Yoash bước ra khỏi bồn nước nóng với nụ cười mỉm và bình luận ngắn gọn rằng cha đang hiểu lầm, và khi đã mặc xong trang phục trang trọng để diện kiến, quản gia thông báo rằng một chiếc xe ngựa đã đến để đưa họ tới dinh thự của Souma.</p><p id="42">Menahem, chỉ nghĩ rằng sẽ có một sứ giả thông báo việc được chấp thuận diện kiến, phần nào ngạc nhiên trước sự tiếp đón nồng hậu khi họ cử hẳn một chiếc xe đến đón. Khi ông rời dinh thự cùng con trai với gương mặt đầy tự hào, một mỹ nhân elf duy nhất đang chờ họ.</p><p id="43">"Yoohoo! Thật là một vinh dự khi Nữ quan trưởng đến đón chúng tôi tận nơi như thế này."  [note88472]</p><p id="44">Nhờ lối nói phóng đại của con trai, Menahem nhận ra mỹ nhân elf này chính là Nữ quan trưởng Eladia, tự mình quản lý dinh thự của Souma.</p><p id="45">"Đó là điều tất nhiên nếu liên quan đến ngài Yoash. Chúng tôi đã được lệnh từ lãnh chúa, mở cổng Bolnis bất cứ lúc nào nếu việc đó vì lợi ích của ngài Yoash." Eladia cúi chào một cách duyên dáng, đưa tay về phía chiếc xe ngựa đỗ sau lưng. "Xin mời ngài lên xe. Lãnh chúa của chúng tôi đang nóng lòng chờ đợi sự hiện diện của các ngài."</p><p id="46">Được Eladia mời, cả hai bước lên xe. Khi nhìn Eladia trò chuyện cùng con trai mình trong lúc di chuyển đến dinh thự của lãnh chúa, Menahem nhận ra cô chính là mĩ nhân nổi tiếng, Phù Thủy Eladia. Dù chỉ đang trò chuyện, ông vẫn cảm nhận được sự quyến rũ tỏa ra từ cơ thể cô.</p><p id="47"><em>Tuy nhiên, việc nó không trở nên dung tục có lẽ nhờ vào trí tuệ của cô ấy, lóe lên qua các chủ đề trao đổi khác nhau, cùng sự thanh lịch và tinh tế toát ra từ từng cử động ngón tay. Nhìn cô ấy như vậy, ta hoàn toàn có thể tin vào những câu chuyện về việc cô ấy từng ảnh hưởng sâu sắc đến một hai quốc gia.</em></p><p id="48">Dẫu vậy, có một điều khác khiến Menahem quan tâm nhiều hơn cả. Cuối cùng không kiềm chế được sự tò mò, Menahem hỏi Eladia, "Xin lỗi vì câu hỏi có phần thô lỗ, nhưng bộ trang phục ngài đang mặc là gì vậy?"</p><p id="49">Trang phục của các quý phu nhân thời này là những mảnh vải rộng, cố định bằng dây và ghim, tương tự như chitons của Hy Lạp cổ đại. Tuy nhiên, trang phục Eladia mặc là một bộ áo dày kiểu blouse với tay áo thon gọn. Nó hoàn toàn không hở nhiều da thịt. Thậm chí, so với trang phục rộng rãi trước đây, bộ này còn kín đáo hơn. Nhưng nhờ những đường cong cơ thể được tôn lên rõ ràng hơn trong bộ trang phục này, nó lại trở nên mê hoặc một cách tinh tế.</p><p id="50">Eladia khẽ cười, "Ồ? Vậy mà tôi lại nghe nói ngài là một người kiên định, chỉ tận tâm với việc kinh doanh thôi, ngài Menahem."</p><p id="51">Hỏi một người phụ nữ ngay lần gặp đầu tiên về bộ trang phục của cô ta quả là cực kỳ thô lỗ. Hơn nữa, cô ấy từng là một kỹ nữ. Việc này hoàn toàn có thể bị hiểu nhầm là ông đang tìm kiếm một mối quan hệ tình dục.</p><p id="52">Eladia bỏ qua cho Menahem đang vội vàng xin lỗi, và đáp, "Rốt cuộc thì trước đây tôi cũng đã được con trai ngài, ngài Yoash, hỏi như vậy." Cô giơ tay phải lên, chỉ cho Menahem thấy một vật nhỏ tròn được gắn trên cổ tay áo. "Đây là một sáng tạo của ngài Soma, gọi là cúc áo."</p><p id="53">Nghe Eladia giải thích về cúc áo, Menahem sững sờ.</p><p id="54">Cấu trúc của nó cực kỳ đơn giản. Nhưng công dụng thì thật tuyệt vời.</p><p id="55">Rốt cuộc, đây là một thời đại chưa có vải co giãn. Tay áo và cổ áo phải rất rộng để đầu và tay có thể xuyên qua. Nhưng điều đó lại khiến quần áo khó ngăn lạnh. Thông thường, các khoảng trống này được đóng lại bằng cách buộc dây hay nhồi thêm vải. Tuy nhiên, cúc áo này đơn giản hơn rất nhiều. Hơn nữa, nó không để lại thứ thừa thãi gây cản trở như dây buộc. Ngoài ra, cúc áo còn có thể dùng để trang trí cho trang phục.</p><p id="56">Khi Menahem suy nghĩ rằng ngay khi về Jeboa ông phải lập tức đến gặp thợ may yêu thích để làm cúc áo này, Yoash khẽ ho cạnh bên ông.</p><p id="57">"Cha à, lão Mayart đã tạo ra một vài nguyên mẫu rồi."</p><p id="58">Cái tên Yoash nhắc đến chính là thợ may mà Menahem vừa mới nghĩ đến. Ông đã hứng thú với cúc áo, nhưng suy nghĩ kỹ lại thì không đời nào người con mưu mô của ông có thể bỏ qua thứ như thế này.</p><p id="59">"Quả thật, thành phố này có rất nhiều điều thú vị." Menahem nói như muốn giảm bớt sự ngượng ngùng của mình.</p><p id="60">Đáp lại, Yoash nhún vai một cách phóng đại, "Chuyện này thú vị với cha là tốt, nhưng con muốn cha nói chuyện đó với con trước. Nếu kể với lãnh chúa, chắc chắn sẽ bị nói, 『Tôi đâu nghĩ đây là chuyện quan trọng』, điều đó thật khó chịu mà."</p><p id="61">Menahem cau mày nhìn con trai đang phàn nàn rầm rộ. Một thứ có thể thay đổi mạnh mẽ thời trang truyền thống mà lại bị mô tả là không quan trọng thật khó tin. Ông băn khoăn không biết nên gọi Souma là người không thể đo lường theo chuẩn mực thông thường, hay là một kẻ ngốc hoàn toàn không hiểu giá trị của mọi thứ.</p><p id="62">Trong khi đó, chiếc xe ngựa đã đến nơi ở của lãnh chúa. Khi hai người bước xuống xe, họ được đón tiếp bởi những nữ quan elf xinh đẹp. Ngay cả Menahem, người thường xuyên viếng thăm các cung điện hoàng gia của nhiều quốc gia, cũng phần nào choáng ngợp trước cảnh tượng khiến bất kỳ ai cũng dễ nhầm tưởng nơi này là hậu cung của một quốc gia lớn.</p><p id="63">"Ngài Soma đang đợi ngài tại gian đình trong vườn."</p><p id="64">Menahem khẽ cau mày trước lời của Eladia. Ông cho rằng họ có thể không hề quan tâm đến việc tiếp đón ông một cách long trọng, khi dẫn ông ra vườn thay vì vào trong phủ, mặc dù mùa vẫn còn se lạnh.</p><p id="65">Tuy nhiên, con trai ông lại tỏ ra rất vui vẻ, reo lên, "Ôi! Nơi đó cuối cùng cũng hoàn thành rồi sao!? Cha phải nhìn thấy tận mắt mới được!"</p><p id="66">Menahem liếc mắt hỏi ý nghĩa của câu nói đó, nhưng người con ngông cuồng này chẳng thèm trả lời mà chỉ nở một nụ cười tinh nghịch.</p><p id="67">"Ngài Soma ở hướng đó."</p><p id="68">Menahem rẽ quanh hành lang của dinh thự, ông hoàn toàn bị choáng ngợp trước cảnh vật trước mắt.</p><p id="69">"Đây là... sao mà..."</p><p id="70">Ngạc nhiên thay, trong vườn dinh thự có một hồ nước rộng lớn. Một gian đình duy nhất được dựng lên trên mặt nước như đang lơ lửng, phản chiếu ánh sáng lấp lánh của mặt trời.</p><p id="71">Xây hồ trong vườn dẫn nước vào cũng không phải điều gì lạ lẫm ở Jeboa. Tuy nhiên, thông thường đó sẽ là hồ được tạo ra từ việc dẫn nước sông tự nhiên qua các kênh dẫn. Ông hoàn toàn không thể hiểu nổi dinh thự này, vốn tọa lạc ở cao hơn so với dòng sông, lấy nước ra sao.</p><p id="72">"Chính nhờ cái này." Với câu nói đó, Eladia chỉ vào một cối xay gió. "Nhờ đó, nước được bơm lên từ dòng sông phía dưới lên hồ này."</p><p id="73">Menahem có thể hiểu được. Ông cũng đã nghe những câu chuyện về cối xay gió mà Souma từng xây dựng ở các làng tiên phong trên Đồng bằng Solbiant.</p><p id="74"><em>Tuy nhiên, việc tận dụng hẳn một cối xay gió để bơm nước lên đến tận đây chắc hẳn không chỉ đơn thuần vì mục đích cảnh quan đẹp mắt.</em></p><p id="75">Ông nhìn xuống hồ từ cây cầu nhỏ bắc từ bờ ra gian đình, ông thấy vài con cá lớn đang bơi lội thong thả trong làn nước trong vắt hơn cả những gì ông tưởng tượng.</p><p id="76"><em>Rất có thể nước trong hồ này sẽ dùng làm nước uống, và cá nuôi trong hồ sẽ trở thành thực phẩm trong những tình huống khẩn cấp. Thế nhưng việc xây hồ trong vườn cùng với toàn bộ hệ thống bơm nước như thế vẫn quá phô trương so với mục đích đó. Không, có lẽ đây còn là một cách để khoe sự xa hoa của lãnh chúa nơi đây.</em></p><p id="77">Ông dời mắt về phía gian đình, phát hiện một thanh niên loài người, luôn có một zoan đi kèm. Khoảng cách vẫn còn khá xa, nhưng phần ngực phồng lên của zoan, mặc áo giáp được kết từ dây leo đứng phía sau, đã gợi ý rằng đó là một phụ nữ.</p><p id="78">"Ồ? Hình như ngài lãnh chúa không thể chờ đợi được đến lúc các ngài tới, ngài Menahem nhỉ."</p><p id="79">Trước lời nói của Eladia, Menahem đã chắc chắn. Một thanh niên loài người luôn đi kèm với một nữ chiến binh zoan.</p><p id="80">"Vậy là cậu ấy chính là 『Đứa trẻ của Hủy Diệt』－ ngài Soma Kisaki...."</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                        <div class="note-reg">
                        <h2 align="center" style="margin-bottom: 40px;">Ghi chú</h2>
                                                    <div style="margin-bottom: 20px;" id="note88472"><a href="#anchor-note88472" class="none-print inline" style="margin-right: 10px"><i class="fas fa-caret-up"></i></a><a href="#anchor-note88472" class="inline-print none">[Lên trên] </a><div style="display: none"><span class="note-content long-text">Mình sửa lại "cung nữ" thành "nữ quan" nhé, theo đúng Hán Việt của bản raw JP. Các chương trước mình sẽ sửa lại sau.</span></div><span class="note-content_real long-text">Mình sửa lại "cung nữ" thành "nữ quan" nhé, theo đúng Hán Việt của bản raw JP. Các chương trước mình sẽ sửa lại sau.</span></div>
                                            </div>
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/20162-hakai-no-miko/c303381-chuong-03-hoi-dong-muoi-nguoi" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/20162-hakai-no-miko" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/20162-hakai-no-miko" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'wmiCduBwROmfKKE2CWhlPkCRYQEndS8MSTQA37NF';
        var comment_type = 'chapter';
        var comment_typeid = '304158';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'wmiCduBwROmfKKE2CWhlPkCRYQEndS8MSTQA37NF';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('20162');
    chapter_id = parseInt('304158');

    readingObject = {
        series_id: series_id,
        series_title: 'Hakai no Miko',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="wmiCduBwROmfKKE2CWhlPkCRYQEndS8MSTQA37NF" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c8ff15ddfdc4aad',t:'MTc3MDI2ODY2MQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

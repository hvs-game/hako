<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Anh Hùng Huyền Thoại Là Học Sinh Ưu Tú Của Học Viện - Chương 15 - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Có năm vị anh hùng đã chiến đấu chống lại Erebos, cái ác nguyên thủy đã đẩy thế giới đến bờ vực diệt vong. [Dũng Giả] Arron. [Thợ Rèn Bậc Thầy] Dweno. [Người Khai Sáng Tinh Vân] Luna. [Trí Tuệ Vương] Lysinas. Và cuối cùng là ta, [Anh Hùng Khởi...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="RqsA7UN81ndVy897Gw2nlHqfytkBCjDS6iWxAV9m">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308603-chuong-15">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24971-7f2d7625-a0f8-4cfd-a65c-490195a107b3.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=c044c63e744fb1723a7d067aa1473af1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308602-chuong-14"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308603-chuong-15" style="background: url('https://i.hako.vn/ln/series/covers/s24971-7f2d7625-a0f8-4cfd-a65c-490195a107b3.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien">Anh Hùng Huyền Thoại Là H...</a></h5>
                    <small><i class="fas fa-pen"></i>Jeorona</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/t36474-tap-1">Tập 1</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c305949-chuong-1">
                                                                        Chương 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c305950-chuong-2">
                                                                        Chương 2
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c305951-chuong-3">
                                                                        Chương 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306322-chuong-4">
                                                                        Chương 4
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306323-chuong-5">
                                                                        Chương 5
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306324-chuong-6">
                                                                        Chương 6
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306342-chuong-7">
                                                                        Chương 7
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306343-chuong-8">
                                                                        Chương 8
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306344-chuong-9">
                                                                        Chương 9
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c306353-chuong-10">
                                                                        Chương 10
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308599-chuong-11">
                                                                        Chương 11
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308600-chuong-12">
                                                                        Chương 12
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308601-chuong-13">
                                                                        Chương 13
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308602-chuong-14">
                                                                        Chương 14
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308603-chuong-15">
                                                                        Chương 15
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Tập 1</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 15</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308603-chuong-15#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 2,333 từ - Cập nhật: 
                        <time class="topic-time timeago" title="10-02-2026 11:50:27" datetime="2026-02-10T11:50:27+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 15</p>
                    <p id="1">“Các ngươi nghĩ mình là ai?”</p><p id="2">“Dạ?”</p><p id="3">“Các ngươi là học viên của Lumene. Nói cách khác, các ngươi là những ứng cử viên anh hùng! Khi đối mặt với nguy hiểm, chẳng phải suy nghĩ đầu tiên của các ngươi là phải tự mình vượt qua nó sao?”</p><p id="4">Trước lời mắng mỏ của Ain, các học viên chùn bước.</p><p id="5">Ngay lúc đó, Ain nhận thấy Leo di chuyển không chút do dự.</p><p id="6">“Ít nhất cũng có một học viên ra hồn.”</p><p id="7">Một xúc tu Kraken lao về phía họ với tốc độ cao.</p><p id="8">Xoẹt—!</p><p id="9">Leo rút kiếm và chém đứt xúc tu.</p><p id="10">Bốp—!</p><p id="11">Cậu đá cái xúc tu đang giãy giụa khỏi boong tàu xuống hồ, rồi hét lớn:</p><p id="12">“Đừng sợ kích thước của nó! Với khả năng của các cậu, các cậu hoàn toàn có thể xử lý được!”</p><p id="13">Ánh mắt cậu dừng lại ngay chỗ Celia và Chloe.</p><p id="14">“Hừ! Ai bảo tôi sợ chứ?”</p><p id="15">Chloe hừ mũi, và Celia rút kiếm như thể không chịu thua kém.</p><p id="16">“Cậu coi tôi là ai hả, Leo?”</p><p id="17">Vù—!</p><p id="18">Những ngọn lửa Đấu khí, biểu tượng của nhà Zerdinger, bùng lên từ thanh kiếm của cô.</p><p id="19">“Cậu nghĩ tôi sẽ sợ mấy con mực này sao—!”</p><p id="20">Ào!</p><p id="21">“Kyaaa!”</p><p id="22">Một pháo nước bắn ra từ đầu xúc tu của con Kraken, làm ướt sũng người Celia.</p><p id="23">Cô đã dùng Giáp Đấu khí để phòng thủ, nhưng rốt cuộc vẫn trông như chuột lột.</p><p id="24">“Đó là tập tính của Kraken. Chúng bắn pháo nước để phản ứng lại nhiệt độ.”</p><p id="25">Leo không nhịn được cười khúc khích và búng nhẹ vào trán cô.</p><p id="26">“Vẫn còn thiếu chút kinh nghiệm nhỉ?”</p><p id="27">“Ư! Chúng ta bằng tuổi nhau đấy! Đừng có lên mặt dạy đời tôi về kinh nghiệm!”</p><p id="28">Celia hét lên, xoa trán, hai má đỏ bừng.</p><p id="29">Trong khi đó, con Kraken lại tấn công lần nữa.</p><p id="30">Đôi mắt Celia nheo lại sắc lẹm.</p><p id="31">“Con mực chết tiệt! Ta sẽ biến ngươi thành món mực chiên!”</p><p id="32">Vù—!</p><p id="33">Thanh kiếm của Celia múa một đường cong rực rỡ.</p><p id="34">Vút, vút, vút!</p><p id="35">Cô băm nát các xúc tu của con Kraken thành từng mảnh.</p><p id="36">Khi Celia quay sang Leo với vẻ mặt ‘Thấy sao hả!’, Leo mỉm cười và vung thanh kiếm của chính mình.</p><p id="37">Vùuuuu—!</p><p id="38">Cùng với một luồng gió lớn, Leo chém đứt những chiếc xúc tu của con thủy quái Kraken còn nhuyễn hơn cả Celia.</p><p id="39">"Chậc! Ta sẽ không thua ngươi đâu!"</p><p id="40">Đôi mắt Celia tóe lên tia lửa ganh đua.</p><p id="41">"Kiếm thuật của ngươi cũng khá đấy."</p><p id="42">Trong khi đó, Chloe giương trượng phép lên và niệm một cổ ngữ.</p><p id="43">Rắc rắc—!</p><p id="44">"Băng Trụ."</p><p id="45">Những tinh thể băng tụ lại giữa không trung và hình thành một khối băng khổng lồ.</p><p id="46">Khi Chloe giải phóng phép thuật, khối băng lao vút đi.</p><p id="47">Phập! Rắc rắc—! Keng!</p><p id="48">Phép thuật của cô đóng băng và làm vỡ vụn xúc tu của con Kraken.</p><p id="49">"Hô hô hô! Tại sao phải đổ mồ hôi như một hiệp sĩ trong khi có thể chiến đấu bằng cái đầu từ phía sau chứ? Nó nhàn hơn nhiề—hả?!"</p><p id="50">Chloe, đang vẻ mặt đắc ý, bỗng chốc trở thành mục tiêu của con Kraken.</p><p id="51">Khi con Kraken tấn công với tốc độ đáng kinh ngạc, Leo túm lấy cổ áo Chloe và kéo cô lại phía sau.</p><p id="52">"Pháp sư không nên xông lên tiền tuyến."</p><p id="53">Xoẹt—!</p><p id="54">Leo chém đứt một xúc tu khác.</p><p id="55">"Lũ Kraken phản ứng với ma lực, nên hãy dùng phép cẩn thận."</p><p id="56">"Đ-đã rõ."</p><p id="57">Đám tân sinh viên, những kẻ vừa hoảng loạn vì đợt tấn công, cuối cùng cũng lấy lại bình tĩnh và phản công.</p><p id="58">Con Kraken là một quái vật cấp cao, nhưng học viên Lumene không dễ bị đánh bại như vậy.</p><p id="59">Quan sát từ phía sau, Ain mỉm cười.</p><p id="60">'Tân sinh viên năm nay thật xuất sắc.'</p><p id="61">Dù vừa mới mắng mỏ đám học trò mới, Giáo sư Ain thực ra lại vô cùng hài lòng.</p><p id="62">Hồ nước này nổi tiếng là nơi cư ngụ của đủ loại thủy quái.</p><p id="63">Quái vật tấn công trên hồ gần như là một truyền thống hàng năm.</p><p id="64">Tất cả học viên Lumene đều có tài năng vượt trội.</p><p id="65">Chỉ việc đỗ vào Lumene thôi đã chứng minh được kỹ năng của họ.</p><p id="66">Tài năng, gia thế, giáo dục.</p><p id="67">Đám tân sinh viên có mọi lý do để tự hào.</p><p id="68">'Nhưng với thái độ đó, không đời nào chúng theo kịp các lớp học của Lumene.'</p><p id="69">Đám tân sinh viên không nhận ra—</p><p id="70">Chúng chỉ vừa mới đạt tiêu chuẩn tối thiểu để theo học tại Lumene.</p><p id="71">Đó là lý do cần một bài học thực tế, và tại sao học viện lại cho phép quái vật tấn công.</p><p id="72">Tất nhiên, họ không bắt chúng chiến đấu mà hoàn toàn không có sự bảo vệ.</p><p id="73">Ví dụ, ngay cả khi con Kraken tấn công, điều nguy hiểm nhất—thiệt hại cho chính con tàu—đã không hề xảy ra.</p><p id="74">Nhưng đám tân sinh viên không nhận ra điều đó, vì quá bận rộn chống lại con Kraken trước mặt.</p><p id="75">'Quả nhiên, những học viên đứng đầu thực sự nổi bật.'</p><p id="76">Ain quan sát, đánh giá kỹ năng của học viên, và ánh mắt ông dừng lại ở Leo.</p><p id="77">'Ấn tượng đấy.'</p><p id="78">Có một tia hứng thú lóe lên trong mắt Ain.</p><p id="79">Kiếm thuật của Leo gọn gàng và chuẩn xác.</p><p id="80">Cậu ta chém qua những xúc tu của con Kraken một cách nhẹ nhàng, như thể dự đoán được mọi chuyển động của chúng.</p><p id="81">'Mình sẽ phải ghi nhớ cậu ta.'</p><p id="82">Rõ ràng cậu ta là sinh viên chuyên ngành Hiệp sĩ.</p><p id="83">Hài lòng vì tìm được một học viên xuất sắc, Ain mỉm cười.</p><p id="84">* * *</p><p id="85">Đám tân sinh viên cuối cùng cũng xoay xở đánh bại được con Kraken, nhưng những cuộc tấn công của thủy quái vẫn không dừng lại.</p><p id="86">Bữa tiệc ban nãy cứ như một giấc mơ—giờ thì là một cuộc diễu hành của quái vật.</p><p id="87">Sau khoảng một giờ, mọi tân sinh viên đều tơi tả.</p><p id="88">Đồng phục ướt sũng, cơ thể đầm đìa mồ hôi, gương mặt phờ phạc.</p><p id="89">Họ quá bận rộn chống lại từng đợt quái vật đến mức không còn tâm trí để suy nghĩ.</p><p id="90">"Tôi không thể chiến đấu nữa! Tôi cạn sạch ma lực rồi!"</p><p id="91">Chloe hét lên, nằm sóng soài trên boong tàu.</p><p id="92">"Ư... Có ai còn bình thuốc hồi ma lực nào không?"</p><p id="93">Carr nhìn quanh, nhưng không ai trả lời.</p><p id="94">"Hộc—hộc—"</p><p id="95">Celia, thở hổn hển, liếc nhìn Leo.</p><p id="96">'Tên quái vật thể lực này!'</p><p id="97">Leo, không một chút dấu hiệu mệt mỏi, vẫn đang cảnh giác ở mép nước.</p><p id="98">Làm sao một người ở độ tuổi của họ lại có sức bền kinh khủng đến thế?</p><p id="99">"Hộc—!"</p><p id="100">Nghiến răng, Celia ép bản thân đứng dậy bên cạnh Leo.</p><p id="101">Ngay lúc đó—</p><p id="102">"Thấy bến tàu rồi!"</p><p id="103">"Cuộc chiến địa ngục này cuối cùng cũng kết thúc!"</p><p id="104">"Waaaaaah!"</p><p id="105">Tiếng reo hò vang lên từ boong tàu.</p><p id="106">Không có tin tức nào tuyệt vời hơn đối với những học viên đã kiệt sức.</p><p id="107">Ngay sau đó, con tàu cập bến, và các học viên bước xuống, trông hoàn toàn rã rời.</p><p id="108">Tại bến tàu, đám tân sinh viên được chào đón bởi một người phụ nữ nhỏ nhắn mặc âu phục và đeo kính.</p><p id="109">"Tạ ơn trời! Có vẻ như không có chuyện gì lớn xảy ra!"</p><p id="110">Các học viên cảm thấy phẫn nộ trong lòng.</p><p id="111">'Không có chuyện gì xảy ra ư? Chúng tôi bị quái vật tấn công đấy!'</p><p id="112">Tất nhiên, không ai dám phản đối thành lời.</p><p id="113">Nếu cô ấy ở đây để đón họ, gần như chắc chắn cô ấy là một giáo sư của Lumene.</p><p id="114">"Giáo sư Ain, cảm ơn ông đã hộ tống các tân sinh viên! Tôi sẽ tiếp quản từ đây."</p><p id="115">"Đã rõ."</p><p id="116">Ain gật đầu, rồi quay sang nói với đám tân sinh viên.</p><p id="117">"Ta sẽ phụ trách lớp Hiệp sĩ năm nhất năm nay."</p><p id="118">Một vài sinh viên khoa Hiệp sĩ trông có vẻ giật mình.</p><p id="119">"Một vài người trong số các trò thuộc khoa Hiệp sĩ sẽ học lớp của ta."</p><p id="120">Ain nhìn Leo và vài người khác rồi cười nhếch mép.</p><p id="121">"Nếu muốn vươn tới đỉnh cao, hãy đến lớp của ta!"</p><p id="122">"Rõ, thưa ngài!"</p><p id="123">"Đã rõ, Giáo sư Ain!"</p><p id="124">Các sinh viên khoa Hiệp sĩ đồng thanh đáp.</p><p id="125">Hài lòng, biểu cảm của Ain trở nên đầy ẩn ý.</p><p id="126">"Và hãy chắc chắn rằng các trò nghe lời giáo sư chủ nhiệm của mình."</p><p id="127">Nói rồi, ông rời đi.</p><p id="128">"Tên tôi là Artiannene Niere. Tôi sẽ phụ trách lớp Triệu hồi năm nhất."</p><p id="129">Cô chỉnh lại kính và mỉm cười hiền hậu khi giới thiệu bản thân.</p><p id="130">"Artiannene Niere? Chưa nghe tên bao giờ," Celia lẩm bẩm.</p><p id="131">Để trở thành giáo sư tại Lumene, người đó phải nổi tiếng trong lĩnh vực của mình.</p><p id="132">Nhưng Celia chưa từng nghe đến cái tên Artiannene Niere.</p><p id="133">"Artiannene Niere thực ra khá nổi tiếng ở khu vực trung tâm đấy," Carr nói.</p><p id="134">"Cô ấy là người thế nào?"</p><p id="135">"Họ nói cô ấy là một chiêu hồn sư."</p><p id="136">"Chiêu hồn sư?"</p><p id="137">Mắt Celia mở to ngạc nhiên.</p><p id="138">Ma pháp triệu hồi được chia thành ba lĩnh vực chính.</p><p id="139">Triệu hồi tinh linh, lập khế ước với các tinh linh.</p><p id="140">Triệu hồi thú, điều khiển ma thú.</p><p id="141">Và cuối cùng, vong linh thuật—triệu hồi những mảnh vỡ linh hồn được gọi là vong linh.</p><p id="142">Vong linh thuật, thứ kêu gọi tàn dư của người chết, là một khả năng rất hiếm.</p><p id="143">'Đó là một trong những sở trường của Lysinas.'</p><p id="144">Vong linh thuật là khả năng bẩm sinh đặc biệt, ngay cả một người như Kyle, kẻ có thể làm được tất cả, cũng không thể học được nó.</p><p id="145">"Chúng ta đến lễ nhập học chứ nhỉ?" Artianne mỉm cười dịu dàng.</p><p id="146">Nhưng các học viên phản đối.</p><p id="147">"Thưa giáo sư! Không có chỗ nào để chúng em thay đồ sao?"</p><p id="148">"Đúng vậy! Chúng em không thể tham dự buổi lễ với bộ dạng thế này được!"</p><p id="149">Đám học viên, những kẻ vốn ngoan ngoãn trước Giáo sư Ain, giờ nhao nhao hét lên tranh nhau nói.</p><p id="150">Phần lớn trong số họ là con em quý tộc.</p><p id="151">Với Ain, Kỵ sĩ Băng Hải lừng danh, họ đã bị dọa sợ.</p><p id="152">Nhưng với Artianne trông có vẻ hiền lành và ít tên tuổi hơn, họ lập tức phàn nàn.</p><p id="153">"A-à, nhưng chúng ta phải tuân theo lịch trình..."</p><p id="154">"Không đời nào gia đình tôi cho phép tôi xuất hiện tại một sự kiện quan trọng như thế này!"</p><p id="155">"Đúng thế! Chúng tôi đỗ vào Lumene, và đây là cách chúng tôi được đối xử sao? Thật nực cười!"</p><p id="156">"Phải! Tôi sẽ gửi khiếu nại chính thức thông qua gia đình mình!"</p><p id="157">"M-mọi người?!"</p><p id="158">Artianne, người có tính cách thực sự hiền lành, chỉ biết co rúm lại trước cơn bão phàn nàn.</p><p id="159">Đám học viên, được đà lấn tới, càng lớn tiếng hơn.</p><p id="160">"Có lẽ chúng ta nên ngăn họ lại," Celia cau mày, nhưng Leo chỉ mỉm cười.</p><p id="161">"Tôi không nghĩ chúng ta cần làm thế đâu."</p><p id="162">"Hả?"</p><p id="163">Artianne cúi gầm mặt xuống.</p><p id="164">Và rồi...</p><p id="165">"Lũ ranh con này! Các ngươi tưởng bà đây dễ bắt nạt sao? Các ngươi nghĩ mình là ai mà dám hỗn láo với giáo sư hả?!"</p><p id="166">Cô ngẩng phắt đầu dậy và tung ra một cái nhìn trừng trừng dữ tợn.</p><p id="167">Đám học viên đang la hét bỗng im bặt vì sốc.</p><p id="168">Một nam sinh, vẫn chưa hiểu chuyện, hét lên,</p><p id="169">"Tôi không quan tâm bà là giáo sư hay gì, bà không thể nói những lời như—!"</p><p id="170">"Ồ? Ngươi vẫn chưa hiểu sao?"</p><p id="171">Rầm!</p><p id="172">"Hả? K-khoan đã—?"</p><p id="173">Với nụ cười man rợ, Artianne túm lấy cổ áo nam sinh kia và nhấc bổng cậu ta lên.</p><p id="174">Cậu ta cao hơn các tân sinh viên khác cả cái đầu, nhưng Artianne chẳng tỏ vẻ gì là tốn sức.</p><p id="175">Thay vào đó, luồng năng lượng màu vàng kim tuôn ra từ cơ thể cô.</p><p id="176">"Oa? Đ-Đấu khí?"</p><p id="177">"Song hệ sao?"</p><p id="178">Đám học viên hoảng loạn.</p><p id="179">Nam sinh kia mặt cắt không còn giọt máu.</p><p id="180">Artianne ném cậu ta xuống hồ.</p><p id="181">"Aaaargh!"</p><p id="182">Ùm—! Ọc! Ọc!</p><p id="183">Nam sinh vùng vẫy trong nước.</p><p id="184">Artianne đưa ra lời cảnh cáo chết người.</p><p id="185">"Nếu còn kẻ nào dám hỗn láo, bà đây sẽ không bỏ qua đâu...!"</p><p id="186">Trước khi cô kịp nói hết câu, biểu cảm của cô thay đổi.</p><p id="187">"Phiền phức thật."</p><p id="188">Cô đột nhiên trở nên lạnh lùng, thở dài và vẫy nhẹ tay.</p><p id="189">Lúc này, ma lực vàng kim tuôn trào.</p><p id="190">Bằng ma pháp, Artianne vớt nam sinh kia lên khỏi mặt nước.</p><p id="191">Đám học viên trố mắt nhìn không tin nổi.</p><p id="192">Cô ấy đáng lẽ là giáo sư khoa Triệu hồi, nhưng cô ấy dùng cả Đấu khí lẫn ma pháp!</p><p id="193">"Tôi biết ngay mà," Leo lẩm bẩm.</p><p id="194">"Cậu biết đó là gì không?" Celia hỏi nhanh.</p><p id="195">"Cô ấy để linh hồn của một vong linh chiếm hữu cơ thể mình. Sự thay đổi nhân cách là do các vong linh đã lập khế ước."</p><p id="196">"Vong linh thuật? Đó chỉ là truyền thuyết thôi mà!"</p><p id="197">Ngay cả Celia cũng bị ấn tượng bởi khả năng hiếm có này.</p><p id="198">Hèn gì Giáo sư Ain bảo họ phải nghe lời cô ấy.</p><p id="199">"Xin lỗi, xin lỗi. Các vong linh mà cô lập khế ước chỉ hơi nóng tính một chút thôi!"</p><p id="200">Trở lại con người ban đầu, Artianne rối rít xin lỗi, nhưng đám học viên chỉ nhìn cô đầy lo sợ.</p><p id="201">Họ nhận ra ngay lập tức rằng, dù có nổi tiếng hay không, cô ấy cũng ở một đẳng cấp khác xa họ.</p><p id="202">Giữa sự im lặng ngượng ngùng, Artianne cười rạng rỡ.</p><p id="203">"Nào, mọi người! Chúng ta đến lễ nhập học thôi!"</p><p id="204">"V-vâng..."</p><p id="205">Đám học viên lí nhí đáp, dè chừng nhìn cô.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien/c308602-chuong-14" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24971-anh-hung-huyen-thoai-la-hoc-sinh-uu-tu-cua-hoc-vien" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'RqsA7UN81ndVy897Gw2nlHqfytkBCjDS6iWxAV9m';
        var comment_type = 'chapter';
        var comment_typeid = '308603';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'RqsA7UN81ndVy897Gw2nlHqfytkBCjDS6iWxAV9m';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24971');
    chapter_id = parseInt('308603');

    readingObject = {
        series_id: series_id,
        series_title: 'Anh Hùng Huyền Thoại Là Học Sinh Ưu Tú Của Học Viện',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="RqsA7UN81ndVy897Gw2nlHqfytkBCjDS6iWxAV9m" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cb935235864e24a',t:'MTc3MDcwMTM1Mw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

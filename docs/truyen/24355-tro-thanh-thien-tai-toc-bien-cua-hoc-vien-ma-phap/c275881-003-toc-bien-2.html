<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp - 003 - Tốc Biến (2) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Nhân vật có độ khó cao nhất và đặc tính tệ nhất, Baek Yuseol, bị coi là một nhân vật rác rưởi trong trò chơi vì cậu ta không thể sử dụng ma thuật trong bối cảnh giả tưởng mà những người khác đều có thể. Tuy nhiên… [Vì bạn...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="uM0uFmn0uOMMmWq9IdXxCMeJtiX4HNBPQD8rKocM">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275880-002-toc-bien-1"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2" style="background: url('https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap">Trở Thành Thiên Tài Tốc B...</a></h5>
                    <small><i class="fas fa-pen"></i>Eunmilhi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/t35150-1-100">Chương 1-100</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275879-001-mo-dau">
                                                                        001 - Mở Đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275880-002-toc-bien-1">
                                                                        002 - Tốc Biến (1)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2">
                                                                        003 - Tốc Biến (2)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 1-100</h2>
                    <h4 class="title-item text-base font-bold" align="center">003 - Tốc Biến (2)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,436 từ - Cập nhật: 
                        <time class="topic-time timeago" title="20-12-2025 12:55:17" datetime="2025-12-20T12:55:17+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">003 - Tốc Biến (2)</p>
                    <p id="1">Cảm giác rõ rệt khi chạm phải các huyết quản đang co giật truyền đến tận đầu ngón tay.</p><p id="2">Tôi nhìn thẳng vào mắt tên ma pháp cung thủ vừa trút hơi thở cuối cùng dưới tay mình. Chẳng có chút tội lỗi nào về việc lần đầu sát sinh, hay đúng hơn là tôi thậm chí còn không có thời gian để cảm nhận điều đó. Bởi lẽ, tôi giết người chỉ đơn giản là để sống sót mà thôi.</p><p id="3">"Cái... cái quái gì thế!? Nó vừa dùng Tốc Biến thật đấy à!?".</p><p id="4">Tên thủ lĩnh chiến binh hét lên kinh ngạc trước chuyển động nhanh như cắt của tôi.</p><p id="5">"Nó sử dụng một loại thuật di chuyển rất dị thường! Mau giết chết nó ngay!".</p><p id="6">Lúc này thời gian hồi chiêu của Tốc Biến vẫn chưa kết thúc. Tôi tung một cú đá xoay, thẳng tay đẩy văng cái xác của tên cung thủ về phía trước.</p><p id="7"><strong><em>Bịch!</em></strong></p><p id="8">"Hộc!".</p><p id="9">"Ư...!".</p><p id="10">Máu phun ra từ cái xác như một vòi rồng, làm che khuất tầm nhìn của những kẻ đang lao tới; thậm chí, một tên trong số đó còn bị cái xác va trúng mà ngã nhào ra đất.</p><p id="11">Tôi mau chóng lăn mình trên mặt đất, chộp lấy mũi tên của tên cung thủ rồi nhắm thẳng vào một cành cây nằm ở phía trên theo đường chéo để tiếp tục thi triển Tốc Biến.</p><p id="12"><strong><em>Bịch!</em></strong></p><p id="13">"A...!"</p><p id="14">Vì đây là lần đầu tiên sử dụng Tốc Biến để di chuyển lên cao nên tôi đã nhất thời bị nhầm lẫn trong việc căn chỉnh khoảng cách, khiến bàn chân không thể bám trụ vững vàng trên cành cây mà bị trượt đi.</p><p id="15">Tôi vội vàng dùng một tay bám chặt lấy cành cây rồi dồn hết sức bình sinh để kéo người lên. Thật đáng kinh ngạc, những nhóm cơ ở vai và lưng đã hoạt động nhịp nhàng theo ý chí, nhấc bổng cơ thể tôi lên phía trên cây.</p><p id="16">Không kịp nghỉ ngơi dù chỉ một giây để lắp tên vào cung, tôi nhanh chóng lách mình nấp sau thân cây ngay khi một quả cầu lửa lao đến và nổ tung.</p><p id="17"><strong><em>Bùm!!</em></strong></p><p id="18">Vụ nổ nhỏ đã khoét đi một mảng lớn ở phần ngọn cây, nhưng ngọn lửa không thể lan rộng. Có lẽ là do tuyết đang rơi nên thân cây vẫn còn khá ẩm ướt.</p><p id="19"><strong><em>Rẹt!</em></strong></p><p id="20">Tôi đặt mũi tên lên dây cung, tiếp tục sử dụng <strong>Tốc Biến</strong> để di chuyển sang một cành cây ở phía đối diện. Sau đó, tôi xoay người nhắm thẳng vào gáy tên thương thủ đang ngơ ngác đuổi theo tàn ảnh của mình và buông dây.</p><p id="21"><strong><em>Vút!</em></strong></p><p id="22">"Oaaa! Chân tao, aaaa!"</p><p id="23"><em>Trượt rồi.</em></p><p id="24">Có vẻ như do kỹ năng ngắm bắn chưa chuẩn nên mũi tên chỉ trúng vào chân hắn. Mặc dù các mũi tên trong thế giới này đều được yểm ma pháp Tự Tìm Mục Tiêu ở một mức độ nhất định, nhưng vì đây là lần đầu tiên trong đời tôi cầm cung nên việc bắn trúng được chân hắn hoàn toàn là nhờ vào vận may.</p><p id="25"><em>Dù sao thì cũng khiến hắn mất khả năng chiến đấu rồi, tên tiếp theo nào.</em></p><p id="26"><strong><em>Vùùù!</em></strong></p><p id="27">Một quả cầu lửa khác lại bay tới, nhưng tôi đã không chút do dự mà gieo mình nhảy thẳng xuống phía dưới gốc cây.</p><p id="28">"Thằng, thằng đó...!"</p><p id="29">Độ cao này là khá lớn, nếu rơi không khéo hoàn toàn có thể dẫn đến gãy xương. Tên lính đứng ngay dưới vị trí tôi đang rơi xuống đã lường trước được cú va chạm nên đưa cả hai tay lên đỡ, thế nhưng tôi đã chuẩn xác đâm thẳng mũi dao vào kẽ hở giữa hai cánh tay hắn.</p><p id="30">"Aaa!"</p><p id="31">Thay vì tiếng dao đâm, thì chắc là giống tiếng động phát ra giống như một vụ va chạm trực diện hơn. Ngay trước khi chạm đất, tôi gồng mình xoay người về phía trước và kích hoạt Tốc Biến.</p><p id="32">Một trong những đặc tính quan trọng của Tốc Biến:</p><p id="33">Đó là bảo toàn động lượng của người sử dụng ngay trước khi thi triển.</p><p id="34">"Hự...!!"</p><p id="35">Tôi hít một hơi thật sâu khi lao thẳng về phía tên ma pháp sư đang niệm chú trước mặt, một lực khủng khiếp đè nặng lên tôi.</p><p id="36">"Hỏa C... Hự!"</p><p id="37">"Khặc......!"</p><p id="38">Cảm giác nghẹt thở ập đến khi tôi lăn lộn trên mặt đất. Ngay lúc đó, tôi cảm nhận được một luồng xoáy ma lực dữ dội.</p><p id="39">Dù đây là lần đầu tiên trong đời tôi cảm nhận được ma lực, nhưng dựa vào tình hình vừa rồi, bản năng của tôi ngay lập tức nhận ra hiện tượng này là gì.</p><p id="40">Là Ma Pháp Phản Phệ! [Magic Rebound]</p><p id="41">Đây là hiện tượng xảy ra khi một pháp sư thất bại trong quá trình niệm chú. Tùy theo cấp độ của ma pháp mà một vụ nổ sẽ xảy ra, gây sát thương trực tiếp lên chính người thi triển.</p><p id="42">Nếu là trong game, kẻ đó sẽ là người duy nhất chịu sát thương từ vụ nổ, nhưng liệu ở thực tại này... mọi chuyện có diễn ra như vậy không?</p><p id="43">Suy nghĩ đến đó, tôi lập tức thu mình lại hết mức có thể.</p><p id="44"><strong><em>Bùm!</em></strong></p><p id="45">Bị cuốn vào vụ nổ nhỏ, tôi lăn vài vòng trên mặt đất để phân tán lực va chạm.</p><p id="46">"Khụ... khụ......!"</p><p id="47">Có vẻ trình độ của tên pháp sư đó thấp hơn tôi tưởng, vụ nổ của Ma Pháp Phản Phệ thực sự chẳng khác gì một quả đại pháo là bao, không có gì quá ghê gớm, thế nhưng vì ở khoảng cách quá gần nên da tôi vẫn bị bỏng nhẹ.</p><p id="48"><em>......!</em></p><p id="49">Giữa cơn đau rát, tôi cố kìm lại tiếng ho khan, bỗng một cảm giác rợn tóc gáy truyền thẳng đến não bộ khiến tôi vô thức cúi gầm đầu xuống.</p><p id="50"><strong><em>Phập!</em></strong></p><p id="51">Ngay lập tức, một mũi tên sượt qua tóc tôi và cắm phập vào thân cây bên cạnh.</p><p id="52">"Hừ, đúng là một thằng nhóc kỳ lạ."</p><p id="53">Lúc này chỉ còn lại hai kẻ truy sát là một tên chiến binh mặc giáp toàn thân và một tên cung thủ ma pháp. Cả hai đều đang để lộ sơ hở ở vùng cổ, nếu nhắm chuẩn vào điểm yếu đó, việc kết liễu bọn chúng là hoàn toàn khả thi.</p><p id="54">Chậm rãi nắm chặt lấy con dao găm và đứng dậy thủ thế, tôi thấy tên chiến binh khẽ nhếch mép cười.</p><p id="55">"Tốc độ phản ứng của mày hết sức tởm lợm. Lại còn dùng loại ma pháp quái dị đó nữa. Rốt cuộc mày là cái thứ gì?"</p><p id="56">"......"</p><p id="57">Tốc độ phản ứng của tôi vốn dĩ vượt xa mức độ của một game thủ chuyên nghiệp thông thường, đến mức tôi luôn được mời xuất hiện trong các chương trình truyền hình đặc biệt về trò chơi.</p><p id="58">Tôi thậm chí còn từng giành vị trí số 1 trong một cuộc thi kiểm tra tốc độ phản ứng bằng những cú click chuột ở quy mô thế giới.</p><p id="59">Thế nhưng, dù có giỏi đến mấy đi chăng nữa, con người cũng không thể né được tên bắn. Nhất là khi nó được bắn ra ở một cự ly gần như thế này mà lại không hề biết trước.</p><p id="60">"Nếu là một pháp sư lão luyện với cảm quan nhạy bén thì tao còn hiểu được... nhưng mày chỉ là một tên phế vật ngay cả ma pháp cũng không dùng nổi. Thật không thể hiểu nổi. Hay là trước khi chết mày nói cho tao biết cái đi?"</p><p id="61">"......"</p><p id="62">Rò Rỉ Ma Lực, thứ vốn dĩ chỉ giúp tăng cường mọi giác quan của con người, gần như vô dụng trong xã hội ma pháp, thế nhưng lúc này nó lại đang phô diễn những năng lực thể chất kinh ngạc.</p><p id="63">Tuy nhiên, tôi nào có ý định giải thích. Tên chiến binh dường như cũng nhận ra điều đó nên khẽ cười khẩy.</p><p id="64">"Được rồi, để xem với cái thân xác thương tích đầy mình đó, mày còn có thể di chuyển nhanh nhẹn được đến mức nào?".</p><p id="65">Đó là một lời khiêu khích. Tôi vốn là một kẻ khá trẻ con nên thường đáp trả những lời khiêu khích kiểu đó ngay lập tức.</p><p id="66">"... Ngươi có mang theo Potion không?"</p><p id="67">"Tao có phần của tao."</p><p id="68">"Thế thì tốt rồi."</p><p id="69">Tôi chậm rãi đưa con dao găm ra phía trước, tên chiến binh lập tức thủ thế.</p><p id="70">"Sau khi giết ngươi, ta sẽ lấy nó nên hãy giữ cho cẩn thận, đừng để nó vỡ đấy."</p><p id="71"><strong>[Tốc Biến]</strong></p><p id="72">Ngay khoảnh khắc cơ thể tôi mờ đi, tên chiến binh đã nâng khiên lên che kín vùng mặt và cổ.</p><p id="73">"Tao đã thấu cái cách mày sử dụng Tốc Biến rồi!"</p><p id="74">Tôi luôn khựng lại sau khi sử dụng Tốc Biến rồi mới vung dao, vì vậy hắn tin rằng tôi tuyệt đối không thể bảo toàn được động lượng của kỹ năng. Và con dao găm đó, đối với hắn, chẳng có chút gì gọi là đe dọa.</p><p id="75">Những bộ phận còn lại trên cơ thể hắn đã có áo giáp bảo vệ, nên hắn phán đoán mình chỉ cần che chắn tốt vùng mặt và cổ là đủ.</p><p id="76">Và còn một điều nữa.</p><p id="77">Hắn tin chắc rằng tôi sẽ luôn sử dụng Tốc Biến để tiếp cận trực diện từ phía trước.</p><p id="78">Sau khi tính toán đến mức đó, tên chiến binh vừa nhấc khiên lên che chắn, vừa dậm mạnh chân xuống mặt đất.</p><p id="79">"Sóng Chấn Động!" [Wave Break].</p><p id="80">Ngay lập tức, mặt đất phía trước hắn nứt toác ra theo hình rẻ quạt, cả vùng đất rung chuyển dữ dội.</p><p id="81"><strong><em>Rắc rắc!!</em></strong><strong>.</strong></p><p id="82">"Mày sập bẫy rồi, thằng ranh!".</p><p id="83">Đây là một ma pháp cơ bản cấp 1 có khả năng làm mất thăng bằng kẻ địch trong một phạm vi nhất định. Hắn tin rằng chỉ bấy nhiêu đó thôi cũng đủ để khóa chặt chuyển động của đối phương.</p><p id="84">"Chết đi!".</p><p id="85">Tin chắc rằng tôi đã bị dính hiệu ứng choáng, tên chiến binh vung mạnh thanh đại kiếm bằng cả hai tay, thế nhưng.......</p><p id="86">"... Ơ?".</p><p id="87">Tôi đã có thâm niên 10 năm trong PVP. Dù đây có là lần đầu tiên thực chiến ngoài đời đi chăng nữa, những trận chiến ma pháp như thế này thì tôi đã trải nhiều đến mức phát chán rồi.</p><p id="88">Đời nào có chuyện tôi chưa từng đối đầu với những kẻ định bắt bài Tốc Biến bằng cách đặt sẵn kỹ năng diện rộng ngay trước mặt mình chứ?</p><p id="89"><em>... Là phía sau đấy!</em></p><p id="90">Tôi đã sớm di chuyển ra phía sau tên chiến binh và đang vung dao nhắm thẳng vào gáy tên cung thủ.</p><p id="91">Tuy nhiên, tên cung thủ cũng không phải hạng vừa, hắn nhanh chóng lăn mình trên mặt đất để né tránh đồng thời bắn liên tiếp vài mũi tên từ cây nỏ về phía tôi.</p><p id="92"><strong><em>Phựt! Phựt!</em></strong></p><p id="93">"Ư...!"</p><p id="94">Nếu có Tốc Biến liên hoàn thì tôi đã có thể dễ dàng hóa giải cú phản đòn đó, nhưng hiện tại thì điều đó là bất khả thi. Tôi đành phải lăn lộn trên mặt đất một cách chật vật để né tránh những mũi tên.</p><p id="95"><em>2.</em></p><p id="96">Vừa ngẩng đầu lên, tôi đã thấy tên chiến binh lao tới và vung thanh đại kiếm to bản xuống với một lực kinh người.</p><p id="97"><em>1.</em></p><p id="98">Sau khi nhanh chóng lăn thêm một vòng ra phía sau rồi đứng dậy nhìn về hướng ngược lại, tên chiến binh dường như đã từ bỏ ý định đuổi theo mà hét lớn.</p><p id="99">"Nó định Tốc Biến sang hướng kia kìa!"</p><p id="100">Bọn chúng đã nhận ra quy luật. Rằng hướng mà Tốc Biến chắc chắn phải là hướng mà tôi đang nhìn thẳng.</p><p id="101">Thế nhưng.</p><p id="102">Ngay từ đầu, việc khiến chúng nghĩ rằng tôi sẽ sử dụng Tốc Biến vốn đã là một cú lừa rồi.</p><p id="103">Tận dụng đà xoay người, tôi tiếp tục xoay người thêm một vòng nữa rồi tung ra một cú đá xoay cực mạnh, khiến tên chiến binh hốt hoảng đưa khuỷu tay lên đỡ.</p><p id="104"><strong><em>Bốp!</em></strong></p><p id="105">"Khặc!"</p><p id="106">Tên chiến binh vừa kịp đưa khuỷu tay lên chống đỡ trong gang tấc, vì cú đá nhắm thẳng vào bộ giáp nên một cơn đau nhói như rạn xương ống chân ập đến, nhưng tôi vẫn kịp tận dụng khoảnh khắc hắn lảo đảo để thi triển Tốc Biến.</p><p id="107"><strong>[Tốc Biến]</strong></p><p id="108">Tên cung thủ, kẻ vốn đang nhắm bắn vào vị trí dự đoán mà hắn nghĩ tôi sẽ Tốc Biến tới, đã trợn tròn mắt kinh ngạc trước sự tiếp cận đột ngột này và vội vã nhảy lùi ra sau.</p><p id="109">Thế nhưng, do đang dở dang động tác nạp nỏ nên phản ứng của hắn đã bị chậm một nhịp.</p><p id="110"><strong><em>Phập!</em></strong></p><p id="111">Con dao găm của tôi đã đâm xuyên qua cổ tên cung thủ một cách chuẩn xác.</p><p id="112">"Ặc, ặc, khò......"</p><p id="113"><strong><em>Bịch!</em></strong></p><p id="114">"Aaaa......"</p><p id="115">Ngay sau khi tên cung thủ ngã xuống, tôi cũng không thể chịu đựng thêm cơn đau ở ống chân mà quỵ gối xuống mặt đất.</p><p id="116">"Ư... hức......"</p><p id="117">Đau. Thực sự là đau đến phát điên. Nước mắt chực trào ra nhưng tôi vẫn cắn chặt răng để kìm nén cơn đau.</p><p id="118">Chậm rãi quay đầu lại, tôi thấy tên chiến binh đang trừng mắt nhìn mình với vẻ mặt đầy giận dữ.</p><p id="119">"Vừa nãy mày còn bỏ chạy thục mạng như một con chuột nhắt chưa từng biết đánh đấm là gì, sao đột nhiên lại thay đổi ý định thế này?"</p><p id="120">"... Ngươi nói cũng có phần đúng đấy. Cảm ơn vì đã cho ta tích lũy thêm kinh nghiệm nhé."</p><p id="121">Trò chơi bằng bàn phím và chuột hoàn toàn khác biệt so với thực tại. Giờ tôi thấu được điều ấy đến tận xương tủy rồi.</p><p id="122">Và điều đó càng khiến tôi nhận ra thực tại này khắc nghiệt đến nhường nào.</p><p id="123">"Giờ chỉ còn mình ngươi thôi, tính sao đây? Đừng có nằm mơ mà đợi hai tên đang đuổi theo phía sau nữa, lũ đó đang mải mê lười biếng ở dưới kia rồi".</p><p id="124">Nghe vậy, lông mày tên chiến binh khẽ giật giật.</p><p id="125">"Lũ khốn kiếp đó......!"</p><p id="126">"Có lẽ bọn chúng nghĩ chỉ cần năm người là đủ để tóm gọn ta rồi. Ngươi có ngờ được là phe mình lại thảm bại thế này không?".</p><p id="127">Thực chất, câu đó là nói dối trắng trợn đấy. Lũ kia đang làm gì hay ở đâu thì tôi chịu chết, vốn cũng chỉ tung tin hỏa mù để làm nhụt ý chí chiến đấu của đối phương mà thôi.</p><p id="128">Thế nhưng, thay vì nản lòng, tên chiến binh lại càng siết chặt thanh đại kiếm của mình hơn.</p><p id="129"><em>Thôi toang.</em></p><p id="130">Xương chân của tôi gần như đã gãy, việc di chuyển tự do lúc này là cực kỳ khó khăn. Nếu chỉ dựa dẫm vào mỗi Tốc Biến để vận động thì sẽ có quá nhiều kẽ hở.</p><p id="131">Cố gắng che giấu vết thương ở chân, tôi chĩa thẳng con dao găm vào cổ hắn, đáp lại, tên chiến binh cũng đanh mặt lại và dùng khiên che kín phần thân trên.</p><p id="132">... Trong thâm tâm, tôi thực sự cảm thấy khâm phục khả năng giữ bình tĩnh của tên này.</p><p id="133"><em>Hẳn là hắn đang đặt cược vào tên đang giả vờ ngất xỉu đằng sau mình.</em></p><p id="134">Vừa rồi, tôi đã xác nhận được tên thương thủ bị trúng mũi tên bắn lạc vào gân gót chân đang nằm gục trên mặt đất gào khóc.</p><p id="135">Hắn ta vẫn chưa chết, cũng chưa hề bất tỉnh. Nhờ vào Lục Giác nhạy bén có được từ Rò Rỉ Ma Lực, tôi có thể cảm nhận rõ mồn một sự hiện diện của hắn.</p><p id="136">Khoảng cách từ tôi đến tên thương thủ đang nằm phục kích với cây thương trong tay chỉ vỏn vẹn 3m.</p><p id="137">Chỉ cần khoảng cách thu hẹp thêm một chút nữa thôi, hắn ta có thể đâm xuyên qua người tôi và khống chế tôi trong tích tắc.</p><p id="138"><em>Phải làm sao đây...</em></p><p id="139"><em>Ném dao ra phía sau để hạ gục hắn ư? Không, không được. Không có gì đảm bảo kỹ thuật ném dao đủ chuẩn để kết liễu được đối phương ngay lập tức, mà việc vứt bỏ vũ khí duy nhất vào lúc này là quá mạo hiểm. Chẳng phải qua việc bắn tên vừa rồi, mình đã rõ bản thân chỉ là một kẻ mơ nghiệp dư về vũ khí hay sao?</em></p><p id="140"><em>Dùng Tốc Biến ngay lúc này cũng nguy hiểm. Khoảng cách với tên chiến binh phía trước chỉ vỏn vẹn 5m.</em></p><p id="141"><em>Ngay khoảnh khắc mình dùng Tốc Biến ra phía sau để lấy mạng hắn, tên chiến binh sẽ lập tức thu hẹp khoảng cách. Dù tổng quãng đường là 8m và hắn không thể đuổi kịp ngay, nhưng phạm vi tấn công của hắn vẫn rất đáng gờm, chưa kể hắn còn có ma pháp làm rung chuyển mặt đất nữa.</em></p><p id="142"><em>Không được dùng Tốc Biến để giết tên thương thủ.</em></p><p id="143">Ngay khi ý nghĩ đó lóe lên, tôi hành động chính xác theo những gì đã tính toán.</p><p id="144">Tôi hạ thấp trọng tâm, hơi đưa chân ra phía sau như thể đang chuẩn bị lao thẳng về phía tên chiến binh trước mặt.</p><p id="145">Hành động lùi lại một chút đó vô tình khiến khoảng cách với tên thương thủ phía sau càng gần hơn. Tuy nhiên, ngọn thương của hắn vẫn chưa cử động. Hắn đang chờ đợi một thời điểm chính xác hơn, khi mà mũi thương có thể chạm tới mục tiêu một cách chắc chắn nhất.</p><p id="146">Thế nhưng, cơ hội ngàn vàng đó sẽ tuyệt đối không bao giờ đến với tên thương thủ.</p><p id="147">"Hụp!"</p><p id="148">Tôi xoay người cực mạnh khiến tên chiến binh lập tức giật mình đưa khiên lên thủ thế, thế nhưng, thay vì dùng Tốc Biến, tôi lại chạy bộ thật nhanh về phía sau và dùng hai tay đâm mạnh con dao vào gáy tên thương thủ đang nằm đó.</p><p id="149"><strong><em>Phập!!</em></strong></p><p id="150">Tên thương thủ tử vong ngay lập tức mà không kịp thốt lên một lời trăn trối. Ngay lúc đó, tôi cướp lấy cây thương của hắn rồi lùi nhẹ về phía sau. Tên chiến binh vừa mới thu hẹp khoảng cách trễ một nhịp liền vội vã giơ khiên lên phòng thủ. Vì biết tôi vẫn còn lượt sử dụng Tốc Biến, hắn không dám tùy tiện áp sát.</p><p id="151">"Thằng khốn...!".</p><p id="152">Tên chiến binh định nói gì đó, nhưng tôi không cho hắn lấy một giây để suy nghĩ mà ném thẳng con dao găm đi.</p><p id="153">Đòn ném nhắm chuẩn xác vào chấn thủy của tên chiến binh.</p><p id="154">Dĩ nhiên, hắn dễ dàng nhấc khiên lên đánh bật con dao ra. Thế nhưng, hành động tiếp theo của tôi mới là mấu chốt.</p><p id="155">Tôi đứng nhìn về phía sườn của tên chiến binh, đồng thời xoay tròn cây thương tạo ra tư thế như sắp tung một cú quét lớn.</p><p id="156">Cứ như thể tôi định dùng Tốc Biến để bay ra phía sau lưng hắn vậy.</p><p id="157">Đến lúc này, tên chiến binh sẽ đưa ra phán đoán kiểu:</p><p id="158"><em>... Ra là vậy. Nó biết dùng Tốc Biến trực diện sẽ bị ma pháp của mình phản công, nên sau khi dụ mình dùng khiên đỡ con dao, nó định dịch chuyển sang sườn để nhắm vào lưng mình!</em></p><p id="159">Ngay khi vừa đỡ được con dao găm, tên chiến binh lập tức xoay mạnh khiên ra phía sau để đánh chặn. Nếu phán đoán của hắn là đúng, tôi sẽ lao thẳng vào cú đập khiên từ phía sườn của hắn.</p><p id="160"><strong><em>Vút!</em></strong><strong>.</strong></p><p id="161">"......Hả?".</p><p id="162">Tuy nhiên, chẳng có bất cứ ai ở phía sau lưng hắn cả.</p><p id="163">Bởi vì tôi đã dự đoán được cả điều đó và đã đâm thẳng từ phía chính diện.</p><p id="164"><em>Chết tiệt!</em></p><p id="165">Tên chiến binh với vẻ mặt hốt hoảng vội vã quay đầu nhìn lại phía trước, nhưng đã quá muộn.</p><p id="166">Vì mũi thương của tôi đã sớm xuyên qua yết hầu của hắn từ lâu rồi.</p><p id="167"><strong><em>Phập!!</em></strong></p><p id="168"><strong> </strong></p><p id="169"><strong>[Episode 1 'Chạy trốn khỏi những kẻ truy sát!' đã hoàn tất.]</strong></p><p id="170"><strong>[Bạn nhận được điểm kinh nghiệm!]</strong></p><p id="171"><strong>[Bằng cách triển khai câu chuyện theo một phương thức độc đáo, 'Dự án Constellation' hứa hẹn sẽ trao thêm phần thưởng bổ sung cho bạn.]</strong></p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275880-002-toc-bien-1" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'uM0uFmn0uOMMmWq9IdXxCMeJtiX4HNBPQD8rKocM';
        var comment_type = 'chapter';
        var comment_typeid = '275881';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'uM0uFmn0uOMMmWq9IdXxCMeJtiX4HNBPQD8rKocM';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24355');
    chapter_id = parseInt('275881');

    readingObject = {
        series_id: series_id,
        series_title: 'Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="uM0uFmn0uOMMmWq9IdXxCMeJtiX4HNBPQD8rKocM" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

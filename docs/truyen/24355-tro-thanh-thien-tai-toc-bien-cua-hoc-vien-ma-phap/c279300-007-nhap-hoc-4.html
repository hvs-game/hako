<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp - 007 - Nhập học (4) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Nhân vật có độ khó cao nhất và đặc tính tệ nhất, Baek Yuseol, bị coi là một nhân vật rác rưởi trong trò chơi vì cậu ta không thể sử dụng ma thuật trong bối cảnh giả tưởng mà những người khác đều có thể. Tuy nhiên… [Vì bạn...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="HVfXqks5FZNtN1wNO2RS2E58hUPkLeAuWRAP0n8g">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279300-007-nhap-hoc-4">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279299-006-nhap-hoc-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279301-008-nhap-hoc-5"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279300-007-nhap-hoc-4" style="background: url('https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap">Trở Thành Thiên Tài Tốc B...</a></h5>
                    <small><i class="fas fa-pen"></i>Eunmilhi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/t35150-1-100">Chương 1-100</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275879-001-mo-dau">
                                                                        001 - Mở Đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275880-002-toc-bien-1">
                                                                        002 - Tốc Biến (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2">
                                                                        003 - Tốc Biến (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279297-004-nhap-hoc-1">
                                                                        004 - Nhập học (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279298-005-nhap-hoc-2">
                                                                        005 - Nhập học (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279299-006-nhap-hoc-3">
                                                                        006 - Nhập học (3)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279300-007-nhap-hoc-4">
                                                                        007 - Nhập học (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279301-008-nhap-hoc-5">
                                                                        008 - Nhập học (5)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 1-100</h2>
                    <h4 class="title-item text-base font-bold" align="center">007 - Nhập học (4)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279300-007-nhap-hoc-4#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,408 từ - Cập nhật: 
                        <time class="topic-time timeago" title="26-12-2025 15:39:54" datetime="2025-12-26T15:39:54+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">007 - Nhập học (4)</p>
                    <p id="1">Thế giới này vốn dĩ là bối cảnh của tựa game mang tên 'Aether World'. Thế nhưng, có lẽ tôi cần phải giải thích thêm một chút về nó.</p><p id="2">Thực chất, 'Aether World' là một trò chơi được xây dựng dựa trên nguyên tác của bộ tiểu thuyết ngôn tình giả tượng mạng có tên là 'Đừng yêu nàng công chúa bất hạnh'.</p><p id="3">Trong cuốn tiểu thuyết 'Đừng yêu công chúa' ấy, nội dung xoay quanh nữ chính Eisel, người đã mất cha và gia tộc từ khi còn nhỏ. Cô ta phải trải qua cuộc sống tại học viện ma pháp, kiên cường đối đầu với những mưu mô của ác nữ Hong Bi-Yeon để rồi trưởng thành, và cuối cùng là kết đôi với một trong những nam chính... Đại loại nội dung là như vậy.</p><p id="4">Thế nhưng, trong quá trình đó, yếu tố trả thù chẳng hiểu sao lại bay màu sạch sẽ. Eisel, người ban đầu vốn tự tin và mạnh mẽ hơn bất cứ ai trên đời, về sau lại trở thành kiểu bánh bèo chỉ biết chờ đợi sự bảo vệ từ các nam chính. Chính vì cái nội dung 'đầu voi đuôi chuột' cùng một kết thúc buồn lãng xẹt đó mà bộ truyện đã bị độc giả ném đá không thương tiếc. Dẫu vậy, 'Aether World' vẫn bê nguyên xi cái thế giới đó vào trong game.</p><p id="5">Tuy nhiên, có một điều quan trọng: nội dung trong game lại hoàn toàn khác biệt so với nguyên tác tiểu thuyết ban đầu.</p><p id="6">Trong game, một nhân vật mới mang tên 'Flame' đã được thêm vào, và thế là cô ta nghiễm nhiên trở thành 'Nữ chính thực sự' của thế giới này.</p><p id="7">Thậm chí, thiết lập nhân vật của cô ta cũng chẳng phải dạng vừa. 'Nữ chính' này vốn là một cô gái bình thường ở thế giới hiện đại, người thường xuyên cày bộ 'Đừng yêu công chúa' và rồi vô tình bị xuyên không vào đây.</p><p id="8">Kết quả là, Eisel bị hất văng khỏi vị trí nhân vật chính và bị gán cho cái danh 'Nữ chính giả', còn kẻ xuyên không kia mới thực sự là nhân vật chính của thế giới này, đồng thời cũng là nhân vật mà người chơi có thể điều khiển.</p><p id="9"><em>Nói tóm lại, mình chỉ cần dè chừng cái đứa 'Nữ chính' đó là được chứ gì.</em></p><p id="10"><strong><em>Rì rầm...</em></strong></p><p id="11">Nghe thấy tiếng ồn ào náo nhiệt, tôi ngẩng đầu lên thì thấy một hội trường khổng lồ đã thu trọn vào tầm mắt.</p><p id="12">Trên bục cao, một lão già với bộ râu dài chạm tận thắt lưng đang cầm micro, vừa nói vừa vung vẩy tay chân đầy nhiệt huyết.</p><p id="13">"Hừm hừm! Ngay vào giây phút này đây! Lũ Hắc Ma Nhân vẫn đang không ngừng khuấy đảo thế giới ma pháp! Sứ mệnh của các pháp sư chúng ta chính là bảo vệ thế giới khỏi các thế lực bóng tối!"</p><p id="14">Giọng nói ấy cứ vang vọng như tiếng sấm bên tai, vừa quen thuộc lại vừa có chút lạ lẫm.</p><p id="15">"A, cái lão giáo phó này nói chuyện chán ngắt."</p><p id="16">"Vừa mới nhập học đã phải nghe huấn thị rồi."</p><p id="17">Dõi mắt nhìn quanh, tôi thấy cả nghìn học viên trong bộ đồng phục cao cấp của Học viện Stella, tông màu đen chủ đạo điểm xuyết những đường viền vàng tinh xảo, đang đứng xếp hàng ngay ngắn.</p><p id="18">Đây là cái cảnh mà tôi đã thấy phát ngán mỗi khi chơi lại cốt truyện để tìm tòi thứ gì đó mới mẻ.</p><p id="19">Bởi lẽ, đây chính là lễ khai giảng của Học viện Stella.</p><p id="20">Những khung cảnh vốn chỉ thấy qua màn hình game 3D giờ đây đã trở thành hiện thực hoàn hảo. Mỗi một học viên ở đây đều đang sống, hít thở và sở hữu những cảm xúc chân thật.</p><p id="21">Tôi khẽ đưa mắt tìm kiếm cô gái có tên 'Flame' kia.</p><p id="22">Đó là một thiếu nữ với mái tóc đen tuyền rất hợp với gương mặt xinh xắn, dáng người nhỏ nhắn, đang bình thản quan sát xung quanh với biểu cảm điềm tĩnh.</p><p id="23">Ngay cả trong game, cô ta cũng sở hữu vẻ ngoài dễ thương đến mức thường xuyên được gắn kèm tính từ 'đáng yêu', khiến bất cứ ai không phân biệt già trẻ lớn bé đều phải lén lút liếc nhìn.</p><p id="24"><em>Một người hiện đại sao.</em></p><p id="25">Thú thực, ban đầu tôi đã rất muốn trực tiếp đến gặp để hỏi xem cô ta có đúng là đến từ 'thế giới thực' mà tôi biết hay không.</p><p id="26">Dù sao thì để tìm ra cách thoát khỏi thế giới này, hoặc ít nhất là cách để sống sót, việc kết giao với một người hiện đại cùng cảnh ngộ vẫn là lựa chọn tốt hơn.</p><p id="27">Biết đâu nếu có chung xuất thân từ thế giới hiện đại, cô ta sẽ nảy sinh cảm giác đồng cảm và chiếu cố tôi thì sao?</p><p id="28">Thế nhưng, vì không thể nắm bắt chính xác cô ta là loại người nào, nên tôi quyết định bỏ qua.</p><p id="29">Lỡ như cô ta là kiểu người tâm cơ, muốn loại bỏ những kẻ xuyên không khác vì biết quá rõ về thế giới này, thì một đứa như tôi chắc chắn sẽ chết mất xác mà chẳng ai hay biết.</p><p id="30"><em>Về thông tin thì mình nắm giữ nhiều hơn.</em></p><p id="31">Chẳng việc gì phải nuối tiếc hay dựa dẫm vào cô ta cả. Cô ta chỉ là kẻ 'xuyên không vào tiểu thuyết lãng mạn, còn tôi là kẻ đã tiến xa hơn một bước, tôi là kẻ 'xuyên không vào game lãng mạn'. Cho dù trong cái game đó, tôi chỉ là một đứa nhân vật quần chúng có thời lượng xuất hiện còn chẳng bằng một NPC bán hàng ở đầu phố.</p><p id="32">"Vì vậy, mong toàn thể tân học viên hãy không ngừng nỗ lực, hôm nay và cả mai sau, vì mục tiêu tiêu diệt lũ Hắc Ma Nhân! Xin hết!"</p><p id="33">"Tiếp theo, sẽ là phần tuyên thệ của đại diện tân học viên cùng bốn học viên có thành tích đầu vào xuất sắc nhất."</p><p id="34">Đại diện tân học viên cùng các học viên từ hạng 2 đến hạng 5 bước lên bục giảng. Đó là những nam thanh nữ tú với những cái tên như Hae Won-Rang, Eisel, Flame, và Hong Bi-Yeon.</p><p id="35">"Oa, sao mà bọn họ vừa học giỏi lại vừa trai xinh gái đẹp thế kia nhỉ?"</p><p id="36">"Công nhận..."</p><p id="37">Trong khi có những kẻ lấp lánh khiến vạn người phải ngước nhìn như vậy, thì cũng có những người mang danh hiệu bét bảng, đứng thứ 1141 trên tổng số 1141 học viên như tôi.</p><p id="38">Cả năm người họ, không một ai là không nổi bật, nhưng trong số đó chắc chắn có một người tỏa sáng vượt trội hơn hẳn.</p><p id="39">"… Đại diện tân học viên! Ma Yu-Seong!"</p><p id="40">Đó chính là 'Ma Yu-Seong', thủ khoa đầu vào của Học viện Stella.</p><p id="41">Nếu phải tìm một cụm từ phù hợp nhất để mô tả nhân vật này, thì đó chính là Thiên thượng Thiên hạ Duy ngã Độc tôn . Cậu ta sở hữu tiềm năng đạt đến cảnh giới của thần, Ma Lực 9 Sao, cùng tài năng thiên bẩm có thể điều khiển mọi thuộc tính tồn tại trên thế giới này.</p><p id="42">Vì lẽ đó, mối quan tâm hàng đầu của tôi hiện giờ chính là Ma Yu-Seong.</p><p id="43">Dù không thể đạt được Kết Thúc Thực Sự, thì ít nhất để tránh một Kết Thúc Tồi Tệ, tôi buộc phải kéo Ma Yu-Seong về phe thiện.</p><p id="44">Tuy nhiên, người đóng vai trò chủ chốt trong việc đó là nữ chính 'Flame'. Còn vai trò của tôi chỉ đơn giản là âm thầm hỗ trợ các nhân vật chính từ phía sau mà thôi.</p><p id="45">"… Như vậy, lễ khai giảng xin được phép kết thúc."</p><p id="46">"Yayyy!"</p><p id="47">Tiếng reo hò vang dội ngay khi buổi lễ nhập học vừa kết thúc. Tôi đứng lẫn trong đám đông đó, vừa quan sát các nhân vật chính vừa kết thúc buổi lễ của mình.</p><p id="48"><strong>[Episode 2 'Hãy nhập học vào Học viện Stella!' đã hoàn thành.]</strong></p><p id="49"><strong>[Bạn nhận được một lượng nhỏ kinh nghiệm.]</strong></p><p id="50"><strong>***</strong></p><p id="51">Nói về những việc xảy ra ở trường học, thì thực tế có lẽ cũng chẳng có gì ngoài những câu chuyện mơ mộng thường thấy.</p><p id="52">Quãng đời học viên vui vẻ cùng bạn bè? Hay những buổi đốt pháo hoa tim đập rộn ràng cùng cô gái mình thầm thương trộm nhớ?</p><p id="53">Làm quái gì có mấy thứ đó.</p><p id="54">Thi giữa kỳ, thi cuối kỳ, thi thử, kiểm tra miệng, kiểm tra đột xuất, bài tập, bài tập về nhà, bài tập, bài tập, bài tập, bài tập.</p><p id="55"><em>Đã tốt nghiệp đại học từ đời tám hoánh nào rồi, vậy mà giờ lại phải sống đời học viên cấp ba lần nữa sao.</em></p><p id="56">Thậm chí, hệ phổ thông của Học viện Stella còn khắc nghiệt hơn cả chương trình đại học ở Hàn Quốc, nên cứ nghĩ đến địa ngục bài tập là tôi đã thấy tương lai tối sầm lại rồi.</p><p id="57">Đóa hoa của đời sống học đường không phải là yêu đương, bạn bè hay lễ hội, mà chính là những kỳ thi.</p><p id="58">Học viện Ma pháp Stella tổ chức thi ngay từ ngày đầu nhập học. Thực ra, gọi là thi thì hơi quá, nó giống như một bài kiểm tra đơn giản hơn.</p><p id="59">Cái tên của nó là: 'Kiểm tra phân lớp'.</p><p id="60">Dù đã vượt qua kỳ thi đầu vào với độ khó cực cao, nhưng học viên vẫn phải trải qua bài thi viết và bài kiểm tra sử dụng ma pháp thực chiến để phân định thứ hạng nội bộ, từ đó xếp vào các lớp từ F đến A và S.</p><p id="61">Phần lớn các nhân vật chơi được đều được xếp vào lớp S, nhưng Baek Yu-Seol vì có thành tích học tập lẫn năng lực chiến đấu đều ở hạng bét nên gần như chắc chắn bị xếp vào lớp F, và thường xuyên phải chịu thiệt trong các 'Sự kiện'.</p><p id="62">Sau này có thể vào thư viện hoặc phòng đọc sách để sử dụng hệ thống 'Nhấn nút tự học' nhằm nâng cao thành tích, nhưng thực tế thì làm gì có chuyện ngon ăn thế.</p><p id="63">Vì lý do đó, tôi chỉ biết trố mắt nhìn tờ đề thi đang đặt trên bàn mình.</p><p id="64">Ngay từ đầu, việc 'đi thi' chẳng phải chỉ cần nhìn bằng mắt thôi là được rồi sao?</p><p id="65">Mà thôi bỏ đi.</p><p id="66"><em>Dù sao thì thiết lập là đã nhập học rồi, cứ nộp giấy trắng chắc cũng chẳng sao đâu.</em></p><p id="67"><em>Có khi nào sẽ bị đuổi học không ta.</em></p><p id="68">Nghĩ vậy, tôi liếc nhìn sang bên cạnh thì thấy một thiếu niên khác hẳn với tôi, kẻ đang cố tỏ ra là mình đang làm bài, cậu ta đang thẫn thờ nhìn ra ngoài cửa sổ với vẻ mặt vô cảm.</p><p id="69">Ma Yu-Seong, hình mẫu của một học viên gương mẫu.</p><p id="70">Ngay cả góc nghiêng với mái tóc đen khẽ rũ xuống dưới ánh nắng mặt trời cũng đẹp trai đến mức kinh ngạc. Tuy nhiên, trái ngược với ngoại hình tỏa sáng đó, khuôn mặt cậu ta trông có vẻ mệt mỏi vì điều gì đó.</p><p id="71"><em>Chưa gì thằng chả đã như vậy rồi sao.</em></p><p id="72">Đó chính là vấn đề bản chất của Ma Yu-Seong. Dù chưa đến tuổi trưởng thành nhưng cậu ta đã cảm thấy cuộc đời thật tẻ nhạt.</p><p id="73">Bởi vì đối với cậu ta, mọi thứ trên đời đều quá đỗi dễ dàng.</p><p id="74">Sinh ra trong một gia đình quyền lực nhất thế giới, sở hữu bộ não và tài năng thiên tài nhất thế giới, cuộc đời cậu ta trôi một cách suôn sẻ không chút trở ngại, và điều đó khiến cuộc sống trở nên không còn thú vị nữa.</p><p id="75">Tại đây, tùy thuộc vào việc 'Nữ chính' để ý Ma Yu-Seong như thế nào mà cốt truyện sẽ rẽ hướng rất lớn.</p><p id="76">Tùy theo diễn biến, Ma Yu-Seong có thể đứng về phe Ác, hoặc cũng có thể đứng về phe Thiện.</p><p id="77">Đối với cái kẻ coi cuộc đời là thứ tẻ nhạt, thì việc lũ Hắc Ma Nhân tuyên bố sẽ hủy diệt nhân loại hẳn là một mối bận tâm thú vị.</p><p id="78"><em>Vốn dĩ vấn đề lớn nhất là gia đình của tên này mà.</em></p><p id="79">Liếc nhìn tờ đề thi của cậu ta, cậu ta đã giải xong hết các câu hỏi từ bao giờ. Oa, cái này mà đã giải xong hết rồi sao? Cảm giác thật khác biệt so với một kẻ chẳng biết gì và đang ngồi im như tôi.</p><p id="80">Trong lúc đó, một ý nghĩ chợt nảy ra.</p><p id="81"><em>Khoan đã, bài thi này có khi nào cũng có thể dùng Kính Chào Mào để lo liệu không?</em></p><p id="82">Dù sao thì trong lúc chơi game, tôi cũng đã thường xuyên thực hiện nội dung 'Đọc sách' ở thư viện để tích lũy các chỉ số phụ, nên chắc hẳn trong kính đã tích tụ một lượng tri thức đáng kể.</p><p id="83">Vừa nghĩ vậy và định lấy kính ra, thì ngay lập tức có ai đó từ phía sau chộp lấy cổ tay tôi.</p><p id="84">"Khoan đã. Cái kính đó là gì?"</p><p id="85">"Dạ, dạ?"</p><p id="86">Trong lúc tôi còn đang lúng túng nói lắp bắp, một người đàn ông có vẻ là giám thị đã giật lấy chiếc kính và đưa lên mắt mình kiểm tra.</p><p id="87">"Trong lúc thi không được phép lấy kính ra đeo, tôi nhớ là đã bảo phải đi kiểm tra trước rồi mà?"</p><p id="88">À, ra là thế. Tôi cũng từng nghe loáng thoáng rằng có không ít pháp sư thường hay dùng chiêu trò yểm ma pháp mờ ám lên kính để gian lận trong thi cử. Dù rằng Học viện Stella sẽ không bao giờ để lọt lưới đâu.</p><p id="89"><em>Phải làm sao đây?</em></p><p id="90">Trong lúc đang lo lắng, một thông báo hiện lên.</p><p id="91"><strong>[Vật phẩm 'Kính Chào Mào' đã bị lấy mất.]</strong></p><p id="92"><strong>[Bạn có muốn thu hồi lại không?]</strong></p><p id="93"><em>... Không. Thế thì hỏng bét mất! Nếu họ nghĩ rằng nó đã được yểm ma pháp, khéo tôi bị đuổi học thật chứ chẳng chơi!</em></p><p id="94">Trong lúc tôi còn đang ngồi im bất động, vị giám thị bắt đầu xem xét kỹ lưỡng chiếc kính rồi gật đầu với vẻ mặt nghiêm nghị.</p><p id="95">"Không có ma pháp nào được yểm lên cả. Lần sau phải cẩn thận hơn đấy."</p><p id="96">"Ơ, vâng..."</p><p id="97">Nói rồi, ông ta đặt chiếc kính xuống bàn tôi rồi quay lưng đi thẳng. Có vẻ như cũng không tính làm khó tôi.</p><p id="98"><em>Oa, nếu chức năng gốc của nó vẫn hoạt động trên tay ổng là mình đi rồi.</em></p><p id="99">Vô số chức năng từng ẩn chứa trong chiếc Kính Chào Mào hiện giờ đều đã biến mất do bị 'Hạ cấp'. Nếu chúng vẫn còn tồn tại, ma lực tỏa ra chắc chắn sẽ bị phát hiện, và việc bị đuổi học là điều hoàn toàn có thể xảy ra.</p><p id="100">Dù sao thì cũng đã được một phen hú vía, tôi thở phào nhẹ nhõm và đeo chiếc Kính Chào Mào lên.</p><p id="101"><em>Oồ...!</em></p><p id="102">Thật kinh ngạc, toàn bộ đáp án của bài thi bắt đầu hiện rõ mồn một trước mắt tôi. Quá phấn khích, tôi bắt đầu điên cuồng viết đáp án vào tờ giấy thi trong trạng thái cực kỳ cao hứng. Thế nhưng, ngay khi tôi vừa mới giải xong được đúng ba câu thì...</p><p id="103">"Hết giờ làm bài. Tôi sẽ thu bài thi."</p><p id="104">"Ơ, gì cơ?"</p><p id="105">Tờ giấy thi trên tay tôi bay vù đi rồi nằm gọn trong tay giám thị. Không chỉ riêng tôi, giấy thi của các học viên khác cũng bắt đầu bay về phía ông ta, và có vẻ như không chỉ mình tôi thấy tiếc nuối khi tất cả đều thốt lên những tiếng thở dài.</p><p id="106"><em>Aiz, cứ ngỡ là cuối cùng cũng dùng được chức năng của nó rồi chứ.</em></p><p id="107">Tôi đang ngậm chiếc bút dạ trên miệng và gõ nhẹ (một cách rụt rè) xuống mặt bàn, thì vị giám thị đang vừa thu vừa kiểm tra giấy thi bỗng đột ngột biến sắc, lộ ra vẻ mặt hung tợn rồi tiến về phía tôi.</p><p id="108">"Cậu kia, đưa cái kính đó đây cho tôi!"</p><p id="109">"Dạ?"</p><p id="110">"Nhanh lên!"</p><p id="111">Suýt chút nữa là tôi tè ra quần rồi. À không, hình như là đã rỉ ra một chút thật. Áp lực từ một ma pháp sư thực thụ quả nhiên có sức mạnh khiến tim người ta phải rụng rời.</p><p id="112">Tôi vội vàng đưa chiếc kính ra, ông ta đón lấy với vẻ mặt đáng sợ rồi đặt tay lên đó. Có vẻ như ông ta đang truyền ma lực vào nhưng mà...</p><p id="113">Sao tự dưng lại như vậy nhỉ? Tôi đã cố tình viết chi tiết cả quá trình giải bài để tránh bị hiểu lầm là gian lận rồi kia mà.</p><p id="114">"...Hừm."</p><p id="115">Có vẻ như không thu được kết quả như mong muốn, ông ta lẩm bẩm "Lẽ nào lại không phải" rồi nghiêng đầu đầy thắc mắc, sau đó gọi một người trợ giảng đang chờ phía trước.</p><p id="116">"Hãy đi mời Tiến sĩ Greian đến đây."</p><p id="117">Người trợ giảng vội vã chạy khỏi lớp học, và ngay sau đó, một vị tiến sĩ mặc áo blouse trắng, đeo kính xuất hiện.</p><p id="118">Đó là Tiến sĩ Greian, giáo sư khoa 'Kỹ thuật Ma pháp' của Học viện Stella, đồng thời cũng là người được công nhận là chuyên gia hàng đầu thế giới trong lĩnh vực này.</p><p id="119">"Thế nào rồi, thưa Tiến sĩ?"</p><p id="120">"Hừm..."</p><p id="121">Sau khi lặng lẽ quan sát chiếc kính của tôi, vị tiến sĩ đột nhiên trợn tròn mắt kinh ngạc khi nhìn vào tờ giấy thi.</p><p id="122">Chẳng lẽ có chuyện gì thực sự không ổn sao?</p><p id="123">Tiến sĩ cứ nhìn đi nhìn lại khuôn mặt tôi, chiếc kính, rồi lại đến tờ giấy thi, ông ta trăn trở suy nghĩ một hồi lâu rồi cuối cùng mới cất lời.</p><p id="124">"Việc giải được những câu hỏi này... quả thực không thể không nghi ngờ được."</p><p id="125">"Quả nhiên là gian lận sao..."</p><p id="126">"Nhưng đây không phải là gian lận. Ta hoàn toàn không cảm nhận được bất kỳ ma cụ nào từ chiếc kính hay đồ dùng cá nhân của học viên này cả. Chắc chắn là em ấy đã giải bằng năng lực thực sự của mình."</p><p id="127">Nói rồi, ông ta nở một nụ cười rạng rỡ.</p><p id="128">"Haha, chuyện này thú vị thật đấy. Đúng là sống lâu mới thấy được chuyện lạ. Quả nhiên tân học viên năm nay có nhiều đứa trẻ thật kỳ lạ."</p><p id="129">Sau khi kiểm tra xong tờ giấy thi, Tiến sĩ Greian đưa lại nó cho vị giám thị rồi vỗ nhẹ vào vai ông ta.</p><p id="130">"Dù sao thì, Giáo sư Lee Han-Wol hãy xin lỗi học viên này và hướng dẫn em ấy tử tế nhé."</p><p id="131">"... Tôi rõ rồi."</p><p id="132">Tiến sĩ vỗ nhẹ vào vai tôi một cái rồi cứ thế bước ra ngoài. Khi nhận lại chiếc kính và đứng ngây người nhìn vị giám thị, ông ta khẽ gật đầu với tôi.</p><p id="133">"Tôi đã hiểu lầm. Xin lỗi trò."</p><p id="134">Nói đi cũng phải nói lại, vì đúng là mình đã gian lận thật nên tôi cũng hơi đắn đo, chẳng biết có nên nhận lời xin lỗi này hay không nữa.</p><p id="135">Nhưng rồi tôi nhanh chóng nhớ ra rằng chiếc kính của mình đã hoàn hảo đến mức các ma pháp sư cũng không thể nhận ra, nó giống như là 'một phần cơ thể' của tôi vậy. Nếu ngay cả Tiến sĩ Greian còn không biết, thì có thể coi như cả thế giới này chẳng ai biết cả.</p><p id="136">Nếu đó là một chiêu trò hoàn hảo đến mức không một ai trên đời này hay biết, thì chẳng phải nó không còn là gian lận nữa mà chính là thực lực của tôi sao?</p><p id="137">Thế nên, tôi ưỡn ngực tự tin và nói:</p><p id="138">"Chuyện không may thôi ạ. Lần sau xin thầy hãy xin cẩn thận hơn."</p><p id="139">Bởi vì tôi là một người đàn ông rộng lượng mà.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/f162c340-e615-453e-96f2-ea60f39f3592.jpg?t=1756572253" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/12377" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/12377/7b4a9212-81a5-436f-bb19-1f0ea545eb5c.jpg?t=1756572253" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279299-006-nhap-hoc-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279301-008-nhap-hoc-5" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'HVfXqks5FZNtN1wNO2RS2E58hUPkLeAuWRAP0n8g';
        var comment_type = 'chapter';
        var comment_typeid = '279300';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'HVfXqks5FZNtN1wNO2RS2E58hUPkLeAuWRAP0n8g';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24355');
    chapter_id = parseInt('279300');

    readingObject = {
        series_id: series_id,
        series_title: 'Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="HVfXqks5FZNtN1wNO2RS2E58hUPkLeAuWRAP0n8g" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script
  type="text/javascript"
  src="https://disinheritguilewallow.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js"
  async
></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2025 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp - 012 - Kẻ Cá Biệt Của Lớp S (4) - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Nhân vật có độ khó cao nhất và đặc tính tệ nhất, Baek Yuseol, bị coi là một nhân vật rác rưởi trong trò chơi vì cậu ta không thể sử dụng ma thuật trong bối cảnh giả tưởng mà những người khác đều có thể. Tuy nhiên… [Vì bạn...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="LhfnSvbr62FUeYyQsUbIeVNI3xI3FhNp9luNdZJF">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283532-012-ke-ca-biet-cua-lop-s-4">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283531-011-ke-ca-biet-cua-lop-s-3"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283533-013-ke-ca-biet-cua-lop-s-5"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283532-012-ke-ca-biet-cua-lop-s-4" style="background: url('https://i.hako.vn/ln/series/covers/s24355-0428e50d-8ff8-4ce2-85fa-b0677c02d191.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap">Trở Thành Thiên Tài Tốc B...</a></h5>
                    <small><i class="fas fa-pen"></i>Eunmilhi</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/t35150-1-100">Chương 1-100</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275879-001-mo-dau">
                                                                        001 - Mở Đầu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275880-002-toc-bien-1">
                                                                        002 - Tốc Biến (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c275881-003-toc-bien-2">
                                                                        003 - Tốc Biến (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279297-004-nhap-hoc-1">
                                                                        004 - Nhập học (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279298-005-nhap-hoc-2">
                                                                        005 - Nhập học (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279299-006-nhap-hoc-3">
                                                                        006 - Nhập học (3)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279300-007-nhap-hoc-4">
                                                                        007 - Nhập học (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c279301-008-nhap-hoc-5">
                                                                        008 - Nhập học (5)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283529-009-ke-ca-biet-cua-lop-s-1">
                                                                        009 - Kẻ Cá Biệt Của Lớp S (1)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283530-010-ke-ca-biet-cua-lop-s-2">
                                                                        010 - Kẻ Cá Biệt Của Lớp S (2)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283531-011-ke-ca-biet-cua-lop-s-3">
                                                                        011 - Kẻ Cá Biệt Của Lớp S (3)
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283532-012-ke-ca-biet-cua-lop-s-4">
                                                                        012 - Kẻ Cá Biệt Của Lớp S (4)
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283533-013-ke-ca-biet-cua-lop-s-5">
                                                                        013 - Kẻ Cá Biệt Của Lớp S (5)
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Chương 1-100</h2>
                    <h4 class="title-item text-base font-bold" align="center">012 - Kẻ Cá Biệt Của Lớp S (4)</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283532-012-ke-ca-biet-cua-lop-s-4#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,075 từ - Cập nhật: 
                        <time class="topic-time timeago" title="01-01-2026 19:17:52" datetime="2026-01-01T19:17:52+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">012 - Kẻ Cá Biệt Của Lớp S (4)</p>
                    <p id="1">Khi mặt trời đã khuất bóng vào buổi chiều tà, Hong Bi-Yeon và tôi tìm được một phòng tự học hoàn toàn vắng bóng người, rồi cả hai ngồi đối diện nhau qua một chiếc bàn.</p><p id="2">Cái ánh mắt rực cháy đang nhìn chằm chằm kia khiến tôi cảm thấy áp lực đến chết đi được.</p><p id="3">"... Tôi không hiểu nổi lý do tại sao cô lại phải trả giá đến mức này chỉ để học về ba câu hỏi trong kỳ kiểm tra phân lớp đấy."</p><p id="4">"Tất cả đều có lý do cả, ngươi chỉ cần cho ta biết là được."</p><p id="5">À, vâng. Chắc là vậy rồi.</p><p id="6">"Nhưng mà cô bảo là mình chỉ làm sai mỗi ba câu này thôi sao? Thông minh thật đấy. Trong khi tôi thì làm sai sạch sành sanh các câu còn lại. Cô không thấy xấu hổ khi đi hỏi tôi à?"</p><p id="7">Tôi xếp hạng 1.141 toàn khối, còn cô ta là một siêu thiên tài tỏa sáng đứng thứ 5.</p><p id="8">"Không có gì phải xấu hổ cả. Ngược lại, việc làm sai câu hỏi mà đến giờ vẫn chưa tìm ra lời giải mới là điều đáng xấu hổ hơn. Nếu có thể biết được đáp án, ta sẵn sàng hỏi bất cứ ai."</p><p id="9">Ồ... một câu trả lời đúng chất con nhà người ta.</p><p id="10">Nhưng mà hình như cái giọng điệu đó cũng có chút ý xem thường tôi thì phải…</p><p id="11">"Trước tiên thì... cứ thử xem qua một lần xem sao."</p><p id="12">Tôi đeo chiếc kính Chào Mào rồi nhìn lại các câu hỏi một lần nữa.</p><p id="13">Quả nhiên, lúc tự mình giải thì không biết, nhưng khi nhìn lại mới thấy đây đúng là những câu hỏi vô lý hết sức.</p><p id="14">Trời đất, nghĩ gì mà lại nhét mấy câu đố mẹo vào đề thi ma pháp thế.</p><p id="15"><em>Aaa, liệu có cách nào để giải thích cho ra hồn được không đây?</em></p><p id="16">Vì ham thứ gọi là 'cái giá tương xứng' mà tôi đã lỡ đồng ý, nhưng giờ chẳng biết cô ta có đủ hài lòng để mà trả hay không nữa.</p><p id="17">Chịu, đúng nghĩa là mấy câu tào lao đòi hỏi phải suy luận khác người, nên việc giải hay dạy lại cho người khác là cực kỳ khó khăn.</p><p id="18"><em>Cái này thì ai mà dạy được chứ.</em></p><p id="19">Thế nhưng, mọi thứ đã được chuẩn bị sẵn sàng rồi. Nếu bây giờ rút lui, có lẽ tôi sẽ bị Hong Bi-Yeon gây khó dễ cho đến tận khi tốt nghiệp mất.</p><p id="20">Hơn nữa.</p><p id="21"><em>... Cái giá là được cải tiến Terivon, nếu mà bỏ thì tiếc chết mất.</em></p><p id="22">Phải nghĩ cách thôi. Vừa hồi tưởng lại về nhân vật Hong Bi-Yeon, tôi vừa hỏi bừa một câu mới nãy ra trong đầu để câu giờ.</p><p id="23">"Trước khi bắt đầu giải thích, cho tôi hỏi một câu thôi. Tại sao cô lại hỏi một người như tôi?"</p><p id="24">Chắc chắn là cô ta không phải hạng người không có bạn bè. Dù sao cũng là công chúa mà, nếu muốn hỏi thì thiếu gì người sẵn lòng trả lời chứ?</p><p id="25">Cô ta khẽ xoắn lọn tóc của mình một lát, rồi dường như cảm thấy chẳng có gì phải đắn đo, cô ta liền thẳng thắn đáp.</p><p id="26">"Trong số 1.141 tân học viên, chỉ có ba người duy nhất giải đúng hoàn toàn '3 câu hỏi ma quái' ngay từ lần đầu tiên, bao gồm cả ngươi."</p><p id="27">"Hả...?"</p><p id="28">Thế nghĩa là sao nhỉ?</p><p id="29">"Nghe bảo đó là những 'câu hỏi bẫy' được đưa ra với mục đích không cho ai giải được.... Thế mà Ma Yu-Seong, Flame, và cả ngươi đều hiểu được nó. Chính vì thế mà ta hơi bị đau đầu đấy."</p><p id="30">"Không, khoan đã. Câu hỏi bẫy sao? Những câu được đưa ra để không cho ai giải ấy hả?"</p><p id="31">"Ừ. Chẳng lẽ ngươi không biết mà vẫn giải được à?"</p><p id="32">"Trời..."</p><p id="33">Đến tận bây giờ tôi mới hiểu ra lý do tại sao mình lại được vào lớp S, và tại sao Flame lại dè chừng tôi đến vậy.</p><p id="34">Những câu hỏi bẫy. Thứ này hoàn toàn không tồn tại trong trò chơi. Hoặc cũng có thể là do tôi đã không đọc kỹ.</p><p id="35"><em>Chẳng trách sao lúc mình giải thích về cái gọi là 3 câu hỏi ma quái hay gì đó, phản ứng của mấy đứa kia lại kỳ lạ đến vậy...!</em></p><p id="36">Tôi vốn không nắm rõ những chi tiết nhỏ li ti hay diễn biến cốt cụ thể của thế giới này. Bởi vì tôi không xem cốt truyện mà chỉ tập trung tận hưởng bản thân trò chơi mà thôi.</p><p id="37">Thế nhưng, Flame, người được thiết lập là đã cày nát bộ tiểu thuyết lãng mạn thì lại khác. Cô ta có thể không biết câu chuyện ở phiên bản trò chơi, nhưng ít nhất cô ta nắm rất rõ các tuyến nội dung cũng như hầu hết các thiết lập diễn ra trong thế giới này.</p><p id="38">Ví dụ như, việc biết trước rằng sẽ có tới ba câu hỏi bẫy xuất hiện trong kỳ kiểm tra nhập học chẳng hạn...</p><p id="39">Chắc chắn Flame đã có thể dễ dàng vượt qua những câu hỏi bẫy đó bằng kiến thức từ tiểu thuyết. Vốn dĩ đó là thành tựu mà chỉ mình Ma Yu-Seong mới có thể làm được, nên có lẽ cô ta định ghi tên mình vào đó để nhấn mạnh sự 'đặc biệt' của bản thân.</p><p id="40">Một thiếu nữ sở hữu thiên tài khác biệt hoàn toàn với Ma Yu-Seong!</p><p id="41">Thế nhưng, ngay tại đó, một nhân vật phụ bí ẩn vốn không hề có trong nguyên tác lại đột ngột nhảy ra và xen ngang vào.</p><p id="42">Điều đó đồng nghĩa với việc, cô ta đã bắt đầu nhận thức được sự tồn tại của Baek Yu-Seol.</p><p id="43">Thôi toang rồi…</p><p id="44">Nghĩ đến việc cô ta đang nhìn nhận về tôi như thế nào, tôi bỗng thấy sống lưng mình lạnh toát.</p><p id="45"><em>Chết tiệt, hèn gì mình lại bị ghim.</em></p><p id="46">Tiếng thở dài suýt thì bật ra nếu tôi không kịp kìm lại. Nhưng dù sao thì chuyện cũng đã lỡ rồi.</p><p id="47">"Sắc mặt ngươi trông không tốt lắm nhỉ?"</p><p id="48">"Không cần bận tâm đâu."</p><p id="49">Có vẻ thái độ của tôi khiến Hong Bi-Yeon không hài lòng nên sắc mặt cô ta hơi tối lại, nhưng vì đang bị một người còn đáng sợ hơn nhắm vào nên tôi cũng chẳng thấy sợ cô ta lắm và cứ thế phớt lờ đi.</p><p id="50">"Trước khi chỉ dạy cho cô, cô không quên việc đã hứa sẽ nghe theo yêu cầu của tôi chứ?"</p><p id="51">"Ừ."</p><p id="52">"Đơn giản thôi. Cô biết cây trượng này chứ?"</p><p id="53">"Đó là Terivon mà."</p><p id="54">"Hãy nhờ những thợ rèn của vương gia Adolrevit các cô cải tiến cái này thành một cây giáo ma thuật... à không, một thanh Ma kiếm đi."</p><p id="55">"...?"</p><p id="56">Trong thoáng chốc, sắc mặt Hong Bi-Yeon biến đổi một cách kỳ quái như thể nghĩ rằng mình vừa nghe nhầm.</p><p id="57">"Cô không nghe nhầm đâu."</p><p id="58">"... Vũ khí lạnh là loại vũ khí dành cho lũ lính đánh thuê cấp thấp thôi. Tại sao một ma pháp sư như ngươi lại muốn sử dụng thứ đó?"</p><p id="59">"Sở thích thôi ấy mà."</p><p id="60">"..."</p><p id="61">Trước câu trả lời của tôi, Hong Bi-Yeon im lặng. Dù lộ rõ vẻ mặt không thể hiểu nổi, nhưng tôi cũng không có ý định giải thích chi tiết rằng mình là một kẻ gặp khiếm khuyết về ma pháp.</p><p id="62">"Giải thích thế chắc là đủ rồi nhỉ? Tôi còn phải khai báo lý lịch ngang cho cô nữa sao? Cô có cải tiến nó thành Ma kiếm cho tôi hay không, xin hãy nói một lời ạ."</p><p id="63">"Được rồi, ta sẽ làm cho. Chuyện nhỏ thôi."</p><p id="64">Quả nhiên có tí quan hệ với công chúa là nhất.</p><p id="65">"Vậy thì... từ bây giờ tôi sẽ chỉ cho cô hướng giải quyết câu hỏi này một cách đơn giản."</p><p id="66">Tôi thử hồi tưởng lại những đặc điểm của Hong Bi-Yeon.</p><p id="67">Ma pháp sư hệ hỏa mạnh nhất. Trong khi các ma pháp sư thiên tài thường sử dụng ít nhất từ hai đến ba thuộc tính, Hong Bi-Yeon chỉ sử dụng duy nhất hỏa ma pháp nhưng đã vươn tới hàng ngũ những ma pháp binh hàng đầu.</p><p id="68">Thế nhưng, liệu ngay từ đầu cô ta đã như vậy sao?</p><p id="69">Không phải.</p><p id="70">Vào thời điểm còn là học viên năm nhất học viện, Hong Bi-Yeon tuy mạnh mẽ nhưng giới hạn lại quá rõ ràng, nên sau này đã bị Flame dạy cho một bài học nhớ đời.</p><p id="71"><em>Điểm yếu là ma pháp sử dụng quá rập khuôn.</em></p><p id="72">Trong tình huống này thì dùng ma pháp này, trong tình huống kia thì dùng ma pháp kia.</p><p id="73">Hong Bi-Yeon lâm trận như thể đang đọc sách giáo khoa, và Flame sau khi nắm thóp được điểm yếu đó đã xoáy sâu vào kẽ hở để giành chiến thắng.</p><p id="74">Nghe nói sau thất bại đó, Hong Bi-Yeon năm thứ hai mới đặt trên đến một đẳng cấp sức mạnh hoàn toàn khác biệt.</p><p id="75"><em>Sự thay đổi trong tư duy.</em></p><p id="76">Bản thân Hong Bi-Yeon cũng tự nhận thức được việc mình thiếu khả năng sáng tạo. Đến mức những cuốn sách liên quan đến vấn đề đó chất đống trong ký túc xá của cô ta.</p><p id="77">Thế nhưng, sự giác ngộ đó phải mãi đến tận năm thứ hai mới tìm đến cô ta, một thời điểm quá muộn màng.</p><p id="78"><em>Ngay lúc này thì không thể giúp cô ta đạt được sự giác ngộ ngay tức khắc được... Nhưng thôi thì, cũng có thể đưa ra một vài lời khuyên có vẻ thuyết phục.</em></p><p id="79">Sau khi xoay tờ đề thi về phía Hong Bi-Yeon, tôi nhìn cô ta với vẻ mặt nghiêm túc rồi hỏi.</p><p id="80">"Trước tiên, cô có biết đố mẹo là gì không?"</p><p id="81">"... Đố mẹo?"</p><p id="82">"Ờ. Đừng bảo là cô không biết nhé?"</p><p id="83">"Ta có nghe qua rồi... nhưng không rõ nó chính xác là cái gì."</p><p id="84">Trời, sống đến từng này tuổi rồi mà lại không biết đố mẹo là gì sao? Thường ngày cô ta rốt cuộc đã sống cái kiểu gì vậy? Câu hỏi đó vừa hiện lên thì đồng thời, tôi cũng nhớ ra sự thật rằng cô ta chính là Hong Bi-Yeon.</p><p id="85"><em>Ừ, cũng hợp lý.</em></p><p id="86">Với môi trường gia đình như thế thì chuyện này cũng có thể xảy ra.</p><p id="87">Nghĩ rằng như vậy trái lại còn tốt hơn, tôi liền đánh phủ đầu Hong Bi-Yeon bằng một câu hỏi.</p><p id="88">"Cái gì nằm giữa đầu gối và đầu gối?"</p><p id="89">"..."</p><p id="90">Một câu đố đầy bất ngờ. Tuy nhiên, vì nghĩ rằng ở đây chắc chắn sẽ không có ai đưa ra những câu hỏi vô nghĩa, sắc mặt Hong Bi-Yeon trở nên nghiêm trọng và cứng đờ lại.</p><p id="91">Nhắm mắt lại, dùng ngón tay gõ nhẹ lên bắp tay, sau một hồi suy nghĩ đăm chiêu, đáp án mà cô ta đưa ra là.</p><p id="92">"Khoeo chân...?" </p><p id="93">"Sai rồi."</p><p id="94">"Háng à?"</p><p id="95">"Cũng không phải luôn."</p><p id="96">"Đáp án là 'và'."</p><p id="97">"... Tại sao?"</p><p id="98">"Thì tôi đã bảo là thứ nằm giữa 'đầu gối' và 'đầu gối' còn gì."</p><p id="99">"..."</p><p id="100">Có vẻ như cạn lời, Hong Bi-Yeon hơi hé môi rồi lườm tôi với một biểu cảm cực kỳ đáng sợ.</p><p id="101">"Không, thật đấy, vấn đề này đúng là mang cảm giác kiểu đó mà? Cô muốn giải được nó không?"</p><p id="102">"Có."</p><p id="103">"Nhìn kỹ câu hỏi này đi. Nó được cấu thành từ những công thức và thuật thức mà cô không hề biết. Cô cũng nhận ra điều đó đúng chứ?"</p><p id="104">"Tất nhiên rồi."</p><p id="105">"Nghĩa là cô chỉ có thể giải nó bằng trí sáng tạo của mình thôi. Thế nhưng, liệu có thể học vẹt trí sáng tạo như cách cô vẫn làm không?"</p><p id="106">"... Không."</p><p id="107">"Đúng chứ?"</p><p id="108">Tôi không để cô ta có cơ hội phản bác. Tôi cứ thế bắn liên thanh những lời mình muốn nói.</p><p id="109">"Cô biết không? Các ma pháp sư trong quá khứ chỉ phát triển ma pháp một cách cục bộ và tịnh tiến thôi. Thế nhưng, họ đã thêm thắt từng chút một trí sáng tạo vào những bước phát triển nhỏ bé đó. Và rồi, đến một khoảnh khắc, 'Thời đại Đại Ma đạo' đã bùng nổ và mở ra."</p><p id="110">"Thì... đúng là vậy mà."</p><p id="111">Những điều này tôi đã đọc được trong câu chuyện ở phần hướng dẫn, không ngờ cũng có ngày lại có thể đem ra sử dụng như thế này.</p><p id="112">"Cô có biết tại sao lại như vậy không? Việc biết nhiều câu chú và thuật thức cũng quan trọng đấy, nhưng điều quan trọng nhất đối với một ma pháp sư chính là cách tư duy mang tính đột phá."</p><p id="113">"Tư duy mang tính đột phá?"</p><p id="114">"Phải!"</p><p id="115">Có vẻ như một từ ngữ quen thuộc vừa xuất hiện khiến Hong Bi-Yeon dỏng tai lên lắng nghe. Phải rồi, chắc chắn là vậy. Bởi lẽ hầu hết những từ ngữ mà tôi đang tuôn ra đều là những thứ đã xuất hiện khi tôi hoàn thành các nhiệm vụ liên quan đến Hong Bi-Yeon.</p><p id="116">Nói cách khác, những mối quan tâm lớn nhất của cô ta đang được thốt ra liên tục từ miệng tôi.</p><p id="117">"Nhìn nhận thế giới bằng cách thoát khỏi những ranh giới của suy nghĩ. Lịch sử đã chứng minh rằng chỉ với một thay đổi cực kỳ nhỏ bé, ma pháp cũng có thể phát triển một cách bùng nổ. Thế nhưng tại sao cô lại cứ định suy nghĩ về những gì mình nhìn thấy đúng theo nguyên trạng như vậy? Chẳng lẽ cô nghĩ ma pháp chỉ là việc cứ học thuộc lòng câu chú rồi phóng nó ra vèo vèo là xong sao?"</p><p id="118">"Chuyện đó... không phải vậy."</p><p id="119">Hong Bi-Yeon ngẩn người chăm chú lắng nghe những lời tôi nói.</p><p id="120">"Khả năng tư duy phân tích, phán đoán hợp lý, và ghi nhớ tổng hợp của cô có lẽ tốt hơn tôi, nhưng cô lại thiếu đi sự sáng tạo, thứ quan trọng nhất đối với một ma pháp sư."</p><p id="121">Thú thật, những lời này gần như chỉ là nói sàm. Chỉ đơn giản là tôi nhặt nhạnh mấy lời nhảm nhí từ chỗ này chỗ kia trong truyện tranh, rồi lắp ghép thêm những từ ngữ mà Hong Bi-Yeon yêu thích vào mà thôi.</p><p id="122">"Tôi có dùng vài từ hơi khó hiểu một chút, nhưng vì cô thông minh nên chắc là hiểu hết rồi đúng không?"</p><p id="123">"Tất nhiên rồi."</p><p id="124">Lạ thật đấy. Ngay cả bản thân tôi còn chẳng hiểu mình vừa nói cái quái gì nữa là.</p><p id="125">Thế nhưng, có vẻ như cô ta thực sự đã bị thuyết phục bởi điều gì đó, khiến sắc mặt còn trở nên nghiêm trọng hơn cả lúc nãy. Cô tiểu thư này bị làm sao vậy? Làm người nói dối như tôi thấy cắn rứt lương tâm quá đi mất.</p><p id="126">Có vẻ như đã hiểu rõ lời cuối cùng, Hong Bi-Yeon gật đầu ngay lập tức.</p><p id="127">"Vậy thì, hãy bắt đầu ngay thôi."</p><p id="128">Nghe bảo cuối cùng cũng bắt đầu một cách nghiêm túc, Hong Bi-Yeon tập trung nhìn vào miệng tôi với vẻ mặt đầy mong đợi.</p><p id="129">"Nếu một con ngựa sợ hãi thì sẽ ra sao?"</p><p id="130">Khựng lại, sắc mặt cô ta trở nên cứng đờ ngay tại chỗ.</p><p id="131">Sau một tràng giải thích dài dòng hào nhoáng như thế, mà câu hỏi đưa ra rốt cuộc lại là đố mẹo. Hong Bi-Yeon lại ngậm chặt miệng, nhưng tôi không dừng lại mà tiếp tục tấn công.</p><p id="132">"Một con ngựa sợ hãi thì gọi là gì?"</p><p id="133">"... Ta không biết."</p><p id="134">"Hoảng horse."</p><p id="135">Hong Bi-Yeon dao động rõ rệt, nhưng khác với lúc trước, cô ta không hề phản bác lại tôi. Đó là một hiệu quả cực kỳ tuyệt vời.</p><p id="136">Tôi tiếp tục tấn công Hong Bi-Yeon.</p><p id="137">"Bệnh gì mà đến cả bác sĩ cũng phải bó tay?"</p><p id="138">"... Ta không biết."</p><p id="139">"Là gãy tay."</p><p id="140">"... "</p><p id="141">"Tại sao số 6 lại sợ số 7?"</p><p id="142">"... Ta chịu."</p><p id="143">"Thì là vì 7 ate 9."</p><p id="144">Trước sự tấn công liên hoàn của tôi, Hong Bi-Yeon không kịp trở tay và bắt đầu làm mặt mếu.</p><p id="145">Nhìn cảnh tượng đó cũng giải trí phết, tự dưng làm tôi có cảm giác như vừa khai phá được thú vui mới ấy.</p><p id="146">Thế nhưng, khác với lúc nãy, chẳng có ai phản bác lại tôi cả. Có vẻ như cô ta đã bị tẩy não phần nào bởi những lời nhảm nhí mà tôi vừa phun ra ban nãy.</p><p id="147">"Con gì mà ôm nhom ốm nhách vẫn bị gọi là thừa cân? Cá Mập. Con gì biết đi mà người ta lại gọi nó là không biết đi? Con bò."</p><p id="148">Thú vị thật. Vì quá vui vẻ nên trong lúc đùa giỡn, tôi đã vô tình đi quá giới hạn mà không hay biết.</p><p id="149">"Đậu gì mà phải có đôi có cặp?"</p><p id="150">Vừa thốt ra lời đó, tôi nhận ra đây không còn là đố mẹo nữa mà đã tiến gần đến ranh giới của 'trò đùa của ông bác' mất rồi.</p><p id="151"><em>A, hỏng rồi. Thế này thì hơi quá.</em></p><p id="152">Dù có nói ra đáp án đi chăng nữa thì chắc chắn cô ta cũng sẽ không phục. Có vẻ như Hong Bi-Yeon cũng đã bắt đầu nhận ra việc tôi đang nói nhảm, giờ phải làm sao đây?</p><p id="153">Vậy mà.</p><p id="154">"... Đậu đũa?"</p><p id="155">Hong Bi-Yeon đã đoán đúng đáp án.</p><p id="156">"Ơ, ơ... đúng rồi."</p><p id="157">"..."</p><p id="158">Khi tôi trả lời với vẻ mặt ngơ ngác, một nụ cười khẽ thoáng hiện trên gương mặt của Hong Bi-Yeon. Wow, tính cả trong trò chơi lẫn hiện thực này, đây là lần đầu tiên tôi thấy cô ta cười đấy.</p><p id="159">"Ôi trời, đúng là công chúa có khác. Sức sáng tạo của cô thật ấn tượng."</p><p id="160">Dẫu cho tôi đang nịnh bợ một cách không hề chớp mắt, Hong Bi-Yeon dù làm vẻ mặt đanh lại nhưng khóe môi lại khẽ nhếch lên, cho thấy có vẻ như tâm trạng của cô ta dù sao cũng đang khá tốt.</p><p id="161">"Hừm hừm. Mau đưa câu hỏi tiếp theo ra đây."</p><p id="162">Cứ như vậy, tôi đã 'đặc giảng' cho Hong Bi-Yeon cho đến tận đêm muộn.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283531-011-ke-ca-biet-cua-lop-s-3" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24355-tro-thanh-thien-tai-toc-bien-cua-hoc-vien-ma-phap/c283533-013-ke-ca-biet-cua-lop-s-5" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'LhfnSvbr62FUeYyQsUbIeVNI3xI3FhNp9luNdZJF';
        var comment_type = 'chapter';
        var comment_typeid = '283532';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'LhfnSvbr62FUeYyQsUbIeVNI3xI3FhNp9luNdZJF';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24355');
    chapter_id = parseInt('283532');

    readingObject = {
        series_id: series_id,
        series_title: 'Trở Thành Thiên Tài Tốc Biến Của Học Viện Ma Pháp',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        const text = $(this).text().trim();
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="LhfnSvbr62FUeYyQsUbIeVNI3xI3FhNp9luNdZJF" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>

<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Tôi đã trở về với tư cách là một con quái vật thảm họa. - Chương 22 : Dự án Ark - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Tôi Đã Trở Về Sau 9999 Năm Ở Backrooms. Những người khả nghi cứ cố nhốt tôi vào các phòng cách ly. Tôi nói cho mà biết, tôi là con người đấy!">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="hvWrm8HhgV9eh2DsbcoZf23Evn74a06ocLcx7fc2">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299346-chuong-22-du-an-ark">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24784-98c99bef-f0f0-40df-907c-5de252c1d38f.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=79c8956531b276c6564b6dfd12d504f8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299256-chuong-21-du-an-moi"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299346-chuong-22-du-an-ark" style="background: url('https://i.hako.vn/ln/series/covers/s24784-98c99bef-f0f0-40df-907c-5de252c1d38f.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa">Tôi đã trở về với tư cách...</a></h5>
                    <small><i class="fas fa-pen"></i>Oering</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/t36029-web-novel">Web novel</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297077-chuong-01-toi-nho-nha">
                                                                        Chương 01 : Tôi nhớ nhà
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297078-chuong-02-toi-khong-the-nhin-thay-gi">
                                                                        Chương 02 : Tôi không thể nhìn thấy gì
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297079-chuong-03-tao-ngon-that-ngon-qua-thi-phai-thoi">
                                                                        Chương 03 : Táo ngon thật. Ngon quá thì phải ■■ thôi!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297212-chuong-04-di-phieu-luu-nao">
                                                                        Chương 04 : Đi phiêu lưu nào!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297216-chuong-05-toi-chan-qua">
                                                                        Chương 05 : Tôi chán quá
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297227-chuong-06-ke-ca-toi-co-giai-thich-thi-may-nguoi-cung-khong-hieu-duoc-dau">
                                                                        Chương 06 : Kể cả tôi có giải thích thì mấy người cũng không hiểu được đâu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297583-chuong-07-the-xanh-cap-1">
                                                                        Chương 07 : Thẻ xanh cấp 1
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297593-chuong-08-kem-socola-bac-ha">
                                                                        Chương 08 : Kem socola bạc hà ■■
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297609-chuong-09-thit-truong-phinh">
                                                                        Chương 09 : Thịt Trương Phình
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c297611-chuong-10-co-muon-an-mot-mieng-khong">
                                                                        Chương 10 : Có muốn ăn một miếng không?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298112-chuong-11-the-vang-cap-3">
                                                                        Chương 11 : Thẻ vàng cấp 3
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298130-chuong-12-that-bat-lich-su">
                                                                        Chương 12 : Thật bất lịch sự
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298156-chuong-13-death-flag">
                                                                        Chương 13 : Death flag
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298184-chuong-14-mot-co-the-da-dat-den-chan-y">
                                                                        Chương 14 : Một cơ thể đã đạt đến chân Ý
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298191-chuong-15-shopping">
                                                                        Chương 15 : Shopping!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298673-chuong-16-may-trao-doi-tuong-duong">
                                                                        Chương 16 : Máy Trao đổi Tương đương
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298682-chuong-17-banh-dau-tay">
                                                                        Chương 17 : Bánh dâu tây
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298698-chuong-18-mau-trang-la-mau-cua-su-thuan-khiet">
                                                                        Chương 18 : Màu trắng là màu của sự thuần khiết
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298703-chuong-19-dao-duc-gia">
                                                                        Chương 19 : Đạo đức giả
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c298707-chuong-20-co-mot-cai-lo">
                                                                        Chương 20 : Có một cái lỗ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299256-chuong-21-du-an-moi">
                                                                        Chương 21 : Dự án mới
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299346-chuong-22-du-an-ark">
                                                                        Chương 22 : Dự án Ark
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Web novel</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 22 : Dự án Ark</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299346-chuong-22-du-an-ark#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 2,006 từ - Cập nhật: 
                        <time class="topic-time timeago" title="29-01-2026 22:30:13" datetime="2026-01-29T22:30:13+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 22 : Dự án Ark</p>
                    <p id="1"><strong>[Báo cáo Điều tra Công chúa Đen (phiên bản Kwon Sae-ron)]</strong></p><p id="2"><strong>Hồ sơ về thông tin đã xác nhận liên quan đến Công chúa Đen.</strong></p><p id="3"><strong>1. Công chúa Đen tin rằng bản thân là con người.</strong></p><p id="4"><strong>Phân tích các cuộc trò chuyện và hành vi trong quá khứ xác nhận rằng Công chúa Đen nhận thức bản thân mình là con người, không phải là dị thường.</strong></p><p id="5"><strong>Dự đoán rằng Công chúa Đen sẽ trở nên điên cuồng vào khoảnh khắc nhận thức bản thân này sụp đổ.</strong></p><p id="6"><strong>Do đó, tất cả nhân viên viện nghiên cứu phải đối xử và hành động với Công chúa Đen như một con người.</strong></p><p id="7"><strong>– Jeong Yohan, Trưởng Viện Nghiên cứu 1: Tất cả nhân viên phải ghi nhớ điều này.</strong></p><p id="8"><strong>2. Khả năng Vật lý Áp đảo</strong></p><p id="9"><strong>Công chúa Đen đã thể hiện khả năng áp đảo ngay cả Bác sĩ Triết học, người được coi là có khả năng vật lý cao nhất trong Viện Nghiên cứu Ansong hiện có.</strong></p><p id="10"><strong>Nếu dị thường này trở nên điên cuồng, dự kiến sẽ cực kỳ khó khăn để khuất phục.</strong></p><p id="11"><strong>Tất cả nhân viên viện nghiên cứu phải đối xử với Công chúa Đen như một con người.</strong></p><p id="12"><strong>– Kwon Sae-ron, Trưởng Viện Nghiên cứu 6: Xem xét hai đặc điểm trên, chúng tôi sẽ cung cấp cho Công chúa Đen một thẻ khóa để truy cập vào viện nghiên cứu.</strong></p><p id="13"><strong>3. Khả năng Tái sinh</strong></p><p id="14"><strong>Sở hữu khả năng độc đáo tái sinh các chi bị cắt đứt trong chớp mắt.</strong></p><p id="15"><strong>Đã có đề xuất thử nghiệm khả năng tái sinh, nhưng bị từ chối do có khả năng rơi vào trạng thái điên cuồng.</strong></p><p id="16"><strong>– Lee Se-hwa, Nhà nghiên cứu: Để tham khảo, bản thân Công chúa nghĩ khả năng tái sinh này là bình thường. Vì vậy, mọi người, làm ơn đừng ngạc nhiên ngay cả khi nhìn thấy cơ thể của Công chúa tái sinh.</strong></p><p id="17"><strong>4. Tiêu thụ dị thường</strong></p><p id="18"><strong>Công chúa Đen có thể tiêu thụ dị thường.</strong></p><p id="19"><strong>Theo chính Công chúa, dường như có Dị thường ngon và không ngon.</strong></p><p id="20"><strong>Theo một đặc vụ đã nếm thử dị thường do Công chúa đưa cho, nói rằng hương vị của dị thường đó rất khủng khiếp.</strong></p><p id="21"><strong>Điều gì quyết định hương vị của dị thường vẫn chưa được xác định.</strong></p><p id="22"><strong>Khả năng độc đáo này chỉ được chia sẻ trong nội bộ viện nghiên cứu ở Hàn Quốc và được giữ bí mật để ngăn chặn rò rỉ ra bên ngoài.</strong></p><p id="23"><strong>– Park Cheol-woong, Đội trưởng: Dị thường tôi ăn có vị như một miếng bít tết hỏng có lẽ đã mười năm tuổi. Tôi khuyên bạn nên viện lý do để tránh ăn nó nếu có thể.</strong></p><p id="24"><strong>5. Miệng</strong></p><p id="25"><strong>Hành động tiêu thụ của Công chúa Đen, hoặc chính cái miệng, được coi là một khả năng độc đáo.</strong></p><p id="26"><strong>Cô ấy đã được quan sát thấy ăn các dị thường lớn hơn kích thước của chính mình, và sau đó lại nhổ chúng ra ở dạng nguyên bản.</strong></p><p id="27"><strong>Hơn nữa, Công chúa dễ dàng cắn xuyên qua cơ thể của Bác sĩ Triết học, thứ không bị tổn hại ngay cả bởi một quả bom hạt nhân.</strong></p><p id="28"><strong>Do đó, hành động tiêu thụ của Công chúa Đen được coi là một khả năng độc đáo.</strong></p><p id="29"><strong>– Im Yeon-woo, Đặc vụ: Khi tôi nhìn thấy nó, không có vẻ như cô ấy mở miệng rất rộng. Làm thế nào mà thứ lớn như vậy có thể vừa với cái miệng nhỏ đó?</strong></p><p id="30"><strong>Xem xét các đặc điểm trên, chúng tôi đề xuất lưu trữ các dị thường khó cách ly bên trong cơ thể của Công chúa Đen.</strong></p><p id="31">—</p><p id="32">Tôi đặt xuống báo cáo mà tôi đã nhận được.</p><p id="33">Giám đốc Kwon Sae-ron mỉm cười ranh mãnh và nhìn tôi.</p><p id="34">Không thể kìm được sự tò mò, cuối cùng tôi mở miệng.</p><p id="35">“Đây là gì?”</p><p id="36">“Đó là một bản báo cáo về Công chúa Đen. Cô không thể nhận ra bằng cách nhìn vào nó sao?”</p><p id="37">Như thường lệ, tôi cảm thấy Giám đốc Sae-ron thật khó lường.</p><p id="38">Những ghi chú giống như bình luận được đính kèm ở cuối bản báo cáo là gì?</p><p id="39">Tôi chỉ đơn giản trả lời khi cô ấy hỏi tôi có điều gì muốn nói với những người khác không.</p><p id="40">Tôi chưa bao giờ tưởng tượng rằng câu trả lời của tôi sẽ nằm ở đây.</p><p id="41">“Báo cáo có chút độc đáo đấy.”</p><p id="42">“Hehe. Chẳng phải cách đó thú vị hơn nhiều khi đọc sao?”</p><p id="43">Tôi không thể nhìn thấy vì kính râm, nhưng tôi có thể cảm nhận Giám đốc Sae-ron đang mỉm cười bằng mắt.</p><p id="44">“Ừ-Ừm, vâng, đúng vậy.”</p><p id="45">Với ý kiến của người khác được đính kèm, nó sẽ dễ đọc hơn một báo cáo cứng nhắc.</p><p id="46">Nhưng có điều gì đó quan trọng hơn các bình luận.</p><p id="47">“Về dòng cuối cùng của báo cáo. 'Chúng tôi đề xuất lưu trữ các dị thường khó cách ly bên trong cơ thể của Công chúa Đen.' Cô nghiêm túc chứ?”</p><p id="48">“Tất nhiên, Nhà nghiên cứu Lee Se-hwa, tôi luôn nghiêm túc.”</p><p id="49">Giám đốc Sae-ron có một biểu cảm tự tin và đảm bảo trên khuôn mặt.</p><p id="50">Thật vậy, biệt danh của kẻ lập dị số một viện nghiên cứu thật xứng đáng.</p><p id="51">“Đúng là Công chúa có thể ăn và nhổ ra dị thường, nhưng cũng có những dị thường mà cô ấy chưa nhổ ra sau khi ăn. Nếu cô ấy cứ ăn các dị thường của viện nghiên cứu như vậy thì sao?”</p><p id="52">“Chúng ta có thể dần dần thử nghiệm với các dị thường vô dụng trước. Không phải tất cả dị thường đều hữu ích, cô biết đấy.”</p><p id="53">“Công chúa Đen sẽ hợp tác một cách tự nguyện chứ?”</p><p id="54">“Tôi tin tưởng Nhà nghiên cứu Lee Se-hwa. Chẳng phải cô có mối quan hệ tốt với Công chúa sao? Tôi không có lựa chọn nào khác ngoài việc tin tưởng Nhà nghiên cứu Lee Se-hwa về mặt đó.”</p><p id="55">Giám đốc Sae-ron mỉm cười.</p><p id="56">Tôi đã hoàn toàn bị chơi xỏ.</p><p id="57">“Tất cả các thí nghiệm đều liên quan đến thử nghiệm và sai lầm. Bên cạnh đó, ngay cả khi thí nghiệm này thất bại, chúng ta chỉ mất một vài dị thường thôi.”</p><p id="58">Chỉ một vài dị thường.</p><p id="59">Các đặc vụ trải qua đủ loại khó khăn để cách ly một dị thường duy nhất sẽ tức giận nếu nghe điều đó.</p><p id="60">“Thế nào? Cô có muốn đảm nhận một dự án mới không? Tôi đã chấp nhận yêu cầu của Nhà nghiên cứu Lee Se-hwa, vậy chắc chắn Nhà nghiên cứu Lee Se-hwa sẽ không từ chối yêu cầu của tôi, phải không? Tôi sẽ buồn nếu cô làm vậy đấy.”</p><p id="61">“Ừ-Ừm…”</p><p id="62">Tôi tự hỏi tại sao cô ấy lại chấp nhận yêu cầu của tôi dễ dàng như vậy, hóa ra cô ấy đã có ý định này từ đầu.</p><p id="63">Nó có vẻ phi lý, nhưng chắc chắn đó là điều gì đó sẽ giúp ích cho hoạt động của viện nghiên cứu.</p><p id="64">“Được rồi. Tuy nhiên, tôi sẽ hỏi ý kiến của Công chúa Đen, và nếu Công chúa cho phép, tôi sẽ tiến hành. Như vậy có được không?”</p><p id="65">“Tất nhiên. Không có ai trong viện nghiên cứu này có thể đi ngược lại mong muốn của Công chúa Đen.”</p><p id="66">Cuối cùng, tôi được giao phụ trách một dự án mới sẽ sử dụng Công chúa Đen.</p><p id="67">Tên dự án: Ark.</p><p id="68">Nó được đặt tên là Ark, theo con tàu của Noah, vì đây là một thí nghiệm để lưu trữ các dị thường khác nhau bên trong Công chúa Đen.</p><p id="69">Tôi nhận được tài liệu cho thí nghiệm.</p><p id="70">Trước khi rời văn phòng giám đốc, một câu hỏi đột nhiên nảy ra trong đầu.</p><p id="71">“Thưa Giám đốc, cô có biết người đàn ông trần truồng đã ở cùng với tôi hồi đó là ai không?”</p><p id="72">Tôi nhớ rằng có một người đàn ông cùng với tôi khi tôi mất ý thức và tỉnh dậy.</p><p id="73">Đó là một khuôn mặt xa lạ mà tôi chưa từng thấy ở viện nghiên cứu.</p><p id="74">Sau đó, tôi nghe từ đồng nghiệp rằng Giám đốc Kwon Sae-ron đã điều tra người đàn ông đó.</p><p id="75">“Cô không cần biết anh ta là ai đâu.”</p><p id="76">“Xin lỗi?”</p><p id="77">“Bởi vì người đó giờ không là ai cả.”</p><p id="78">Giám đốc Kwon Sae-ron vẫn đang mỉm cười.</p><p id="79">Đôi mắt của cô ấy bị ẩn sau chiếc kính râm tròn.</p><p id="80">“Vâng, tôi hiểu rồi.”</p><p id="81">Đó là một câu trả lời.</p><p id="82">Tôi nói lời tạm biệt và rời văn phòng giám đốc.</p><p id="83">Tôi hướng đến buồng cách ly để gặp Công chúa Đen.</p><p id="84">Tôi mở cửa buồng cách ly, thứ không còn ý nghĩa nữa, và bước vào phòng của Công chúa.</p><p id="85">“Xin chào, Công chúa. Em đang làm gì vậy?”</p><p id="86">“Em không làm gì đặc biệt cả.”</p><p id="87">Đôi khi, Công chúa sẽ nằm trên giường với tư thế thẳng, nhìn chằm chằm vào trần nhà, bất động như một con chuột.</p><p id="88">Cô ấy bất động đến mức tôi hơi rùng mình.</p><p id="89">Tôi đang xem cô ấy trên CCTV khi, tại một thời điểm nào đó, Công chúa quay đầu và ánh mắt chúng tôi gặp nhau qua màn hình, và tôi đã ngạc nhiên đến mức nghĩ rằng tim mình sẽ ngừng đập.</p><p id="90">“Công chúa, chị có một ân huệ muốn nhờ. Em có muốn nghe nó không?”</p><p id="91">Khi tôi nói chuyện một cách thận trọng, Công chúa, người đang nằm trên giường, từ từ ngồi dậy.</p><p id="92">Công chúa trông mong manh đến mức đôi khi thật khó tin rằng cô ấy là một dị thường.</p><p id="93">“Nếu em chấp nhận ân huệ này, em có thể ăn bao nhiêu dị thường tùy thích.”</p><p id="94">Đôi mắt của Công chúa sáng lên với sự quan tâm.</p><p id="95">Cô ấy chắc chắn thích ăn dị thường.</p><p id="96">“Trước khi chị nhờ ân huệ, chị muốn xác nhận một điều. Em có thể nhổ ra tất cả các dị thường mà em ăn không?”</p><p id="97">“Không, em không thể. Em để riêng những dị thường em muốn lưu trữ. Em thường tiêu hóa hầu hết chúng.”</p><p id="98">“Vậy sao? Vậy có bất kỳ tiêu chí hoặc điều kiện nào để lưu trữ chúng không?”</p><p id="99">“Không có điều kiện. Chỉ là tùy thuộc vào em. Em có xu hướng lưu trữ những thứ ngon để ăn sau.”</p><p id="100">Lưu trữ thức ăn để ăn sau.</p><p id="101">Có phải cô ấy giống một con sóc hay một con chuột hamster không?</p><p id="102">(Đó là một hành vi dễ thương không phù hợp với một dị thường. Không, chờ một chút.)</p><p id="103">Nếu nghĩ về nó kĩ một chút, nó không hẳn là một hành vi dễ thương.</p><p id="104">Sẽ thực sự đáng sợ khi nghĩ rằng một dị thường sẽ giữ con người sống để thưởng thức sau này.</p><p id="105">Thật may mắn khi Công chúa không ăn người.</p><p id="106">“Vậy thì em có thể lưu trữ bao nhiêu?”</p><p id="107">“Em không biết.”</p><p id="108">“Hả?”</p><p id="109">“Em chưa bao giờ hết không gian để lưu trữ chúng trước đây. Vì vậy em không biết mình có thể lưu trữ bao nhiêu.”</p><p id="110">Công chúa nói một cách thờ ơ.</p><p id="111">Có một điều mà tôi đã cảm nhận được khi sống cùng với Công chúa Đen.</p><p id="112">Đó là khả năng của Công chúa luôn vượt quá mong đợi của tôi.</p><p id="113">“Được rồi. Vậy thì chị sẽ nhờ một việc. Chị muốn em lưu trữ các dị thường trong viện nghiên cứu bên trong cơ thể của em. Như vậy có được không?”</p><p id="114">“Vâng.”</p><p id="115">“Em không được tiêu hóa các dị thường. Em phải nhổ chúng ra lại ở dạng nguyên bản sau này.”</p><p id="116">“Được ạ.”</p><p id="117">“…Em thực sự chắc chắn rằng mình có thể làm được chứ?”</p><p id="118">“Tất nhiên rồi. Hehe.”</p><p id="119">Công chúa mỉm cười nhẹ.</p><p id="120">Mặc dù mọi thứ đã diễn ra tốt đẹp, tôi không thể gạt bỏ cảm giác bất an đang len lỏi trong người.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/3269685b-c0ef-4013-a7d6-74104f39a24c.jpg?t=1739894654" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/8476" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/8476/bf1184be-cf52-429e-8acb-0d29fb4eea33.jpg?t=1739894654" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299256-chuong-21-du-an-moi" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3183702"
    class="ln-comment-item mt-3 clear"
    data-comment="3183702" 
    data-parent="3183702" 
    data-type="chapter" 
    data-typeid="299346">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u227287-95831bac-6abc-47c7-a9ff-0d15b14121e8.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/227287">Nemo  ngu ngơ</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Bọn dị thể ko biết có còn nào phát điên ko nếu thấy cái thứ trong bụng nhỏ 🐧
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24784-toi-da-tro-ve-voi-tu-cach-la-mot-con-quai-vat-tham-hoa/c299346-chuong-22-du-an-ark?comment_id=3183702#ln-comment-3183702"
                            class="text-slate-500">
                            <time class="timeago" title="29-01-2026 23:21:28"
                                datetime="2026-01-29T23:21:28+07:00">
                                29-01-2026 23:21:28
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'hvWrm8HhgV9eh2DsbcoZf23Evn74a06ocLcx7fc2';
        var comment_type = 'chapter';
        var comment_typeid = '299346';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'hvWrm8HhgV9eh2DsbcoZf23Evn74a06ocLcx7fc2';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24784');
    chapter_id = parseInt('299346');

    readingObject = {
        series_id: series_id,
        series_title: 'Tôi đã trở về với tư cách là một con quái vật thảm họa.',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="hvWrm8HhgV9eh2DsbcoZf23Evn74a06ocLcx7fc2" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c5a2395a9995c1c',t:'MTc2OTcwNDQ4Nw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

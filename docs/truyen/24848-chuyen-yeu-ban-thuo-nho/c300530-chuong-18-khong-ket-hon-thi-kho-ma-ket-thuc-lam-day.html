<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Chuyện Yêu Bạn Thưở Nhỏ - Chương 18: Không kết hôn thì khó mà kết thúc lắm đây - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Bạn cùng bàn là một cô gái, trông cũng khá xinh, nhưng thật sự là quá phiền! Ngày nào cũng giẫm lên chân tôi, còn giấu cốc nước của tôi, động tay động chân véo tôi, lại còn mách mẹ tôi chuyện tôi ngủ gật trong giờ học. Quan trọng...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ssLJOkgFkbVe5IlN2WlVpatHmriVHm2NT9iNrfgG">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24848-chuyen-yeu-ban-thuo-nho/c300530-chuong-18-khong-ket-hon-thi-kho-ma-ket-thuc-lam-day">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24848-2f15f07a-b6fe-44c4-a73d-f10ec97db9b5.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=1778859ff87d0737e2b75c38e2919ee9">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300526-chuong-17-den-cung-den-roi-dung-mong-chay-thoat"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24848-chuyen-yeu-ban-thuo-nho"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
                <a class="rd_sd-button_item rd_top-right" href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300531-chuong-19-to-rat-to-mo"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300530-chuong-18-khong-ket-hon-thi-kho-ma-ket-thuc-lam-day" style="background: url('https://i.hako.vn/ln/series/covers/s24848-2f15f07a-b6fe-44c4-a73d-f10ec97db9b5.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24848-chuyen-yeu-ban-thuo-nho">Chuyện Yêu Bạn Thưở Nhỏ</a></h5>
                    <small><i class="fas fa-pen"></i>Chuyển Giác Vẫn Trư</small>
                    <small><i class="fas fa-paint-brush"></i></small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/t36167-toan-van">Toàn Văn</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299625-chuong-4">
                                                                        Chương 4: Tớ đã sang đi trước một bước rồi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299634-chuong-5-ly-tra-sua-cua-cau">
                                                                        Chương 5: Ly trà sữa của cậu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299663-chuong-6-me-cau-tot-that-day-gio-la-me-to-roi">
                                                                        Chương 6: Mẹ cậu tốt thật đấy, giờ là mẹ tớ rồi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299690-chuong-7-tim-nguoi-yeu-phai-mon-dang-ho-doi">
                                                                        Chương 7: Tìm người yêu phải môn đăng hộ đối
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299720-chuong-8-chung-ta-da-ngu-cung-nhau-tu-lau-roi">
                                                                        Chương 8: Chúng ta đã ngủ cùng nhau từ lâu rồi
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299735-chuong-9-ban-chan">
                                                                        Chương 9: Bàn chân
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299990-chuong-10-mot-cuoc-tro-chuyen-tam-tram-muu-ke">
                                                                        Chương 10: Một cuộc trò chuyện, tám trăm mưu kế
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c299995-chuong-11-ga-cho-cau">
                                                                        Chương 11: Gả cho cậu
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300000-chuong-12-vay-thi-cu-chien-mot-tran-ra-tro-di">
                                                                        Chương 12: Vậy thì cứ chiến một trận ra trò đi!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300521-chuong-13-thom-phuc">
                                                                        Chương 13: Thơm phức
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300522-chuong-14-an-keo-khong">
                                                                        Chương 14: Ăn kẹo không?
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300523-chuong-15-dinh-nghia-cho-mot-moi-quan-he">
                                                                        Chương 15: Định nghĩa cho một mối quan hệ
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300525-chuong-16-van-so-thien-sieu-loi-hai">
                                                                        Chương 16: Vân Sơ Thiển siêu lợi hại
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300526-chuong-17-den-cung-den-roi-dung-mong-chay-thoat">
                                                                        Chương 17: Đến cũng đến rồi, đừng mong chạy thoát
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300530-chuong-18-khong-ket-hon-thi-kho-ma-ket-thuc-lam-day">
                                                                        Chương 18: Không kết hôn thì khó mà kết thúc lắm đây
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300531-chuong-19-to-rat-to-mo">
                                                                        Chương 19: Tớ rất tò mò!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300532-chuong-20-cam-lam-chuyen-qua-dang-voi-chu-tich">
                                                                        Chương 20: Cấm làm chuyện quá đáng với Chủ tịch
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300559-chuong-21-cau-khong-binh-thuong">
                                                                        Chương 21: Cậu không bình thường
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300564-chuong-22-meo-con-co-the-den-tre-nhung-tuyet-doi-khong-vang-mat">
                                                                        Chương 22: Mèo con có thể đến trễ, nhưng tuyệt đối không vắng mặt
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300572-chuong-23-chia-doi-di">
                                                                        Chương 23: Chia đôi đi!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300576-chuong-24-nhan-danh-chu-meo">
                                                                        Chương 24: Nhân danh chú mèo
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300579-chuong-25-ky-uc">
                                                                        Chương 25: Ký ức
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300684-chuong-26-tong-gia-moc-bat-dau-phat-hien-manh-moi">
                                                                        Chương 26: Tống Gia Mộc bắt đầu phát hiện manh mối
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300690-chuong-27-cuong-tay-va-cuong-chan">
                                                                        Chương 27: Cuồng tay và cuồng chân
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302264-chuong-28-day-to-hong-day-la-thep-gi-son-do-thi-co">
                                                                        Chương 28: Dây tơ hồng? Đây là thép gỉ sơn đỏ thì có!
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302265-chuong-29-sherlock-tong">
                                                                        Chương 29: Sherlock Tống
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302267-chuong-30-phai-luyen-mot-tam-thai-khong-chut-so-ho">
                                                                        Chương 30: Phải luyện một tâm thái không chút sơ hở
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302304-chuong-31-ten-dau-heo-mat-day-tong-gia-moc">
                                                                        Chương 31: Tên đầu heo mặt dày Tống Gia Mộc
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302307-chuong-32-vua-bat-dau-da-gap-kho-khan">
                                                                        Chương 32: Vừa bắt đầu đã gặp khó khăn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302500-chuong-33-cung-khong-phai-la-khong-the-diu-dang">
                                                                        Chương 33: Cũng không phải là không thể dịu dàng
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302502-chuong-34-hanh-la-thi-sao-nao">
                                                                        Chương 34: Hành lá thì sao nào
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302505-chuong-35-thuc-su-da-liem-qua">
                                                                        Chương 35: Thực sự đã liếm qua
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302655-chuong-36-truoc-tien-phai-ap-dao-doi-phuong-bang-khi-the">
                                                                        Chương 36: Trước tiên phải áp đảo đối phương bằng khí thế
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c302659-chuong-37-lau-dan-se-thanh-thoi-quen">
                                                                        Chương 37: Lâu dần sẽ thành thói quen
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303168-chuong-38-nu-hon">
                                                                        Chương 38: Nụ hôn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303315-chuong-39-co-le-khong-phai-tinh-ban">
                                                                        Chương 39: Có lẽ không phải tình bạn
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303316-chuong-40-buoc-dau-tien-truoc-tien-phai-lam-hoa-cai-da">
                                                                        Chương 40: Bước đầu tiên, trước tiên phải làm hòa cái đã
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303318-chuong-41-ly-tra-sua-dau-tien-cua-mua-xuan">
                                                                        Chương 41: Ly trà sữa đầu tiên của mùa xuân
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303319-chuong-42-cu-om-cai-da-roi-tinh-sau">
                                                                        Chương 42: Cứ ôm cái đã rồi tính sau
                                </a>
                            </li>
                                                        <li >
                                <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303324-chuong-43-xin-hay-giam-sat">
                                                                        Chương 43: Xin hãy giám sát!
                                </a>
                            </li>
                                                    </ul>
                                        
                                                            <li class=""><a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c303164-chuong-1-gap-mat-nao-thieu-nien-thieu-nu">Tập 1-3</a></li>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">Toàn Văn</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 18: Không kết hôn thì khó mà kết thúc lắm đây</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24848-chuyen-yeu-ban-thuo-nho/c300530-chuong-18-khong-ket-hon-thi-kho-ma-ket-thuc-lam-day#chapter-comments" style="text-decoration: underline">1 Bình luận</a> -
                        Độ dài: 1,652 từ - Cập nhật: 
                        <time class="topic-time timeago" title="31-01-2026 16:18:08" datetime="2026-01-31T16:18:08+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                        </div>

                <div class="pt-6 mb-6 mx-auto max-w-4xl" x-data="{ open: Cookies.get('affiliation_popup_closed2') === undefined }" x-cloak>
                    <div id="affiliation-popup" x-show="open" style="display: none" class="bg-slate-900 rounded-xl overflow-hidden shadow-lg border !border-slate-800">
                        <div class="p-4 flex flex-col md:flex-row items-center gap-4">
                            <button x-on:click="open = false; Cookies.set('affiliation_popup_closed2', 'true', { expires: 0.5 })" class="text-gray-400 hover:text-white transition-colors p-2" aria-label="Close">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                            
                            <div class="flex-shrink-0">
                                <img src="https://i2.hako.vip/vault/992471336465223711.webp" alt="Pepe" class="w-16 h-16 rounded-md object-cover">
                            </div>

                            <div class="flex-grow text-center md:text-left">
                                <p class="text-white text-sm md:text-base font-medium">
                                    Click vào link khi MUA <span class="text-orange-500 font-bold uppercase">BẤT KỲ THỨ GÌ</span> trên <span class="text-orange-500 font-bold">Shopee</span> để hỗ trợ HAKO. Có thể được tặng mã Free ship khi mua.
                                </p>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto flex-shrink-0">
                                <a href="https://s.shopee.vn/4q9eci0DM3" target="_blank" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-2 px-6 rounded shadow-md transition-all text-center whitespace-nowrap" rel="noopener noreferrer">
                                    Shopee
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 18: Không kết hôn thì khó mà kết thúc lắm đây</p>
                    <p id="1">Tống Gia Mộc vẫn chưa kịp phản ứng.</p><p id="2">Này này, đã bảo phỏng vấn chỉ là làm màu cho có lệ, rồi sau đó cậu vì tư thù cá nhân mà tìm cớ đá tớ văng ra cơ mà?</p><p id="3">Sao giờ tớ lại biến thành một thành viên của CLB Văn học mạng rồi?!</p><p id="4">"Chờ đã... tớ thấy chuyện này cần phải bàn bạc kỹ lại, tớ đã đồng ý đâu!"</p><p id="5">"Cậu tưởng là trò đùa à? Không muốn vào CLB thì đến phỏng vấn làm gì, giờ thông tin của cậu tớ đã đăng ký xong rồi, cậu đã là người của CLB Văn học mạng. Giới thiệu chính thức một chút, tớ là Chủ tịch CLB Vân Sơ Thiển."</p><p id="6">Vân Sơ Thiển đắc ý vung vẩy tờ đơn trước mặt cậu, rồi kẹp vào trong sổ.</p><p id="7">"Tớ hối hận rồi!"</p><p id="8">"Cũng được thôi."</p><p id="9">Vân Sơ Thiển không thèm tranh cãi với cậu, cô vặn nắp bình uống một ngụm nước, ung dung nói: "Muốn rút lui thì cậu cứ viết một bản đơn xin ra khỏi CLB, đợi lúc nào tớ rảnh rỗi thẩm định rồi xem xét có phê duyệt hay không nhé."</p><p id="10">Đáng ghét!</p><p id="11">Tống Gia Mộc bấy giờ mới hiểu ra, hóa ra cậu chỉ nghĩ đến tầng thứ nhất, còn cô đã tính đến tầng thứ năm rồi. Cô vốn chẳng hề có ý định từ chối cậu, mà là lừa cậu vào tròng, rồi sau đó mới tính kế hành hạ cậu đây mà.</p><p id="12">"Đưa tờ đơn đây cho tớ, cậu còn chưa nhập vào hệ thống, không tính."</p><p id="13">"Không đưa. Ngoài ra, bạn học Tống Gia Mộc, đề nghị cậu chú ý thái độ khi nói chuyện với Chủ tịch."</p><p id="14">"Đưa đây cho tớ..."</p><p id="15">Cô không đưa, Tống Gia Mộc trực tiếp ra tay cướp.</p><p id="16">"A——"</p><p id="17">Vân Sơ Thiển phản ứng cũng rất nhanh, cô ôm khư khư cuốn sổ vào lòng.</p><p id="18">Tống Gia Mộc cao lớn vạm vỡ, còn cô thì nhỏ thó, cậu cứ thế lao tới như sói vồ mồi, hai người cứ thế mà giằng co nhau.</p><p id="19">"Không đưa, không đưa, nhất định không đưa!"</p><p id="20">Vân Sơ Thiển cuộn tròn người lại như một con nhím nhỏ, cô chẳng hề sợ hãi chút nào. Từ nhỏ đến lớn, số lần cô "choảng" nhau với cậu không hề ít.</p><p id="21">"Tớ lại không cướp được chắc?"</p><p id="22">Tống Gia Mộc không biết ra tay từ đâu, bèn thọc lét vào nách cô. Cô vốn sợ nhột nên dùng bàn tay nhỏ đánh cậu, rồi ôm chặt lấy cánh tay cậu không buông.</p><p id="23">Kiểu nô đùa thế này đương nhiên không thiếu được những va chạm cơ thể.</p><p id="24">Cũng chẳng còn là trẻ con nữa, ngửi thấy mùi hương trên tóc cô, lại cảm nhận được cô đang vặn vẹo trong lòng mình...</p><p id="25">Vân Sơ Thiển vẫn chưa nhận ra điều gì, chỉ thấy cậu bỗng nhiên sững người lại, thế là nhân cơ hội đó, cô "ngoạm" một phát thật mạnh vào cánh tay cậu.</p><p id="26">"Suýt... đau đau đau... Vân Sơ Thiển cậu là giống chó à, mau nhả ra..."</p><p id="27">Tống Gia Mộc vội vàng tránh ra, kéo tay áo lên nhìn, quả nhiên lại có thêm một vòng dấu răng nhỏ xíu.</p><p id="28">Nhìn lại Vân Sơ Thiển, cô nàng cũng đã đỏ bừng mặt, chẳng biết là vì thẹn hay vì giận, nhưng tuyệt nhiên không hề lùi bước. Vài lọn tóc rối rũ xuống gương mặt, trông hung dữ chẳng khác gì một con hổ nhỏ.</p><p id="29">"Nếu cậu còn dám cướp nữa, tớ sẽ mách dì Lý Viên là cậu hôn tớ! Cố tình hôn lấy hôn để luôn!"</p><p id="30">"Đây lại là kiểu vu khống gì nữa đây?"</p><p id="31">Vân Sơ Thiển lười để ý đến cậu, cô cảnh giác dõi theo từng cử động của đối phương, hai tay ôm chặt cuốn sổ. Tính bướng bỉnh đã trỗi dậy rồi, nếu cậu nói năng nhẹ nhàng thì còn được, chứ bây giờ cô đã hạ quyết tâm: Muốn ra khỏi CLB? Nằm mơ đi!</p><p id="32">Tống Gia Mộc cũng đọc được ý tứ trong ánh mắt cô, biết rằng một khi cô đã bướng thì mười con trâu cũng không kéo lại được, đành thở dài bỏ cuộc.</p><p id="33">Nếu không cứ tiếp tục đùa giỡn thế này, lỡ để bạn học ngoài hành lang nhìn thấy thì... không kết hôn đúng là khó mà kết thúc êm đẹp được...</p><p id="34">...</p><p id="35">Hai người một người ở phía Đông lớp học, một người ở phía Tây, cách nhau một khoảng xa để cùng bình tĩnh lại.</p><p id="36">Mặt Vân Sơ Thiển vẫn còn đỏ, cũng không hoàn toàn là do tức giận. Cô cũng đã là thiếu nữ lớn rồi, giờ nhớ lại cảnh nô đùa vừa nãy, trong lòng bỗng dưng nhen nhóm một chút cảm giác lạ lẫm đầy tình tứ...</p><p id="37">Nhưng trong tiềm thức cô lại không hề bài xích điều đó. Người ta bảo "một bàn tay vỗ không nên tiếng", ngay cả cô cũng chẳng giải thích nổi tại sao thân nhiệt mình không đổi mà đôi má cứ nóng hổi lên...</p><p id="38">Nhịp tim vẫn chưa bình lặng, cứ đập thình thịch liên hồi trong lồng ngực non nớt. Trong mắt người ngoài, cô là một cô gái nghiêm túc, thục nữ ngoan ngoãn, vùi đầu vào học hành; nhưng thực chất chỉ khi ở bên cái tên này quậy phá, cô mới thực sự buông bỏ mọi phòng bị, đúng không?</p><p id="39">Đồ đáng ghét...</p><p id="40">Tống Gia Mộc cậu đúng là đồ đáng ghét!</p><p id="41">Vừa mới nghĩ đến tên cậu thì cậu đã lại lon ton chạy tới.</p><p id="42">Cậu ngồi xuống cái bàn bên cạnh cô, rụt rè nói: "Cái đó..."</p><p id="43">Vân Sơ Thiển đầu cũng chẳng buồn ngẩng, lạnh lùng hỏi: "Cậu có biết chữ 'Cút' có bao nhiêu cách viết không?"</p><p id="44">Tống Gia Mộc cười hì hì.</p><p id="45">"Hi cái đầu cậu ấy, đi ra chỗ khác đi."</p><p id="46">"Đừng mà Chủ tịch, tớ xin lỗi cậu, vừa nãy là tớ sai."</p><p id="47">"Cậu lật lọng."</p><p id="48">"Phải."</p><p id="49">"Cậu rõ ràng đã nói khi ý kiến không thống nhất với Chủ tịch thì đều phải nghe theo Chủ tịch cơ mà."</p><p id="50">"... Phải."</p><p id="51">"Tránh xa tớ ra một chút."</p><p id="52">Tống Gia Mộc lủi thủi nhích ra xa cô thêm hai chỗ ngồi nữa.</p><p id="53">Hừ.</p><p id="54">Vẻ mặt Vân Sơ Thiển không đổi, nhưng trong lòng lại thấy vui lên hẳn, chút bực bội lúc nãy cũng tan thành mây khói.</p><p id="55">Làm một cô gái vui vẻ, thực ra đơn giản vậy thôi.</p><p id="56">Tất nhiên, làm một cô gái nổi giận cũng đơn giản như thế.</p><p id="57">Đây là một môn học cần dùng cả đời để nghiên cứu.</p><p id="58">"Cậu muốn hỏi gì?"</p><p id="59">"Thì là, vì giờ tớ cũng là thành viên CLB rồi, tớ nghĩ mình cũng nên tìm hiểu qua tình hình CLB nhà mình chứ, cậu đã giới thiệu gì đâu."</p><p id="60">Tống Gia Mộc cũng đành cam chịu, chắc là kiếp trước nợ cô thật rồi nên mới luôn bị cô nắm thóp một cách kỳ quái như vậy. Thấy cô mặt đỏ bừng, dáng vẻ uất ức như sắp khóc đến nơi, Tống Gia Mộc dù có xấu tính đến mấy cũng không nỡ làm cô khóc thật.</p><p id="61">"Cụ thể cậu muốn tìm hiểu cái gì?"</p><p id="62">Vân Sơ Thiển vặn nắp bình nước mang theo, nhấp một ngụm nhỏ.</p><p id="63">"Số lượng thành viên?"</p><p id="64">"Kế hoạch tương lai là tầm hai mươi đến ba mươi người."</p><p id="65">"Hiện tại?"</p><p id="66">"Chỉ có tớ và cậu."</p><p id="67">Quả nhiên, nghe đến con số thảm hại này, Tống Gia Mộc lập tức mất hết hứng thú. CLB có hai người thì chơi bời gì? Tôi đóng vai bố, cậu đóng vai mẹ rồi chơi đồ hàng à?</p><p id="68">"Nhưng cậu không cần nản lòng, chúng ta là CLB mới thành lập, quản lý rất nhân văn. Vì cậu cũng thích văn học mạng nên cậu thừa hiểu thị trường này lớn thế nào, chúng ta có thể quy tụ được bao nhiêu người cùng chí hướng. Cậu nên thấy may mắn vì gia nhập sớm đi, với tư cách là nguyên lão của CLB, sau này vị trí Phó chủ nhiệm, chỉ cần cậu nỗ lực một chút thì chẳng phải là của cậu sao?"</p><p id="69">Vân Sơ Thiển quả là có tố chất lãnh đạo, "vẽ bánh" cực kỳ điêu luyện khiến Tống Gia Mộc nghe mà choáng váng, mắt sáng rực cả lên.</p><p id="70">"Đừng nói là Phó chủ tịch, chỉ cần cậu thể hiện tốt, ngay cả Chủ tịch cũng là của cậu luôn!"</p><p id="71">"... Ý cậu là sao? Tặng không cho tớ, tớ cũng chẳng thèm đâu nhé."</p><p id="72">"Tống Gia Mộc!"</p><p id="73">Vân Sơ Thiển bị cậu ngắt lời, dòng suy nghĩ đang phác thảo bản đồ tương lai bỗng khựng lại: "Ý tớ là vị trí Chủ tịch!"</p><p id="74">"Hết cả hồn."</p><p id="75">Tống Gia Mộc thở phào, cái việc "Chủ tịch tặng kèm" này thì cậu không có phúc hưởng thụ rồi.</p><p id="76">"Vậy sắp tới chúng ta có kế hoạch gì?"</p><p id="77">"Ưm..."</p><p id="78">Vân Sơ Thiển vặn nắp bình nước lại, nhìn Tống Gia Mộc từ đầu đến chân đánh giá.</p><p id="79">Phải thừa nhận là cái tên này ngoại hình cũng khá khẩm, cao ráo chân dài, cô không chỉ chạm qua mà còn cắn qua rồi, cơ bắp săn chắc đàn hồi, sức lực cũng khá lớn...</p><p id="80">Tống Gia Mộc bị cô nhìn đến mức rợn cả tóc gáy...</p><p id="81">"Đương nhiên là tuyển thành viên mới rồi, không có người thì chẳng làm nên trò trống gì cả."</p><p id="82">"Đăng bài lên diễn đàn à?"</p><p id="83">"Hiệu quả kém lắm, tớ định đi dựng sạp tuyển người, cậu thấy sao?"</p><p id="84">Tống Gia Mộc gật đầu: "Được đấy, ít nhất trông cũng có vẻ chuyên nghiệp hơn chút."</p><p id="85">"Vậy việc dựng lều bạt giao cho cậu nhé! Tớ rất kỳ vọng vào cậu đấy, bạn học Tống Gia Mộc!"</p><p id="86">"?"</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300526-chuong-17-den-cung-den-roi-dung-mong-chay-thoat" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300531-chuong-19-to-rat-to-mo" class="dark:text-black col text-center "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(1)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">1 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-group">
    <div id="ln-comment-3186526"
    class="ln-comment-item mt-3 clear"
    data-comment="3186526" 
    data-parent="3186526" 
    data-type="chapter" 
    data-typeid="300530">
    <div class="flex gap-1 max-w-full">
        <div class="w-[50px]">
            <div class="mx-1 my-1">
                <img src="https://i.hako.vn/ln/users/avatars/u212535-cff8f480-faf2-4aea-96e1-1c23a02ba183.jpg" class="w-full rounded-full" />
            </div>
        </div>
        <div
            class="w-full min-w-0 rounded-md bg-gray-100 ps-1 pe-0 pb-1 pt-0 dark:!bg-zinc-800 ">
            <div class="flex min-w-0 flex-col px-2">
                <div class="flex align-top justify-between">
                    <div class="flex flex-wrap gap-x-2 gap-y-1 align-middle pt-1">
    <div class="self-center">
        <a class="font-bold leading-6 md:leading-7 ln-username " href="/thanh-vien/212535">L. Dragon</a>
    </div>
                                    </div>
                                        
                </div>
                                                    <div class="ln-comment-content long-text">
                        Vô trách nhiệm
                    </div>
                    <div class="comment_see_more expand none">Xem thêm</div>
                    <div class="flex gap-2 align-bottom text-[13px] visible-toolkit">
                        <a href="/truyen/24848-chuyen-yeu-ban-thuo-nho/c300530-chuong-18-khong-ket-hon-thi-kho-ma-ket-thuc-lam-day?comment_id=3186526#ln-comment-3186526"
                            class="text-slate-500">
                            <time class="timeago" title="01-02-2026 00:31:50"
                                datetime="2026-02-01T00:31:50+07:00">
                                01-02-2026 00:31:50
                            </time>
                        </a>
                        <a
                            class="self-center visible-toolkit-item do-like cursor-pointer">
                            <i class="fas fa-thumbs-up me-1"></i>
                            <span class="likecount font-semibold"></span>
                        </a>
                                            </div>
                            </div>
        </div>
    </div>
</div>

    </div>

<div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ssLJOkgFkbVe5IlN2WlVpatHmriVHm2NT9iNrfgG';
        var comment_type = 'chapter';
        var comment_typeid = '300530';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ssLJOkgFkbVe5IlN2WlVpatHmriVHm2NT9iNrfgG';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24848');
    chapter_id = parseInt('300530');

    readingObject = {
        series_id: series_id,
        series_title: 'Chuyện Yêu Bạn Thưở Nhỏ',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();


</script>





    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ssLJOkgFkbVe5IlN2WlVpatHmriVHm2NT9iNrfgG" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c7f76a3af548dfa',t:'MTc3MDA5NTg2Mg=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

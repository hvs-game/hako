<!DOCTYPE html>
<html lang="vi" class="light">
<head>
    <meta charset="utf-8">
    
    <title>Đọc Có Vẻ Tôi Hợp Với Kiểu Quý Tộc Hạng Xoàng - Chương 2: Cái Gì Được Cho Thì Cứ Nhận Lấy - Cổng Light Novel - Đọc Light Novel</title>

    <meta name="description" content="Gia tộc Wallengar là một trong số hàng ngàn gia đình nam tước vô danh tiểu tốt, được ví như những hạt cát giữa chốn quý tộc đông đúc. Thẳng thắn mà nói, họ chẳng phải kẻ thắng cuộc hay danh gia vọng tộc gì, mà chính xác là những...">
    <meta name="theme-color" content="#000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="ZRRAG85jx8QSqGwN6fr5fLJuoNXOBTSbCoxh7MA2">
    <meta name="logged-in" content="0">
    <meta property="fb:app_id" content="1864643850436909">

    <link rel="canonical" href="https://docln.net/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290979-chuong-2-cai-gi-duoc-cho-thi-cu-nhan-lay">
    <meta property="og:image" content="https://i.hako.vn/ln/series/covers/s24662-9d45675f-be8a-459a-b493-22009b748236.jpg">


<style type="text/css">@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Lora;font-style:normal;font-weight:400;src:url(/cf-fonts/v/lora/5.0.11/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Merriweather;font-style:normal;font-weight:400;src:url(/cf-fonts/s/merriweather/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/devanagari/wght/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Noto Sans;font-style:normal;font-weight:400;src:url(/cf-fonts/v/noto-sans/5.0.18/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Nunito;font-style:normal;font-weight:400;src:url(/cf-fonts/v/nunito/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/vietnamese/400/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek/400/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic-ext/400/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/greek-ext/400/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/cyrillic/400/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Roboto;font-style:normal;font-weight:400;src:url(/cf-fonts/s/roboto/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
    <link rel="preload" href="/fonts/OpenSans-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preload" href="/fonts/OpenSans-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
    <link rel="preconnect" href="https://www.google-analytics.com">

    <link rel="shortcut icon" href="/img/favicon.png?v=3">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon.png?v=3">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png?v=3">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png?v=3">

    <link rel="stylesheet" href="/css/interface.css?id=300c3109a58d319c9bb94c8585835c77">
    <link rel="stylesheet" href="/css/tailwind.css?id=9128bdee617e5eb876ffd418ed3597bf">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" integrity="sha256-BtbhCIbtfeVWGsqxk1vOHEYXS6qcvQvLMZqjtpWUEx8=" crossorigin="anonymous" />
            
    
    <script src="/scripts/plugins.js?id=b612d946b32459430eed3066ed15adf2"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34864968-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
      gtag('config', 'UA-34864968-3');
    </script>
</head>

<body>
	
    <div x-data="{ open: Cookies.get('globalwarning2') === undefined ? true : false }">
    <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4" x-show="open" style="display: none">
        <div class="flex">
            <div class="shrink-0">
                <button x-on:click="open = false; Cookies.set('globalwarning2', false, { expires: 0.5 })" type="button" class="inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50">
                    <span class="sr-only">Dismiss</span>
                    <svg class="size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                    <path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
                    </svg>
                </button>
            </div>
            <div class="ml-3 font-bold">
                <p class="text-sm text-yellow-700">
                Nếu không thể <a class="font-medium text-blue-700" href="/thao-luan/2898-ten-mien-da-bi-chan">truy cập trang web</a> xin vui lòng sử dụng DNS 
                <a class="font-medium text-blue-700" href="https://www.google.com/search?q=c%C3%A1ch+c%C3%A0i+dns+1.1.1.1" target="_blank">1.1.1.1</a> hoặc <a class="font-medium text-blue-700" href="https://docln.sbs" target="_blank">docln.sbs</a>
                
                </p>
                <p>
                    <p class="text-sm text-orange-700">Hiện đang đứt cáp Internet APG, kết nối có thể chậm hoặc rất chậm. Dùng VPN không chắc có hiệu quả.</p>
                </p>
            </div>

        </div>
    </div>
</div>



	<style>
    body {
        background: inherit;
    }

    #footer {
        display: none;
    }
    
    .current-reading {
        background-color: rgba(189, 224, 254, 0.3);
        border-left: 5px solid #007bff;
        padding-left: 10px;
        transition: background-color 0.3s ease;
    }
</style>


<main id="mainpart" class="reading-page style-4">
    <section id="rd-side_icon" class="none force-block-l" aria-hidden="true">
                <a class="rd_sd-button_item rd_top-left" href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290970-chuong-1-su-thuc-tinh-cua-ke-sung-so-trong-gioi-tieu-nhan"><i class="fas fa-backward"></i></a>
        
        <a class="rd_sd-button_item" href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang"><i class="fas fa-home"></i></a>     
        <a id="rd-setting_icon" data-affect="#" class="rd_sd-button_item"><i class="fas fa-font"></i></a>
        <a id="rd-tts_icon" class="rd_sd-button_item"><i class="fas fa-volume-up"></i></a>
        <a id="rd-info_icon" data-affect="#rd_sidebar.chapters" class="rd_sd-button_item"><i class="fas fa-info"></i></a>
        <a id="rd-bookmark_icon" data-affect="#rd_sidebar.bookmarks" class="rd_sd-button_item"><i class="fas fa-bookmark"></i></a>

        
         
        <a class="rd_sd-button_item rd_top-right disabled"><i class="fas fa-forward"></i></a>
            </section>    
    
    <section id="chapters" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <header class="rd_sidebar-header clear">
                <a class="img" href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290979-chuong-2-cai-gi-duoc-cho-thi-cu-nhan-lay" style="background: url('https://i.hako.vn/ln/series/covers/s24662-9d45675f-be8a-459a-b493-22009b748236.jpg') no-repeat"></a> 
                <div class="rd_sidebar-name">                    
                    <h5><a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang">Có Vẻ Tôi Hợp Với Kiểu Qu...</a></h5>
                    <small><i class="fas fa-pen"></i>Suparo</small>
                    <small><i class="fas fa-paint-brush"></i>Suzaku</small>                
                </div>
            </header>

            <ul id="chap_list" class="unstyled">
                                                            <li class="current"><a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/t35758-130">1~30</a></li>
                        <ul class="sub-chap_list unstyled">
                                                        <li >
                                <a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290970-chuong-1-su-thuc-tinh-cua-ke-sung-so-trong-gioi-tieu-nhan">
                                                                        Chương 1: Sự Thức Tỉnh Của Kẻ Sừng Sỏ Trong Giới Tiểu Nhân
                                </a>
                            </li>
                                                        <li  class="current" >
                                <a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290979-chuong-2-cai-gi-duoc-cho-thi-cu-nhan-lay">
                                                                        Chương 2: Cái Gì Được Cho Thì Cứ Nhận Lấy
                                </a>
                            </li>
                                                    </ul>
                                        
                                        
            </ul>
        </main>
        <div class="black-click"></div>
    </section>
    
    <section id="bookmarks" class="rd_sidebar rdtoggle" aria-hidden="true">
        <main class="rdtoggle_body">
            <div class="rd_sidebar-header">
                <h2 class="rd_s-name"><i class="fas fa-bookmark"></i><a href="/bookmark" style="color: white;"> Bookmarks</a></h2>
            </div>
            <ul id="bookmarks_list" class="unstyled">
                                            <li>Bạn phải đăng nhập để sử dụng bookmark</li>
                                        </ul>
        </main>
        <div class="black-click"></div>
    </section>

    <section id="setting" class="rdtoggle" aria-hidden="true">
        <section class="re_set-in basic-section clear rdtoggle_body">
        <header class="sect-header"><span class="sect-title">Tùy chỉnh</span></header>
            <main class="sect-body">
                <div class="set-list set-color clear">
                    <label class="font-bold">Màu nền</label>
                    <div class="set-input clear justify-center">
                        <span data-color="#ffffff" data-id="0" style="background-color: #ffffff"></span>
                        <span data-color="#e6f0e6" data-id="1" style="background-color: #e6f0e6"></span>
                        <span data-color="#e3f5fa" data-id="2" style="background-color: #e3f5fa"></span>
                        <span data-color="#f6f4ec" data-id="3" style="background-color: #f6f4ec"></span>
                        <span data-color="#eae4d3" data-id="4" style="background-color: #eae4d3"></span>
                        <span data-color="#f5e9ef" data-id="5" style="background-color: #f5e9ef"></span>
                        <span data-color="#222222" data-id="6" style="background-color: #222222"></span>
                        <span data-color="#000000" data-id="7" style="background-color: #000000"></span>
                    </div>
                </div>
                <div class="set-list set-font-family clear">
                    <label class="font-bold">Font chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <select>
                            <option>Times New Roman</option>
                            <option>Merriweather</option>
                            <option>Lora</option>
                            <option>Roboto</option>
                            <option>Noto Sans</option>
                            <option>Nunito</option>
                        </select>
                    </div>
                </div>
                <div class="set-list set-font clear">
                    <label class="font-bold">Kích cỡ chữ</label>
                    <div class="set-slide set-input justify-center">    
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="16px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-margin clear">
                    <label class="font-bold">Bản lề</label>
                    <div class="set-slide set-input justify-center">
                        <span class="set-slide_button set-smaller"><i class="fas fa-chevron-left"></i></span>
                        <input class="set-slide_input" disabled="" value="20px" type="text">
                        <span class="set-bigger set-slide_button"><i class="fas fa-chevron-right"></i></span>
                    </div>
                </div>
                <div class="set-list set-text-align clear">
                    <label class="font-bold">Kiểu căn chỉnh</label>
                    <div class="set-input clear justify-center font-medium text-2xl flex flex-row gap-10">
                        <span data-align="text-left" class="p-1"><i class="fas fa-align-left"></i></span>
                        <span data-align="text-center" class="p-1"><i class="fas fa-align-center"></i></span>
                        <span data-align="text-right" class="p-1"><i class="fas fa-align-right"></i></span>
                        <span data-align="text-justify" class="p-1"><i class="fas fa-align-justify"></i></span>
                    </div>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>

    <section id="tts-panel" class="rdtoggle" aria-hidden="true">
        <section class="tts-settings basic-section clear rdtoggle_body">
            <header class="sect-header"><span class="sect-title">Text-to-Speech</span></header>
            <main class="sect-body">
                <div class="set-list clear" style="color: red; font-size: 14px; margin-bottom: 20px">
                    Đây là chức năng đang thử nghiệm, chi tiết xem tại <a href="/thao-luan/3305-chuc-nang-doc" style="color: blue">Link</a>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Giọng đọc</label>
                    <select id="tts-voice-select" class="w-full p-2 border rounded bg-white dark:bg-gray-800 text-sm dark:border-gray-600"></select>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Tốc độ</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-rate" min="0.1" max="3" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-rate-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="set-list clear">
                    <label class="font-bold block mb-2">Độ cao (Pitch)</label>
                    <div class="flex items-center space-x-2">
                        <input type="range" id="tts-pitch" min="0" max="2" step="0.1" value="1" class="flex-1 w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500 dark:bg-gray-700 dark:accent-blue-400">
                        <span id="tts-pitch-value" class="text-sm font-medium min-w-[3rem]">1.0</span>
                    </div>
                </div>
                <div class="flex gap-2 pt-4">
                    <button id="tts-play-btn" class="flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Phát</button>
                    <button id="tts-pause-btn" class="flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Tạm dừng</button>
                    <button id="tts-stop-btn" class="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">Dừng</button>
                </div>
            </main>
        </section>
        <div class="black-click"></div>
    </section>
    
    <div class="container">
        <div class="row">
            <div class="reading-content col-12 col-lg-10 offset-lg-1" style="word-wrap: break-word;">
                <div id="bookmark_top" class="block d-lg-none"><i class="fas fa-bookmark"></i></div>
                <span class="save_bookmark" style="position: absolute; top: 9999px; display: none"><i class="fas fa-bookmark"></i></span>
                
                
                
                <div class="title-top" style="padding-top: 20px">
                    <h2 class="title-item text-xl font-bold" align="center">1~30</h2>
                    <h4 class="title-item text-base font-bold" align="center">Chương 2: Cái Gì Được Cho Thì Cứ Nhận Lấy</h4>
                    <h6 class="title-item font-bold" align="center" aria-hidden="true">
                        <a href="https://docln.net/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290979-chuong-2-cai-gi-duoc-cho-thi-cu-nhan-lay#chapter-comments" style="text-decoration: underline">0 Bình luận</a> -
                        Độ dài: 3,659 từ - Cập nhật: 
                        <time class="topic-time timeago" title="16-01-2026 13:42:58" datetime="2026-01-16T13:42:58+07:00"></time>                    </h6>
                </div>

                <div style="text-align: center; margin: 20px auto -20px auto;">
                                                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSe3y_bpPb6ADsKAgPWE3o3Jgzzftw8NKkp93_5vUayXLaQICg/viewform" target="_blank">
                        <img src="https://i2.hako.vip/vault/2025final_1.webp" style="width: 700px; height: auto">
                    </a>
                </div>

                <div id="chapter-content" class="long-text no-select text-justify">
                    <p style="display: none">Chương 2: Cái Gì Được Cho Thì Cứ Nhận Lấy</p>
                    <p id="1">Kể từ khi nhân cách tiền kiếp thức tỉnh, tôi bắt đầu hấp thụ thông tin của thế giới này nhanh như một miếng bọt biển hút nước, nhanh đến mức tưởng như nghe thấy cả tiếng vù vù trong đầu vậy.</p><p id="2">Và rồi tôi đã làm sáng tỏ được một điều.</p><p id="3">Hóa ra tôi được sinh ra trong một gia đình quý tộc. Một gia đình quý tộc ở thế giới có kiếm và phép thuật!</p><p id="4">Tuy nhiên, đó lại là một trong số hàng ngàn gia đình nam tước vô danh tiểu tốt. Đã vậy còn là một gia tộc quý tộc nhỏ bé với quy mô cực kỳ khiêm tốn. ...Đúng là cái vị trí hẩm hiu nhất!</p><p id="5">Đa phần những kẻ ở vị trí này nếu không phải để làm nền cho kẻ khác tỏa sáng, thì cũng là hạng ăn theo những kẻ quyền thế cả đời, hoặc tệ hơn là làm vật hy sinh trên chiến trường. Chẳng có gì tốt đẹp cả!</p><p id="6">Nó hoàn toàn trái ngược với lời dạy “Thà làm đầu gà còn hơn làm đuôi bò” mà ông nội tôi kiếp trước vẫn hay lẩm bẩm. Ở đây tôi chẳng được làm đầu gà, mà vị trí còn bốc mùi chẳng khác gì phân bò vậy.</p><p id="7">Đây là một quốc gia phồn thịnh được tạo nên bởi tầng lớp dân thường, dựa trên sự bùng nổ dân số nhờ hòa bình và sự bảo hộ của vô số quý tộc. Trong xã hội đã phát triển chín muồi này, tôi lại xui xẻo nhận được cái vị trí quý tộc nhỏ bé đầy tréo ngoe ấy.</p><p id="8">Mà thôi, tôi cũng chỉ mất vài ngày để buồn phiền về sự thật này. Tôi quyết định suy nghĩ lạc quan rằng quý tộc thì dù có sa sút vẫn cứ là quý tộc.</p><p id="9">Sau cơn trầm cảm, tôi phát hiện ra thế giới này có phép thuật, và sự phấn khích tột độ đó đã lấn át cả nỗi thất vọng về thân phận thấp kém của mình.</p><p id="10">Nhưng nói đi cũng phải nói lại, ở đây cũng có một cái bẫy. Đó chính là bí mật của ma lực.</p><p id="11">Chuyện kể rằng ngày xửa ngày xưa, một bác sĩ thiên tài đã tìm thấy một cơ quan trông có vẻ vô dụng trong cơ thể con người. </p><p id="12">Cơ quan vốn bị coi là chẳng có tác động gì đến sức khỏe ấy, giờ đây lại được biết đến là cơ quan quan trọng nhất sản sinh ra ma lực, gọi là “Ma Tạng”. Nó nằm ở vị trí tương đương với ruột thừa ở thế giới cũ của tôi.</p><p id="13">Vị bác sĩ thiên tài đó không tin rằng nó là thứ bỏ đi, ông đã dành cả đời để nghiên cứu và chứng minh được rằng Ma Tạng chính là nơi tạo ra ma lực. </p><p id="14">Cái gọi là “Cách mạng ma lực” đã giúp thế giới này phát triển vượt bậc, văn minh tiến bộ, và giờ đây đang ở thời kỳ cực thịnh, dẫn đến sự gia tăng dân số chóng mặt.</p><p id="15">Điều tôi muốn nói ở đây là cái Ma Tạng này rất phiền phức. Lượng ma lực sinh ra phụ thuộc vào sức mạnh của Ma Tạng, nhưng trớ trêu thay, sức mạnh đó lại không thể thay đổi bằng nỗ lực cá nhân. Đã vậy nó còn chịu ảnh hưởng nặng nề từ di truyền, và Ma Tạng của cha mẹ tôi thì chỉ ở mức trung bình yếu. Ôi, thật là vô vọng.</p><p id="16">Cái tham vọng sử dụng phép thuật vèo vèo để làm mưa làm gió ở dị giới của tôi coi như tan thành mây khói. Mà thực ra ngay từ đầu tôi cũng chẳng có chí khí đó. Để dùng phép thuật tùy thích còn vài ràng buộc quan trọng khác nữa, nhưng đó là chuyện của tương lai xa nên giờ tôi cũng chẳng buồn bận tâm.</p><p id="17">Tóm lại, tôi chỉ biết cầu nguyện cho cái Ma Tạng vốn được cho là sẽ lớn dần cho đến năm 10 tuổi của mình sẽ ngày càng mạnh hơn, coi như đó là niềm vui chờ đợi mai sau vậy.</p><p id="18">“Cậu chủ Hachi! Chiếc cốc chúng ta hứa với nhau đã làm xong rồi đây ạ.”</p><p id="19">Đây rồi, đây mới là cái tôi chờ!</p><p id="20">Dị giới hay phép thuật gì đó cứ dẹp sang một bên! </p><p id="21">Lúc này chiếc cốc được làm riêng cho tôi mới là quan trọng nhất. Nhất là khi nó được làm “miễn phí”, điểm cộng cực kỳ lớn luôn.</p><p id="22">Clon, người đã đóng gói món quà rất cẩn thận, đứng bên cạnh chờ đợi với vẻ mặt tủ mỉm cười như muốn xem phản ứng của tôi. </p><p id="23">Món quà được đặt trong hộp, còn có cả ruy băng để dễ mở, nên tôi nhẹ nhàng kéo đầu dây để khám phá bên trong.</p><p id="24">Sau khi gạt bỏ lớp giấy lót chống vỡ dày đặc, một chiếc cốc màu xanh da trời hiện ra. Đó là một tông màu dịu mát gợi nhớ đến bầu trời, và bên cạnh quai cầm có vẽ một chú mèo cực kỳ đáng yêu.</p><p id="25">“Ơ!?”</p><p id="26">“...Có chuyện gì vậy ạ?”</p><p id="27">Hỏi có chuyện gì là sao... cái này...</p><p id="28">“Thứ tuyệt vời thế này, tôi nhận thật có được không!?”</p><p id="29">Nó đẹp gấp trăm lần những gì tôi tưởng tượng!</p><p id="30">Vẻ mặt lo lắng thoáng qua của Clon ngay lập tức giãn ra, bừng sáng như nắng hạn gặp mưa rào.</p><p id="31">“Hì hì. Cậu chủ thích là Clon vui lắm rồi ạ.”</p><p id="32">“Không thích sao được chứ! Tôi nhất định sẽ giữ gìn nó thật cẩn thận. Tôi sẽ dùng nó hàng ngày cho đến khi hỏng thì thôi! Không, tôi sẽ không để nó hỏng đâu. Cả đời này dùng cái này là đủ rồi. Từ nay về sau tôi sẽ không dùng bất cứ cái cốc nào khác ngoài cái này nữa!”</p><p id="33">“Cậu chủ nói quá lời rồi. Nhưng mà, cảm ơn cậu chủ nhé.”</p><p id="34">Clon vừa cười khúc khích vừa đỏ mặt ra vẻ rất hạnh phúc. Thật là tuyệt vời. Cô ấy đúng là một người tốt. Rõ ràng tôi là người nhận quà, vậy mà không hiểu sao cô ấy lại là người nói lời cảm ơn. Tôi được nhận miễn phí đấy nhé!?</p><p id="35">“Clon, cảm ơn cô! Được quen biết cô đúng là điều tuyệt vời nhất!”</p><p id="36">Tôi thốt ra những lời cảm ơn chân thành nhất, kèm theo một ý niệm thầm kín là sau này hãy cho tôi thêm đồ nữa nhé.</p><p id="37">“Vâng, Clon sẽ luôn ở bên cạnh cậu chủ Hachi mà.”</p><p id="38">“Ừm!”</p><p id="39">Trông cậy cả vào cô đấy, thật đấy.</p><p id="40">“Phải rồi, hôm nay ông chủ đã về rồi ạ. Buổi tối sẽ có một bữa tiệc gia đình. Có lẽ hôm nay tôi không thể dùng bữa cùng cậu chủ được rồi.”</p><p id="41">Gần đây Clon luôn là người ăn cơm cùng tôi, nhưng hôm nay có vẻ là buổi họp mặt gia đình.</p><p id="42">“Tiếc quá, vừa mới nhận được cốc xong... Nhưng mà, đây cũng là cơ hội để khoe với mọi người, chắc cũng tốt thôi.”</p><p id="43">“Hì hì, với những người sành sỏi như ông bà chủ, có lẽ một thứ như thế này không làm họ bận tâm lắm đâu ạ.”</p><p id="44">Vậy sao? Chắc là vậy rồi. </p><p id="45">Cha mẹ tôi vốn là kiểu người không biết trân trọng đồ vật, có lẽ khi biết thứ này được tặng miễn phí, họ cũng chẳng thấy cảm động gì đâu. À không, chắc chắn là không rồi.</p><p id="46">Dù muốn chia sẻ niềm vui về chiếc cốc với Clon thêm nữa, nhưng thôi đành để dịp khác vậy. Thực tế tôi cũng ít khi gặp cha mẹ, thỉnh thoảng cũng phải ló mặt ra cho họ thấy. Dù mới năm tuổi nhưng cái tình cảm gia đình mờ nhạt này thật đáng ngại. Nếu tôi không có ký ức tiền kiếp và tâm hồn người lớn, khéo sau này quan hệ xấu đi rồi xảy ra cảnh con trai đâm cha dẫn đến gia môn bất hạnh cũng nên.</p><p id="47">Bữa tối cả gia đình tụ họp nên căn phòng ăn rộng nhất với chiếc bàn dài được sử dụng. </p><p id="48">Lâu rồi mới thấy mặt cha mẹ và hai người chị sinh đôi lớn hơn tôi hai tuổi.</p><p id="49">Hai chị là cặp song sinh khác trứng nên trông không giống nhau, nhưng cả hai đều là những mỹ nhân thực thụ. Nhân tiện thì cả hai cũng chẳng giống tôi tí nào. Là sao ta!?</p><p id="50">Các chị cũng khá yêu quý tôi, nhưng vì họ là những ngôi sao hy vọng của nhà này nên thời gian chúng tôi ở bên nhau rất ít. </p><p id="51">Gia đình tôi là quý tộc nhỏ bé được giao cai quản một thị trấn nhỏ trong lãnh địa rộng lớn của một vị Bá tước. Trong lãnh địa của vị Bá tước đó có một ngôi trường tư thục tập hợp những tài năng trẻ đầy hứa hẹn. </p><p id="52">Hai người chị của tôi, vốn đã có nền tảng để sử dụng phép thuật, hiện đang theo học tại đó dưới sự bảo trợ của Bá tước nên hiếm khi có mặt ở nhà.</p><p id="53">Cha mẹ chắc cũng buồn khi hai cô con gái rượu bị đưa đi, nhưng để lấy lòng Bá tước thì sự thăng tiến của con cái là bắt buộc. May mắn là nhà tôi có những đứa con ưu tú nên tình hình có vẻ khá ổn định. Cha mẹ ơi, dù có cô đơn thì cũng hãy cố gắng lên nhé.</p><p id="54">“Ta rất vui vì gia đình ta lâu lắm mới tụ họp đông đủ thế này. Cattleya, Ran. Ta đã nghe Bá tước khen ngợi về sự thể hiện của hai con. Hãy cứ tiếp tục cố gắng như vậy nhé.”</p><p id="55">““Vâng, thưa cha.””</p><p id="56">Dù mặt không giống nhau nhưng hai chị phối hợp cực kỳ ăn ý. </p><p id="57">Chị Cattleya mang lại cảm giác cao quý và tinh tế, vầng hào quang tỏa ra từ bên trong khiến người ta khó tin chị được sinh ra trong một gia đình quý tộc nhỏ bé này. </p><p id="58">Trong khi đó, chị Ran lại là một mỹ nhân thục nữ mang vẻ đẹp bí ẩn và tĩnh lặng. Mỗi người một vẻ, mười phân vẹn mười. Nghe nói hai chị rất được săn đón, thậm chí còn có tin đồn về hôn sự với con trai trưởng của Bá tước. Nếu là thật thì không biết ai mới là đối tượng chính đây. Tò mò quá...</p><p id="59">“Còn nữa, Hachi. Ở tuổi của con chắc vẫn chưa hiểu rõ chuyện này, sau này có thể con sẽ phản đối, nhưng một hôn ước quan trọng đã được quyết định. Có thể nói bữa tối hôm nay là để thông báo chuyện đó.”</p><p id="60">Hôn ước!? Thật á!? Tôi mới năm tuổi thôi mà. </p><p id="61">Vẫn biết là quý tộc thì sẽ có kiểu hôn nhân chính trị, nhưng không ngờ lại sớm thế này.</p><p id="62">“Giờ con chưa hiểu nhưng lớn lên sẽ rõ. Đối phương là tiểu thư của một gia đình danh giá. Sau này con sẽ phải cảm ơn người cha này đấy. Ai cũng biết danh tiếng của Cattleya và Ran đang vang xa, nên có rất nhiều lời dạm hỏi gửi đến. Hachi, con chính là người được hưởng chút lộc rơi lộc vãi đó. Cô bé là con gái thứ ba của một gia đình Tử tước, tiểu thư của nhà Rosemar lâu đời. Có thể coi đây là một hôn sự không thể tốt hơn.”</p><p id="63">Nhà tôi là một gia tộc Nam tước yếu kém cai quản thị trấn nhỏ. </p><p id="64">Vậy mà một nhà như vậy lại có thể cưới được con gái thứ ba của một gia đình Tử tước. Đã vậy còn là gả cho một đứa con trai như phần dư thừa núp dưới bóng hai người chị ưu tú, thì đúng là món hời lớn. </p><p id="65">Nếu mối quan hệ với nhà Tử tước sâu đậm thêm, biết đâu sau này tôi còn được giao cai quản lãnh địa của họ, lúc đó chắc cha mẹ tôi cười đến sái cả hàm mất.</p><p id="66">Nhà Tử tước chắc cũng chẳng muốn gả con gái cho hạng như tôi đâu, nhưng hai chị tôi quá ưu tú nên nhà Tử tước không với tới được. Vậy nên họ chọn cách chốt đơn tôi, kẻ chắc chẳng ai thèm ngó ngàng tới, để giữ mối liên kết chăng? Một chiến thuật thật khôn ngoan.</p><p id="67">Dù bị đem ra làm công cụ như vậy, nhưng xin đừng lo lắng cho tôi.</p><p id="68">“Con cảm ơn cha!”</p><p id="69">Câu cảm ơn này khiến hai người chị sinh đôi là những người đầu tiên lộ vẻ kinh ngạc. </p><p id="70">Đứa em trai vốn dĩ luôn ích kỷ, ngang ngược, giờ lại nở nụ cười rạng rỡ cảm ơn về một hôn ước tương lai mà ngay cả hai chị còn chưa thấy thực tế chút nào. </p><p id="71">Đúng là có chút đáng sợ...</p><p id="72">“...Hachi, em thấy ổn thật sao?”</p><p id="73">“Vâng!”</p><p id="74">Tôi vui vẻ đáp lời chị Cattleya.</p><p id="75">Cái gì được cho thì cứ nhận lấy. Không chỉ là đồ vật đâu. Vợ mà được cho không thì cũng cứ nhận đi đã. Đã thế còn là tiểu thư nhà Tử tước. Đây chẳng phải là mối ngon nhất rồi sao. Tuyệt vời ông mặt trời!</p><p id="76">Nghĩ lại kiếp trước tôi đã khổ sở thế nào để tìm vợ. </p><p id="77">Không biết đã đổ bao nhiêu tiền vào các buổi xem mắt hay trung tâm môi giới rồi. Dù không phải là kẻ siêu tiết kiệm như tôi, thì chắc chắn chẳng ai muốn nếm trải nỗi khổ đó lần thứ hai đâu. </p><p id="78">Đã vậy, cô bạn gái vất vả lắm mới kiếm được cuối cùng cũng bỏ đi vì phát ngán cuộc sống tiết kiệm. Lúc đó tôi đã học được một bài học quý giá: Tiết kiệm là để bản thân mình tận hưởng, đừng có lôi kéo hay ép buộc người khác làm theo.</p><p id="79">Có lẽ nữ thần tình duyên cuối cùng đã mỉm cười với nỗi khổ của tôi rồi chăng? Nhờ vào hai người chị ưu tú mà tôi chẳng mấy khi nói chuyện cùng, tôi lại được ban cho một vị hôn thê là tiểu thư nhà danh giá. Cảm giác như trúng số độc đắc dù chưa từng mua vé vậy. Không cảm ơn sao được chứ. Phải hét lên cảm ơn mới đúng.</p><p id="80">“Cảm ơn!!”</p><p id="81">“...Th-Thôi thì, Hachi thấy tốt là tốt rồi. Vậy là nỗi lo duy nhất cũng tan biến. Ha ha ha, gia đình ta đúng là hưng thịnh mà. Hai đứa con gái quá xuất sắc, còn con trai thì cưới được tiểu thư nhà Rosemar. Hừm, mọi người nâng ly nào. Cạn ly chúc mừng thôi.”</p><p id="82">Vì chưa đến tuổi uống rượu nên tôi nâng chiếc cốc yêu thích vừa nhận từ Clon lên để cùng chúc mừng. </p><p id="83">Lâu ngày mới gặp gia đình, lại còn được hưởng ké lộc từ các chị. Đúng là một đêm tuyệt vời.</p><p id="84">Buổi sum họp gia đình kết thúc khi đêm đã về khuya. Cha mẹ vẫn còn tiếp tục uống nên tôi định rời bàn ăn về phòng trước, nhưng giữa chừng thì bị gọi giật lại bởi hai giọng nói trùng nhau.</p><p id="85">““Này, lại đây một chút.””</p><p id="86">Hai người chị tiến lại gần và gọi tôi lại. </p><p id="87">Đây là hai vị ân nhân lớn, hơn nữa lại là chị gái nên không thể phớt lờ. Tôi quay lại hỏi có chuyện gì.</p><p id="88">““Hừm.””</p><p id="89">Sau khi quan sát tôi một lượt, chị Cattleya và chị Ran nhìn nhau.</p><p id="90">“Ran thấy sao? Nhìn bề ngoài thì vốn là đứa em trai dễ thương, nhưng giờ hình như cả bên trong cũng dễ thương nữa nhỉ. Cái tính cách đáng ghét kia biến đâu mất rồi không biết.”</p><p id="91">“Em đồng ý, chị Cattleya. Trông cứ như một người hoàn toàn khác vậy.”</p><p id="92">Chị Cattleya uy nghiêm và chị Ran khiêm nhường. Dù cách nói khác nhau nhưng ý tứ thì như một. </p><p id="93">Chết tiệt, hai người này nhạy bén thật đấy. Chẳng trách người ta cứ tung hô là thiên tài. </p><p id="94">Nếu lúc này tôi hét lên một tiếng quái dị rồi chạy mất thì chắc họ sẽ nghĩ à, thằng này vẫn lập dị như xưa và mọi chuyện sẽ êm xuôi? Nhưng đó là hạ sách mà tôi không muốn dùng vì tương lai sau này.</p><p id="95">“Hì hì. Đó là nhờ sự dạy bảo của Clon đấy ạ.”</p><p id="96">“Clon là ai thế?”</p><p id="97">“Chị không biết.”</p><p id="98">Tôi bèn giới thiệu Clon cho hai người. Đó là một người rất biết chăm sóc người khác, và là một người cực kỳ hào phóng khi tặng miễn phí chiếc cốc này cho tôi đấy!</p><p id="99">““Hừm.””</p><p id="100">Lại một lần nữa hai chị đồng thanh và nhìn nhau.</p><p id="101">““Làm cho bọn chị một cái với.””</p><p id="102">“Hả?”</p><p id="103">Hóa ra nãy giờ trong lúc ăn, hai chị cứ nhìn chiếc cốc tôi dùng và thấy nó rất đáng yêu. Đặc biệt là hình vẽ chú mèo có vẻ rất trúng ý hai người.</p><p id="104">“Màu đỏ.”</p><p id="105">“Màu trắng.”</p><p id="106">Có vẻ đó là màu sắc yêu thích của hai chị.</p><p id="107">“Làm kiểu dáng giống vậy luôn ạ?”</p><p id="108">““Ừm.””</p><p id="109">Muốn có cốc đáng yêu sao, hóa ra hai chị cũng có những lúc trẻ con đấy chứ.</p><p id="110">“Để em hỏi thử Clon xem sao!”</p><p id="111">““Ừm.””</p><p id="112">Hai người xoa đầu tôi rồi ra về với vẻ mãn nguyện. Quan hệ chị em có vẻ ngày càng tốt lên rồi đấy. </p><p id="113">Nên vẽ hình gì lên cốc của hai chị đây ta? Chắc là gấu và thỏ vậy.</p><p id="114">***</p><p id="115">Mái tóc nâu hơi xoăn nhẹ. Đôi mắt sắc sảo và một nốt ruồi duyên ngay giữa gò má. Làn da mềm mại. Đứa em trai chắc chắn sẽ trở thành một mỹ nam trong tương lai này, hiện tại vẫn còn nét ngây thơ, đáng yêu không gì bằng.</p><p id="116">Tuy nhiên, đó chỉ là vẻ bề ngoài.</p><p id="117">Cho đến tận vài ngày trước, tôi và Ran vẫn còn gọi đứa em này bằng cái tên khác là “thiên thần khi ngủ”. Vì cứ hễ thức dậy là nó biến thành ác quỷ ngay. </p><p id="118">Tính cách thì tệ hại đến mức đáng kinh ngạc, là một kẻ rắc rối khiến không biết bao nhiêu người hầu phải bỏ việc. Tôi đã gặp nhiều quý tộc rắc rối khi học ở trường tư thục của Bá tước, nhưng Hachi cũng chẳng khác gì bọn họ. Thậm chí có khi còn khó trị hơn.</p><p id="119">Tôi và Ran thậm chí từng mua sách về tẩy não để đọc, nhưng thật may là giờ không cần dùng đến nữa rồi.</p><p id="120">Dường như nhờ người hầu ưu tú tên Clon mà tính cách của em trai đã được uốn nắn hoàn toàn. </p><p id="121">Sự ích kỷ biến mất, những cơn cáu gắt cũng không còn. </p><p id="122">Thậm chí, điều khiến tôi kinh ngạc nhất chính là hành động của em ấy trong ngày thông báo về hôn ước.</p><p id="123">Tôi và Ran được ban cho tài năng về ma lực và phép thuật, chính vì thế mà có rất nhiều lời dạm hỏi từ các quý tộc. Lần đầu tiên chuyện đó được nhắc đến là khi chúng tôi cũng tầm tuổi Hachi bây giờ. Tôi nhớ mình đã khóc nức nở vì quá bất ngờ, còn Ran thì đổ bệnh nằm liệt giường luôn.</p><p id="124">Vậy mà, Hachi lại vui vẻ chấp nhận. Một câu trả lời thẳng thắn, kèm theo cả lời cảm ơn chân thành. </p><p id="125">Đối phương là con gái của nhà Rosemar đó. Tôi và Ran đi học ở lãnh địa Bá tước mới hiểu rõ thế nào là đẳng cấp quý tộc. </p><p id="126">Cha đã rất hãnh diện khi giành được hôn ước giữa Hachi và tiểu thư nhà Rosemar, và lần này cha đã đúng.</p><p id="127">Một gia đình quý tộc nhỏ bé như nhà mình mà được hứa hôn với tiểu thư của một gia đình có đẳng cấp như vậy thì đúng là chuyện thần kỳ. </p><p id="128">Nhưng lẽ ra Hachi không thể hiểu được điều đó, vì em ấy chưa biết gì về thế giới bên ngoài hay những ràng buộc của giới quý tộc.</p><p id="129">Thế mà, đứa trẻ đó lại mỉm cười và nói lời cảm ơn. </p><p id="130">Thay vì khâm phục, tôi thấy thực sự kinh ngạc. Vì tôi cứ ngỡ em ấy sẽ nổi trận lôi đình và quậy phá lung tung cơ. Ran cũng vậy, em ấy cứ nghiêng đầu thắc mắc trước sự thay đổi của em trai. Cứ như là một người khác vậy.</p><p id="131">Cũng chẳng trách được khi chúng tôi thấy bị thu hút bởi đứa em này. </p><p id="132">Vì chúng tôi chưa bao giờ thấy em ấy ra dáng người lớn như vậy. Đứa trẻ vốn chỉ là thiên thần khi ngủ, giờ đây ngay cả khi mở mắt trông cũng giống như một thiên thần.</p><p id="133">Cảm thấy hơi ngại nếu chỉ gọi em ấy một mình, tôi nhìn sang Ran thì thấy em ấy cũng muốn bắt chuyện. Chị em chúng tôi lúc nào cũng nghĩ giống nhau.</p><p id="134">Chúng tôi giữ Hachi lại khi em ấy đang trên đường về phòng để trò chuyện.</p><p id="135">...Quả nhiên bầu không khí quanh em ấy đã dịu đi rất nhiều. </p><p id="136">Khi chúng tôi ngỏ ý muốn có chiếc cốc, em ấy hứa sẽ nhờ Clon làm cho. Chuyện đó cũng đáng mong chờ đấy, nhưng giờ đây tôi còn có một điều đáng mong đợi hơn nữa.</p><p id="137">“Ran này, lần sau về nhà, chúng ta hãy dành thật nhiều thời gian cho Hachi nhé.”</p><p id="138">“Chị Cattleya, em cũng đang nghĩ y hệt như vậy đấy.”</p><p id="139">Chúng tôi lúc nào cũng nghĩ giống nhau cả.</p>

                    <p style="display: none">Hãy bình luận để ủng hộ người đăng nhé!</p>
                    
                    <!-- <div class="flex justify-center mt-10 mb-7 space-x-3">
                        <a
                            href="https://hako.vn/discord"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #7289da; text-decoration: initial; color: white !important;">
                            <svg
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                xmlns="http://www.w3.org/2000/svg"
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                viewbox="0 0 24 24">
                                <path
                                d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
                            </svg>
                            Discord
                        </a>
                        <a
                            href="https://fb.com/hako.page"
                            target="_blank"
                            type="button"
                            data-te-ripple-init
                            data-te-ripple-color="light"
                            class="flex font-sans rounded px-6 py-2.5 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg"
                            style="background-color: #1877f2; text-decoration: initial; color: white !important;">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="mr-2 h-4 w-4"
                                fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
                            </svg>
                            Facebook
                        </a>
                    </div> -->

                                        <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/74d7206e-decf-4f38-b5d6-003d26a41676.jpg?t=1768360276" class="d-none d-md-block" style="width: 970px; height: auto">
                    </a>
                    <a href="/truyen/14280" target="__blank">
                        <img src="https://i.hako.vn/ln/series/chapter-banners/14280/f4744abe-bb28-4201-aa0c-be5b777efb2c.jpg?t=1768360276" class="d-md-none" style="width: 100%; height: auto">
                    </a>
                    
                                    </div>

                <div style="text-align: center; margin: 20px auto 10px auto;">
                                                        </div>
                
                <section class="rd-basic_icon row">
                    <a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang/c290970-chuong-1-su-thuc-tinh-cua-ke-sung-so-trong-gioi-tieu-nhan" class="dark:text-black col text-center "><i class="fas fa-backward"></i></a>
                    <a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang" class="dark:text-black col text-center"><i class="fas fa-home"></i></a>
                    <a href="/truyen/24662-co-ve-toi-hop-voi-kieu-quy-toc-hang-xoang" class="dark:text-black col text-center  disabled "><i class="fas fa-forward"></i></a>
                </section>
                
                <!--the code style is important to keep this comment section be out of the effect of user reading's setting-->
            </div>
            <div class="col-12 col-lg-10 offset-lg-1" aria-hidden="true">
                <section id="chapter-comments" class="basic-section dark:bg-[#1f1f1f] dark:text-white dark:border dark:border-[#1f1f1f]">
                    <header class="sect-header tab-list dark:bg-[#2a2a2a] dark:border-[#2a2a2a]"> 
                        <span class="sect-title tab-title" data-tab-index="1">Bình luận <span class="comments-count">(0)</span></span>
                    </header>
                    <main id="fbcmt_root" class="sect-body">
                        <span style="padding: 10px; display: inline-block;">Báo cáo bình luận không phù hợp ở <a href="/thao-luan/619-bao-cao-binh-luan" style="color: blue">đây</a></span>
                        <div id="tab-content-1" class="tab-content clear">
                            <section class="ln-comment">
    <header>
        <h3 class="text-lg font-bold dark:text-white">0 Bình luận </h3>
        <!-- <i id="refresh_comment" class="fas fa-refresh" aria-hidden="true" style="margin-left: 10px; font-size: 18px"></i></h3> -->
            </header>

    <main class="ln-comment-body">
                    <div class="ln-comment_sign-in long-text">
                Bạn phải <a href="/login">đăng nhập</a> hoặc <a href="/register">tạo tài khoản</a> để bình luận.
            </div>
                
        
        
        <div class="ln-comment-page">
</div>    </main>

    <script>
        var token = 'ZRRAG85jx8QSqGwN6fr5fLJuoNXOBTSbCoxh7MA2';
        var comment_type = 'chapter';
        var comment_typeid = '290979';
    </script>

    </section>


                        </div>
                    </main>
                </section>
            </div> 
        </div>
    </div>
</main>

<script>
    token = 'ZRRAG85jx8QSqGwN6fr5fLJuoNXOBTSbCoxh7MA2';
        
    function turnoffall() {
        $(".rdtoggle").removeClass("on");
        $(".rdtoggle_body").removeClass("animation fade-in-left-big fade-in-down");
        $("html").removeClass("overflow-hiden");
    }
    
    function rdtoggle(classicon, effect) {
        if ($(classicon).hasClass("on")) {
            turnoffall();
        } else {
            turnoffall();
            $(classicon).addClass("on");
            $("html").addClass("overflow-hiden");
            $(classicon + " .rdtoggle_body").addClass("animation " + effect);
        } 
    };
    
    $("#rd-setting_icon").on('click', function() {
        rdtoggle("#setting", "fade-in-down");                   
    });

    $("#rd-tts_icon").on('click', function() {
        rdtoggle("#tts-panel", "fade-in-down");
    });
        
    $("#rd-info_icon").on('click', function() {
        rdtoggle("#chapters", "fade-in-left-big");              
    });
        
    $("#rd-bookmark_icon").on('click', function() {
        rdtoggle("#bookmarks", "fade-in-left-big");                     
    });
        
    $(".black-click").on('click', function() {
        turnoffall();
        $("#rd-side_icon").hide();
        $("#bookmark_top").removeClass("on");
    });
        
    var bgcolor    = Cookies.get('color') || (Cookies.get('night_mode') ? 6 : 4);
    var fontfamily = Cookies.get('fontfamily') || '';
    var fontsize   = Cookies.get('font') || 18; 
    var margin     = Cookies.get('margin') || 0;
    var textAlign  = Cookies.get('textAlign') || 'text-justify';
        
    function setcolor(alter = true) {
        var switcher = $(".set-color .set-input span").eq(bgcolor);
        switcher.addClass("current");

        if (alter) {
            for (var i = 0; i < $(".set-color .set-input span").length; i++) {
                $("#mainpart").removeClass('style-' + i);
                $("#mainpart").removeClass('dark');
            }
            $("#mainpart").addClass('style-' + bgcolor);

            // Manually hardcoded to dark
            if (bgcolor >= 6) {
                $("#mainpart").addClass('dark');
            }
        }
    }

    // This creates unsmooth experience so we only use it for select box
    function setfontfamily() {
        $('.set-font-family select option').filter(function () {
            return fontfamily.split(',')[0].indexOf($(this).text()) != -1 ;
        }).attr('selected', true);
    }
        
    function setfontstyle(alter = true) {
        $(".set-font input.set-slide_input").val(fontsize + "px"); 

        if (alter) {
            $("div#chapter-content").css("font-size", fontsize + "px");

            var lineheight = +fontsize + 10;
            $("#chapter-content").css("line-height", lineheight + "px");
        }
    }
        
    function setmargin() {
        $(".set-margin input.set-slide_input").val(margin + "px"); 
        $("#chapter-content").css({
            'padding-left': margin + "px",
            'padding-right': margin + "px"
        });
    }

    function setTextAlign(alter = true) {
        var switcher = $(".set-text-align .set-input span[data-align='" + textAlign + "']");
        switcher.addClass("current");

        if (alter) {
            $(".set-text-align .set-input span").each(function () {
                $("#chapter-content").removeClass($(this).attr('data-align'));
            });

            $("#chapter-content").addClass(textAlign);
        }
    }
    
    setcolor(false);
    setfontfamily();
    setfontstyle(false);
    setmargin();
    setTextAlign(true);
    
    //1px = 0.0625rem;
    //16px = 1rem (default);
    
    $(".set-color .set-input span").click(function(){
        bgcolor = $(this).data("id");
        $(".set-color .set-input span").removeClass("current");
        setcolor();            
        Cookies.set('color', bgcolor, { expires: 365 });
    });

    $('.set-font-family select').on('change', function () {
        fontfamily = "'" + $('option:selected', this).text() + "', " + '\'Times New Roman\', Georgia, serif';
        
        $('div#chapter-content').css('font-family', fontfamily);

        Cookies.set('fontfamily', fontfamily, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-smaller").click(function () {
        fontsize = fontsize - 2;
        if (fontsize < 0) fontsize = 0;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-font .set-slide_button.set-bigger").click(function () {
        fontsize = +fontsize + 2;
        setfontstyle();
        Cookies.set('font', fontsize, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-smaller").click(function () {
        margin = margin - 20;
        if (margin < 0) margin = 0;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    });
    
    $(".set-margin .set-slide_button.set-bigger").click(function () {
        margin = +margin + 20;
        setmargin();
        Cookies.set('margin', margin, { expires: 365 });
    }); 

    $(".set-text-align .set-input span").click(function(){
        textAlign = $(this).data("align");
        $(".set-text-align .set-input span").removeClass("current");
        setTextAlign();        
        Cookies.set('textAlign', textAlign, { expires: 365 });
    });
        
    $("#bookmarks_list li").each(function(){
        var linepr = $(this).data("line");
        var preview = $(".reading-content p#" + linepr).text();

        var shortText = preview.trim().substring(0, 30) + "...";
        $(this).find(".pos_bookmark small").text(shortText);
    });

    $('div#chapter-content').html(
        $('div#chapter-content').html().replace(
            /\[note(\d+)\]/gi, 
            '<span id="anchor-note$1" class="note-icon none-print inline note-tooltip" data-tooltip-content="#note$1 .note-content" data-note-id="note$1"><i class="fas fa-sticky-note"></i></span><a id="anchor-note$1" class="inline-print none" href="#note$1">[note]</a>'
        )
    )
    
    tippy('.note-tooltip', {
        delay: 50,
        maxWidth: 240,
        interactive: true,
        content(ref) {
            const selector = ref.getAttribute('data-tooltip-content');
            const template = document.querySelector(selector);
            return template ? template.innerHTML : 'Đặt sai ID của note';
        }
    });
        
    isLoggedIn = 0;
    series_id = parseInt('24662');
    chapter_id = parseInt('290979');

    readingObject = {
        series_id: series_id,
        series_title: 'Có Vẻ Tôi Hợp Với Kiểu Quý Tộc Hạng Xoàng',
        series_url: $('i.fa-home').first().parent().attr('href'),
        series_cover: $('.rd_sidebar-header a.img').css('background-image'),
        chapter_title: $('ul.sub-chap_list li.current a').text().trim(),
        chapter_url: $('ul.sub-chap_list li.current a').attr('href'),
        book_title: $('ul#chap_list > li.current a').text(),
        book_url: $('ul#chap_list > li.current a').attr('href'),
        read_time: +new Date() / 1000 | 0,
    };

// TTS Manager - Enhanced Web Speech API (Vietnamese). Chunked queue for long texts, no delays/interrupts.
const synth = window.speechSynthesis;
let voices = [];
let voicesLoaded = false;
let ttsRate = parseFloat(localStorage.getItem('tts-rate')) || 1;
let ttsPitch = parseFloat(localStorage.getItem('tts-pitch')) || 1;
let ttsState = 'idle'; // idle, speaking, paused, loading
let currentChunk = 0;
let totalChunks = 0;
let processingIndex = 0;
let paragraphs = [];
const BUFFER_SIZE = 5;

// --- Background Persistence (Wake Lock + Silent Audio) ---
let wakeLock = null;
const silentAudio = new Audio('data:audio/mp3;base64,SUQzBAAAAAAAI1RTSVNFAAAAPAAADEVuY29kZWQgd2l0aCBMYW1lMy4xMDBhVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUA==');
silentAudio.loop = true;

async function enableConnection() {
    // 1. Start Silent Audio Loop (tricks browser into thinking we are a music player)
    try {
        await silentAudio.play();
    } catch (err) {
        console.warn('Silent Audio Play Failed (likely no interaction):', err);
    }

    // 2. Request Screen Wake Lock (prevents screen from sleeping automatically)
    if ('wakeLock' in navigator) {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (err) {
            console.warn('Wake Lock Request Failed:', err);
        }
    }
}

function disableConnection() {
    // 1. Stop Silent Audio
    try {
        silentAudio.pause();
        silentAudio.currentTime = 0;
    } catch (e) {}

    // 2. Release Wake Lock
    if (wakeLock) {
        try {
            wakeLock.release();
            wakeLock = null;
        } catch (e) {}
    }
}

// Re-acquire Wake Lock if visibility changes and we are speaking
document.addEventListener('visibilitychange', async () => {
    if (wakeLock !== null && document.visibilityState === 'visible' && ttsState === 'speaking') {
        try {
            wakeLock = await navigator.wakeLock.request('screen');
        } catch (e) {}
    }
});
// ---------------------------------------------------------

let ttsVoiceIdx = localStorage.getItem('tts-voice') || '0';

function populateVoices() {
    voices = synth.getVoices().filter(v => v.lang.startsWith('vi'));
    voicesLoaded = true;
    let $select = $('#tts-voice-select');
    $select.empty();

    if (voices.length === 0) {
        $select.append('<option value="-1">Không có giọng Việt (cài Chrome/Edge)</option>');
        return;
    }

    voices.forEach((voice, idx) => {
        $select.append(`<option value="${idx}">${voice.name} (${voice.lang}) ${voice.default ? '(mặc định)' : ''}</option>`);
    });

    let idx = Math.max(0, Math.min(parseInt(ttsVoiceIdx), voices.length - 1));
    $select.val(idx);
}

function updateTTSUI(progress = '') {
    let $icon = $('#rd-tts_icon i');
    $icon.removeClass('fa-volume-up fa-volume-mute fa-spinner fa-spin');
    let $playBtn = $('#tts-play-btn'), $pauseBtn = $('#tts-pause-btn'), $stopBtn = $('#tts-stop-btn');
    $playBtn.prop('disabled', ttsState === 'speaking' || ttsState === 'loading'); // Enable on idle/paused
    $pauseBtn.prop('disabled', ttsState === 'idle');
    $stopBtn.prop('disabled', ttsState === 'idle');
    // Always remove old progress
    $('#tts-progress').remove();

    if (progress && totalChunks > 0) {
        $playBtn.after(`<span id="tts-progress" class="text-xs block text-center mt-1">${progress}</span>`);
    }

    if (ttsState === 'idle') {
        // Check resume preview
        const resumeData = loadResumeState();
        let currentParagraphs = $('#chapter-content p').map(function() {
            return $(this).text().trim();
        }).get().filter(p => p.trim().length > 0);

        if (resumeData && resumeData.total === currentParagraphs.length) {
            $playBtn.text(`Tiếp tục (${resumeData.index + 1}/${resumeData.total})`);
        } else {
            $playBtn.text('Phát');
        }

        $icon.addClass('fa-volume-up');
    } else if (ttsState === 'speaking' || ttsState === 'loading') {
        $icon.addClass('fa-volume-up fa-spinner fa-spin');
    } else if (ttsState === 'paused') {
        $icon.addClass('fa-volume-mute');
    }
}

$('#tts-play-btn').off('click').on('click', function() {
    // Always restart/resume from storage
    enableConnection(); // Start keep-alive
    synth.cancel();
    ttsState = 'idle';
    // queuedUtterances = []; // Removed global queue
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();

    if (!voicesLoaded || voices.length === 0) {
        ttsState = 'loading';
        updateTTSUI();
        setTimeout(() => {
            if (!voicesLoaded) {
                alert('Giọng nói chưa tải. Thử lại.');
                ttsState = 'idle';
                updateTTSUI();
                return;
            }
            playTTS();
        }, 500);
        return;
    }

    playTTS();
});

function createUtterance(item) {
    let u = new SpeechSynthesisUtterance(item.text);
    u.lang = 'vi-VN';
    u.rate = parseFloat($('#tts-rate').val()) || 1;
    u.pitch = parseFloat($('#tts-pitch').val()) || 1;
    let voiceIdx = parseInt($('#tts-voice-select').val());

    if (voiceIdx >= 0 && voices[voiceIdx]) {
        u.voice = voices[voiceIdx];
    }

    u.onstart = () => {
        currentChunk++;
        saveResumeState();
        updateTTSUI(`${currentChunk}/${totalChunks}`);
        
        // Highlight logic
        $('.current-reading').removeClass('current-reading');
        if (item.el) {
            $(item.el).addClass('current-reading');
            item.el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        feedQueue(); // Ensure buffer is maintained
    };
    u.onerror = (event) => {
        console.error('TTS Error:', event.error, event);

        if (event.error !== 'interrupted') {
             // alert(`Lỗi TTS: ${event.error}. Bỏ qua đoạn.`);
             console.warn('TTS Error skipping chunk', event.error);
        }

        saveResumeState(); // Save on error
        feedQueue();
    };
    u.onend = () => {
        saveResumeState();

        if (currentChunk >= totalChunks) {
            clearResumeState();
            $('.current-reading').removeClass('current-reading'); // Cleanup
            
            // Auto-Next Logic
            let $nextBtn = $('.rd-basic_icon a').last();
            if ($nextBtn.length && !$nextBtn.hasClass('disabled')) {
                localStorage.setItem('tts-autoplay', 'true');
                window.location.href = $nextBtn.attr('href');
                return;
            }

            ttsState = 'idle';
            disableConnection(); // Cleanup
            currentChunk = 0;
            totalChunks = 0;
            processingIndex = 0;
            updateTTSUI();
        } else {
            feedQueue();
        }
    };
    u.onpause = () => { saveResumeState(); };
    return u;
}

function getStorageData() {
    try {
        return JSON.parse(localStorage.getItem('tts-resume-data')) || {};
    } catch {
        return {};
    }
}

function setStorageData(data) {
    localStorage.setItem('tts-resume-data', JSON.stringify(data));
}

function saveResumeState() {
    if (totalChunks > 0) {
        const data = getStorageData();
        data[chapter_id] = {
            index: currentChunk,
            total: totalChunks,
            timestamp: Date.now()
        };
        // Optional: Clean up old entries (older than 7 days?) to prevent infinite growth, 
        // but for now we just save.
        setStorageData(data);
    }
}

function clearResumeState() {
    const data = getStorageData();

    if (data[chapter_id]) {
        delete data[chapter_id];
        setStorageData(data);
    }
}

function loadResumeState() {
    const data = getStorageData();
    const saved = data[chapter_id];
    
    if (!saved) return null;
    
    if (Date.now() - saved.timestamp > 3600000 * 24 * 7) { // 7 days
        clearResumeState();
        return null;
    }

    return saved;
}

function initTTS() {
    populateVoices();
    $('#tts-rate').val(ttsRate);
    $('#tts-rate-value').text(ttsRate);
    $('#tts-pitch').val(ttsPitch);
    $('#tts-pitch-value').text(ttsPitch);
    updateTTSUI();
    
    if (localStorage.getItem('tts-autoplay') === 'true') {
        localStorage.removeItem('tts-autoplay');
        $(window).on('load', function() {
             setTimeout(() => {
                 $('#tts-play-btn').click(); 
             }, 500); 
        });
    }
}

function getParagraphs() {
    return $('#chapter-content p').map(function() {
        let text = $(this).text().trim();
        
        // If paragraph contains an image, replace with "Hình ảnh"
        if ($(this).find('img').length > 0) {
            text = 'Hình ảnh';
        }
        
        if (text.length > 0) {
            return { text: text, el: this };
        }
    }).get();
}

function feedQueue() {
    if (ttsState !== 'speaking') return;
    
    // Maintain buffer
    while (processingIndex < totalChunks && processingIndex < currentChunk + BUFFER_SIZE) {
        let u = createUtterance(paragraphs[processingIndex]);
        synth.speak(u);
        processingIndex++;
    }
}

function playTTS() {
    paragraphs = getParagraphs();
    if (paragraphs.length === 0) {
        alert('Không có nội dung để đọc.');
        ttsState = 'idle';
        disableConnection(); // Cleanup
        updateTTSUI();
        return;
    }
    
    const resumeData = loadResumeState();
    if (resumeData && resumeData.total === paragraphs.length) {
        currentChunk = resumeData.index;
        totalChunks = resumeData.total;
        // processingIndex needs to match what we are about to play
        // Current chunk is what finished, so we start processing from currentChunk?
        // Wait, currentChunk is "index of just finished" in some contexts?
        // No, in loadResume, index is currentChunk.
        // If saved index is 5. means 0..4 played.
        // We start playing from 5 (index).
        // So processingIndex = currentChunk.
        processingIndex = currentChunk;
    } else {
        clearResumeState();
        currentChunk = 0;
        totalChunks = paragraphs.length;
        processingIndex = 0;
    }
    
    synth.cancel();
    ttsState = 'speaking';
    
    feedQueue();
    updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
}

$('#tts-rate').on('input', function() {
    $('#tts-rate-value').text(this.value);
    localStorage.setItem('tts-rate', this.value);
});

$('#tts-pitch').on('input', function() {
    $('#tts-pitch-value').text(this.value);
    localStorage.setItem('tts-pitch', this.value);
});

$('#tts-voice-select').on('change', function() {
    localStorage.setItem('tts-voice', this.value);
});

$('#tts-pause-btn').off('click').on('click', function() {
    if (ttsState === 'speaking') {
        synth.pause();
        ttsState = 'paused';
        disableConnection(); // Pause keep-alive
        updateTTSUI();
        saveResumeState();
    } else if (ttsState === 'paused') {
        enableConnection(); // Resume keep-alive
        synth.resume();
        ttsState = 'speaking';
        updateTTSUI();
    }
});

$('#tts-stop-btn').off('click').on('click', function() {
    synth.cancel();
    // clearResumeState(); // Stop doesn't necessarily clear resume, usually just pause? 
    // But UI says "Stop". Let's clear resume state to consistent with old behavior 
    // or maybe optional? Old behavior cleared it.
    clearResumeState();
    
    disableConnection(); // Stop keep-alive
    $('.current-reading').removeClass('current-reading'); // Cleanup
    ttsState = 'idle';
    currentChunk = 0;
    totalChunks = 0;
    processingIndex = 0;
    updateTTSUI();
});

// Visibility handler removed - TTS continues on tab switch

// Long-press to start TTS from selected paragraph (500ms hold)
let longPressTimer = null;
let longPressTarget = null;

// $('#chapter-content p').on('touchstart mousedown', function(e) {
//     longPressTarget = this;
//     longPressTimer = setTimeout(() => {
//         const allParagraphs = getParagraphs();
//         const startIndex = allParagraphs.findIndex(p => p.el === longPressTarget);

//         if (startIndex === -1) return;

//         clearResumeState();
//         synth.cancel();
        
//         paragraphs = allParagraphs;
//         currentChunk = startIndex;
//         totalChunks = paragraphs.length;
//         processingIndex = startIndex;
//         ttsState = 'speaking';
        
//         enableConnection();
//         feedQueue();
//         updateTTSUI(`${currentChunk + 1}/${totalChunks}`);
//     }, 500);
// }).on('touchend touchmove mouseup mouseleave', function() {
//     clearTimeout(longPressTimer);
//     longPressTimer = null;
// });

synth.onvoiceschanged = populateVoices;
initTTS();
</script>



    
    <script src="/scripts/service-manager.js?r=4"></script>

    <script src="/scripts/app.js?id=a5a24eca66adcfc75cc0b2f62e2611db"></script>
    <script src="https://docln.net/vendor/livewire/livewire.min.js?id=df3a17f2"   data-csrf="ZRRAG85jx8QSqGwN6fr5fLJuoNXOBTSbCoxh7MA2" data-update-uri="/livewire/update" data-navigate-once="true"></script>

    
    <script src="https://confidecross.com/d5/6b/4b/d56b4bd6c3d2c1e161c4ab3c78c27670.js" async></script>

        
            <footer id="footer">
    <div class="container">
        <!--<span><a href="">Hako.re</a></span>-->
        <span class="right">Liên hệ: <a href="mailto:contact@hako.vn" target="_blank" style="color: #5fff46">contact@hako.vn</a></span>

        <span>© 2016 - 2026 Cổng Light Novel - Đọc Light Novel</span>
    </div>
</footer>    
    <div x-data x-show="$store.toast.on" @click="$store.toast.hide()" class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fixed w-3/4 md:w-1/2 z-20 inset-x-0 bottom-10 mx-auto" role="alert" style="display: none">
    <div class="flex">
        <div class="py-1"><svg class="fill-current h-6 w-6 text-teal-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"/></svg></div>
        <div>
            <p class="font-bold capitalize">Chú ý</p>
            <p class="text-sm" x-text="$store.toast.message"></p>
        </div>
    </div>
</div></body>
</html>
